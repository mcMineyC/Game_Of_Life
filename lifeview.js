window.h || (window.h = true, function () {
    function Ia(a, b, c, d) {
      a.addEventListener ? a.addEventListener(b, c, d) : a.attachEvent("on" + b, c);
    }
    function qc(a, b, c) {
      this.dataType = a;
      this.name = c;
      this.elements = b;
      this.size = b * oa.Wn(a);
      this.Gn = 1;
    }
    function gb() {
      this.i = [];
      this.m = this.s = this.l = this.o = 0;
    }
    function lb(a, b, c, d, f) {
      this.D = f;
      this.H = a;
      this.L = b;
      this.Y = c;
      this.message = "";
      this.v = a;
      this.B = b;
      this.W = c;
      this.i = "";
      this.u = this.s = false;
      this.h = d;
      this.R = false;
      this.C = this.startTime = 0;
      this.m = "rgb(32,255,255)";
      this.A = "white";
      this.l = 0;
      this.M = false;
      this.aa = this.X = "black";
      this.T = false;
      this.o = 1;
    }
    function rc(a, b, c, d) {
      this.name = a;
      this.width = b;
      this.height = c;
      this.Gn = d;
    }
    function rb(a, b) {
      this.i = b;
      this.A = a;
      this.height = this.width = 0;
      this.H = this.s = this.C = this.m = this.l = null;
      this.v = [];
      this.o = true;
      this.L = this.O = 4294967295;
      this.M = this.R = 0;
      this.oe = false;
      this.u = 1;
    }
    function Wa(a, b, c, d, f, e, k, g, m, p, n, q, l, r, u, t, v, B, w) {
      this.id = a;
      this.qa = w;
      this.S = null;
      this.H = -1;
      this.I = this.ea = false;
      this.qc = b;
      this.caller = c;
      this.h = B;
      this.x = f;
      this.y = e;
      this.ia = f;
      this.R = e;
      this.position = d;
      this.width = k;
      this.height = g;
      this.O = k;
      this.la = g;
      this.type = q;
      this.orientation = l;
      l === da.Yr && (this.orientation = k >= g ? da.ne : da.vertical);
      this.V = this.orientation;
      this.i = m;
      this.u = p;
      q === da.Sl ? this.current = [n, n] : this.current = n;
      this.sa = r;
      this.wb = u;
      this.ra = t;
      this.aa = v;
      this.fa = false;
      this.ma = this.ka = -1;
      this.l = da.Fx;
      this.B = true;
      this.L = this.locked = false;
      this.o = [];
      if (this.type === da.list) for (a = 0; a < m.length; a += 1) this.o[a] = false;
      this.Z = [];
      this.ga = 0;
      this.oc = w.oc;
      this.v = w.$;
      if (q === da.list) for (this.M = [], a = 0; a < m.length; a += 1) this.M[a] = this.oc;
      this.A = w.da;
      this.X = w.R;
      this.Y = w.ea;
      this.ba = w.oa;
      this.ja = w.ga;
      this.oa = w.qa;
      this.C = w.fa;
      this.T = w.pa;
      this.W = w.aa;
      this.$ = w.na;
      this.border = w.border;
      this.fontSize = parseInt(w.W.substring(0, w.W.indexOf("px")), 10);
      this.na = w.W.substring(w.W.indexOf("px") + 3);
    }
    function Va(a, b, c, d, f, e) {
      this.U = a;
      this.h = f;
      this.C = this.s = 1;
      this.W = e;
      this.locked = this.I = false;
      this.B = this.v = -1;
      this.ba = this.A = false;
      this.ta = this.sa = -1;
      this.va = 6;
      this.qc = b;
      this.u = [];
      this.o = 0;
      this.oc = "";
      this.$ = 0;
      this.da = "";
      this.R = 0;
      this.ea = "";
      this.oa = 0;
      this.ga = "";
      this.qa = 0;
      this.fa = "";
      this.pa = 0;
      this.aa = "";
      this.border = this.na = 0;
      this.V = da.Yr;
      this.M = this.L = -1;
      this.O = this.la = null;
      this.Y = c;
      this.caller = d;
      this.X = null;
      this.ja = this.ia = this.ra = "auto";
    }
    function Ja(a, b, c, d, f, e) {
      var k = this, g = 0;
      this.Ia = 1;
      this.sa = 60;
      this.Oa = this.Xa = true;
      this.Ta = this.Va = 40;
      this.v = 0;
      this.pa = this.qa = this.ya = -1;
      this.Y = false;
      this.caller = f;
      this.ta = this.W = this.eb = this.aa = false;
      this.fb = 4;
      this.nb = e;
      this.o = this.ga = false;
      this.fa = true;
      this.za = false;
      this.M = 1;
      this.wa = 8;
      this.Na = "rgb(32,255,255)";
      this.oc = "black";
      this.Ba = 0.7;
      this.Ma = "#000000";
      this.A = "white";
      this.Hb = 1;
      this.ib = this.kb = this.mb = 0;
      this.cb = "rgb(0,240,32)";
      this.Ib = 0.7;
      this.Ha = "blue";
      this.Lb = 0.7;
      this.$ = "grey";
      this.Kb = 1;
      this.Ca = "rgb(32,255,255)";
      this.border = this.bb = 1;
      this.gb = function (m) {
        return function () {
          m.ic(m);
        };
      }(this);
      this.Jb = d;
      this.R = a;
      this.s = b;
      this.ea = false;
      this.V = this.T = -1;
      this.u = false;
      this.O = this.B = this.Z = this.L = this.m = this.l = -1;
      this.h = this.ma = null;
      this.ra = c;
      this.C = this.H = false;
      this.Ga = performance.now();
      this.oa = 0;
      this.Qa = [];
      this.Sa = [];
      this.Fa = [];
      for (g = 0; 5 > g; g += 1) this.Qa[g] = 0, this.Sa[g] = 0, this.Fa[g] = 0;
      this.ja = null;
      this.i = false;
      this.notification = new lb(25, 100, 25, b, this);
      this.notification.m = this.A;
      this.notification.A = this.A;
      this.Ra = performance.now();
      this.Da = this.$a = false;
      this.na = [];
      this.da = this.ka = 0;
      Ia(a, "mousedown", function (m) {
        k.Tb(k, m);
      }, false);
      Ia(a, "mousemove", function (m) {
        k.Ub(k, m);
      }, false);
      Ia(a, "mouseup", function (m) {
        k.Yb(k, m);
      }, false);
      Ia(a, "mouseover", function (m) {
        k.Wb(k, m);
      }, false);
      Ia(a, "mouseout", function (m) {
        k.Vb(k, m);
      }, false);
      Ia(a, "touchstart", function (m) {
        k.ua(k, m);
      }, false);
      Ia(a, "touchmove", function (m) {
        k.ua(k, m);
      }, false);
      Ia(a, "touchend", function (m) {
        k.ua(k, m);
      }, false);
      Ia(a, "touchcancel", function (m) {
        k.ua(k, m);
      }, false);
      this.Ab();
    }
    function hc(a, b, c, d, f, e) {
      this.Zn = a;
      this.$n = b;
      this.width = c;
      this.height = d;
      this.dG = f;
      this.jD = e;
    }
    function va() {
      this.time = 0;
      this.aa = this.Na = false;
      this.cc = "none";
      this.Oa = 22;
      this.Qa = 6;
      this.wa = 8;
      this.P = "";
      this.Lb = "0123456789xyz";
      this.Kb = "0123";
      this.Nb = "0123456789";
      this.Ec = this.Bc = "0123456";
      this.Ac = "0123456789";
      this.Fc = "0123";
      this.$d = 1038;
      this.ge = 7157;
      this.ae = 5454;
      this.be = 2741;
      this.Zd = 3775;
      this.fe = 4420;
      this.he = "0123";
      this.yc = "0123456omp-";
      this.Cc = "01234";
      this.tc = ["ce", "ceaikn", "ceaiknjqry", "ceaiknjqrytwz"];
      this.Md = [[[6, 36, 160, 192, 72, 10], [132, 96, 136, 66, 12, 34], [68, 40, 130]], [[38, 164, 224, 200, 74, 14], [44, 162, 196, 104, 138, 70, 100, 168, 194, 76, 42, 134], [140, 98]], [[166, 228, 232, 202, 78, 46], [172, 226, 204, 106, 142, 102], [108, 170, 198]]];
      this.gb = " ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" ");
      this.fb = "  omp omp omp  ".split(" ");
      this.Fd = [0, 2, 6, 10, 13, 10, 6, 2, 0];
      this.Jd = [[0], [0, 1], [2, 0, 1, 3, 4, 5], [2, 0, 1, 3, 6, 4, 5, 7, 8, 9], [2, 0, 1, 3, 6, 4, 5, 7, 8, 10, 11, 9, 12], [2, 0, 1, 3, 6, 4, 5, 7, 8, 9], [2, 0, 1, 3, 4, 5], [0, 1], [0]];
      this.Nd = [[1, 2], [5, 10, 3, 40, 33, 68], [69, 42, 11, 7, 98, 13, 14, 70, 41, 97], [325, 170, 15, 45, 99, 71, 106, 102, 43, 101, 105, 78, 108]];
      this.Z = new Uint32Array(256);
      this.Jb = new Uint8Array(8192);
      this.Ib = new Uint8Array(8192);
      this.o = new Uint8Array(512);
      this.qa = new Uint8Array(512);
      this.Yd = new Uint16Array(512);
      this.gj = this.ab = false;
      this.Da = "l";
      this.Ca = "le";
      this.Fa = "lv";
      this.bb = "li";
      this.cb = "lo";
      this.$a = "lb";
      this.eb = "lr";
      this.Ma = "h";
      this.Ab = "ht";
      this.hb = "v";
      this.Ha = false;
      this.zb = 0;
      this.ib = false;
      this.Va = this.Ta = 0;
      this.Ga = false;
      this.i = this.Ra = this.Sa = this.h = 0;
      this.m = 1;
      this.X = 2;
      this.R = 3;
      this.V = 4;
      this.W = 5;
      this.Y = 6;
      this.H = 7;
      this.O = 8;
      this.T = 9;
      this.B = 11;
      this.u = 12;
      this.L = 13;
      this.v = 14;
      this.s = 16;
      this.M = 17;
      this.ja = this.ka = -999999;
      this.da = 0;
      this.ga = 1;
      this.ia = 2;
      this.sa = 3;
      this.ta = 4;
      this.ra = 5;
      this.ua = 6;
      this.na = 0;
      this.oa = 1;
      this.$ = false;
      this.ea = [];
      this.ea[Ba.Ai] = "vonneumann";
      this.ea[Ba.vg] = "moore";
      this.ea[Ba.ug] = "hexagonal";
      this.ea[Ba.wj] = "onedimensional";
      this.ya = [];
      this.ya[Ba.Ai] = 5;
      this.ya[Ba.vg] = 9;
      this.ya[Ba.ug] = 7;
      this.ya[Ba.wj] = 3;
      this.fa = [];
      this.fa[Ba.Ai] = ["none", "rotate4", "rotate4reflect", "reflect_horizontal", "permute"];
      this.fa[Ba.vg] = "none rotate4 rotate8 rotate4reflect rotate8reflect reflect_horizontal permute".split(" ");
      this.fa[Ba.ug] = "none rotate2 rotate3 rotate6 rotate6reflect permute".split(" ");
      this.fa[Ba.wj] = ["none", "reflect", "permute"];
      this.za = [];
      this.za[Ba.Ai] = [[[0, 1, 2, 3, 4, 5], [0, 2, 3, 4, 1, 5], [0, 3, 4, 1, 2, 5], [0, 4, 1, 2, 3, 5]], [[0, 1, 2, 3, 4, 5], [0, 2, 3, 4, 1, 5], [0, 3, 4, 1, 2, 5], [0, 4, 1, 2, 3, 5], [0, 4, 3, 2, 1, 5], [0, 3, 2, 1, 4, 5], [0, 2, 1, 4, 3, 5], [0, 1, 4, 3, 2, 5]], [[0, 1, 2, 3, 4, 5], [0, 1, 4, 3, 2, 5]]];
      this.za[Ba.vg] = [[[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 3, 4, 5, 6, 7, 8, 1, 2, 9], [0, 5, 6, 7, 8, 1, 2, 3, 4, 9], [0, 7, 8, 1, 2, 3, 4, 5, 6, 9]], [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 2, 3, 4, 5, 6, 7, 8, 1, 9], [0, 3, 4, 5, 6, 7, 8, 1, 2, 9], [0, 4, 5, 6, 7, 8, 1, 2, 3, 9], [0, 5, 6, 7, 8, 1, 2, 3, 4, 9], [0, 6, 7, 8, 1, 2, 3, 4, 5, 9], [0, 7, 8, 1, 2, 3, 4, 5, 6, 9], [0, 8, 1, 2, 3, 4, 5, 6, 7, 9]], [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 3, 4, 5, 6, 7, 8, 1, 2, 9], [0, 5, 6, 7, 8, 1, 2, 3, 4, 9], [0, 7, 8, 1, 2, 3, 4, 5, 6, 9], [0, 1, 8, 7, 6, 5, 4, 3, 2, 9], [0, 7, 6, 5, 4, 3, 2, 1, 8, 9], [0, 5, 4, 3, 2, 1, 8, 7, 6, 9], [0, 3, 2, 1, 8, 7, 6, 5, 4, 9]], [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 2, 3, 4, 5, 6, 7, 8, 1, 9], [0, 3, 4, 5, 6, 7, 8, 1, 2, 9], [0, 4, 5, 6, 7, 8, 1, 2, 3, 9], [0, 5, 6, 7, 8, 1, 2, 3, 4, 9], [0, 6, 7, 8, 1, 2, 3, 4, 5, 9], [0, 7, 8, 1, 2, 3, 4, 5, 6, 9], [0, 8, 1, 2, 3, 4, 5, 6, 7, 9], [0, 8, 7, 6, 5, 4, 3, 2, 1, 9], [0, 7, 6, 5, 4, 3, 2, 1, 8, 9], [0, 6, 5, 4, 3, 2, 1, 8, 7, 9], [0, 5, 4, 3, 2, 1, 8, 7, 6, 9], [0, 4, 3, 2, 1, 8, 7, 6, 5, 9], [0, 3, 2, 1, 8, 7, 6, 5, 4, 9], [0, 2, 1, 8, 7, 6, 5, 4, 3, 9], [0, 1, 8, 7, 6, 5, 4, 3, 2, 9]], [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 1, 8, 7, 6, 5, 4, 3, 2, 9]]];
      this.za[Ba.wj] = [[[0, 1, 2, 3], [0, 2, 1, 3]]];
      this.za[Ba.ug] = [[[0, 1, 2, 3, 4, 5, 6, 7], [0, 4, 5, 6, 1, 2, 3, 7]], [[0, 1, 2, 3, 4, 5, 6, 7], [0, 3, 4, 5, 6, 1, 2, 7], [0, 5, 6, 1, 2, 3, 4, 7]], [[0, 1, 2, 3, 4, 5, 6, 7], [0, 2, 3, 4, 5, 6, 1, 7], [0, 3, 4, 5, 6, 1, 2, 7], [0, 4, 5, 6, 1, 2, 3, 7], [0, 5, 6, 1, 2, 3, 4, 7], [0, 6, 1, 2, 3, 4, 5, 7]], [[0, 1, 2, 3, 4, 5, 6, 7], [0, 2, 3, 4, 5, 6, 1, 7], [0, 3, 4, 5, 6, 1, 2, 7], [0, 4, 5, 6, 1, 2, 3, 7], [0, 5, 6, 1, 2, 3, 4, 7], [0, 6, 1, 2, 3, 4, 5, 7], [0, 6, 5, 4, 3, 2, 1, 7], [0, 5, 4, 3, 2, 1, 6, 7], [0, 4, 3, 2, 1, 6, 5, 7], [0, 3, 2, 1, 6, 5, 4, 7], [0, 2, 1, 6, 5, 4, 3, 7], [0, 1, 6, 5, 4, 3, 2, 7]]];
      this.C = false;
      this.Xa = "";
    }
    function kb(a, b) {
      this.N = null;
      this.U = b;
      this.Sa = "";
      this.mb = false;
      this.Ta = this.Va = this.Oa = -1;
      b = a.lastIndexOf(".");
      -1 !== b && (a = a.substring(0, b));
      this.name = a;
      this.Ga = this.za = 0;
      this.aa = this.H = this.l = -1;
      this.Ca = this.Ba = 0;
      this.Jb = this.Hb = false;
      this.Ib = true;
      this.Ra = this.M = this.h = this.Fa = "";
      this.ha = this.Ma = this.$ = this.L = this.O = this.ea = this.ma = this.da = false;
      this.ra = this.U.na;
      this.o = false;
      this.W = this.U.da;
      this.pa = -1;
      this.X = this.ga = false;
      this.v = -1;
      this.ua = 1;
      this.la = this.Nb = this.Pb = this.Sb = this.Rb = this.ba = this.V = this.Y = this.C = -1;
      this.BA = this.Ea = false;
      this.u = -1;
      this.La = this.Ja = this.T = this.B = null;
      this.fb = this.i = this.m = -1;
      this.wa = this.va = 1;
      this.fa = "";
      this.na = -1;
      this.Z = "";
      this.zb = this.ub = null;
      this.height = this.width = 0;
      this.ka = this.R = null;
      this.oa = this.s = this.title = "";
      this.Lb = [];
      this.kb = [];
      this.ib = [];
      this.Ya = "";
      this.A = 2;
      this.Na = 0;
      this.qa = this.ta = false;
      this.nb = this.Tb = "";
      this.ja = -1;
      this.Kb = false;
      this.sa = this.Qa = this.cb = this.hb = this.eb = -1;
      this.ia = this.Ia = null;
      this.Ha = this.gb = 0;
      this.Da = this.$a = this.bb = null;
      this.Xa = [];
      this.ya = null;
    }
    function Ma(a, b, c, d) {
      this.F = a;
      this.G = b;
      this.J = c;
      this.K = d;
    }
    function sb(a, b, c) {
      this.s = b;
      this.l = a.s[b];
      this.m = a.m[b];
      this.o = a.o[b];
      this.O = a.B[b];
      this.L = a.A[b];
      this.u = null;
      c && (this.u = a.u[b]);
      this.i = new Ma(0, 0, 0, 0);
      this.h = new Ma(0, 0, 0, 0);
      this.C = this.A = this.M = this.counter = this.B = this.v = this.H = 0;
      this.U = a;
    }
    function db(a, b) {
      this.N = a;
      this.h = [];
      this.l = [];
      this.s = [];
      this.m = [];
      this.o = [];
      this.B = [];
      this.A = [];
      this.u = [];
      this.C = 0;
      this.i = -1;
      this.M = b;
      this.v = null;
    }
    function Ea(a, b, c) {
      this.N = a;
      this.g = b;
      this.U = c;
      this.l = this.o = 1;
      this.X = 2;
      this.B = a.h(oa.Ka, 0, "HROT.births");
      this.v = a.h(oa.Ka, 0, "HROT.survivals");
      this.aa = a.h(oa.Ka, 0, "HROT.altBirths");
      this.ba = a.h(oa.Ka, 0, "HROT.altSurvivals");
      this.type = c.i;
      this.Kl = Array.matrix(oa.Ka, 1, 1, 0, a, "HROT.neighbourhood");
      this.fa = a.h(oa.xo, 0, "HROT.neighbourList");
      this.h = Array.matrix(oa.Gd, 1, 1, 0, a, "HROT.counts");
      this.H = a.h(oa.fc, 0, "HROT.widths");
      this.ja = a.h(oa.Ka, 0, "HROT.colUsed");
      this.s = a.h(oa.pp, 0, "HROT.weightedNeighbourhood");
      this.A = null;
      this.Z = this.$ = -1;
      this.ea = this.u = this.m = this.R = 0;
      this.ka = false;
      this.L = "";
      this.ma = -1;
      this.C = false;
      this.O = new tb;
      this.O.oe(Date.now().toString());
      this.W = a.h(oa.Yc, 0, "HROT.birthChances");
      this.T = a.h(oa.Yc, 0, "HROT.suvivalChances");
      this.M = a.h(oa.Yc, 0, "HROT.immunityChances");
      this.V = false;
      this.Y = this.ia = this.ga = -1;
    }
    function ic(a, b) {
      this.i = a;
      this.h = b;
    }
    function Na(a, b, c, d, f, e, k, g, m) {
      this.name = a;
      this.Xj = false;
      this.A = 10;
      this.s = this.o = 0;
      this.u = d;
      this.i = c;
      this.h = b;
      this.v = f;
      this.m = e;
      this.l = k;
      this.C = g;
      this.H = false;
      this.B = m;
      -1 === this.m.i.h && (this.H = true);
      128 <= (this.u.h + this.u.l + this.u.i) / 3 ? (this.o = G.SD, this.s = G.RD) : (this.o = G.Os, this.s = G.Ns);
    }
    function S(a, b, c) {
      this.h = a;
      this.l = b;
      this.i = c;
    }
    function ua(a, b) {
      this.h = a;
      this.i = b;
    }
    function ra(a, b, c, d, f, e, k) {
      this.U = e;
      this.view = k;
      this.Th = false;
      this.Nd = this.zf = null;
      this.Ic = document.createElement("canvas");
      this.Ic.width = 1;
      this.Ic.height = 1;
      this.Af = this.Ic.getContext("2d");
      this.Jc = [];
      this.Oi = 0;
      this.Wg = 8;
      this.cc = 0;
      this.fh = this.gh = "";
      this.Vd = [];
      this.Be = -1;
      this.lj = false;
      this.Uc = this.cb = 0;
      this.Zh = 10;
      this.Yh = "";
      this.eh = this.Sf = this.Hf = 0;
      this.ie = null;
      this.Pd = this.gd = 0;
      this.Ma = null;
      this.mj = this.nj = this.zi = this.Gi = this.If = 0;
      this.Ci = true;
      this.N = new gb;
      this.Fe = [];
      this.Vb = false;
      this.Yg = true;
      this.Cc = false;
      this.Oj = this.Uh = this.Wh = this.Vh = this.Ig = this.$f = this.Zf = this.qd = null;
      this.nh = new tb;
      this.nh.oe(Date.now().toString());
      this.s = false;
      this.zd = 8;
      this.oh = 2;
      this.Mi = 0;
      this.Kf = -1;
      this.xc = this.Nc = this.Re = this.Pe = null;
      this.yd = [];
      this.Pb = null;
      this.mg = this.Mc = this.vd = 0;
      this.Ne = false;
      this.De = this.Yb = this.kf = this.fi = this.Ud = null;
      this.ec = this.sf = 0;
      this.Ce = this.Kg = null;
      this.Jf = this.Lc = -1;
      this.jf = this.Wf = this.Zd = null;
      this.ad = true;
      this.hd = this.Wb = this.eb = this.zb = this.Xa = false;
      this.Vf = 0;
      this.bi = [];
      this.ci = [];
      this.di = [];
      this.ei = [];
      this.Ch = [];
      this.kh = [];
      this.Dh = [];
      this.Fh = [];
      this.mi = [];
      this.oi = [];
      this.vi = [];
      this.xi = [];
      this.gi = [];
      this.ji = [];
      this.ki = [];
      this.li = [];
      this.ff = [];
      this.lh = this.mh = "";
      this.ic = 255;
      this.bc = null;
      this.hc = this.N.h(oa.Ka, 65536, "Life.bitCounts16");
      this.Vn();
      this.Ef = this.df = this.Fc = null;
      this.pa = this.Ba = this.dd = this.Rf = this.ih = this.Tf = this.Xf = 0;
      this.Ga = 1;
      this.M = this.R = this.C = -1;
      this.Md = this.Ld = 0;
      this.Sg = this.Lf = false;
      this.Mf = true;
      this.Ge = G.by;
      this.Ib = [];
      this.Jb = [];
      this.Ib[0] = this.N.h(oa.Gd, I.Tl, "Life.boundaryX0");
      this.Jb[0] = this.N.h(oa.Gd, I.Tl, "Life.boundaryY0");
      this.Bd = 0;
      this.Kd = 4294967295;
      this.Rg = "rgb(255,255,255)";
      this.ge = 4286611584;
      this.Rh = "rgb(0,255,0)";
      this.Fi = "rgb(255,0,0)";
      this.og = "rgb(255,255,0)";
      this.Sh = "rgb(255,128,0)";
      this.i = this.Z = this.fa = false;
      this.Id = -1;
      this.X = false;
      this.ng = this.U.da;
      this.ha = false;
      this.lg = this.U.na;
      this.Zc = this.jh = this.va = false;
      this.h = -1;
      this.A = this.l = this.H = false;
      this.kg = this.v = 0;
      this.sc = this.Ea = false;
      this.Gc = new db(this.N, this.hc);
      this.We = I.ap;
      this.Va = this.Ia = false;
      this.Xh = this.$a = this.na = this.u = null;
      this.qg = new Ma(0, 0, 0, 0);
      this.yi = new Ma(0, 0, 0, 0);
      this.Oa = null;
      this.Kj = new Ma(0, 0, 0, 0);
      this.Lj = new Ma(0, 0, 0, 0);
      this.width = d;
      this.height = f;
      this.Y = this.width >> 4;
      this.ba = this.height >> 4;
      this.Li = null;
      this.displayWidth = b;
      this.displayHeight = c;
      this.aa = this.ma = this.o = 0;
      this.Wa = I.Wa;
      this.vf = I.vf;
      this.me = I.me;
      this.Gh = I.Gh;
      this.Aa = 1;
      this.Lb = -1;
      this.re = 1;
      this.se = 30;
      this.Gb = this.angle = this.counter = this.fe = this.Hb = 0;
      this.zoom = 6;
      this.da = this.ea = 0;
      this.Ub = 0.1;
      this.ra = 0;
      this.$ = 1;
      this.Rb = this.Sb = 0;
      this.ua = 0.1;
      this.zc = Ka.zc;
      this.la = [];
      this.pd = this.Ze = this.Rd = this.Cd = this.Se = this.Fd = this.$c = this.Kc = this.Ee = this.tf = this.ye = this.Sd = this.cf = this.be = this.Jd = this.Qc = null;
      this.ib = -1;
      this.Uf = this.Sc = this.Oc = this.jn = null;
      this.ka = a;
      this.ya = this.za = 0;
      this.Na = this.Qa = this.wa = this.Ec = this.grid = this.V = this.L = null;
      this.qh = this.N.h(oa.fc, this.displayWidth, "Life.blankPixelRow");
      this.ef = this.N.h(oa.Ka, (this.width - 1 >> 3) + 1, "Life.blankRow");
      this.ed = this.N.h(oa.xa, (this.width - 1 >> 4) + 1, "Life.blankRow16");
      this.Ja = this.N.h(oa.xa, this.Y >> 4, "Life.blankTileRow");
      this.oa = this.N.h(oa.Ka, this.width, "Life.blankColourRow");
      this.yc = this.sd = this.Tc = this.wc = this.B = this.qa = this.Ed = this.Xe = this.Ya = this.Ca = this.sa = this.jd = this.Da = this.ta = this.Yd = this.W = this.m = null;
      this.ja = this.N.h(oa.Ka, 256, "Life.redChannel");
      this.ia = this.N.h(oa.Ka, 256, "Life.greenChannel");
      this.ga = this.N.h(oa.Ka, 256, "Life.blueChannel");
      this.fb = this.N.h(oa.fc, 256, "Life.pixelColours");
      this.He = this.Fa = null;
      this.ae = 0;
      this.Zb = false;
      this.Ye = 0;
      this.hb = -1;
      this.Xd = this.bb = this.Ve = this.Wd = this.hh = this.Pf = this.Gf = this.Of = null;
      this.Bf = this.N.h(oa.xa, 2 * (this.vf + 1) << 8, "Life.colourLookup16");
      this.Qi = this.N.h(oa.xa, 2 * (this.vf + 1) << 9, "Life.colourLookup17");
      this.Ri = this.N.h(oa.Ka, 2048, "Life.colourReset");
      this.mb = G.Os;
      this.Dd = -1;
      this.uc = G.Ns;
      this.Td = -1;
      this.Sa = 10;
      this.Rc = true;
      this.Ak = 10;
      this.pf = this.Cf = this.Ta = this.Ha = null;
      this.T = 8192;
      this.Ml = [0, 0, 48];
      this.Jl = [255, 255, 255];
      this.Fl = [255, 255, 255];
      this.Pl = [0, 255, 0];
      this.Ln = [255, 0, 0];
      this.md = [0, 0, 48];
      this.ld = [255, 255, 255];
      this.kd = [255, 255, 255];
      this.nd = [0, 255, 0];
      this.od = [255, 0, 0];
      this.O = new Ea(this.N, this, e);
      this.coords = this.N.h(oa.Yc, 1, "Life.coords");
      this.Tb = this.N.h(oa.fc, 1, "Life.cellColours");
      this.ub = 0;
    }
    function Ra(a, b) {
      var c = 0, d = 0, f = a.length, e = false, k = false, g = false, m = 0, p = new Uint32Array(f), n = new Uint16Array(f), q = new Uint32Array(f), l = 0, r = 0;
      -1 !== a.indexOf("&") && (a = a.replace(/&amp;/g, "&"), a = a.replace(/&lt;/g, "<"), a = a.replace(/&gt;/g, ">"), f = a.length);
      for (; c < f;) {
        var u = a.charCodeAt(c);
        switch (u) {
          case 32:
          case 13:
          case 9:
          case 123:
          case 125:
            !k && e && (p[m] = d, n[m] = c - d, q[m] = (l << 1) + 1 & r, m += 1, e = false);
            break;
          case 44:
            b ? !k && e && (p[m] = d, n[m] = c - d, q[m] = (l << 1) + 1 & r, m += 1, e = false) : e || (e = true, r = 0, k = false, d = c);
            break;
          case 10:
            e && (p[m] = d, n[m] = c - d, q[m] = (l << 1) + 1 & r, m += 1, e = false);
            k = false;
            b && (0 < m && "\n" !== a[p[m - 1]] && (p[m] = c, n[m] = 1, q[m] = 0, m += 1), g = false);
            break;
          case 58:
          case 61:
            b ? k || (e && (p[m] = d, n[m] = c - d, q[m] = (l << 1) + 1 & r, m += 1, e = false), p[m] = c, n[m] = 1, q[m] = 0, m += 1) : e || (e = true, r = 0, k = false, d = c);
            break;
          case 34:
            b ? k || (g = !g, e || (e = true, d = c)) : e || (e = true, r = 0, d = c);
            break;
          case 35:
            b ? g || k || (e && (p[m] = d, n[m] = c - d, q[m] = (l << 1) + 1 & r, m += 1, e = false), k = true) : e || (e = true, r = 0, k = false, d = c);
            break;
          default:
            k || (e ? 48 <= u && 57 >= u ? (l = 10 * l + u - 48, 1073741824 <= l && (r = 0)) : r = 0 : (e = true, d = c, 48 <= u && 57 >= u ? (r = -1, l = u - 48) : r = 0));
        }
        c += 1;
      }
      e && (p[m] = d, n[m] = c - d, q[m] = (l << 1) + 1 & r, m += 1);
      this.o = p.slice(0, m);
      this.A = n.slice(0, m);
      this.C = q.slice(0, m);
      this.current = 0;
      this.source = a;
    }
    function hb(a) {
      this.U = a;
      this.l = this.pg = this.tn = false;
      this.h = Ta.$t;
      this.i = Ta.Wo;
      this.Mb = this.jc = -1;
      this.Gb = this.angle = this.y = this.x = 0;
      this.depth = this.Aa = this.zoom = 1;
      this.Dc = 0;
      this.Pc = 60;
      this.step = 1;
      this.ud = this.vc = 0;
      this.le = "";
      this.m = this.Xj = this.xq = this.Cj = this.Bj = this.Aj = this.zq = this.jA = this.fp = this.Jh = this.Oh = this.ve = this.Ue = this.pe = this.Lg = this.Qg = this.de = this.yg = this.ig = this.Le = this.bf = this.grid = this.ck = this.Bg = this.Ag = this.zg = this.Ie = false;
    }
    function sc(a, b, c, d, f, e, k, g, m, p, n, q, l, r, u, t, v, B) {
      this.C = B;
      this.coords = a;
      this.s = b;
      this.zoom = c;
      this.ob = d;
      this.Xb = f;
      this.o = e;
      this.alpha = k;
      this.size = g;
      this.h = m;
      this.m = p;
      this.i = n;
      this.angle = q;
      this.u = l;
      this.B = r;
      this.l = u;
      this.v = t;
      this.A = v;
      -1000 === this.Xb && -1000 === this.ob && (this.ob = this.zoom / 4, this.Xb = 4 * this.zoom);
    }
    function tc(a, b, c, d, f, e, k, g, m, p, n, q, l, r, u, t, v, B, w, y, D) {
      this.O = D;
      this.B = a;
      this.H = b;
      this.C = c;
      this.L = d;
      this.zoom = f;
      this.ob = e;
      this.Xb = k;
      this.s = g;
      this.alpha = m;
      this.size = p;
      this.M = n;
      this.h = q;
      this.m = l;
      this.i = r;
      this.angle = u;
      this.o = t;
      this.A = v;
      this.l = B;
      this.u = w;
      this.v = y;
      -1000 === this.Xb && -1000 === this.ob && (this.ob = this.zoom / 4, this.Xb = 4 * this.zoom);
    }
    function uc(a, b, c, d, f, e, k, g, m, p, n, q, l, r, u, t, v, B, w, y) {
      this.A = w;
      this.message = "";
      this.h = this.l = this.m = this.C = this.s = -1;
      this.x = a;
      this.y = b;
      this.zoom = c;
      this.ob = d;
      this.Xb = f;
      this.u = e;
      this.alpha = k;
      this.size = g;
      this.T = m;
      this.i = p;
      this.B = n;
      this.o = q;
      this.angle = l;
      this.H = r;
      this.O = u;
      this.v = t;
      this.L = v;
      this.M = B;
      -1000 === this.Xb && -1000 === this.ob && (this.ob = this.zoom / 4, this.Xb = 4 * this.zoom);
      this.R = y;
    }
    function za() {
      this.h = [];
      this.i = [];
      this.m = [];
      this.o = [];
      this.s = [];
      this.current = new hb(this);
      this.$ = new hb(this);
      this.H = new hb(this);
      this.M = false;
      this.u = 0;
      this.L = this.R = false;
    }
    function ab(a, b) {
      var c = this, d = a.getElementsByTagName("div")[0];
      this.s = false;
      this.i = -1;
      this.o = 1;
      this.l = a;
      this.view = b;
      this.D = b.D;
      this.top = this.left = 0;
      "" !== a.style.left && (this.left = parseInt(a.style.left, 10));
      "" !== a.style.top && (this.top = parseInt(a.style.top, 10));
      this.h = this.m = false;
      this.v = this.u = -1;
      this.B = 0;
      Ia(d, "mousedown", function (f) {
        c.V(c, f);
      }, false);
      Ia(document, "mousemove", function (f) {
        c.W(c, f);
      }, false);
      Ia(document, "mouseup", function (f) {
        c.X(c, f);
      }, false);
      Ia(d, "touchstart", function (f) {
        c.A(c, f);
      }, false);
      Ia(d, "touchmove", function (f) {
        c.A(c, f);
      }, false);
      Ia(d, "touchend", function (f) {
        c.A(c, f);
      }, false);
      Ia(window, "resize", function () {
        c.R(c);
      }, false);
    }
    function tb() {
      this.key = new Uint8Array(256);
      this.i = this.h = 0;
    }
    function Pb(a, b) {
      this.hq = a;
      this.x = b.h(oa.Yc, 0, "Stars.x");
      this.y = b.h(oa.Yc, 0, "Stars.y");
      this.z = b.h(oa.Yc, 0, "Stars.z");
      this.h = new S(255, 255, 255);
      this.i = new tb;
      this.i.oe(Date.now().toString());
      this.sin = b.h(oa.Yc, 0, "Stars.sin");
      this.cos = b.h(oa.Yc, 0, "Stars.cos");
      this.l = Math.PI / 180;
      this.s = 180 / Math.PI;
      this.N = b;
      this.m = false;
    }
    function Qb(a) {
      this.buffer = a;
      this.i = 0;
      this.m = 8 * this.buffer.length;
    }
    function vc(a, b, c, d, f) {
      this.name = a;
      this.pattern = b;
      this.HF = c;
      this.width = d;
      this.height = f;
    }
    function ea(a) {
      var b;
      this.te = false;
      this.Bk = this.zk = this.Ak = this.yk = this.bt = this.Js = this.Ys = this.Hs = 0;
      this.u = Ka.hs ? G.YC : G.dD;
      this.C = Ka.hs ? G.aF : G.KC;
      this.xs = this.Gm = this.Ov = this.Rl = this.ho = this.Zu = this.bg = false;
      this.gh = this.fh = this.hh = true;
      this.oh = 0;
      this.mw = this.hw = true;
      this.M = 60;
      this.ph = G.Ht;
      this.Kd = this.Fr = this.uw = 0;
      this.Qw = "";
      this.ol = this.rr = this.on = this.If = this.Kb = -1;
      this.Je = [];
      this.fq = this.Rj = this.mm = this.Qq = this.Lo = this.Jm = false;
      this.U = new va;
      this.Vb = false;
      this.sn = this.vn = this.rn = this.Pi = this.mh = this.nh = this.em = this.Ni = this.un = this.Vl = this.Ri = this.Qi = this.Yl = this.pb = this.Oi = this.tr = "";
      this.nb = false;
      this.bl = this.Uk = this.Yh = this.Yk = this.$k = this.bn = this.$m = this.Zm = this.Xm = this.Wh = this.gr = this.Rq = this.Xh = this.ir = this.Zq = this.er = this.cr = this.ar = this.Xq = this.Tq = this.Wk = this.Fe = null;
      this.xe = 1;
      this.jo = this.qo = G.Rn;
      this.aj = 50;
      this.no = this.lo = this.Lk = false;
      this.Sf = this.Te = this.Se = -1;
      this.ad = [];
      this.Md = [];
      this.Cr = false;
      this.Co = this.Ss = this.es = this.ct = this.Lr = null;
      this.Kk = 18;
      this.Th = "18px " + G.py;
      this.mf = "18px " + G.jw;
      this.dk = window.devicePixelRatio ? window.devicePixelRatio : 1;
      this.zf = true;
      this.Mm = this.Cc = this.We = this.he = this.Ve = this.Xe = this.Ze = this.Ye = this.ie = false;
      this.Xa = [];
      for (b = 0; b < G.qj; b += 1) this.Xa[b] = null;
      this.Qa = false;
      this.Tb = this.Ub = this.mc = 0;
      this.uc = G.Jn;
      this.Qc = this.Dj = false;
      this.W = null;
      this.ua = false;
      this.Hi = new Ma(0, 0, 0, 0);
      this.ba = new Ma(0, 0, 0, 0);
      this.Rb = new Ma(0, 0, 0, 0);
      this.H = new tb;
      this.H.oe(Date.now().toString());
      this.Ib = 50;
      this.uy = this.sy = 0;
      this.gd = this.R = false;
      this.Nf = 2;
      this.Zb = [];
      this.qh = this.ka = 0;
      this.Zg = [];
      this.Ma = 0;
      this.oj = [];
      this.mj = 0;
      this.re = [];
      this.re[G.mp] = [1, 0, 0, 1];
      this.re[G.Pv] = [-1, 0, 0, -1];
      this.re[G.Qv] = [-1, 0, 0, 1];
      this.re[G.Rv] = [1, 0, 0, -1];
      this.re[G.Uv] = [0, 1, 1, 0];
      this.re[G.Vv] = [0, -1, -1, 0];
      this.re[G.Tv] = [0, -1, 1, 0];
      this.re[G.Sv] = [0, 1, -1, 0];
      this.ae = [];
      this.ej = [];
      this.Nd = [];
      this.Zc = [];
      this.Ra = G.In;
      this.Pe = 0;
      this.sk = -1;
      this.Vi = [];
      this.Ir = this.Hq = this.Yd = 0;
      this.Ql = false;
      this.Xd = -1;
      this.nn = false;
      this.Ga = this.Qf = this.Lf = this.Pf = this.Mf = 0;
      this.l = null;
      this.rp = 0;
      this.hr = true;
      this.ic = 0;
      this.Qe = 1;
      this.Vf = this.mr = this.Zd = this.th = false;
      this.tc = 7;
      this.zh = true;
      this.Fc = this.Ec = 0;
      this.Rg = this.Uw = this.la = this.fm = 63;
      this.Ig = this.nf = this.zl = this.El = this.we = this.Bl = this.wl = this.Il = this.ul = this.Jg = this.Ol = this.Ll = this.Dr = false;
      this.ia = 0;
      this.Ce = null;
      this.Z = this.da = 0;
      this.wp = false;
      this.qa = this.ra = -999999;
      this.ah = -1;
      this.bj = Date.now().toString();
      this.cj = this.Nk = this.Rk = this.et = false;
      this.Cd = G.hg;
      this.ge = true;
      this.Fa = false;
      this.pd = true;
      this.Ya = G.ey;
      this.cc = false;
      this.element = a;
      this.Ja = false;
      this.kh = this.og = this.qg = this.Ch = this.xm = this.rm = this.vm = this.tm = 0;
      this.Nb = this.Dh = this.hb = this.Bh = false;
      this.hd = true;
      this.De = false;
      this.Ia = 0;
      this.gk = false;
      this.wc = this.dc = 0;
      this.kc = false;
      this.P = "";
      this.$ = this.V = 0;
      this.sw = this.qw = this.Ei = this.Ek = this.Gi = this.Fi = this.jf = this.rw = this.pw = this.Yf = this.Xf = this.Ah = this.$f = this.Zf = this.Gc = -1;
      this.wn = this.Hm = false;
      this.Cl = this.Lc = -1;
      this.Yg = false;
      this.Gs = 0;
      this.zs = true;
      this.Ln = this.ea = this.Wd = false;
      this.Sg = 0;
      this.sd = this.od = false;
      this.Tc = this.Uc = null;
      this.Hh = G.Hh;
      this.ze = null;
      this.Ih = G.Ih;
      this.Bd = [96, 96, 96];
      this.Df = [128, 128, 128];
      this.Gf = [0, 255, 0];
      this.Ff = [255, 0, 0];
      this.Cf = [255, 255, 0];
      this.Hf = [255, 128, 0];
      this.Mv = null;
      this.vd = "";
      this.Jd = true;
      this.rd = this.ab = this.Hb = false;
      this.Pd = null;
      this.Ad = false;
      this.o = 1;
      this.$i = 0;
      this.Va = this.pr = false;
      this.m = new za;
      this.He = "";
      this.xr = -1;
      this.nc = this.Ca = false;
      this.Y = 1;
      this.Er = this.rh = 0;
      this.Jc = G.CE;
      this.qd = this.ec = this.fb = this.Oa = this.Ab = -1;
      this.vk = this.Wi = "";
      this.Hn = this.Yi = this.B = this.A = 0;
      this.Xi = null;
      this.Rf = this.ya = this.T = this.hk = "";
      this.Ef = this.sa = false;
      this.oa = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1];
      this.Dm = this.Bm = -1;
      this.yt = G.Ny;
      this.it = G.yp;
      this.Kt = G.Oz;
      this.ro = "";
      this.ZE = 0;
      this.Oe = [];
      this.Zr = false;
      this.O = null;
      this.zm = [];
      this.Wb = [];
      this.s = this.aa = 0;
      this.ij = false;
      this.Ti = 100;
      this.Da = 10;
      this.i = [64, 200, 290, 530, 700];
      this.Bc = false;
      this.v = [];
      this.Vm = [];
      this.Wm = [];
      this.jc = -1;
      this.Lb = false;
      this.Mb = -1;
      this.Tm = this.sc = this.Pb = this.Na = this.bi = this.Bn = this.La = this.ed = this.nd = this.L = this.ib = this.va = false;
      this.g = null;
      this.elapsedTime = 0;
      this.displayWidth = 640;
      this.displayHeight = 512;
      this.Kf = 640;
      this.Jf = 512;
      this.Qn = false;
      this.vr = 640;
      this.Zi = true;
      this.kg = this.xv = this.dd = this.Fb = this.Ki = false;
      this.Uf = this.mg = this.td = this.ja = this.xi = this.wh = this.Sd = this.nj = null;
      this.Ba = [];
      this.ma = this.Sa = this.lj = this.jj = this.wk = this.$c = this.pf = this.Ej = this.im = this.qk = this.pk = this.jm = this.Xk = this.Zk = this.Ik = this.Gk = this.rk = this.Mj = this.Pj = this.sh = this.$d = this.vh = this.xc = this.Id = this.wa = this.$b = this.yf = this.Be = this.Ae = this.fd = this.Rc = this.Ld = this.Re = this.fe = this.kb = this.hf = this.rj = this.jd = this.lf = this.mo = this.bm = this.wo = this.qm = this.Fl = this.Ii = this.jl = this.Nm = this.uo = this.Km = this.Im = this.hm = this.Dk = this.kj = this.Uh = this.Fd = this.Qj = this.oo = this.uk = this.mi = this.zd = this.vo = this.Lj = this.nm = this.Xs = this.dt = this.$s = this.Fn = this.pm = this.Gr = this.Rm = this.St = this.bu = this.Vh = this.Tk = this.Pk = this.zr = this.nk = this.Br = this.zt = this.pl = this.xj = this.ql = this.dh = this.Mi = this.Zh = this.Li = this.mk = this.Ed = this.Ym = this.bc = this.Pq = this.Ee = this.li = this.Vn = this.mn = this.Dd = this.uh = this.Ud = this.ji = this.ki = this.gm = this.Ck = this.Ge = this.qf = this.fs = this.bh = this.el = this.kf = this.ml = this.Ci = this.jk = this.Wg = this.Af = this.Bf = this.Hj = this.Ij = this.al = this.Jj = this.Ne = this.kd = this.Vd = this.ld = this.Rh = this.ih = this.Qh = this.Sh = this.Sk = this.Mk = this.Qk = this.Ok = this.Am = this.vl = this.xl = this.qp = this.md = this.ow = this.lg = this.sf = this.Nc = this.Xg = this.Dg = this.Fg = this.Eg = this.Cg = this.dn = this.ln = this.fn = this.cn = this.kr = this.jh = this.il = this.Hg = this.nl = this.Gg = this.ll = this.Si = this.Ui = this.yc = this.Hk = this.fj = this.mb = this.eb = this.Ha = this.ac = this.$a = this.na = this.Sm = this.xz = this.Sz = this.qz = this.Lz = null;
      this.Ic = this.lh = -1;
      this.di = 0;
      this.Ta = this.bb = this.be = null;
      this.fa = 60;
      this.h = this.D = null;
      this.zb = this.ta = this.Bi = this.yi = 0;
      this.Fm = this.Xz = 1;
      this.Kz = 60;
      this.zi = this.Rz = 1;
      this.Lu = 0.1;
      this.$u = false;
      this.Qm = -1;
      this.Jb = this.za = this.Ix = this.Mu = 0;
      this.hj = 1;
      this.cf = this.ga = this.wv = this.ov = this.Nv = false;
      this.Yb = G.gy;
      this.Mq = this.Oq = this.Jq = this.pj = 0;
      this.Um = this.ci = false;
      this.xh = this.Sq = 0;
      this.cb = this.Ac = false;
      this.xk = -1;
    }
    async function wc(a, b, c) {
      try {
        const d = await navigator.clipboard.readText();
        a.YF(d, b, c);
      } catch (d) {
        a.EF(b, c);
      }
    }
    async function xc() {
      return Aa.Gx;
    }
    function Rb(a, b, c, d, f) {
      var e, k = b.parentNode, g = null;
      for (e = 0; e < Aa.cd.length && !g;) Aa.cd[e][0].tabIndex === b.tabIndex ? g = Aa.cd[e][1] : e += 1;
      g || (g = new ea(f), g.Ad = d, Ca.Oo && !d && (g.Jc = c & -8, g.Jc < G.Xc && (g.Jc = G.Xc)), b.tabIndex = Aa.cd.length + 1, "none" === k.style.display && (Aa.Pn = new ab(k, g)), g.vC(b), Aa.cd[Aa.cd.length] = [b, g, Aa.Pn]);
      d || g.xg(a, false);
    }
    function yc() {
      var a = document.getElementsByTagName("meta"), b, c;
      for (b = 0; b < a.length; b += 1) {
        var d = a[b];
        if (d.name === Ca.tagName && (Ca.Ts = false, Ca.Oo = false, d = d.content, (c = d.match(/\S+/g)) && 2 <= c.length && 7 >= c.length)) for (Ca.Lp = c[0], Ca.Kn = c[1], d = 2; d < c.length; d += 1) switch (c[d]) {
          case Ca.VD:
            Ca.Ts = true;
            break;
          case Ca.vE:
            Ca.Oo = true;
            break;
          case Ca.PE:
            Ca.vb = true;
            break;
          case Ca.vD:
            Ca.fullScreen = true;
            break;
          default:
            if ("/" === c[d][0]) Ca.mv = c[d]; else if ("." === c[d][0] || "?" === c[d][0]) Ca.Zz = c[d]; else {
              var f = c[d];
              !isNaN(parseFloat(f)) && isFinite(Number(f)) && (Ca.kq = parseFloat(f) | 0);
            }
        }
      }
    }
    function jc(a) {
      a = a.parentNode;
      for (var b = false; !b;) "div" !== a.localName || a.className !== Ca.Lp && a.className !== Ca.Mp || (b = true), b || (a = a.parentNode);
      return a;
    }
    function Sb() {
      var a = Aa.wq(), b = a[1], c = a[2];
      a[0].parentNode.style.display = "none";
      c.m = false;
      b.Fb && (b.$b.current = b.xd(G.je, true, b));
    }
    function kc(a) {
      Sb();
      a.stopPropagation && a.stopPropagation();
      a.preventDefault();
      return false;
    }
    function Bb(a) {
      a = a.innerHTML.replace(/&lt;/gi, "<").replace(/&gt;/gi, ">").replace(/<br *\/>/gi, "\n").replace(/<br>/gi, "\n").replace(/&nbsp;/gi, " ").replace(/<span class="posthilit">/gi, "").replace(/<\/span>/gi, "").trim();
      a = a.replace(/\n[ ]+/g, "\n");
      a = a.replace(/\n\t+/g, "\n");
      "" === a && (a = "!");
      return a;
    }
    function ub(a) {
      var b = jc(a);
      a = b.getElementsByTagName(Ca.Kn)[0];
      if (b = b.getElementsByTagName("canvas")[0]) if (b = Aa.qD(b.tabIndex)) a.innerHTML = a.value, a = Bb(a), b.pb = "", b.g.Kg = null, b.kw(b), b.D.notification.clear(true, true), b.D.notification.clear(false, true), b.xg(a, false);
    }
    function lc(a) {
      var b = 28, c = 18, d = Aa.wq()[2];
      a.Co.style.transform = "scale(" + a.xe + "," + a.xe + ")";
      a.Co.style.transformOrigin = "top left";
      a.resize();
      d.m = true;
      d.R(d);
      1 !== a.h.C && (b = b * a.h.C | 0, c = c * a.h.C | 0, a.Lr.style.height = b + "px", a.Lr.style.fontSize = c + "px", a.Ss.style.height = b + "px", a.Ss.style.fontSize = c + "px", a.es.style.height = b + "px", a.es.style.fontSize = c + "px", a.ct.style.height = b + "px", a.ct.style.lineHeight = b + "px");
      a.Ta.canvas.focus();
      a.Ta.canvas.blur();
      return a.fq = false;
    }
    function Lb(a) {
      var b = jc(a);
      b = b.getElementsByTagName(Ca.Kn)[0];
      a = Bb(b);
      var c = Aa.wq(), d;
      if (c) (d = c[2]) && d.reset(), d = c[1], d.element = b, d.kw(d); else {
        c = document.createElement("canvas");
        c.width = G.Xc;
        c.height = G.Zj + 80;
        c.style.display = "block";
        c.contentEditable = "false";
        var f = document.createElement("a");
        f.setAttribute("href", "#");
        f.innerHTML = "&nbsp;X&nbsp;";
        f.style.textDecoration = "none";
        f.style.fontFamily = "Lucida Grande,Verdana,Helvetica,Arial,sans-serif";
        f.style.color = "#FFFFFF";
        f.style.backgroundColor = "#C75050";
        f.style.cssFloat = "right";
        f.style.height = "28px";
        f.style.fontSize = "18px";
        var e = document.createElement("a");
        e.innerHTML = "&nbsp;X&nbsp;";
        e.style.textDecoration = "none";
        e.style.fontFamily = "Lucida Grande,Verdana,Helvetica,Arial,sans-serif";
        e.style.visibility = "hidden";
        e.style.cssFloat = "left";
        e.style.height = "28px";
        e.style.fontSize = "18px";
        var k = document.createElement("div");
        k.style.textAlign = "center";
        k.style.color = "rgb(83,100,130)";
        k.style.fontFamily = "Arial, Verdana, Helvetica, sans-serif";
        k.style.fontSize = "18px";
        k.style.height = "28px";
        var g = document.createTextNode(G.Eo);
        k.style.cursor = "default";
        k.appendChild(g);
        Ia(f, "click", kc, false);
        Ia(f, "touchend", kc, false);
        var m = document.createElement("div");
        m.style.display = "none";
        m.style.position = "fixed";
        m.style.border = "1px solid rgb(128,128,128)";
        m.style.zIndex = "101";
        m.style.left = "2048px";
        m.style.top = "0px";
        m.style.textAlign = "right";
        m.style.boxShadow = "0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";
        m.style.margin = "1px";
        var p = document.createElement("div");
        p.className = Ca.Mp;
        p.style.backgroundColor = "#FFFFFF";
        p.style.height = "28px";
        p.style.lineHeight = "28px";
        p.style.margin = "0px";
        p.style.border = "0px";
        p.appendChild(e);
        p.appendChild(f);
        p.appendChild(k);
        m.appendChild(p);
        m.appendChild(c);
        document.body.appendChild(m);
        Rb(a, c, G.Xc, true, b);
        Aa.yv = Aa.cd.length - 1;
        c = Aa.wq();
        d = c[1];
        d.Mv = g;
        d.Lr = f;
        d.Ss = e;
        d.es = k;
        d.ct = p;
        d.Co = m;
      }
      b = c[0].parentNode;
      "" !== b.style.display && (b.style.display = "");
      d.pb = "";
      d.g.Kg = null;
      d.displayWidth = G.Xc;
      d.displayHeight = G.Zj + 80;
      d.resize();
      d.D.notification.clear(true, true);
      d.D.notification.clear(false, true);
      d.fq = true;
      d.xg(a, true);
      d.fq || lc(d);
    }
    function zc(a, b, c) {
      a = a.getElementsByTagName("a")[0];
      var d = document.createElement("a"), f = null;
      d.setAttribute("href", "#");
      d.innerHTML = "Show Pattern Error";
      Ia(d, "click", function (e) {
        e.stopPropagation && e.stopPropagation();
        e.preventDefault();
        alert(c);
      }, false);
      a ? (f = document.createTextNode(" / "), a.parentNode.appendChild(f), a.parentNode.appendChild(d)) : b.parentNode.appendChild(d);
    }
    function mc(a, b) {
      var c = b[0], d = b[1], f = b[2];
      b = b[3];
      a && a.R && !a.ta && (Ca.vb ? (Aa.ke[Aa.ke.length] = new vc(a.name, c, a.h + a.Ra, a.width, a.height), 1 === Aa.ke.length ? (f.style.display = "none", b && (b.contentEditable = "false", Rb(c, b, f.offsetWidth, false, f))) : d.style.display = "none") : null !== d && (a = d.getElementsByTagName("a")[0], c = document.createElement("a"), c.setAttribute("href", "#"), c.innerHTML = "Show in Viewer", Ia(c, "click", Ac, false), a ? (f = document.createTextNode(" / "), a.parentNode.appendChild(f), a.parentNode.appendChild(c)) : f.parentNode.appendChild(c)));
    }
    function nc(a, b) {
      var c = b[0], d = b[1];
      b = b[2];
      a && null !== d && ("#" !== c[0] || -1 === c.indexOf("import ")) && zc(d, b, a.h + " - " + a.Sa);
    }
    function oc(a, b, c, d, f, e) {
      b = c.create("", a, b, mc, nc, [a, d, f, e], null);
      !c.Na && b && (b.qa ? (b.Sa = c.P, nc(b, [a, d, f, e])) : mc(b, [a, d, f, e]));
    }
    function Ac(a) {
      Lb(this);
      a.stopPropagation && a.stopPropagation();
      a.preventDefault();
      return false;
    }
    function Bc(a) {
      var b = null;
      b = a.dataTransfer;
      var c = null, d = null;
      b && 0 < b.files.length && (b = b.files[0], c = new FileReader, c.onload = function () {
        var f = c.result, e = document.getElementById("rle");
        e && (e.innerHTML = f, (d = document.getElementById("viewbutton")) && ub(d));
      }, c.readAsText(b));
      a.preventDefault();
      a.stopPropagation();
    }
    var Ka = {Aq: false, Nr: false, Or: false, zc: false, copyWithin: false, hs: false, jn: null, Oc: null};
    window.performance || (window.performance = {});
    window.performance.now || (window.performance.now = function () {
      return performance.now || performance.UG || performance.VG || performance.XG || performance.webkitNow || function () {
        return (new Date).getTime();
      };
    }());
    window.requestAnimationFrame || (window.requestAnimationFrame = window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame);
    window.Uint8Array ? Ka.Aq = true : (Ka.Aq = false, window.Uint8Array = Array);
    window.Uint8ClampedArray || (window.Uint8ClampedArray = window.Uint8Array);
    window.Uint16Array || (window.Uint16Array = Array);
    window.Uint32Array || (window.Uint32Array = Array);
    window.Int32Array || (window.Int32Array = Array);
    window.Int16Array || (window.Int16Array = Array);
    window.Int8Array || (window.Int8Array = Array);
    window.Uint8ClampedArray || (window.Uint8ClampedArray = Array);
    window.Float32Array || (window.Float32Array = Array);
    window.Float64Array || (window.Float64Array = Array);
    window.Uint32Array.prototype.fill ? Ka.Nr = true : (Ka.Nr = false, window.Uint32Array.prototype.fill = function (a, b, c) {
      void 0 === c && (c = this.length);
      for (b = 0; b < c; b += 1) this[b] = a;
    });
    window.Uint16Array.prototype.fill || (window.Uint16Array.prototype.fill = function (a, b, c) {
      void 0 === c && (c = this.length);
      for (b = 0; b < c; b += 1) this[b] = a;
    });
    window.Uint8Array.prototype.fill || (window.Uint8Array.prototype.fill = function (a, b, c) {
      void 0 === c && (c = this.length);
      for (b = 0; b < c; b += 1) this[b] = a;
    });
    window.Uint8ClampedArray.prototype.fill || (window.Uint8ClampedArray.prototype.fill = function (a, b, c) {
      void 0 === c && (c = this.length);
      for (b = 0; b < c; b += 1) this[b] = a;
    });
    window.Int32Array.prototype.fill || (window.Int32Array.prototype.fill = function (a, b, c) {
      void 0 === c && (c = this.length);
      for (b = 0; b < c; b += 1) this[b] = a;
    });
    window.Int16Array.prototype.fill || (window.Int16Array.prototype.fill = function (a, b, c) {
      void 0 === c && (c = this.length);
      for (b = 0; b < c; b += 1) this[b] = a;
    });
    window.Int8Array.prototype.fill || (window.Int8Array.prototype.fill = function (a, b, c) {
      void 0 === c && (c = this.length);
      for (b = 0; b < c; b += 1) this[b] = a;
    });
    window.Float32Array.prototype.fill || (window.Float32Array.prototype.fill = function (a, b, c) {
      void 0 === c && (c = this.length);
      for (b = 0; b < c; b += 1) this[b] = a;
    });
    window.Float64Array.prototype.fill || (window.Float64Array.prototype.fill = function (a, b, c) {
      void 0 === c && (c = this.length);
      for (b = 0; b < c; b += 1) this[b] = a;
    });
    window.Int32Array.prototype.slice ? Ka.Or = true : (Ka.Or = false, window.Int32Array.prototype.slice = function (a, b) {
      void 0 === b && (b = this.length);
      var c = b - a;
      var d = new Int32Array(c);
      for (b = 0; b < c; b += 1) d[b] = this[a + b];
      return d;
    });
    window.Int16Array.prototype.slice || (window.Int16Array.prototype.slice = function (a, b) {
      void 0 === b && (b = this.length);
      var c = b - a;
      var d = new Int16Array(c);
      for (b = 0; b < c; b += 1) d[b] = this[a + b];
      return d;
    });
    window.Int8Array.prototype.slice || (window.Int8Array.prototype.slice = function (a, b) {
      void 0 === b && (b = this.length);
      var c = b - a;
      var d = new Int8Array(c);
      for (b = 0; b < c; b += 1) d[b] = this[a + b];
      return d;
    });
    window.Uint32Array.prototype.slice || (window.Uint32Array.prototype.slice = function (a, b) {
      void 0 === b && (b = this.length);
      var c = b - a;
      var d = new Uint32Array(c);
      for (b = 0; b < c; b += 1) d[b] = this[a + b];
      return d;
    });
    window.Uint16Array.prototype.slice || (window.Uint16Array.prototype.slice = function (a, b) {
      void 0 === b && (b = this.length);
      var c = b - a;
      var d = new Uint16Array(c);
      for (b = 0; b < c; b += 1) d[b] = this[a + b];
      return d;
    });
    window.Uint8Array.prototype.slice || (window.Uint8Array.prototype.slice = function (a, b) {
      void 0 === b && (b = this.length);
      var c = b - a;
      var d = new Uint8Array(c);
      for (b = 0; b < c; b += 1) d[b] = this[a + b];
      return d;
    });
    window.Uint8ClampedArray.prototype.slice || (window.Uint8ClampedArray.prototype.slice = function (a, b) {
      void 0 === b && (b = this.length);
      var c = b - a;
      var d = new Uint8ClampedArray(c);
      for (b = 0; b < c; b += 1) d[b] = this[a + b];
      return d;
    });
    window.Float32Array.prototype.slice || (window.Float32Array.prototype.slice = function (a, b) {
      void 0 === b && (b = this.length);
      var c = b - a;
      var d = new Float32Array(c);
      for (b = 0; b < c; b += 1) d[b] = this[a + b];
      return d;
    });
    window.Float64Array.prototype.slice || (window.Float64Array.prototype.slice = function (a, b) {
      void 0 === b && (b = this.length);
      var c = b - a;
      var d = new Float64Array(c);
      for (b = 0; b < c; b += 1) d[b] = this[a + b];
      return d;
    });
    Ka.Oc = new Uint32Array(1);
    Ka.Oc[0] = 4660;
    Ka.jn = new Uint8Array(Ka.Oc.buffer);
    Ka.zc = 52 === Ka.jn[0] ? true : false;
    Ka.Oc.copyWithin ? Ka.copyWithin = true : (window.Uint32Array.prototype.copyWithin = function (a, b, c) {
      var d = false;
      void 0 === c && (c = this.length);
      var f = c - b;
      if (b !== a) if ((a >= b && a <= c || a + f >= b && a + f <= c) && a > b && (d = true), d) for (c = f - 1; 0 <= c; --c) this[a + c] = this[b + c]; else for (c = 0; c < f; c += 1) this[a + c] = this[b + c];
      return this;
    }, Ka.copyWithin = false);
    var Tb = navigator.userAgent;
    -1 !== Tb.indexOf("Safari/") && -1 === Tb.indexOf("Chrome/") && -1 === Tb.indexOf("Chromium/") && (Ka.hs = true);
    var oa = {Ka: 8, lx: 40, xa: 9, fc: 10, pp: 0, xo: 1, Gd: 2, Yc: 18, Jw: 19, Wn: function (a) {
      return 1 << (a & 7);
    }, nA: function (a) {
      var b = (0 !== (a & 16) ? "Float" : 0 !== (a & 8) ? "Uint" : "Int") + 8 * (1 << (a & 7));
      0 !== (a & 32) && (b += "Clamped");
      return b;
    }};
    gb.prototype.B = function (a) {
      var b = "";
      0 <= a && a < this.i.length && (a = this.i[a], b = oa.nA(a.dataType) + "	" + a.elements + "	" + a.name + "	" + a.Gn);
      return b;
    };
    gb.prototype.u = function (a, b, c) {
      for (var d = 0, f = false, e; d < this.i.length && !f;) e = this.i[d], c === e.name ? (f = true, this.s += 1, this.m += e.elements * oa.Wn(e.dataType)) : d += 1;
      f ? (this.i[d].dataType = a, this.i[d].elements = b, this.i[d].Gn += 1, this.i[d].size = b * oa.Wn(a)) : (d = this.i.length, this.i[d] = new qc(a, b, c));
      this.o += 1;
      this.l += b * oa.Wn(a);
    };
    gb.prototype.v = function (a, b, c, d, f) {
      a = a.buffer;
      d *= oa.Wn(b);
      switch (b) {
        case oa.Ka:
          c = new Uint8Array(a, d, c);
          break;
        case oa.lx:
          c = new Uint8Array(a, d, c);
          break;
        case oa.xa:
          c = new Uint16Array(a, d, c);
          break;
        case oa.fc:
          c = new Uint32Array(a, d, c);
          break;
        case oa.pp:
          c = new Int8Array(a, d, c);
          break;
        case oa.xo:
          c = new Int16Array(a, d, c);
          break;
        case oa.Gd:
          c = new Int32Array(a, d, c);
          break;
        case oa.Yc:
          c = new Float32Array(a, d, c);
          break;
        case oa.Jw:
          c = new Float64Array(a, d, c);
          break;
        default:
          c = null, alert("Illegal type specified to allocator.typedView for " + f + ": " + b);
      }
      return c;
    };
    gb.prototype.A = function (a, b, c) {
      var d = null;
      try {
        switch (a) {
          case oa.Ka:
            d = new Uint8Array(b);
            break;
          case oa.lx:
            d = new Uint8Array(b);
            break;
          case oa.xa:
            d = new Uint16Array(b);
            break;
          case oa.fc:
            d = new Uint32Array(b);
            break;
          case oa.pp:
            d = new Int8Array(b);
            break;
          case oa.xo:
            d = new Int16Array(b);
            break;
          case oa.Gd:
            d = new Int32Array(b);
            break;
          case oa.Yc:
            d = new Float32Array(b);
            break;
          case oa.Jw:
            d = new Float64Array(b);
            break;
          default:
            d = null, alert("Illegal type specified to allocator.typedMemory for " + c + ": " + a);
        }
      } catch (f) {
        alert("Failed to allocate " + b + " element " + oa.nA(a) + " array for " + c + "\n\n" + f);
      }
      return d;
    };
    gb.prototype.h = function (a, b, c) {
      var d = null;
      0 < b && (d = this.A(a, b, c));
      (d || 0 === b) && this.u(a, b, c);
      return d;
    };
    gb.prototype.IC = function (a, b, c, d) {
      var f = null;
      0 < b && (f = this.A(a, b, c));
      (f || 0 === b) && this.u(a, b * d, c);
      return f;
    };
    Array.matrix = function (a, b, c, d, f, e) {
      var k = 0, g = [];
      g.N = f;
      g.dataType = a;
      g.ca = null;
      var m = f.h(a, b * c, e);
      g.ca = m;
      if (0 < c) {
        for (; k < b;) g[k] = f.v(m, a, c, k * c, e), k += 1;
        0 !== d && m.fill(d);
      }
      return g;
    };
    Array.yo = function (a, b) {
      b = a.N.IC(a.dataType, a[0].length, b, a.length + 1);
      a[a.length] = b;
    };
    Array.jg = function (a, b) {
      b.ca.set(a.ca);
    };
    Array.Wc = function (a, b, c) {
      var d, f = b.length, e = [], k = b.N, g = b[0].length / oa.Wn(a);
      for (d = 0; d < f; d += 1) e[d] = k.v(b.ca, a, g, d * g, c);
      return e;
    };
    Array.Dt = function (a, b, c) {
      var d, f = a.length, e = a.N, k = a.dataType, g = a[0].length;
      for (d = 0; d < f; d += 1) e.v(a.ca, k, g - b, d * g + b, c);
    };
    var bb = {Vc: [], sv: [], oe: function () {
      var a, b;
      this.Vc = [];
      this.sv = [];
      var c = this.Vc;
      var d = this.sv;
      d.push("1D");
      c.push(["Wolfram 1D", ""]);
      c.push(["Brownian motion", "W54"]);
      c.push(["Fishing-net", "W110"]);
      c.push(["Heavy triangles", "W22"]);
      c.push(["Linear A", "W90"]);
      c.push(["Linear B", "W150"]);
      c.push(["Pascal's Triangle", "W18"]);
      c.push(["Randomizer 1", "W30"]);
      c.push(["Randomizer 2", "W45"]);
      c.push(["Wolfram 22", "W22"]);
      c.push(["Wolfram 30", "W30"]);
      c.push(["Wolfram 110", "W110"]);
      d.push("Margolus");
      c.push(["Margolus", ""]);
      c.push(["BBM", "M0,8,4,3,2,5,9,7,1,6,10,11,12,13,14,15"]);
      c.push(["BounceGas", "M0,8,4,3,2,5,9,14,1,6,10,13,12,11,7,15"]);
      c.push(["BounceGasII", "M0,8,4,12,2,10,9,7,1,6,5,11,3,13,14,15"]);
      c.push(["Critters", "M15,14,13,3,11,5,6,1,7,9,10,2,12,4,8,0"]);
      c.push(["HPP_Gas", "M0,8,4,12,2,10,9,14,1,6,5,13,3,11,7,15"]);
      c.push(["MargSingRot", "M0,2,8,3,1,5,6,7,4,9,10,11,12,13,14,15"]);
      c.push(["Rotations", "M0,2,8,12,1,10,9,11,4,6,5,14,3,7,13,15"]);
      c.push(["RotationsII", "M0,2,8,12,1,10,9,13,4,6,5,7,3,14,11,15"]);
      c.push(["RotationsIII", "M0,4,1,10,8,3,9,11,2,6,12,14,5,7,13,15"]);
      c.push(["RotationsIV", "M0,4,1,12,8,10,6,14,2,9,5,13,3,11,7,15"]);
      c.push(["Sand", "M0,4,8,12,4,12,12,13,8,12,12,14,12,13,14,15"]);
      c.push(["StringThing", "M0,1,2,12,4,10,9,7,8,6,5,11,3,13,14,15"]);
      c.push(["StringThingII", "M0,1,2,12,4,10,6,7,8,9,5,11,3,13,14,15"]);
      c.push(["SwapOnDiag", "M0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15"]);
      c.push(["Tron", "M15,1,2,3,4,5,6,7,8,9,10,11,12,13,14,0"]);
      d.push("PCA");
      c.push(["PCA", ""]);
      c.push(["Model_1", "2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);
      c.push(["Model_2", "2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);
      c.push(["PCA_1", "2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);
      c.push(["PCA_2", "2PCA4,0,2,4,3,8,10,6,7,1,9,5,11,12,13,14,15"]);
      c.push(["PCA_3", "2PCA4,0,8,1,3,2,5,6,7,4,9,10,11,12,13,14,15"]);
      c.push(["PCA_4", "2PCA4,0,2,4,12,8,5,9,7,1,6,10,11,3,13,14,15"]);
      c.push(["PCA_5", "2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);
      c.push(["PCA_6", "2PCA4,0,2,4,3,8,10,6,14,1,9,5,7,12,11,13,15"]);
      c.push(["PCA_7", "2PCA4,0,2,4,12,8,5,9,14,1,6,10,7,3,11,13,15"]);
      c.push(["PCA_8", "2PCA4,0,2,4,12,8,10,9,14,1,6,5,7,3,11,13,15"]);
      c.push(["PCA_9", "2PCA4,0,2,4,12,8,10,9,13,1,6,5,14,3,7,11,15"]);
      c.push(["PCA_10", "2PCA4,0,1,2,3,4,5,6,13,8,9,10,14,12,7,11,15"]);
      c.push(["PCA_11", "2PCA4,0,4,8,3,1,10,6,11,2,9,5,11,13,12,14,15"]);
      c.push(["PCA_12", "2PCA4,0,4,2,3,14,6,11,5,8,7,9,13,10,12,1,15"]);
      d.push("OT vN");
      c.push(["Outer-Totalistic von Neumann", ""]);
      c.push(["Fredkin2", "B13/S024V"]);
      c.push(["LifeV", "B3/S23V"]);
      c.push(["Parity", "B13/S13V"]);
      d.push("OT Hex");
      c.push(["Outer-Totalistic Hex", ""]);
      c.push(["HexParity", "B135/S0246H"]);
      c.push(["Hexagonal Life", "B2/S34H"]);
      c.push(["HighHexLife", "B25/S34H"]);
      c.push(["LifeH", "B3/S23H"]);
      c.push(["Replicator Hex", "B135/S135H"]);
      d.push("OT M");
      c.push(["Outer-Totalistic Moore", ""]);
      c.push(["", "B3/S23"]);
      c.push(["2x2", "B36/S125"]);
      c.push(["2x2 2", "B3678/S1258"]);
      c.push(["34 Life", "B34/S34"]);
      c.push(["3-4 Life", "B34/S34"]);
      c.push(["Amoeba", "B357/S1358"]);
      c.push(["Anneal", "B4678/S35678"]);
      c.push(["AntiLife", "B0123478/S01234678"]);
      c.push(["Assimilation", "B345/S4567"]);
      c.push(["Bacteria", "B34/S456"]);
      c.push(["Blinkers", "B345/S2"]);
      c.push(["Bugs", "B3567/S15678"]);
      c.push(["Castles", "B3678/S135678"]);
      c.push(["Cheerios", "B35678/S34567"]);
      c.push(["Christmas Life", "B1/S012345678"]);
      c.push(["Coagulations", "B378/S235678"]);
      c.push(["Conway's Game of Life", "B3/S23"]);
      c.push(["Conway's Life", "B3/S23"]);
      c.push(["Coral", "B3/S45678"]);
      c.push(["Corrosion of Conformity", "B3/S124"]);
      c.push(["Dance", "B34/S35"]);
      c.push(["Day & Night", "B3678/S34678"]);
      c.push(["Day and Night", "B3678/S34678"]);
      c.push(["Diamoeba", "B35678/S5678"]);
      c.push(["DotLife", "B3/S023"]);
      c.push(["DrighLife", "B367/S23"]);
      c.push(["DryFlock", "B37/S12"]);
      c.push(["DryLife", "B37/S23"]);
      c.push(["DryLife without Death", "B37/S012345678"]);
      c.push(["EightFlock", "B3/S128"]);
      c.push(["EightLife", "B3/S238"]);
      c.push(["Electrified Maze", "B45/S12345"]);
      c.push(["Eppstein", "B35/S236"]);
      c.push(["Feux", "B1358/S0247"]);
      c.push(["Flakes", "B3/S012345678"]);
      c.push(["Flock", "B3/S12"]);
      c.push(["Forest of Ls", "B168/S236"]);
      c.push(["Fredkin", "B1357/S02468"]);
      c.push(["Fuzz", "B1/S014567"]);
      c.push(["Gems Minor", "B34578/S456"]);
      c.push(["Gems", "B3457/S4568"]);
      c.push(["Geology", "B3578/S24678"]);
      c.push(["Gnarl", "B1/S1"]);
      c.push(["Grounded Life", "B35/S23"]);
      c.push(["H-Trees", "B1/S012345678"]);
      c.push(["HighFlock", "B36/S12"]);
      c.push(["HighLife", "B36/S23"]);
      c.push(["HighLife without Death", "B36/S012345678"]);
      c.push(["Holstein", "B35678/S4678"]);
      c.push(["HoneyFlock", "B38/S128"]);
      c.push(["HoneyLife", "B38/S238"]);
      c.push(["Iceballs", "B25678/S5678"]);
      c.push(["InverseLife", "B012345678/S34678"]);
      c.push(["Invertamaze", "B028/S0124"]);
      c.push(["IronFlock", "B36/S128"]);
      c.push(["IronLife", "B36/S238"]);
      c.push(["Land Rush", "B36/S234578"]);
      c.push(["Life SkyHigh", "B368/S236"]);
      c.push(["Life without Death", "B3/S012345678"]);
      c.push(["Life", "B3/S23"]);
      c.push(["Live Free or Die", "B2/S0"]);
      c.push(["Logarithmic replicator rule", "B36/S245"]);
      c.push(["LongLife", "B345/S5"]);
      c.push(["Long Life", "B345/S5"]);
      c.push(["LowDeath without death", "B368/S012345678"]);
      c.push(["LowDeath", "B368/S238"]);
      c.push(["LowFlockDeath", "B368/S128"]);
      c.push(["LowLife", "B3/S13"]);
      c.push(["Majority", "B45678/S5678"]);
      c.push(["Maze", "B3/S12345"]);
      c.push(["Maze with Mice", "B37/S12345"]);
      c.push(["Mazectric", "B3/S1234"]);
      c.push(["Mazectric with Mice", "B37/S1234"]);
      c.push(["Morley", "B368/S245"]);
      c.push(["Move", "B368/S245"]);
      c.push(["Neon Blobs", "B08/S4"]);
      c.push(["Never happy", "B345/S0456"]);
      c.push(["Oscillators Rule", "B45/S1235"]);
      c.push(["Pedestrian Flock", "B38/S12"]);
      c.push(["Pedestrian Life", "B38/S23"]);
      c.push(["Pedestrian Life without Death", "B38/S012345678"]);
      c.push(["Persian Rug", "B234/S"]);
      c.push(["Plow World", "B378/S012345678"]);
      c.push(["Pseudo Life", "B357/S238"]);
      c.push(["Pulsar Life", "B3/S238"]);
      c.push(["Replicator", "B1357/S1357"]);
      c.push(["Replicator 2", "B1357/S02468"]);
      c.push(["Rings 'n' Slugs", "B56/S14568"]);
      c.push(["Seeds", "B2/S"]);
      c.push(["Serviettes", "B234/S"]);
      c.push(["Shoots and Roots", "B3/S245678"]);
      c.push(["Slow Blob", "B367/S125678"]);
      c.push(["Snakeskin", "B1/S134567"]);
      c.push(["Solid islands grow amongst static", "B12678/S15678"]);
      c.push(["SnowLife", "B3/S1237"]);
      c.push(["Stains", "B3678/S235678"]);
      c.push(["Star Trek", "B3/S0248"]);
      c.push(["Virus", "B36/S235"]);
      c.push(["Vote", "B5678/S45678"]);
      c.push(["Vote 4/5", "B4678/S35678"]);
      c.push(["Walled Cities", "B45678/S2345"]);
      d.push("OT Tri");
      c.push(["Outer-Totalistic Triangular", ""]);
      c.push(["Life 2333", "B3/S23L"]);
      c.push(["Life 2345", "B45/S23L"]);
      c.push(["Life 2346", "B456/S23L"]);
      c.push(["Life 3445", "B45/S34L"]);
      c.push(["Life 3446", "B456/S34L"]);
      c.push(["Life 4546", "B456/S45L"]);
      c.push(["Life 4644", "B4/S456L"]);
      c.push(["Rule 1246", "B456/S12L"]);
      c.push(["Rule 3544", "B4/S345L"]);
      d.push("OT M G");
      c.push(["Outer-Totalistic Generations Moore", ""]);
      c.push(["9:43 at Knight", "237/34578/4"]);
      c.push(["Banners", "2367/3457/5"]);
      c.push(["BelZhab", "23/23/8"]);
      c.push(["BelZhab Sediment", "145678/23/8"]);
      c.push(["Bloomerang", "234/34678/24"]);
      c.push(["Bombers", "345/24/25"]);
      c.push(["Brain 5", "/2/5"]);
      c.push(["Brain 6", "6/246/3"]);
      c.push(["Brian's Brain", "/2/3"]);
      c.push(["Burst", "0235678/3468/9"]);
      c.push(["BurstII", "235678/3468/9"]);
      c.push(["Caterpillars", "124567/378/4"]);
      c.push(["Chenille", "05678/24567/6"]);
      c.push(["Circuit Genesis", "2345/1234/8"]);
      c.push(["Constellations", "/23/3"]);
      c.push(["Cooties", "23/2/8"]);
      c.push(["Diamonds and Spaceships", "34578/257/16"]);
      c.push(["Ebb&Flow", "012478/36/18"]);
      c.push(["Ebb&Flow II", "012468/37/18"]);
      c.push(["Faders", "2/2/25"]);
      c.push(["Fireballs", "346/2/4"]);
      c.push(["Fireworks", "2/13/21"]);
      c.push(["Flaming Starbows", "347/23/8"]);
      c.push(["Free Star", "0345/2/10"]);
      c.push(["Frogs", "12/34/3"]);
      c.push(["Frozen spirals", "356/23/6"]);
      c.push(["GeneroLife", "2356/3567/4"]);
      c.push(["Glisserati", "035678/245678/7"]);
      c.push(["Glissergy", "035678/245678/5"]);
      c.push(["Lava", "12345/45678/8"]);
      c.push(["Lines", "012345/458/3"]);
      c.push(["LivingOn TheEdge", "345/3/6"]);
      c.push(["Meteor Guns", "01245678/3/8"]);
      c.push(["Nova", "45678/2478/25"]);
      c.push(["OrthoGo", "3/2/4"]);
      c.push(["Prairie on fire", "345/34/6"]);
      c.push(["RainZha", "2/23/8"]);
      c.push(["Rake", "3467/2678/6"]);
      c.push(["SediMental", "45678/25678/4"]);
      c.push(["Snake", "03467/25/6"]);
      c.push(["SoftFreeze", "13458/38/6"]);
      c.push(["Spirals", "2/234/5"]);
      c.push(["Star Wars", "345/2/4"]);
      c.push(["Sticks", "3456/2/6"]);
      c.push(["Swirl", "23/34/8"]);
      c.push(["Tadpoles", "0125678/345678/64"]);
      c.push(["ThrillGrill", "1234/34/48"]);
      c.push(["Transers", "345/26/5"]);
      c.push(["TransersII", "0345/26/6"]);
      c.push(["Transers 2", "0345/26/6"]);
      c.push(["Transers 3", "0345/26/7"]);
      c.push(["Wallplicators", "345/25678/7"]);
      c.push(["Wanderers", "345/34678/5"]);
      c.push(["Worms", "3467/25/6"]);
      c.push(["Xtasy", "1456/2356/16"]);
      d.push("INT Hex");
      c.push(["Isotropic Non-Totalistic Hex", ""]);
      c.push(["Hex Life", "B2o3m56/S2-p4oH"]);
      c.push(["22da", "B2/S2-mH"]);
      c.push(["Hexrule b2o", "B2o/S2m34H"]);
      d.push("INT M");
      c.push(["Isotropic Non-Totalistic Moore", ""]);
      c.push(["15Life", "B34r/S23-q4et"]);
      c.push(["104life", "B34ky5cy/S23-a4ity6c7"]);
      c.push(["22k", "B2-k/S2-k"]);
      c.push(["2diagonal", "B2n3/S23"]);
      c.push(["2xpand2", "B3/S123eik4ce"]);
      c.push(["3x3", "B35cky68/S0245-c6n"]);
      c.push(["38life", "B35y/S2-n35k6ci"]);
      c.push(["4diagonal", "B34c/S23"]);
      c.push(["4life", "B34jy/S23"]);
      c.push(["4life2", "B34j/S23"]);
      c.push(["57life", "B34tyz5cy/S23-a4it5ej"]);
      c.push(["acnelife", "B34/S2eik3"]);
      c.push(["aLife", "B3/S234iw"]);
      c.push(["Arcane Circuitry", "B2ci3aikr/S1e2-a3i"]);
      c.push(["Arrow", "B3-jkn4a/S1e2-a3ijnry4n"]);
      c.push(["Artillery", "B3-y7/S2-i3-c4kqt"]);
      c.push(["Atomic", "B2ei3i/S1c2-n3jr4an5i6c"]);
      c.push(["ATPP", "B3-ckq4z/S2-c3-a4iq5k6k"]);
      c.push(["B - ibis", "B2n34cyz6n8/S2-n3-a4cq68"]);
      c.push(["Banks-I", "B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);
      c.push(["Banks-III", "B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);
      c.push(["Beaecsizae", "B34ce/S12-a3"]);
      c.push(["Ben's rule", "B2-ak3einqy4e/S1c2ak3inqy4e"]);
      c.push(["Best Friends", "B2ce3aiy/S12aei3r"]);
      c.push(["Bgunlife", "B34eny5e/S23-a4iy5e6c"]);
      c.push(["Billiard", "B36-e/S12345"]);
      c.push(["Blasts", "B2e3airy4kt5jr6c8/S02ace3eiknr4-aj5-cei6-a78"]);
      c.push(["BlinkBlink", "B35ky/S234y"]);
      c.push(["Blocks for Days", "B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);
      c.push(["blockandglider", "B3/S234cw7c"]);
      c.push(["Blockship", "B3-cer4ceqwz5acek6in78/S2-in3-eq4eqwyz5eikn678"]);
      c.push(["BoatLife", "B3-knqy/S2-n3-ey4akwy5aik6kn"]);
      c.push(["boatLife", "B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);
      c.push(["bpuff", "B3/S23-cky4k7e8"]);
      c.push(["Breps", "B34cqy5c/S23-y4y"]);
      c.push(["Breps-2", "B3aeijn4n8/S234iqz"]);
      c.push(["Bricks", "B2ak5c/S2cn3inqy4aikqtwz5inqy"]);
      c.push(["Bubbles", "B3ai4-a/S23"]);
      c.push(["Butterfly", "B2i34e6i7c/S2-i36n"]);
      c.push(["butterflyb7", "B2i34e6i7/S2-i36n"]);
      c.push(["Buzz", "B2i35-n/S2-ci36k8"]);
      c.push(["CapLife", "B36c/S23"]);
      c.push(["CarrierLife", "B2e3aceik/S23"]);
      c.push(["Cataverters", "B3-cen/S234eijkrw5cry6ik"]);
      c.push(["cb2", "B2ae4i/S1e2in"]);
      c.push(["cetlife", "B34cet/S234jkwyz"]);
      c.push(["Clouds", "B2e3aceij/S23-a4"]);
      c.push(["Cloudsdale", "B2kn3-ekqr4i5eq6n8/S23-aeny4cikqr5ek6ace7c"]);
      c.push(["CommonRepl", "B3/S23-ac4eiy6"]);
      c.push(["Conquerors and Colonizers", "B2ace3acei4ace5acei6ace/S"]);
      c.push(["Conway++", "B3/S234c"]);
      c.push(["Conway+-1", "B3/S23-inqy4aikqtwz"]);
      c.push(["Conway+-2", "B3/S2-ak34aikqtwz5inqy"]);
      c.push(["Conway--", "B3/S2-ei3"]);
      c.push(["crawl", "B37e/S2-i34y8"]);
      c.push(["Creperie", "B2ikn3aijn/S23-ckqy"]);
      c.push(["CrossLife", "B3/S234et"]);
      c.push(["Crylife", "B2n3-cry4kn6i7c/S23-a4i6c"]);
      c.push(["DenseLife", "B3-q4y/S234z"]);
      c.push(["Diamoeral", "B2n3ai4a78/S35678"]);
      c.push(["Diamonds", "B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);
      c.push(["DirtyLife", "B3-cky5aq6ci7c/S23-ck4n6k7e"]);
      c.push(["DLife", "B3-n/S23"]);
      c.push(["dolife", "B2-ak3acei4ceqz5y/S234ce5ceky78"]);
      c.push(["dolife2", "B2-a3acei4ceqz5y/S234ce5ceky78"]);
      c.push(["Dominoplex", "B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);
      c.push(["Dry15Life", "B34r7/S23-q4et"]);
      c.push(["DryGoats", "B2in37/S123a"]);
      c.push(["Dustclouds01", "B2ce3-ai/S01"]);
      c.push(["EasyHighLife", "B36-i/S23"]);
      c.push(["Eatsplosion", "B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);
      c.push(["Eatsplosion IV", "B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);
      c.push(["EightGoats", "B2in3/S123a8"]);
      c.push(["Einstein", "B2ein3cijn4cnrwy5cnq6e/S1c2-ai3acny4anqy5c6ek8"]);
      c.push(["ElectrumLife", "B367c/S2-i34q"]);
      c.push(["Emitters", "B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);
      c.push(["Extension", "B2cei3-ijnr4-a6i/S12-cn"]);
      c.push(["fakePiShipLife", "B3-ck4e5k6i/S2-in35i6c8"]);
      c.push(["FalseB5", "B35ce/S234jqtyz6k8"]);
      c.push(["Frespa", "B34ck5/S23aceik4aci"]);
      c.push(["FattyLife", "B3-n4nt5qr6i/S23"]);
      c.push(["FishLife", "B3-ekqr4nt5r6i/S02-c3"]);
      c.push(["FlashLife", "B2kn3-n4e/S23"]);
      c.push(["Flowflakes", "B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);
      c.push(["Flutter", "B2-a3j4-acekn56/S15y"]);
      c.push(["Flying Life", "B3-k5r/S236n7e"]);
      c.push(["FogLife", "B35eq7/S2-i34q"]);
      c.push(["Forestfire", "B3ai4ekq5cy6n/S2-ci3-ace4inr5eqry"]);
      c.push(["FrogLife", "B36i/S1c23-acek5k6i8"]);
      c.push(["Fruitflies", "B2-an4jn7e8/S12-k4r"]);
      c.push(["Fuzey", "B2-ae3aej4ez/S03ac4aikqryz78"]);
      c.push(["GemLife", "B34c6/S23-q"]);
      c.push(["Gentle relative", "B2cen3ek4jkw5-aein6a7e/S12an3-eijq4enrty5e6k"]);
      c.push(["GlideLife", "B34ek5ak/S2-c34z"]);
      c.push(["GlideLife2", "B34ek5ak/S2-c34iz5y"]);
      c.push(["GliderGlut", "B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);
      c.push(["GliderRROLife", "B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);
      c.push(["glife", "B3/S237c"]);
      c.push(["Glimmering Garden", "B3-jknr4ity5ijk6i8/S23-a4city6c7c"]);
      c.push(["GMO snowflakes", "B34c6n/S2-n3-ck4cijqtwy5y6n"]);
      c.push(["Goat Flock", "B2in3/S123a"]);
      c.push(["Goats", "B2in3/S123a"]);
      c.push(["Goldilocks I", "B2ek3cei4acjr5c8/S02ack3kn4aen"]);
      c.push(["gp", "B2ei3-a4ce5y6i/S234i7e"]);
      c.push(["Growflakes", "B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);
      c.push(["guntlife", "B35j6a/S2-i34q"]);
      c.push(["Half as Interesting", "B2ce3i/S23"]);
      c.push(["hassl8life", "B34k5e7c/S23-a4iyz"]);
      c.push(["hatlife", "B35y/S23"]);
      c.push(["Hats and Shuttles", "B34iqwy/S23-cq"]);
      c.push(["hedgehog", "B3/S1c2-a35r6i"]);
      c.push(["HeptaFish", "B3-e4i5i/S234e"]);
      c.push(["High15Life", "B34r6/S23-q4et"]);
      c.push(["HighGoats", "B2in36/S123a"]);
      c.push(["Hive", "B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);
      c.push(["hlife", "B3/S234ce6k"]);
      c.push(["hlife2", "B3/S2-in34nr"]);
      c.push(["hlife3", "B3/S2-in34iw"]);
      c.push(["HoneyGoats", "B2in38/S123a8"]);
      c.push(["HouseLife", "B2i3/S23-r"]);
      c.push(["Hype", "B2-ac3aei4ae6i8/S23-ejq8"]);
      c.push(["IceNine", "B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);
      c.push(["ilife", "B3/S235i"]);
      c.push(["Immortalife", "B3-cqy4j/S2-n34i"]);
      c.push(["IneticLife", "B2-an3-k/S2ac"]);
      c.push(["IronGoats", "B2in36/S123a8"]);
      c.push(["Ising", "B3e4ejr5cinqy6-ei78/S2ei3aejkr4-cny5-e678"]);
      c.push(["Just Friends", "B2-a/S12"]);
      c.push(["Kgdm", "B3/S2-c3-en4ceitz"]);
      c.push(["KineticLife", "B2-an3/S2ac"]);
      c.push(["klife", "B34n/S23"]);
      c.push(["Knyght", "B2e3/S23-jq"]);
      c.push(["ktlife", "B3/S2-i34nq"]);
      c.push(["LambdaLife", "B3-k/S2-i3-k4cen"]);
      c.push(["Leaplized D&N", "B2n3678/S3-q4678"]);
      c.push(["LifeWithoutGliders", "B35n/S23"]);
      c.push(["Linea", "B2-a3-i/S23-a"]);
      c.push(["LispLife", "B2n3/S23-q4e8"]);
      c.push(["LoafLife", "B2n3-q/S23"]);
      c.push(["longlast", "B3/S234ce8"]);
      c.push(["lotsofdots", "B2ikn34e/S023-a4ce"]);
      c.push(["MaritimeLife", "B2i34c6cen7c8/S2-i3-q4c5a6e8"]);
      c.push(["maze2", "B3/S234-acew"]);
      c.push(["Migrating Bookends", "B2ein3inry/S12-n3ce"]);
      c.push(["MilkyLife", "B3-c4c5y8/S234qy5y8"]);
      c.push(["Mooselife", "B34kz5e7c/S23-a4ityz5k"]);
      c.push(["move_rep", "B3-r4e5e6-n/S23cr457e"]);
      c.push(["Movero VIII", "B2-a5k6n7c/S12-i3ij4k5j8"]);
      c.push(["MoveIt", "B368/S23cy45-j6n"]);
      c.push(["movetub", "B34e68/S245"]);
      c.push(["movev", "B35y68/S245"]);
      c.push(["Movostill", "B2i3acijk6i/S23-a4"]);
      c.push(["Movostill 2", "B3acijk/S23-a4"]);
      c.push(["Movostill 3", "B2e3aceij5-ijr/S23-a4"]);
      c.push(["MuddyLife", "B3/S234k"]);
      c.push(["Nah", "B345-a6/S2-a3-a4-a"]);
      c.push(["nonlife", "B3-n/S234iz"]);
      c.push(["notlife", "B3-q7c/S2-i3-q4q"]);
      c.push(["notlife (Wright)", "B2k3-k/S23-a"]);
      c.push(["Notlife / Ace", "B2-a3/S2ce"]);
      c.push(["Niemiec's Rule 0", "B3/S2ae3aeijr4-cknqy"]);
      c.push(["olife", "B2in3/S2-in3"]);
      c.push(["Omosso", "B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);
      c.push(["Orthogonable", "B2e3aiknr4q/S1c2-in3aijry4a"]);
      c.push(["Particles", "B2ce3i/S1c2cek"]);
      c.push(["Patchworks", "B2-an3aiy/S2-in3cijky4-nqrz5k"]);
      c.push(["Pedestrian Goats", "B2in38/S123a"]);
      c.push(["Pentadecathlife", "B34e5y6cn8/S234c5e"]);
      c.push(["Photics I", "B2ae4c678/S01e4aeqrtw5678"]);
      c.push(["Photics II", "B2ae4cw5y6i/S01e2i4q"]);
      c.push(["Pi replicator life", "B3-r4z5y/S238"]);
      c.push(["Pi-plicator", "B3-ckq/S2-c34ci"]);
      c.push(["PiLife", "B37e/S23"]);
      c.push(["Pilife2", "B34c/S234y8"]);
      c.push(["plasma1", "B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);
      c.push(["plife", "B35j/S2-i3"]);
      c.push(["plife2", "B35j6i/S2-i3"]);
      c.push(["PondLife", "B36i/S2-i35i"]);
      c.push(["PortLife", "B34cz5y/S234y8"]);
      c.push(["pre-X-rule", "B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);
      c.push(["Prismatika Crystallios", "B2ae3r/S1e"]);
      c.push(["PlasmaLife", "B34-air/S234-air"]);
      c.push(["Puffers", "B3-nqr6/S235-nqr"]);
      c.push(["PuffLife", "B34-i5-a6-a/S2-an34-akrw"]);
      c.push(["qlife", "B3-q/S23"]);
      c.push(["quadraticlife", "B34j/S23"]);
      c.push(["Quasilinear Collisions", "B2-ak3-jnqr/S15678"]);
      c.push(["Rakelife", "B3aij/S2-i3ajnr4arz56-a7e"]);
      c.push(["Rainflakes", "B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);
      c.push(["RBeeLife", "B34cijkq5k6i8/S2-n3-ik4cjqt5y6cin8"]);
      c.push(["replife", "B34jy6n/S2-i3"]);
      c.push(["reptlife", "B36-k/S2-i34q"]);
      c.push(["ResistantLife", "B34eknqyz/S23"]);
      c.push(["Ribbons", "B3-nqr/S23"]);
      c.push(["RotoBlocks", "B34cyz5y8/S234y5y6n8"]);
      c.push(["RotoDotPuffers", "B2ikn3-ejnr/S01c2cei3ay4c"]);
      c.push(["RotoHooks", "B34ckyz/S234cz"]);
      c.push(["rgun", "B34t/S2-i35a7e"]);
      c.push(["Rule X3VI", "B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);
      c.push(["RustyLife", "B34-ai/S24-air5-a"]);
      c.push(["Salad", "B2i34c/S2-i3"]);
      c.push(["Sanctuary", "B2ei3ci/S1c23"]);
      c.push(["sansdomino", "B2-a/S014"]);
      c.push(["Savanna", "B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);
      c.push(["Scenery", "B3-cnry4-acery5i/S23-a4-jknqr5y8"]);
      c.push(["SharkLife", "B34aeiz/S2-ak34ant6cek"]);
      c.push(["signalife", "B3aeijy5e6i/S2-c3-a4iq5k6ck"]);
      c.push(["SilverLife", "B367/S2-i34q"]);
      c.push(["SimpleInverseFire", "B2-ak4568/S156ak78"]);
      c.push(["Simple Life", "B2k34c/S2-c34z8"]);
      c.push(["SLHassleLife", "B3-y5cr/S234w6n"]);
      c.push(["SlugWorld", "B2e3ai4arw5678/S3-an4ar5i678"]);
      c.push(["SolarWorld", "B2ce3ci4iyz5ce6c/S12ce3ae"]);
      c.push(["SmokingLife", "B2i34cj6a7c8/S2-i3-a4ceit6in"]);
      c.push(["Smorgasbord", "B2e3aijr4q/S1c23-a5"]);
      c.push(["snotlife", "B2k3-kn/S23"]);
      c.push(["Snowflakes", "B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);
      c.push(["Snowflakes 2", "B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);
      c.push(["SparkLife", "B36i/S234j"]);
      c.push(["SparklingLife", "B34cqy/S234q"]);
      c.push(["SparseMethuseLife", "B35y/S1e2-ci3-a5i"]);
      c.push(["StairWorld", "B2-a3i4aijk/S2a3-i4"]);
      c.push(["Stars", "B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);
      c.push(["Suns", "B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);
      c.push(["Switches", "B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);
      c.push(["Symmetristic", "B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);
      c.push(["t4life", "B34jy/S2-i3"]);
      c.push(["TableLife", "B3/S23-ai4anq6n"]);
      c.push(["TauLife", "B3-nr/S2-i34-aij"]);
      c.push(["tceclife", "B36ce7c/S2-i34q"]);
      c.push(["tDryFlock", "B37/S12-i4q"]);
      c.push(["tDryLife", "B37/S2-i34q"]);
      c.push(["TearfulLife", "B34e5c6n/S23-q"]);
      c.push(["tEightLife", "B3/S2-i34q8"]);
      c.push(["testlife", "B36a/S23"]);
      c.push(["tflock", "B3/S12-i4q"]);
      c.push(["tHighFlock", "B36/S12-i4q"]);
      c.push(["tHighLife", "B36/S2-i34q"]);
      c.push(["ThisLife", "B36i/S23-ce5q"]);
      c.push(["tlife", "B3/S2-i34q"]);
      c.push(["tosc", "B3/S234wz"]);
      c.push(["tosc2", "B36in/S234cw"]);
      c.push(["tPedestrianFlock", "B38/S12-i4q"]);
      c.push(["tPedestrianLife", "B38/S2-i34q"]);
      c.push(["tq6", "B2i34e/S023-a4ce"]);
      c.push(["Traffic Flow", "B2e3aciy4jnw68/S23678"]);
      c.push(["Train", "B34t6k8/S2-i35a7e"]);
      c.push(["Trilobites", "B3aijn4w5nq/S2ae3aijr4irz5y"]);
      c.push(["triship", "B2a3e/S012-ai3-i45-i678"]);
      c.push(["Trycogene", "B2ce3aijn/S2ak3-aijn4jkqty5cekr6ce8"]);
      c.push(["Turro", "B2-a3c/S12-i"]);
      c.push(["Two-dots rule 1", "B2ei3ci4aerw5acky6i8/S012-an3eiknq4qrty5aeik6ik8"]);
      c.push(["Two-dots rule 2", "B2-ak3aen4cenrtw5iq6e/S02ac3aenqy4ejqtwy5ak6acn7"]);
      c.push(["Twinkles", "B2in34-a/S1e2ekn34ent"]);
      c.push(["Virus_v2", "B3-nqr6/S235"]);
      c.push(["Wartlife", "B3aijnq6n/S2-cn3-ceky4i"]);
      c.push(["WetLife", "B34r/S23"]);
      c.push(["Whichlife", "B2in3aeijn/S234e"]);
      c.push(["Wild Seas", "B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);
      c.push(["wlife", "B34w/S23"]);
      c.push(["Worms 0", "B01c2n5a/S3a5i"]);
      c.push(["Writers", "B2-a3-inqr4c6/S23"]);
      c.push(["WSScentral", "B3-n45qr6i/S2eik3"]);
      c.push(["X-rule-pre", "B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);
      c.push(["xtdbee", "B3-k/S23"]);
      c.push(["xvaLifeg", "B2e3/S23"]);
      c.push(["Ylife", "B2e3ai4ar/S23-a4a"]);
      c.push(["ylife (BokaBB)", "B34y5y/S234y5y"]);
      c.push(["zigzag", "B3/S2-k34q"]);
      c.push(["ZombieLife", "B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);
      d.push("INT M G");
      c.push(["Isotropic Non-Totalistic Generations Moore", ""]);
      c.push(["HTech", "234e/2e3/3"]);
      c.push(["Jellyfish", "2ak34-a5-i/2c36k7/4"]);
      c.push(["KST", "1234-i5anq6kn/3r4kr5eiq6ack7e/3"]);
      c.push(["Simple Brain", "234e/e3/3"]);
      c.push(["Sliders", "012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);
      c.push(["tGeneC1WC0", "2-i34q/2c34w5c/4"]);
      d.push("LtL M");
      c.push(["Larger than Life Moore", ""]);
      c.push(["Balloons", "R2,C2,M1,S7..10,B7..11,NM"]);
      c.push(["Bosco's Rule", "R5,C2,M1,S34..58,B34..45,NM"]);
      c.push(["Bosco Analogue", "R5,C2,M1,S34..53,B31..42,NM"]);
      c.push(["Bugs R3", "R3,C2,M1,S14..23,B14..18,NM"]);
      c.push(["Bugs R4", "R4,C2,M1,S23..39,B23..30,NM"]);
      c.push(["Bugs R6", "R6,C2,M1,S47..81,B47..63,NM"]);
      c.push(["Bugs R6 variant", "R6,C2,M1,S47..81,B47..71,NM"]);
      c.push(["Bugs R7", "R7,C2,M1,S63..108,B63..84,NM"]);
      c.push(["Bugs R9", "R9,C2,M1,S101..173,B101..134,NM"]);
      c.push(["Bugs R10", "R10,C2,M1,S124..211,B124..164,NM"]);
      c.push(["Bugs R10 variant", "R10,C2,M1,S124..211,B124..166,NM"]);
      c.push(["Bugs R12", "R12,C2,M1,S175..300,B175..232,NM"]);
      c.push(["Bugs R13", "R13,C2,M1,S205..349,B205..271,NM"]);
      c.push(["Bugs R14", "R14,C2,M1,S236..403,B236..313,NM"]);
      c.push(["Bugs R15", "R15,C2,M1,S269..461,B270..357,NM"]);
      c.push(["Bugs R100 variant", "R100,C2,M1,S11303..19361,B11100..14996,NM"]);
      c.push(["Bugsmovie", "R10,C2,M1,S123..212,B123..170,NM"]);
      c.push(["Globe", "R8,C2,M1,S164..224,B74..252,NM"]);
      c.push(["Majorly", "R7,C2,M1,S113..225,B113..224,NM"]);
      c.push(["Mini Bugs", "R2,C2,M1,S7..10,B7..8,NM"]);
      c.push(["Miniature Bugs", "R3,C2,M1,S15..22,B14..25,NM"]);
      c.push(["Pigs", "R2,C2,M1,S10..19,B4..4,NM"]);
      c.push(["Quadratic Bugs", "R6,C2,M1,S47..81,B47..61,NM"]);
      c.push(["Rasta Bugs", "R5,C2,M1,S41..59,B32..50,NM"]);
      c.push(["Smudge", "R2,C2,M1,S7..11,B8..8,NM"]);
      c.push(["Stones", "R5,C2,M1,S29..58,B38..61,NM"]);
      c.push(["Soldier Bugs", "R7,C2,M1,S65..114,B65..95,NM"]);
      c.push(["Suicidal Bugs", "R5,C2,M1,S37..59,B33..49,NM"]);
      c.push(["Waffle", "R7,C2,M1,S100..200,B75..170,NM"]);
      c.push(["Waving human intestines", "R20,C2,M1,S1..21,B1..5,NM"]);
      d.push("LtL M G");
      c.push(["Generations Larger than Life Moore", ""]);
      c.push(["Fire rule", "R5,C6,M1,S31..43,B15..25,NM"]);
      c.push(["Fire whirl", "R8,C6,M1,S46..91,B65..100,NM"]);
      c.push(["ModernArt", "R10,C255,M1,S2..3,B3..3,NM"]);
      d.push("HROT vN");
      c.push(["Higher-Range Outer-Totalistic von Neumann", ""]);
      c.push(["Fredkin2 R2", "R2,C2,S0,2,4,6,8,10,12,B1,3,5,7,9,11,NN"]);
      c.push(["Parity R2", "R2,C2,S1,3,5,7,9,11,B1,3,5,7,9,11,NN"]);
      d.push("HROT M");
      c.push(["Higher-Range Outer-Totalistic Moore", ""]);
      c.push(["Fredkin R2", "R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);
      c.push(["Fredkin R3", "R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
      c.push(["Fredkin R4", "R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
      c.push(["Replicator R2", "R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);
      c.push(["Replicator R3", "R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
      c.push(["Replicator R4", "R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
      d.push("MAP NINT");
      c.push(["MAP Non-Isotropic", ""]);
      c.push(["2CellSlug", "MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);
      c.push(["BLAHTWOCELLGUN", "MAPAMB/vwAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);
      c.push(["FoxLife", "MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);
      c.push(["MovingStrings", "MAPARH+/wMT//8BEf7/AxP//wER/v8DE///AREAAAMTAAABEf7/AxP//wER/v8DE///AREAAAMTAAABEQAAAxMAAA"]);
      c.push(["MuzikThing", "MAPACD//wAA3/8AgH//AAD//wCAf/8AAP//AAD//wAA//8AAH//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//w"]);
      c.push(["MyEntry", "MAPIAD/7wgA/f8AAP//AAD//wAA//8AAP//AAD/fwAA//8AAP//AAD//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);
      c.push(["OLife", "MAPABD/vgIB//8AAP//AAD//wAA/78AAN3/AJB/vwAAf/8AAP//AABd/wAA//8AAP//AAD//4IA//8AAP//AIB//w"]);
      c.push(["Rhufo", "MAPARH//wMA//8AAP9/AAD//wAA//8AAP9/AAD//wAA//8AAP//AAB//wAA//8AAP//AAD//wAA//8AAH9/AAB//w"]);
      c.push(["Rhufo2", "MAPARH//wMA//8AAH9/AAD//wAAX/8AAP9/AAB/7wAA//8AAH//AAB//wAA//8AAP//AAB//wAA/f8AAH8/AAB3/w"]);
      c.push(["SemiFelineLife", "MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);
      c.push(["Simple_Weird_Ships", "MAPABHs/wMA//8AAP//AAD//wAA/38AAP//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);
      c.push(["Socrates", "MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrateg"]);
      d.push("Weighted");
      c.push(["Weighted", ""]);
      c.push(["Ben's rule", "R1,C2,S3,5,8,B4,6,8,NW323202323"]);
      c.push(["Border", "R1,C2,S10-16,B1-8,NW010101010901010101"]);
      c.push(["Bricks", "R1,C3,S10,12,14,16,B7,13,NW525202525"]);
      c.push(["Bustle", "R1,C4,S2,4-5,7,B3,NW212101212"]);
      c.push(["Career", "R1,C2,S2-3,B3,NW121101111"]);
      c.push(["Cloud54", "R1,C2,S2-3,9-10,19,27,B3,10,27,NW010109010009010909"]);
      c.push(["Cloud75", "R1,C2,S2-4,10-11,13,18,21-22,27,29-31,36-40,B3,10,27,NW010109010009010909"]);
      c.push(["Conway", "R1,C2,S2-3,6-7,10-11,15,B3,7,11,15,NW515101515"]);
      c.push(["Conway--", "R1,C2,S3,6-7,10-11,15,B3,7,11,15,NW515101515"]);
      c.push(["Conway++", "R1,C2,S2-3,6-7,10-11,15,20,B3,7,11,15,NW515101515"]);
      c.push(["Conway+-1", "R1,C2,S2-3,6-7,10,12,15,B3,7,11,15,NW515101515"]);
      c.push(["Conway+-2", "R1,C2,S2-3,7,10-13,15,B3,7,11,15,NW515101515"]);
      c.push(["CrossPorpoises", "R1,C2,S2-3,6-10,12-13,B5,NW141404140"]);
      c.push(["Cyclish", "R1,C7,S2,B1-3,NW010101010"]);
      c.push(["Cyclones", "R1,C5,S2,4-5,B2-5,NW110101011"]);
      c.push(["Dragon", "R1,C2,S1-2,7-8,12,15,18,20,B7,11-13,20,NW515101515"]);
      c.push(["Emergence", "R1,C2,S2-4,10-11,16-17,24-25,B3-4,9,24,NW010801010001080801"]);
      c.push(["Fire-flies", "R1,C9,S1,10,B6,11-12,21,NW010501050a05010501"]);
      c.push(["Fleas", "R1,C2,S2-3,6-7,10-11,15,20,B2,11,NW515101515"]);
      c.push(["Fleas2", "R1,C2,S1-2,5,7,10-11,B2,4,8,11,NW515101515"]);
      c.push(["NoFleas2", "R1,C2,S2-3,5-7,10-11,B2,4,8,11,NW515101515"]);
      c.push(["FroggyHex", "R1,C2,S1,6,8,B5-6,NW410104041H"]);
      c.push(["Frost M", "R1,C25,S,B1,NW111101111"]);
      c.push(["Frost N", "R1,C25,S,B1,NW010101010"]);
      c.push(["Gnats", "R1,C2,S0-2,11,19,B11,19,NW090109010001090109"]);
      c.push(["HexParity", "R1,C2,S0,2,4,6,B1,3,5,NW110101011H"]);
      c.push(["Hextenders", "R1,C10,S1,3-5,B2-3,NW110101011H"]);
      c.push(["Hex Inverse Fire", "R1,C2,S2-3,6-9,11-15,B5,10-11,14-15,NW410104041H"]);
      c.push(["HGlass", "R1,C2,S1-3,11,21,25,29-31,B1-3,11,21,25,29-31,NW000200080110000400"]);
      c.push(["Hogs", "R1,C2,S2-4,6,B5-6,NW023302230H"]);
      c.push(["Jitters", "R1,C2,S4,14,B1,4,9,NW995505599"]);
      c.push(["Lemmings", "R1,C2,S3-6,B4,NW121202131"]);
      c.push(["Linguini", "R1,C2,S2-4,9-11,19-20,B11,18,NW090109010001090109"]);
      c.push(["Madness", "R1,C2,S8,10,12,14,B5,8,13,NW232303232"]);
      c.push(["MazeMakers", "R1,C2,S2-3,6-10,12-13,B5,NW441404141"]);
      c.push(["MidgeDN", "R1,C9,S0,2-3,B4-6,NW222101212"]);
      c.push(["Midges", "R1,C4,S3,5-6,B4-6,NW121232121"]);
      c.push(["MikesAnts", "R1,C2,S4-5,B2,5-6,NW011100111"]);
      c.push(["Mosquito", "R1,C2,S3-4,8-9,B2-3,9,NW995505599"]);
      c.push(["Mosquito2", "R1,C2,S3-4,8-9,B3,6,9,18,NW995505599"]);
      c.push(["Navaho1", "R1,C12,S8-9,11,B2,5,NW414575414"]);
      c.push(["Nocturne", "R1,C4,S1,6,B2-4,NW110101011"]);
      c.push(["Parity", "R1,C2,S1,3,5,B1,3,5,NW010111010"]);
      c.push(["Pictures", "R1,C2,S1-3,B2-4,NW010101010"]);
      c.push(["PicturesH", "R1,C9,S1-3,B2-4,NW010101010"]);
      c.push(["Pinwheels", "R1,C7,S2,B2-3,NW110101011"]);
      c.push(["PipeFleas", "R1,C3,S3-4,7,11-15,17-18,20,22-23,B6,10,NW515101515"]);
      c.push(["PreHogs", "R1,C2,S3-4,6,B5-6,NW230302023"]);
      c.push(["PuttPutt", "R1,C2,S1-4,9,18,27,36,40,B2,4,11,18-19,36,40,NW090109010001090109"]);
      c.push(["SEmigration", "R1,C2,S2-3,6-7,10-12,B7,11-12,16,NW515100505"]);
      c.push(["Simple", "R1,C2,S1,5,B2,10,NW515101515"]);
      c.push(["Simple Inverse", "R1,C2,S1,4-5,8-9,12-13,16-24,B2,9-10,13-14,17-18,21-22,24,NW515101515"]);
      c.push(["Simple Inverse Fire", "R1,C2,S1,5,9,13,17-19,21,23-24,B2,4,8-10,12-14,16-18,20-22,24,NW515101515"]);
      c.push(["Stampede", "R1,C8,S4,6,9-10,B4,7,NW130303130"]);
      c.push(["Starburst", "R1,C2,S2,4,6,B4,NW121202121"]);
      c.push(["Starbursts2", "R1,C2,S2,4-6,B4,NW121202121"]);
      c.push(["Stream", "R1,C2,S1,3-4,7-11,B5,7-8,10-11,NW010104041"]);
      c.push(["UpDown1", "R1,C2,S2,4-6,9,12,16,20,B3,6,9,12,NW111404444"]);
      c.push(["UpDown2", "R1,C2,S2-3,7,10-12,15,B3,7,11,15,NW151101555"]);
      c.push(["Upstream", "R1,C10,S4,6,9-10,B4,7,NW130404130"]);
      c.push(["Vineyard", "R1,C2,S2,6,8-10,12-13,B5,NW141404040"]);
      c.push(["Vineyard2", "R1,C2,S2,8-10,12-13,B5,NW141404040"]);
      c.push(["Weevils", "R1,C2,S1-4,B5-6,14,NW331101133"]);
      c.push(["Weighted Brain", "R1,C3,S3-4,7,B4-5,8,NW3323d3232"]);
      c.push(["Y_Chromosome", "R1,C3,S2,B2,NW110101011"]);
      d.push("Weighted G");
      c.push(["Weighted Generations", ""]);
      c.push(["WG Rule004", "R1,C4,S6-11,B4,NW111101111,0201"]);
      c.push(["WG Rule012", "R1,C6,S4-5,B5,NW111101111,021111"]);
      c.push(["WG Rule020", "R1,C6,S5-8,B5,NW111101111,020301"]);
      c.push(["WG Rule031", "R1,C4,S5-7,B4,NW111101111,0210"]);
      c.push(["WG Rule038", "R1,C5,S8,B6,9,NW111101111,03210"]);
      c.push(["WG Rule050", "R1,C8,S4-8,B6,NW111101111,02120300"]);
      c.push(["WG Rule063", "R1,C5,S6-7,9-11,B7,10,NW212101212,03101"]);
      c.push(["WG Rule071", "R1,C6,S8-16,B6,NW111101111,031012"]);
      c.push(["WG Rule072", "R1,C6,S8-16,B6,NW111101111,030112"]);
      c.push(["WG Rule074", "R1,C5,S4-8,B3,NW111101111,02001"]);
      c.push(["WG Rule084", "R1,C7,S5-6,B5,NW212101212,0121001"]);
      d.push("Alt OT M");
      c.push(["Alternating Outer-Totalistic Moore", ""]);
      c.push(["alternlife", "B13/S012345678|B/S15"]);
      c.push(["comb395", "B3/S1237|B2/S"]);
      c.push(["comb625", "B3/S348|B2/S356"]);
      c.push(["Dotlesslife", "B3/S23|B/S12345678"]);
      c.push(["Fizzler", "B13/S3|B/S345678"]);
      c.push(["Jelly", "B3/S135|B2/S5"]);
      c.push(["Phoenix", "B24/S|B35/S"]);
      d.push("Alt INT M");
      c.push(["Alternating Non-Totalistic Moore", ""]);
      c.push(["SparklessLife", "B3/S23|B/S1c2345678"]);
      c.push(["Unidim1", "B134578/S02345678|B6i7/S268"]);
      c.push(["Unidim2", "B12ci34578/S02345678|B7/S268"]);
      c.push(["Unidim3", "B12ci34578/S02345678|B6i7/S268"]);
      this.Vc[0][2] = false;
      this.Vc[0][3] = false;
      for (a = 1; a < this.Vc.length; a += 1) for (c = this.Vc[a][1], d = this.Vc[a][0], this.Vc[a][2] = false, this.Vc[a][3] = false, b = 0; b < a; b += 1) this.Vc[b][0] === d && (this.Vc[b][3] = true, this.Vc[a][3] = true), this.Vc[b][1] === c && (this.Vc[b][2] = true, this.Vc[a][2] = true);
    }, Io: function (a) {
      var b = null, c = 0;
      for (a = a.replace(/&amp;/g, "&"); c < this.Vc.length && null === b;) "" !== this.Vc[c][1] && this.Vc[c][0] === a && (b = this.Vc[c][1]), c += 1;
      if (!b) for (a = a.toLowerCase(), c = 0; c < this.Vc.length && null === b;) "" !== this.Vc[c][1] && this.Vc[c][0].toLowerCase() === a && (b = this.Vc[c][1]), c += 1;
      return b;
    }, Ho: function (a) {
      for (var b = null, c = 0; c < this.Vc.length && null === b;) "" !== this.Vc[c][1] && this.Vc[c][1] === a && (b = this.Vc[c][0]), c += 1;
      "Conway's Life" === b && (b = "Life");
      return b;
    }};
    lb.prototype.V = function () {
      var a = false;
      if ("" !== this.message || "" !== this.i) a = true;
      return a;
    };
    lb.prototype.clear = function (a, b) {
      a ? "" !== this.i && (b || this.u ? (this.i = "", this.u = false) : (a = performance.now() - this.C, a < this.v + this.B && (this.C = performance.now() - (this.v + this.B)), this.u = true)) : "" !== this.message && (b || this.s ? (this.s = false, this.message = "") : (a = performance.now() - this.startTime, a < this.H + this.L && (this.startTime = performance.now() - (this.H + this.L)), this.s = true));
    };
    lb.prototype.notify = function (a, b, c, d, f) {
      this.T && (f ? this.i !== a && (this.i = a, this.v = 16 * b, this.B = 16 * c, this.W = 16 * d, this.C = performance.now(), this.u = false, this.l = 0, this.M = false) : (this.message = a, this.H = 16 * b, this.L = 16 * c, this.Y = 16 * d, this.startTime = performance.now(), this.s = false));
    };
    lb.prototype.ba = function () {
      var a = 128 > this.l ? this.l / 128 : (255 - this.l) / 128;
      this.h.fillStyle = "rgb(" + (this.D.mb * a + this.D.nc * (1 - a)) + "," + (this.D.kb * a + this.D.mc * (1 - a)) + "," + (this.D.ib * a + this.D.kc * (1 - a)) + ")";
    };
    lb.prototype.O = function (a, b, c) {
      var d = this.h.measureText(a).width >> 1;
      if (this.R) {
        this.h.fillStyle = this.aa;
        var f = this.h.globalAlpha;
        this.h.globalAlpha = 0.5 * f;
        this.h.fillRect(-d - 20, -c, 2 * d + 40, 2 * c);
        this.h.globalAlpha = f;
      }
      this.h.fillStyle = this.X;
      this.h.fillText(a, -d + 2, 2);
      b ? this.M ? (this.ba(), this.l = this.l + 4 & 255) : this.h.fillStyle = this.A : this.h.fillStyle = this.m;
      this.h.fillText(a, -d, 0);
    };
    lb.prototype.Z = function (a, b, c, d, f, e, k) {
      var g = 30 * this.o, m = 32 * this.o, p = this.D.fb, n = 60 * this.o, q = true;
      this.D.aa ? (n = 0, e = this.h.canvas.height / 2, this.R = true) : this.R = false;
      "" !== a && (q = false, f = performance.now() - f, this.h.save(), this.D.W && (k ? (n = 0, e = this.h.canvas.height / 2) : (g /= p, m = m / p | 0, e = e / p | 0, n = n / p | 0)), this.h.font = (g | 0) + "px Arial", this.h.translate(this.h.canvas.width / 2 - 1, n + e), f <= b ? (e = f / b, e *= e, this.h.globalAlpha = e, this.h.scale(e, e)) : f > b + c && f <= b + c + d && (e = (d - (f - (b + c))) / d, e *= e, this.h.globalAlpha = e, this.h.scale(e, e)), f > b + c + d ? q = true : (b = a.indexOf("\\n"), -1 === b ? this.O(a, k, m) : (this.O(a.substring(0, b), k, m), this.h.translate(0, m), this.O(a.substring(b + 2), k, m))), this.h.restore());
      return q;
    };
    lb.prototype.$ = function () {
      var a = this.D.h.C;
      this.Z(this.message, this.H, this.L, this.Y, this.startTime, 81 * a, false) && (this.message = "");
      this.D.W && "Expand" !== this.i && "Launch" !== this.i || !this.Z(this.i, this.v, this.B, this.W, this.C, 45 * a, true) || (this.i = "");
    };
    rb.prototype.T = function (a) {
      this.u = a;
    };
    rb.prototype.B = function (a, b, c, d) {
      var f = null, e, k = this.v.length, g, m, p = this.R;
      if (0 < this.A.canvas.width) {
        if (!this.oe) {
          this.width = this.A.canvas.width;
          this.height = this.A.canvas.height;
          this.l = document.createElement("canvas");
          this.l.width = this.width;
          this.l.height = this.height;
          this.m = this.l.getContext("2d");
          var n = document.createElement("canvas");
          n.width = this.width;
          n.height = this.height;
          this.C = n.getContext("2d");
          n = document.createElement("canvas");
          n.width = this.width;
          n.height = this.height;
          this.s = n.getContext("2d");
          this.m.clearRect(0, 0, this.l.width, this.l.height);
          this.m.drawImage(this.A.canvas, 0, 0);
          f = this.m.getImageData(0, 0, this.l.width, this.l.height);
          this.H = new Uint32Array(f.data.buffer);
        }
        if (this.o) {
          n = new Uint32Array(this.H);
          -1 === p && (p = 4294901503);
          for (f = e = 0; f < k; f += 1) {
            for (m = 38; 1 < m; --m) {
              var q = e + m * this.width;
              var l = q - 2 - this.width - this.width;
              for (g = 38; 1 < g; --g) 0 === n[q + g] && 4294967295 === n[l + g] && (n[q + g] = p);
            }
            e += 40;
          }
          for (f = 0; f < n.length; f += 1) if (4294967295 === n[f] || 4285558896 === n[f]) n[f] = this.M;
          f = this.s.createImageData(this.s.canvas.width, this.s.canvas.height);
          e = new Uint32Array(f.data.buffer);
          e.set(n);
          this.s.putImageData(f, 0, 0);
          n = new Uint32Array(this.H);
          for (f = e = 0; f < k; f += 1) {
            for (m = 38; 1 < m; --m) for (q = e + m * this.width, l = q - 2 - this.width - this.width, g = 38; 1 < g; --g) 0 === n[q + g] && 4294967295 === n[l + g] && (n[q + g] = p);
            e += 40;
          }
          for (f = 0; f < n.length; f += 1) 4294967295 === n[f] ? n[f] = this.O : 4285558896 === n[f] && (n[f] = this.L);
          f = this.m.createImageData(this.m.canvas.width, this.m.canvas.height);
          e = new Uint32Array(f.data.buffer);
          e.set(n);
          this.m.putImageData(f, 0, 0);
          this.oe = this.o = false;
        }
        this.oe || (this.C.putImageData(f, 0, 0), this.oe = true);
        1 !== this.u && (this.i.save(), this.i.translate(b, c), this.i.scale(this.u, this.u), this.i.imageSmoothingEnabled = true, c = b = 0);
        d ? this.i.drawImage(this.s.canvas, a.Gn * a.width, 0, a.width, a.height, b, c, a.width, a.height) : this.i.drawImage(this.C.canvas, a.Gn * a.width, 0, a.width, a.height, b, c, a.width, a.height);
        1 !== this.u && (this.i.restore(), this.i.imageSmoothingEnabled = false);
      }
    };
    rb.prototype.length = function () {
      return this.v.length;
    };
    rb.prototype.h = function (a) {
      var b, c = this.v, d = this.length(), f = null;
      for (b = 0; b < d && !f;) c[b].name === a ? f = c[b] : b += 1;
      return f;
    };
    rb.prototype.add = function (a, b, c) {
      var d = this.v.length;
      a = new rc(a, b, c, d);
      this.v[d] = a;
    };
    var da = {Yr: 0, ne: 1, vertical: 2, Sl: 0, button: 1, yf: 2, list: 3, label: 4, yj: 0, vb: 1, left: 0, Fx: 1, right: 2, Ua: 0, lc: 1, Np: 2, Db: 3, Zl: 4, wg: 5, nw: 6, bd: 7, Za: 8};
    Wa.prototype.m = function (a) {
      !this.I && a && (this.I = true);
    };
    Wa.prototype.Qb = function (a) {
      this.fontSize = parseInt(a.substring(0, a.indexOf("px")), 10);
      this.na = a.substring(a.indexOf("px") + 3);
    };
    Wa.prototype.ta = function (a, b, c, d, f, e) {
      this.A = a;
      this.oc = b;
      this.Y = c;
      this.ja = d;
      this.C = f;
      this.W = e;
      if (this.type === da.list) for (this.M = [], a = 0; a < this.i.length; a += 1) this.M[a] = this.oc;
    };
    Wa.prototype.gf = function (a) {
      this.O = a;
    };
    Wa.prototype.wa = function (a) {
      this.la = a;
    };
    Wa.prototype.s = function (a) {
      this.R = a;
    };
    Wa.prototype.setPosition = function (a, b, c) {
      this.position = a;
      this.ia = b;
      this.R = c;
    };
    Wa.prototype.ua = function (a, b) {
      var c = this.qa.s, d = this.qa.C, f = this.ia * c, e = this.R * d;
      c *= this.O;
      d *= this.la;
      this.x = f;
      this.y = e;
      this.width = c;
      this.height = d;
      switch (this.position) {
        case da.Ua:
          this.x = (a - c >> 1) + f;
          break;
        case da.lc:
          this.x = a + f;
          break;
        case da.Np:
          this.y = (b - d >> 1) + e;
          this.x = a + f;
          break;
        case da.Db:
          this.x = a + f;
          this.y = b + e;
          break;
        case da.Zl:
          this.x = (a - c >> 1) + f;
          this.y = b + e;
          break;
        case da.wg:
          this.y = b + e;
          break;
        case da.nw:
          this.y = (b - d >> 1) + e;
          break;
        case da.Za:
          this.x = (a - c >> 1) + f, this.y = (b - d >> 1) + e;
      }
    };
    Wa.prototype.pa = function (a, b) {
      var c = this.ga;
      this.Z[c] = [a, b];
      this.ga = c + 1;
    };
    Wa.prototype.da = function (a) {
      var b = [], c;
      var d = a.length;
      for (c = 0; c < d; c += 1) a[c].pa(this, true);
      d = b.length;
      for (c = 0; c < d; c += 1) b[c].pa(this, false);
    };
    Wa.prototype.va = function (a, b) {
      var c = false;
      this.B && a >= this.x && a < this.x + this.width && b >= this.y && b < this.y + this.height && (c = true);
      return c;
    };
    Va.prototype.Ja = function (a) {
      this.C = this.s = a;
      this.U.notification.o = a;
    };
    Va.prototype.za = function (a, b, c, d, f, e) {
      var k;
      this.da = a;
      this.oc = b;
      this.ea = c;
      this.ga = d;
      this.fa = f;
      this.aa = e;
      for (k = 0; k < this.u.length; k += 1) this.u[k].ta(a, b, c, d, f, e);
    };
    Va.prototype.ua = function (a, b) {
      var c = false, d = a.ga;
      a.type === da.list && a.u === da.vb ? c = a.current[0] : c = a.current === a.u;
      if (c && b) for (b = 0; b < d; b += 1) c = c && this.ua(a.Z[b][0], a.Z[b][1]);
      return c;
    };
    Va.prototype.wa = function (a) {
      var b, c = a.ga;
      var d = true;
      for (b = 0; b < c; b += 1) d = d && this.ua(a.Z[b][0], a.Z[b][1]);
      a.B = d;
    };
    Va.prototype.oe = function () {
      var a;
      for (a = 0; a < this.o; a += 1) {
        var b = this.u[a];
        b.B = true;
        switch (b.type) {
          case da.Sl:
            b.qc && (b.current = b.qc(b.current, false, this.caller));
            break;
          case da.list:
            b.qc && (b.current = b.qc(b.current, false, this.caller));
        }
        this.wa(b);
      }
    };
    Va.prototype.m = function (a, b, c, d, f, e, k, g, m) {
      this.u[this.o] = new Wa(this.o, a, this.caller, b, c, d, f, e, k, m, g, da.list, this.V, true, "", "", -1, [], this);
      this.o += 1;
      return this.u[this.o - 1];
    };
    Va.prototype.H = function (a, b, c, d, f, e, k, g, m, p, n, q) {
      this.u[this.o] = new Wa(this.o, a, this.caller, b, c, d, f, e, k, g, m, da.Sl, this.V, true, p, n, q, null, this);
      this.o += 1;
      return this.u[this.o - 1];
    };
    Va.prototype.l = function (a, b, c, d, f, e) {
      this.u[this.o] = new Wa(this.o, null, null, a, b, c, d, f, 0, 0, 0, da.label, this.V, true, e, "", -1, null, this);
      this.o += 1;
      return this.u[this.o - 1];
    };
    Va.prototype.i = function (a, b, c, d, f, e) {
      this.u[this.o] = new Wa(this.o, a, this.caller, b, c, d, f, 40, 0, 0, 0, da.button, this.V, true, e, "", -1, null, this);
      this.o += 1;
      return this.u[this.o - 1];
    };
    Va.prototype.Ba = function (a) {
      this.u[this.o] = new Wa(this.o, null, null, a, 0, -40, 100, 40, 0, 100, 0, da.yf, this.V, false, "", "", 0, null, this);
      this.o += 1;
      return this.u[this.o - 1];
    };
    Va.prototype.T = function (a, b) {
      var c = "";
      a += String();
      if ("" !== a) {
        this.h.save();
        this.h.translate(b.x + b.width / 2, b.y + b.height / 2);
        this.h.font = (b.fontSize * this.s | 0) + "px " + b.na;
        b.V === da.vertical && this.h.rotate(0.5 * Math.PI);
        var d = this.h.measureText(a).width;
        var f = b.V === da.vertical ? b.height : b.width;
        if (d >= f - 6) {
          var e = a.length;
          var k = 0;
          if (e) {
            do c = a.substring(0, k) + "…", d = this.h.measureText(c).width, k += 1; while (k < e && d <= f - 10);
            c = a.substring(0, k - 1) + "…";
          }
          a = c;
        }
        switch (b.l) {
          case da.left:
            var g = b.width / 2 - 2;
            break;
          case da.Fx:
            g = d / 2;
            break;
          case da.right:
            g = d / 2 - (b.width - d) / 2 + 4;
        }
        this.h.fillStyle = b.oc;
        this.h.fillText(a, 2 - g + 0.5, 2.5);
        this.h.fillStyle = !b.locked && !this.locked || b.L ? b.A : b.C;
        this.h.fillText(a, -g + 0.5, 0.5);
        this.h.restore();
      }
    };
    Va.prototype.Fa = function (a) {
      this.h.globalAlpha = this.R;
      this.T(a.wb, a);
    };
    Va.prototype.Ca = function (a) {
      this.h.globalAlpha = this.R;
      this.T(a.wb, a);
    };
    Va.prototype.Ha = function (a) {
      var b = (a.current - a.i) / (a.u - a.i);
      this.h.globalAlpha = a.v;
      this.h.fillStyle = a.A;
      a.orientation === da.ne ? (b *= a.width - 3, this.h.fillRect(a.x + (b + 1 | 0), a.y, 1, a.height)) : (b *= a.height - 3, this.h.fillRect(a.x, a.y + (b + 1 | 0), a.width, 1));
      b = a.wb;
      a.sa && (b = -1 !== a.aa ? b + a.current.toFixed(a.aa) : b + a.current, b += a.ra);
      "" !== b && (this.h.globalAlpha = a.X, this.T(b, a));
    };
    Va.prototype.Ia = function (a, b) {
      var c = (a.current[0] - a.i) / (a.u - a.i);
      var d = this.va;
      a.orientation === da.ne ? (c *= a.width - 3, c = c + 1 | 0, b && (this.h.fillStyle = a.Y, this.h.globalAlpha = a.ba, this.h.fillRect(a.x + c - d, a.y, d, a.height), this.h.fillRect(a.x + c + 1, a.y, d, a.height)), !a.locked && !this.locked || a.L ? (this.h.fillStyle = a.A, this.h.globalAlpha = a.X) : (this.h.fillStyle = a.C, this.h.globalAlpha = a.T), this.h.fillRect(a.x + c, a.y, 1, a.height)) : (c *= a.height - 3, c = c + 1 | 0, b && (this.h.fillStyle = a.Y, this.h.globalAlpha = a.ba, this.h.fillRect(a.x, a.y + c - d, a.width, d), this.h.fillRect(a.x, a.y + c + 1, a.width, d)), !a.locked && !this.locked || a.L ? (this.h.fillStyle = a.A, this.h.globalAlpha = a.X) : (this.h.fillStyle = a.C, this.h.globalAlpha = a.T), this.h.fillRect(a.x, a.y + c, a.width, 1));
      b = a.wb;
      a.sa && (b = 0 <= a.aa ? b + a.current[1].toFixed(a.aa) : b + a.current[1]);
      b += a.ra;
      "" !== b && (this.h.globalAlpha = this.R, this.T(b, a));
    };
    Va.prototype.Ga = function (a, b) {
      var c = a.x;
      var d = a.y, f = a.width, e = a.height, k = a.orientation, g = a.current;
      var m = a.i;
      var p = m.length;
      var n = a.orientation === da.ne ? f / p : e / p;
      this.h.globalAlpha = a.oa;
      this.h.fillStyle = a.ja;
      if (a.u === da.yj) {
        var q = a.current;
        0 <= q && q < p && (a.orientation === da.ne ? this.h.fillRect(c + q * n + 1, d + 1, n - 2, e - 2) : this.h.fillRect(c + 1, d + 1 + q * n, f - 2, n - 2));
      } else if (a.orientation === da.ne) {
        for (q = 0; q < p; q += 1) g[q] && this.h.fillRect(c + q * n + 1, d + 1, n - 2, e - 2);
        1 === p && (!a.locked && !this.locked || a.L ? (this.h.strokeStyle = a.W, this.h.globalAlpha = a.$) : (this.h.strokeStyle = a.C, this.h.globalAlpha = a.T), this.h.beginPath(), g[0] ? (this.h.moveTo(c + n - 6 + 0.5, d + 5.5), this.h.lineTo(c + n - 2 + 0.5, d + 1.5), this.h.moveTo(c + n - 2 + 0.5, d + 5.5), this.h.lineTo(c + n - 6 + 0.5, d + 1.5)) : (this.h.moveTo(c + n - 4 + 0.5, d + 5.5), this.h.lineTo(c + n - 4 + 0.5, d + 1.5), this.h.moveTo(c + n - 6 + 0.5, d + 3.5), this.h.lineTo(c + n - 2 + 0.5, d + 3.5)), this.h.stroke());
      } else for (q = 0; q < p; q += 1) g[q] && this.h.fillRect(c + 1, d + 1 + q * n, f - 2, n - 2);
      a.ea = false;
      b ? (this.h.globalAlpha = a.ba, this.h.fillStyle = a.Y, a.orientation === da.ne ? (q = (this.v - c) / f * p | 0, 0 <= q && q < p && (a.o[q] ? a.ea = true : this.h.fillRect(c + q * n + 0.5, d + 0.5, n - 1, e - 1))) : (q = (this.B - d) / e * p | 0, 0 <= q && q < p && (a.o[q] ? a.ea = true : this.h.fillRect(c + 0.5, d + 0.5 + q * n, f - 1, n - 1))), a.H = q) : a.H = -1;
      this.h.globalAlpha = this.R;
      if (a.orientation === da.ne) for (q = 0; q < p; q += 1) a.h[q] && this.X.B(a.h[q], a.x + n * q, a.y, this.locked || a.locked || a.o[q]); else for (q = 0; q < p; q += 1) a.h[q] && this.X.B(a.h[q], a.x, a.y + n * q, this.locked || a.locked || a.o[q]);
      this.h.globalAlpha = a.X;
      this.h.fillStyle = a.A;
      if (k === da.ne) for (q = 0; q < p; q += 1) c = m[q], "" !== c && (this.h.save(), this.h.translate((0.5 + (q - p / 2)) * n, 0), this.T(c, a), this.h.restore()); else for (q = 0; q < p; q += 1) c = m[q], "" !== c && (this.h.save(), this.h.translate(0, (0.5 + (q - p / 2)) * n), this.T(c, a), this.h.restore());
    };
    Va.prototype.Da = function (a, b, c, d, f) {
      var e = true;
      b && !this.A && f && (e = false);
      e && (c === d || -1 === d && b) && a.type === da.button ? (this.h.fillStyle = a.Y, this.h.globalAlpha = a.ba) : (this.h.fillStyle = a.oc, this.h.globalAlpha = a.v);
      switch (a.type) {
        case da.yf:
          f = (a.current - a.i) / (a.u - a.i);
          this.h.fillStyle = a.ja;
          this.h.globalAlpha = a.oa;
          a.orientation === da.ne ? (f *= a.width - 3, f = f + 1 | 0, this.h.fillRect(a.x, a.y, f, a.height), this.h.fillStyle = a.oc, this.h.globalAlpha = a.v, this.h.fillRect(a.x + f, a.y, a.width - f, a.height)) : (f *= a.height - 3, f = f + 1 | 0, this.h.fillRect(a.x, a.y, a.width, f), this.h.fillStyle = a.oc, this.h.fillRect(a.x, a.y + f, a.width, a.height - f));
          break;
        case da.Sl:
          f = (a.current[0] - a.i) / (a.u - a.i);
          if (e && (c === d || -1 === d && b)) {
            var k = this.va;
            if (a.orientation === da.ne) {
              f *= a.width - 3;
              f = f + 1 | 0;
              var g = f - k;
              0 < g && this.h.fillRect(a.x, a.y, g, a.height);
              g = 1 + f + k;
              g < a.width && this.h.fillRect(a.x + g, a.y, a.width - g, a.height);
            } else f *= a.height - 3, f = f + 1 | 0, g = f - k, 0 < g && this.h.fillRect(a.x, a.y, a.width, g), g = 1 + f + k, g < a.height && this.h.fillRect(a.x, a.y + g, a.width, a.height - g);
          } else this.h.fillRect(a.x, a.y, a.width, a.height);
          break;
        case da.list:
          k = a.i.length;
          if (a.orientation === da.ne) for (g = a.width / k, f = 0; f < k; f += 1) this.h.fillStyle = a.M[f], this.h.fillRect(a.x + f * g + 1, a.y + 1, g - 2, a.height - 2); else for (g = a.height / k, f = 0; f < k; f += 1) this.h.fillStyle = a.M[f], this.h.fillRect(a.x + 1, a.y + 1 + f * g, a.width - 2, g - 2);
          break;
        default:
          this.h.fillRect(a.x, a.y, a.width, a.height);
      }
      a.type !== da.list && a.h && (this.h.globalAlpha = a.X, this.X.B(a.h, a.x, a.y, this.locked || a.locked));
      if (0 < a.border) switch (!a.locked && !this.locked || a.L ? (this.h.strokeStyle = a.W, this.h.globalAlpha = a.$) : (this.h.strokeStyle = a.C, this.h.globalAlpha = a.T), this.h.lineWidth = a.border, a.type) {
        case da.label:
          break;
        case da.list:
          k = a.i.length;
          if (a.orientation === da.ne) for (g = a.width / k, f = 0; f < k; f += 1) this.locked || a.locked || a.o[f] ? (this.h.strokeStyle = a.C, this.h.globalAlpha = a.T) : (this.h.strokeStyle = a.W, this.h.globalAlpha = a.$), this.h.strokeRect(a.x + 0.5 + f * g, a.y + 0.5, g - 1, a.height - 1); else for (g = a.height / k, f = 0; f < k; f += 1) this.locked || a.locked || a.o[f] ? (this.h.strokeStyle = a.C, this.h.globalAlpha = a.T) : (this.h.strokeStyle = a.W, this.h.globalAlpha = a.$), this.h.strokeRect(a.x + 0.5, a.y + 0.5 + f * g, a.width - 1, g - 1);
          break;
        default:
          this.h.strokeRect(a.x + 0.5, a.y + 0.5, a.width - 1, a.height - 1);
      }
      switch (a.type) {
        case da.button:
          this.Ca(a);
          break;
        case da.label:
          this.Fa(a);
          break;
        case da.Sl:
          this.Ia(a, e && (c === d || -1 === d && b));
          break;
        case da.yf:
          this.Ha(a);
          break;
        case da.list:
          this.Ga(a, e && (c === d || -1 === d && b));
      }
      if (c === d) switch (a.type) {
        case da.Sl:
          e = this.B, a.orientation === da.vertical ? (e < a.y ? e = a.y : e > a.y + a.height - 1 && (e = a.y + a.height - 1), f = (e - a.y) / (a.height - 1) * (a.u - a.i) + a.i) : (e = this.v, e < a.x ? e = a.x : e > a.x + a.width - 1 && (e = a.x + a.width - 1), f = (e - a.x) / (a.width - 1) * (a.u - a.i) + a.i), a.i < a.u ? (f < a.i && (f = a.i), f > a.u && (f = a.u)) : (f < a.u && (f = a.u), f > a.i && (f = a.i)), a.current[0] = f, a.qc && (a.current = a.qc(a.current, true, a.caller));
      }
      if (b && !this.A && a.fa) switch (a.type) {
        case da.button:
          a.qc && a.qc(a.caller);
          break;
        case da.list:
          k = a.i.length, g = a.orientation === da.ne ? (this.v - a.x) / a.width * k | 0 : (this.B - a.y) / a.height * k | 0, a.u === da.yj ? a.o[g] || (a.qc ? a.current = a.qc(g, true, a.caller) : a.current = g) : a.o[g] || (a.current[g] = !a.current[g], a.qc && a.qc(a.current, true, a.caller));
      }
      b && c === d ? (a.fa = this.A, a.ka = this.v, a.ma = this.B) : (a.fa = false, a.ka = -1, a.ma = -1);
    };
    Va.prototype.Z = function (a) {
      this.ra = a;
    };
    Va.prototype.ya = function () {
      var a, b = false, c = this.h.canvas.width, d = this.h.canvas.height, f = -1;
      var e = false;
      this.M = -1;
      if (this.I) this.A ? -2 !== this.L ? (this.sa = this.v, this.ta = this.B, this.ka = this.v, this.ma = this.B, this.L = -2) : this.O && !this.locked && this.O(this.v, this.B, this.A, this.caller) : (-2 === this.L && (this.O && !this.locked && this.O(this.v, this.B, this.A, this.caller), this.v === this.sa && this.B === this.ta && this.la && (this.U.ga ? this.U.ga = false : this.la(this.v, this.B, this.A, this.caller))), this.A || (this.L = -1)); else {
        var k = this.L;
        this.h.textAlign = "left";
        for (a = 0; a < this.o; a += 1) {
          var g = this.u[a];
          if (!g.I) {
            g.ua(c, d);
            var m = false;
            g.va(this.v, this.B) && (f = a, !g.locked && !this.locked || g.L ? m = true : b = true);
            m && !this.A && (this.M = a);
            (this.A && -1 === k && m || m && this.ba) && g.type !== da.label && (k = a, this.ba && (g.fa = true));
            a !== k || !g.locked && !this.locked || g.L || (k = -1, m = false);
            g.B && this.Da(g, m, a, k, this.U.u);
          }
        }
        0 <= k && !this.A && (e = true);
        this.A && -1 === k && !b && (k = -2);
        -2 === k && this.O && !this.locked && this.O(this.v, this.B, this.A, this.caller);
        this.A || (k = -1);
        this.L = k;
        this.h.globalAlpha = 1;
      }
      this.ia = 0 <= f && !this.u[f].locked ? this.u[f].type === da.Sl ? this.u[f].orientation === da.Yr || this.u[f].orientation === da.ne ? "ew-resize" : "ns-resize" : "auto" : this.ra;
      return e;
    };
    Ja.prototype.Ab = function () {
      this.s.fillStyle = this.A;
      var a = this.s.fillStyle;
      this.mb = Number("0x" + a.substring(1, 3));
      this.kb = Number("0x" + a.substring(3, 5));
      this.ib = Number("0x" + a.substring(5, 7));
      this.s.fillStyle = this.Ha;
      a = this.s.fillStyle;
      this.nc = Number("0x" + a.substring(1, 3));
      this.mc = Number("0x" + a.substring(3, 5));
      this.kc = Number("0x" + a.substring(5, 7));
    };
    Ja.prototype.zb = function () {
      this.na = [];
      this.da = this.ka = 0;
    };
    Ja.prototype.Rb = function () {
      var a = 0;
      0 < this.da && (a = this.ka / this.da);
      this.na[this.na.length] = a;
      this.da = this.ka = 0;
    };
    Ja.prototype.dc = function (a) {
      var b = -1;
      0 <= a && a < this.na.length && (b = this.na[a]);
      return b;
    };
    Ja.prototype.Pb = function (a, b, c, d, f, e, k) {
      this.A = a;
      this.oc = b;
      this.cb = c;
      this.Ha = d;
      this.$ = f;
      this.Ca = e;
      this.Na = k;
      this.h && this.h.za(a, b, c, d, f, e);
      this.notification.m = a;
      this.notification.A = a;
      this.Ab();
      this.notification.X = b;
      this.s.fillStyle = b;
      this.Ma = this.s.fillStyle;
    };
    Ja.prototype.Zb = function (a, b, c) {
      a = new Va(this, a, b, c, this.s, this.ra);
      a.da = this.A;
      a.R = this.Hb;
      a.oc = this.oc;
      a.$ = this.Ba;
      a.ea = this.cb;
      a.oa = this.Ib;
      a.ga = this.Ha;
      a.qa = this.Lb;
      a.fa = this.$;
      a.pa = this.Kb;
      a.aa = this.Ca;
      a.na = this.bb;
      a.border = this.border;
      return a;
    };
    Ja.prototype.bc = function () {
      var a = this.h, b = a.s, c = this.s, d = "";
      var f = 1;
      if (-1 !== a.L || -1 === a.L && -1 === a.M) this.pa = a.L;
      if (-1 === a.M || -1 !== this.pa && this.pa === a.M) {
        if (-1 !== a.M) {
          var e = a.u[a.M];
          e.id === this.ya && e.H !== this.qa && (this.pa = -1);
        }
        50 > this.v && (this.v += 1);
      } else {
        e = a.u[a.M];
        e.id !== this.ya || e.id === this.ya && e.H !== this.qa ? (this.ya = e.id, this.qa = e.H, 50 > this.v && (this.v += 1)) : 0 <= this.v && --this.v;
        -1 !== this.qa ? a = e.S[this.qa] : Array.isArray(e.S) ? a = "" : (a = e.S, null === a && (a = ""));
        var k = a.indexOf("\n");
        if ("" !== a && -1 === this.v && !e.ea) {
          this.pa = -1;
          var g = e.x;
          var m = e.y;
          var p = e.width;
          var n = e.height;
          -1 !== e.H && (e.orientation === da.ne ? (g += p / e.i.length * e.H, p /= e.i.length) : (m += n / e.i.length * e.H, n /= e.i.length));
          var q = 18 * b;
          c.font = (q | 0) + "px Arial";
          var l = 4 * b;
          var r = c.measureText(a).width;
          b = Math.round(g + p / 2);
          m = Math.round(m + n / 2);
          b -= r / 2;
          b < l + 1 ? b = l + 1 : b + r + l > c.canvas.width && (b = c.canvas.width - r - l - 1);
          n > p ? (-1 !== this.Ta && p < this.Ta && (p = this.Ta), b = b > c.canvas.width / 2 ? g - r - p / 2 : g + e.width + p / 2) : (-1 !== this.Va && n < this.Va && (n = this.Va), m = m > c.canvas.height / 2 ? m - n : m + n);
          if (r > c.canvas.width) {
            d = (r >> 1) + q + l;
            d > c.canvas.width && (d = c.canvas.width);
            for (f = 1; c.measureText(a.substring(0, f)).width < d;) f += 1;
            for (k = f - 1; k > f - 5;) d = a[k], " " === d || "," === d || "/" === d || "|" === d ? (f = k + 2, k = f - 5) : --k;
            d = a.substring(f - 1);
            a = a.substring(0, f - 1);
            r = c.measureText(a).width;
            f = c.measureText(d).width;
            f > r && (r = f);
            f = 2;
          } else -1 !== k && (d = a.substring(k + 1), f = c.measureText(d).width, a = a.substring(0, k), r = c.measureText(a).width, f > r && (r = f), f = 2);
          k = q * f + 2 * l;
          2 === f && m > c.canvas.height / 2 && (m -= q + l, k += l);
          c.globalAlpha = this.Ba;
          c.fillStyle = this.oc;
          c.fillRect((b - l | 0) - 0.5, (m - q / 2 - l | 0) - 0.5, r + 2 + 2 * l, k);
          c.globalAlpha = this.bb;
          c.strokeStyle = this.Ca;
          c.strokeRect((b - l | 0) - 0.5, (m - q / 2 - l | 0) - 0.5, r + 2 + 2 * l, k);
          c.globalAlpha = this.Ba;
          c.strokeStyle = this.oc;
          c.beginPath();
          c.moveTo((b - l | 0) + 0.5, (m - q / 2 - l | 0) + 0.5 + k);
          c.lineTo((b - l | 0) + 0.5 + r + 2 + 2 * l, (m - q / 2 - l | 0) + 0.5 + k);
          c.lineTo((b - l | 0) + 0.5 + r + 2 + 2 * l, (m - q / 2 - l | 0) + 0.5);
          c.stroke();
          c.globalAlpha = 1;
          c.fillStyle = this.oc;
          c.fillText(a, b + 2, m + 2);
          "" !== d && c.fillText(d, b + 2, m + q + l + 2);
          c.fillStyle = this.A;
          f = a.indexOf("[");
          k = a.lastIndexOf("]");
          -1 !== f && -1 !== k ? (e = a.substring(0, f + 1), r = c.measureText(e).width, c.fillText(e, b, m), c.fillStyle = this.Na, e = a.substring(f + 1, k), c.fillText(e, b + r, m), c.fillStyle = this.A, e = a.substring(k), r = c.measureText(a.substring(0, k)).width, c.fillText(e, b + r, m)) : c.fillText(a, b, m);
          "" !== d && (f = d.indexOf("["), k = d.lastIndexOf("]"), -1 !== f && -1 !== k ? (e = d.substring(0, f + 1), r = c.measureText(e).width, c.fillText(e, b, m + q + l), c.fillStyle = this.Na, e = d.substring(f + 1, k), c.fillText(e, b + r, m + q + l), c.fillStyle = this.A, e = d.substring(k), r = c.measureText(d.substring(0, k)).width, c.fillText(e, b + r, m + q + l)) : c.fillText(d, b, m + q + l));
        }
      }
    };
    Ja.prototype.ic = function (a) {
      var b, c, d, f = a.s, e = 90, k = 1, g = 1;
      a.W && (e = 0);
      a.za = false;
      a.$a = true;
      a.ja && (a.h = a.ja, a.ja = null, f.font = a.ra, a.h.oe(), a.h.Y && a.h.Y(a.h.caller));
      a.h && (k = a.h.s, g = a.h.C);
      var m = f.canvas.width - 86 * k;
      e *= g;
      var p = performance.now();
      a.Oa && (a.Ga = p - 1e3 / a.sa);
      a.fa || a.notification.V() || a.M || 50 !== a.v && -1 !== a.v ? (a.la(a), a.M && --a.M, a.Oa = false) : a.Oa = true;
      var n = p - a.Ga;
      a.Ga = p;
      a.h.qc && a.h.qc(n, a.h.caller);
      p = performance.now() - p;
      var q = performance.now();
      a.Nb();
      a.Da = false;
      a.bc();
      a.notification.$();
      q = performance.now() - q;
      a.Qa[a.oa] = q;
      for (d = b = 0; 5 > d; d += 1) b += a.Qa[d];
      b /= 5;
      a.Sa[a.oa] = p;
      for (d = c = 0; 5 > d; d += 1) c += a.Sa[d];
      c /= 5;
      a.Fa[a.oa] = n;
      for (d = n = 0; 5 > d; d += 1) n += a.Fa[d];
      a.oa = (a.oa + 1) % 5;
      d = 1e3 / (n / 5);
      d > a.sa && (d = a.sa);
      this.ka += 1e3 / (p + q);
      this.da += 1;
      if (a.H) {
        f.font = (12 * k | 0) + "px Arial";
        f.globalAlpha = 0.7;
        f.fillStyle = a.oc;
        a.C ? f.fillRect(m, e, 88 * k | 0, 83 * g | 0) : f.fillRect(m, e, 88 * k | 0, 20 * g | 0);
        q = (c + b) / 16.666666;
        1 < q && (q = 1);
        f.fillStyle = 0.5 > q ? "rgb(" + (510 * q | 0) + ",255,0)" : "rgb(255," + (255 * (1 - 2 * (q - 0.5)) | 0) + ",0)";
        f.fillRect(m, e, 88 * q * k | 0, 20 * g | 0);
        b = b.toFixed(1);
        c = c.toFixed(1);
        p = 4 > d.toFixed(1).length ? d.toFixed(1) : String(d | 0);
        f.globalAlpha = 1;
        f.fillStyle = a.oc;
        f.fillText(p + "fps", m + 6 * k, e + 12 * g);
        d = (100 * q | 0) + "%";
        n = f.measureText(d).width;
        f.fillText(d, m + 84 * k - n, e + 12 * g);
        if (a.C && a.u) {
          f.save();
          f.fillStyle = "black";
          f.font = "18px Arial";
          for (d = 0; 3 > d;) f.fillText(String(a.l), 4 - d, 50 - d), f.fillText(a.caller.yk + ", " + a.caller.Ak, 4 - d, 80 - d), f.fillText(String(a.m), 4 - d, 110 - d), f.fillText(a.caller.zk + ", " + a.caller.Bk, 4 - d, 140 - d), d += 2, f.fillStyle = "white";
          f.restore();
        }
        a.C && (f.fillText("menu", m + 6 * k, e + 28 * g), f.fillText("work", m + 6 * k, e + 44 * g), f.fillText("update", m + 6 * k, e + 60 * g), f.fillText("focus", m + 6 * k, e + 76 * g), d = b + "ms", n = f.measureText(d).width, f.fillText(d, m + 84 * k - n, e + 28 * g), d = c + "ms", n = f.measureText(d).width, f.fillText(d, m + 84 * k - n, e + 44 * g), d = a.fa ? "on" : "off", n = f.measureText(d).width, f.fillText(d, m + 84 * k - n, e + 60 * g), d = a.o ? "on" : "off", n = f.measureText(d).width, f.fillText(d, m + 84 * k - n, e + 76 * g));
        f.fillStyle = a.A;
        f.fillText(p + "fps", m + 4 * k, e + 10 * g);
        d = (100 * q | 0) + "%";
        n = f.measureText(d).width;
        f.fillText(d, m + 82 * k - n, e + 10 * g);
        a.C && (f.fillText("menu", m + 4 * k, e + 26 * g), f.fillText("work", m + 4 * k, e + 42 * g), f.fillText("update", m + 4 * k, e + 58 * g), f.fillText("focus", m + 4 * k, e + 74 * g), d = b + "ms", n = f.measureText(d).width, f.fillText(d, m + 82 * k - n, e + 26 * g), d = c + "ms", n = f.measureText(d).width, f.fillText(d, m + 82 * k - n, e + 42 * g), d = a.fa ? "on" : "off", n = f.measureText(d).width, f.fillText(d, m + 82 * k - n, e + 58 * g), d = a.o ? "on" : "off", n = f.measureText(d).width, f.fillText(d, m + 82 * k - n, e + 74 * g));
        f.globalAlpha = 1;
      }
      a.h.ia !== a.h.ja && (a.h.ja = a.h.ia, a.R.style.cursor = a.h.ja);
      a.Xa = true;
    };
    Ja.prototype.Sb = function (a) {
      a.X = this.Jb;
      this.h ? this.ja = a : (this.ja = null, this.h = a, this.s.font = this.ra, this.h.oe(), this.h.Y && this.h.Y(this.h.caller), this.la(this));
    };
    Ja.prototype.Nb = function () {
      var a;
      if (this.h) {
        var b = this.h;
        this.s.font = this.ra;
        b.v = this.T;
        b.B = this.V;
        b.A = this.ea;
        b.ba = this.Da;
        if (b.ya() || this.i) {
          for (a = 0; a < b.o; a += 1) {
            var c = b.u[a];
            b.wa(c);
          }
          this.i = false;
        }
      }
    };
    Ja.prototype.la = function (a) {
      a.za || (requestAnimationFrame ? requestAnimationFrame(a.gb) : setTimeout(a.gb, 16), a.za = true);
    };
    Ja.prototype.Ya = function () {
      var a = this.ia(this, this.L, this.Z), b = this.ia(this, this.B, this.O);
      this.ma && this.ma(a[0], a[1], b[0], b[1], 0, this.caller);
    };
    Ja.prototype.ub = function (a) {
      a.identifier === this.l ? (a = this.ia(this, this.L, this.Z), this.ma(a[0], a[1], 0, 0, 1, this.caller)) : (a = this.ia(this, this.B, this.O), this.ma(a[0], a[1], 0, 0, 2, this.caller));
    };
    Ja.prototype.va = function () {
      this.ue(true);
    };
    Ja.prototype.ua = function (a, b) {
      var c = b.changedTouches, d = c.length, f;
      switch (b.type) {
        case "touchstart":
          if (-1 === a.l && -1 === a.m) switch (d) {
            case 1:
              var e = c[0];
              a.l = e.identifier;
              a.L = e.pageX;
              a.Z = e.pageY;
              a.ba(a, e.pageX, e.pageY);
              break;
            case 2:
              e = c[0], a.l = e.identifier, a.L = e.pageX, a.Z = e.pageY, e = c[1], a.m = e.identifier, a.B = e.pageX, a.O = e.pageY, a.Ya();
          } else -1 === a.l ? (a.X(a, a.B, this.O), e = c[0], a.l = e.identifier, a.L = e.pageX, a.Z = e.pageY, a.Ya()) : -1 === a.m && (a.X(a, this.L, this.Z), e = c[0], a.m = e.identifier, a.B = e.pageX, a.O = e.pageY, a.Ya());
          break;
        case "touchend":
          for (f = 0; f < d; f += 1) e = c[f], e.identifier === a.l ? -1 === a.m ? (a.X(a, e.pageX, e.pageY), a.l = -1) : (a.l = -1, a.va(), a.ba(a, a.B, a.O)) : e.identifier === a.m && (-1 === a.l ? (a.X(a, e.pageX, e.pageY), a.m = -1) : (a.m = -1, a.va(), a.ba(a, a.L, a.B)));
          break;
        case "touchmove":
          for (f = 0; f < d; f += 1) e = c[f], e.identifier === a.l ? -1 === a.m ? a.Ja(a, e.pageX, e.pageY) : (a.L = e.pageX, a.Z = e.pageY, a.ub(e)) : e.identifier === a.m && (-1 === a.l ? a.Ja(a, e.pageX, e.pageY) : (a.B = e.pageX, a.O = e.pageY, a.ub(e)));
          break;
        case "touchcancel":
          for (f = 0; f < d; f += 1) e = c[f], e.identifier === a.l ? -1 === a.m ? (a.X(a, e.pageX, e.pageY), a.l = -1) : (a.l = -1, a.va(), a.ba(a, a.B, a.O)) : e.identifier === a.m && (-1 === a.l ? (a.X(a, e.pageX, e.pageY), a.m = -1) : (a.m = -1, a.va(), a.ba(a, a.L, a.B)));
      }
      a.u = true;
      b.stopPropagation && b.stopPropagation();
      b.cancelable && b.preventDefault();
    };
    Ja.prototype.ba = function (a, b, c) {
      a.La(a, b, c);
      a.ea = true;
      a.$a = false;
    };
    Ja.prototype.X = function (a, b, c) {
      a.Ra = performance.now();
      a.La(a, b, c);
      a.ea = false;
      a.$a || (a.Da = true);
      0 <= a.T && a.T < a.R.width && 0 <= a.V && a.V < a.R.height ? a.o || (a.u || a.R.focus(), a.o = true, a.notification.clear(true, false), a.nb && a.nb(a.caller)) : a.u && a.notification.clear(true, false);
    };
    Ja.prototype.Ja = function (a, b, c) {
      a.hb(a);
      a.La(a, b, c);
    };
    Ja.prototype.hc = function (a) {
      a.hb(a);
    };
    Ja.prototype.ec = function (a) {
      1 < performance.now() - a.Ra && (a.o || a.notification.clear(true, false), a.R.blur(), a.o = false, a.ea = false, a.T = -1, a.V = -1, a.ga = false, a.za || (a.la(a), a.M < a.wa && (a.M = a.wa)));
    };
    Ja.prototype.Tb = function (a, b) {
      if (!a.Y) {
        if (b.pageX || b.pageY) {
          var c = b.pageX;
          var d = b.pageY;
        } else c = b.clientX + document.body.scrollLeft + document.documentElement.scrollLeft, d = b.clientY + document.body.scrollTop + document.documentElement.scrollTop;
        a.ba(a, c, d);
        b.stopPropagation && b.stopPropagation();
        b.preventDefault();
        a.u = false;
      }
    };
    Ja.prototype.Yb = function (a, b) {
      a.Ra = performance.now();
      if (!a.Y) {
        if (b.pageX || b.pageY) {
          var c = b.pageX;
          var d = b.pageY;
        } else c = b.clientX + document.body.scrollLeft + document.documentElement.scrollLeft, d = b.clientY + document.body.scrollTop + document.documentElement.scrollTop;
        a.X(a, c, d);
        b.stopPropagation && b.stopPropagation();
        b.preventDefault();
        a.u = false;
      }
    };
    Ja.prototype.hb = function (a) {
      a.o || a.ga && "" !== a.notification.i || (a.aa ? a.eb || a.notification.notify("Copy", 15, 3600, 15, true) : a.W ? a.ta ? a.notification.notify("Launch", 15, 3600, 15, true) : a.notification.notify("Expand", 15, 3600, 15, true) : a.notification.notify("Click to control", 15, 3600, 15, true), a.notification.M = true, a.ga = true);
    };
    Ja.prototype.Ub = function (a, b) {
      if (!a.Y) {
        if (b.pageX || b.pageY) {
          var c = b.pageX;
          var d = b.pageY;
        } else c = b.clientX + document.body.scrollLeft + document.documentElement.scrollLeft, d = b.clientY + document.body.scrollTop + document.documentElement.scrollTop;
        a.Ja(a, c, d);
        b.stopPropagation && b.stopPropagation();
        b.preventDefault();
        a.u = false;
      }
    };
    Ja.prototype.Wb = function (a, b) {
      a.Y || (a.hc(a), b.stopPropagation && b.stopPropagation(), b.preventDefault(), a.u = false);
    };
    Ja.prototype.Vb = function (a, b) {
      a.Y || (a.ec(a), b.stopPropagation && b.stopPropagation(), b.preventDefault(), a.u = false);
    };
    Ja.prototype.cc = function (a) {
      for (var b = [1, 1], c; null !== a;) c = window.getComputedStyle(a), c = c.getPropertyValue("transform"), "none" !== c && (c = c.split(", "), c[0] = c[0].substring(7), c[5] = c[5].substring(0, c[5].length - 1), b[0] *= parseFloat(c[0]), b[1] *= parseFloat(c[3])), a = a.parentElement;
      return b;
    };
    Ja.prototype.ia = function (a, b, c) {
      var d = this.R.getBoundingClientRect(), f = a.cc(a.R);
      window.scrollX ? (b -= d.left + window.scrollX, c -= d.top + window.scrollY) : (b -= d.left + window.pageXOffset, c -= d.top + window.pageYOffset);
      b /= f[0];
      c /= f[1];
      1 === f[0] && 1 === f[1] && (b /= a.Ia, c /= a.Ia);
      return [b - 1 | 0, c - 1 | 0];
    };
    Ja.prototype.La = function (a, b, c) {
      b = a.ia(a, b, c);
      a.T = b[0];
      a.V = b[1];
      a.la(a);
      a.M < a.wa && (a.M = a.wa);
    };
    Ja.prototype.ue = function (a) {
      !a && !this.notification.V() || this.fa || this.la(this);
      this.fa = a;
    };
    var Ya = {rules: [], Zp: [], Ul: [], Kp: [], HC: function (a, b, c, d, f) {
      var e, k = this.Ul.length, g = false, m = a.h.toLowerCase();
      m = m.replace(/ /g, "_");
      for (e = 0; e < k && !g;) {
        var p = this.Ul[e];
        p.name === m ? (g = true, p.pattern[p.pattern.length] = a, p.cp[p.cp.length] = b, p.Fo[p.Fo.length] = c, p.xp[p.xp.length] = d, p.view[p.view.length] = f) : e += 1;
      }
      g || (this.Ul[k] = {name: m, pattern: [a], cp: [b], Fo: [c], xp: [d], view: [f]});
      return g;
    }, wD: function (a) {
      var b = 0, c = this.Kp.length, d = false, f = "";
      a = a.toLowerCase();
      for (a = a.replace(/ /g, "_"); b < c && !d;) this.Kp[b].name === a ? (d = true, f = this.Kp[b].definition) : b += 1;
      return f;
    }, qF: function (a) {
      var b, c = this.Ul.length, d = false, f = a.h.toLowerCase();
      f = f.replace(/ /g, "_");
      for (a = 0; a < c && !d;) {
        var e = this.Ul[a];
        if (e.name === f) for (d = true, e.name = "", b = 0; b < e.cp.length; b += 1) null !== e.cp[b] && (this.Qy(e.pattern[b]), e.pattern[b].U.P = "", e.pattern[b].U.ab = true, e.pattern[b].U.gj = false, e.cp[b](e.pattern[b], e.xp[b], e.view[b])); else a += 1;
      }
    }, sq: function (a) {
      var b, c = this.Ul.length, d = false, f = a.h.toLowerCase();
      f = f.replace(/ /g, "_");
      for (a = 0; a < c && !d;) {
        var e = this.Ul[a];
        if (e.name === f) for (d = true, e.name = "", b = 0; b < e.Fo.length; b += 1) null !== e.Fo[b] && (e.pattern[b].Ea = e.pattern[b].BA, e.Fo[b](e.pattern[b], e.xp[b], e.view[b])); else a += 1;
      }
    }, add: function (a, b, c, d, f, e) {
      var k, g = this.rules.length, m = false, p = a.h.toLowerCase();
      p = p.replace(/ /g, "_");
      for (k = 0; k < g && !m;) this.rules[k].name === p ? m = true : k += 1;
      m || (this.rules[g] = null === a.ia ? {name: p, Hy: true, Cv: a.ja, QE: a.eb, SE: a.hb, TC: a.cb, IF: a.$a, JF: a.bb, Bo: a.Da, Rp: a.ya, names: a.Xa, ha: a.Kb, Ax: e} : {name: p, Hy: false, Cv: a.sa, Kl: a.Qa, $C: a.Ha, output: a.ia, DB: a.Ia, Bo: a.Da, iD: a.gb, Rp: a.ya, names: a.Xa, Ax: e}, this.Zp[g] = {fetch: b | 0, decode: c | 0, size: d}, this.Kp[g] = {name: p, definition: f}, this.qF(a));
    }, Qy: function (a) {
      var b, c = this.rules.length, d = null, f = false, e = a.h.toLowerCase();
      e = e.replace(/ /g, "_");
      for (b = 0; b < c && !f;) this.rules[b].name === e ? (f = true, d = this.rules[b]) : b += 1;
      f && (a.ia = null, d.Hy ? (a.ja = d.Cv, a.eb = d.QE, a.hb = d.SE, a.cb = d.TC, a.$a = d.IF, a.bb = d.JF, a.ha = d.ha) : (a.sa = d.Cv, a.Qa = d.Kl, a.Ha = d.$C, a.ia = d.output, a.Ia = d.DB, a.gb = d.iD, a.ha = a.Qa === Ba.ug ? true : false), a.Da = d.Bo, a.ya = d.Rp, a.Xa = d.names, a.ea = false, a.U.C = d.Ax);
      return f;
    }}, Ba = {Ai: 0, vg: 1, ug: 2, wj: 3, qv: -1, KF: 0, LF: 1, MF: 2, OF: 3, NF: ["circles", "diamonds", "hexagons", "triangles"]};
    kb.prototype.Wb = function () {
      var a = false;
      this.Ea && 0 !== this.B[0] && (a = true);
      return a;
    };
    kb.prototype.Ab = function (a) {
      var b = "";
      if (this.va !== a || this.wa !== a) this.va !== a && (b += "C" + this.va), this.wa !== a && (b += "E" + this.wa);
      return b;
    };
    kb.prototype.Vb = function (a) {
      this.Fa = a.Fa;
      this.h = a.h;
      this.da = a.da;
      this.ma = a.ma;
      this.ea = a.ea;
      this.M = a.M;
      this.ha = a.ha;
      this.ra = a.ra;
      this.o = a.o;
      this.za = a.za;
      this.Ga = a.Ga;
      this.W = a.W;
      this.pa = a.pa;
      this.ga = a.ga;
      this.X = a.X;
      this.v = a.v;
      this.la = a.la;
      this.ua = a.ua;
      this.C = a.C;
      this.Y = a.Y;
      this.V = a.V;
      this.ba = a.ba;
      this.Ea = a.Ea;
      this.u = a.u;
      this.m = a.m;
      this.i = a.i;
      this.A = a.A;
      this.Z = a.Z;
      this.na = a.na;
      this.fa = a.fa;
      a.T && (this.T = new Uint8Array(a.T.length), this.T.set(a.T));
      a.B && (this.B = new Uint8Array(a.B.length), this.B.set(a.B));
    };
    kb.prototype.Ub = function (a, b) {
      a.T && (this.La = b.h(oa.Ka, a.T.length, "HROT.altSurvivals"), this.La.set(a.T));
      a.B && (this.Ja = b.h(oa.Ka, a.B.length, "HROT.altBirths"), this.Ja.set(a.B));
      this.Rb = a.C;
      this.Sb = a.Y;
      this.Pb = a.V;
      this.Nb = a.ba;
    };
    kb.prototype.Zb = function () {
      this.M = this.h = this.Fa = "";
      this.ha = this.ea = this.ma = this.da = false;
      this.ra = this.U.na;
      this.o = false;
      this.Ga = this.za = 0;
      this.W = this.U.da;
      this.pa = -1;
      this.X = this.ga = false;
      this.la = this.v = -1;
      this.Ea = false;
      this.i = this.m = this.u = -1;
      this.A = 2;
    };
    kb.prototype.Yb = function (a) {
      return this.X !== a.X || this.Ea !== a.Ea ? "Alternate is different rule family" : (-1 === this.i ? this.A : this.i) !== (-1 === a.i ? a.A : a.i) ? "Alternate has different number of states" : this.ma !== a.ma || this.da !== a.da || this.ha !== a.ha || this.ra !== a.ra || this.o !== a.o || this.W !== a.W || this.ga !== a.ga || -1 === this.pa && -1 !== a.pa || -1 !== this.pa && -1 === a.pa || this.la !== a.la || this.m !== a.m ? "Alternate has different neighborhood" : this.v !== a.v || this.u !== a.u ? "Alternate has different range" : this.ea || a.ea ? "Alternate can not use none" : this.Z !== a.Z || this.na !== a.na || this.fa !== a.fa ? "Alternate has different neighbourhood" : "";
    };
    va.prototype.Zc = function (a, b, c) {
      var d, f, e = 0, k = 0, g = 0, m = false;
      var p = b.length;
      for (d = f = 0; d < p;) {
        var n = b[d];
        d += 1;
        switch (f) {
          case 0:
            switch (n) {
              case "!":
                f = 1;
                a.s += "#C ";
                var q = true;
                break;
              case "O":
              case "o":
              case "*":
              case ".":
                f = 2;
                k = e = g = 0;
                var l = --d;
            }
            break;
          case 1:
            "\r" !== n && "\n" !== n && (" " === n ? q || (a.title += n, a.s += n) : (q = false, a.title += n, a.s += n));
            "\n" === n && (f = 0, a.s += n, a.title += " ");
            break;
          case 2:
            switch (n) {
              case "O":
              case "o":
              case "*":
              case ".":
                k += 1;
                break;
              case "\n":
                g += 1;
                k > e && (e = k);
                k = 0;
                break;
              case " ":
              case "	":
                break;
              default:
                d = p, m = true;
            }
        }
      }
      if (!m) {
        2 === f && "\n" !== n && (g += 1, k > e && (e = k));
        a.height = g;
        a.width = e;
        a.Ya = "Cells";
        a.R = Array.matrix(oa.xa, a.height, (a.width - 1 >> 4) + 1, 0, c, "Pattern.lifeMap");
        d = l;
        for (f = e = 0; d < p;) switch (n = b[d], d += 1, n) {
          case "\n":
            e += 1;
            f = 0;
            break;
          case "O":
          case "o":
          case "*":
            a.R[e][f >> 4] |= 1 << (~f & 15);
            f += 1;
            break;
          case ".":
            f += 1;
        }
        this.ab = true;
        "#C " === a.s && (a.s = "");
        this.va(a, "", c, false);
      }
    };
    va.prototype.Tc = function (a, b, c) {
      var d, f;
      var e = b.length;
      var k = [];
      var g = 0;
      var m = false;
      var p = f = 0;
      var n = false;
      for (d = 10; d < e;) {
        var q = b[d];
        d += 1;
        switch (q) {
          case "\n":
            n && (n = false, 2 === l && m && (p = -p, m = false), k[g] = [f, p], g += 1);
            var l = p = f = 0;
            break;
          case "-":
            m = true;
            0 === l ? l = 1 : 1 === l && (l = 2);
            break;
          case " ":
            1 === l && (m && (f = -f, m = false), l = 2);
            break;
          case "0":
          case "1":
          case "2":
          case "3":
          case "4":
          case "5":
          case "6":
          case "7":
          case "8":
          case "9":
            0 === l && (l = 1), 1 === l ? f = 10 * f + parseInt(q, 10) : (p = 10 * p + parseInt(q, 10), n = true);
        }
      }
      n && (2 === l && m && (p = -p), k[g] = [f, p], g += 1);
      if (g) {
        e = b = k[0][0];
        l = q = k[0][1];
        for (d = 1; d < g; d += 1) f = k[d][0], p = k[d][1], f < b && (b = f), f > e && (e = f), p < q && (q = p), p > l && (l = p);
        a.height = l - q + 1;
        a.width = e - b + 1;
        a.R = Array.matrix(oa.xa, a.height, (a.width - 1 >> 4) + 1, 0, c, "Pattern.lifeMap");
        a.Ya = "Life 1.06";
        this.va(a, "", c, false);
        for (d = 0; d < g; d += 1) f = k[d][0] - b, p = k[d][1] - q, a.R[p][f >> 4] |= 1 << (~f & 15);
      }
    };
    va.prototype.Vb = function (a, b, c, d) {
      var f, e, k = [], g = 0, m = b.length;
      var p = "";
      var n = false;
      var q = 0, l = 0, r = false, u = false, t = 0, v = 0;
      c = c ? 10 : 0;
      for (this.ab = true; c < m && !u;) {
        var B = b[c];
        c += 1;
        switch (q) {
          case 0:
            switch (B) {
              case "#":
                q = 2;
                break;
              case "*":
              case ".":
                q = 3;
                var w = e = f = 0;
                var y = --c;
            }
            break;
          case 2:
            switch (B) {
              case "C":
              case "D":
                q = 1;
                a.s += "#C ";
                var D = true;
                break;
              case "N":
                q = 0;
                break;
              case "R":
                q = 4;
                break;
              case "P":
                q = 5;
                l = 0;
                r = false;
                v = t = 0;
                break;
              case "\n":
                q = 0;
                break;
              default:
                q = 1, D = true;
            }
            break;
          case 1:
            "\r" !== B && "\n" !== B && (" " === B ? D || (a.title += B, a.s += B) : (D = false, a.title += B, a.s += B));
            "\n" === B && (q = 0, a.title += " ", a.s += B);
            break;
          case 4:
            "\n" === B ? q = 0 : (p += B, n = true);
            break;
          case 5:
            switch (B) {
              case "\n":
                q = 0;
                2 === l && r && (v = -v, r = false);
                break;
              case "-":
                r = true;
                0 === l ? l = 1 : 1 === l && (l = 2);
                break;
              case " ":
                1 === l && (r && (t = -t, r = false), l = 2);
                break;
              case "0":
              case "1":
              case "2":
              case "3":
              case "4":
              case "5":
              case "6":
              case "7":
              case "8":
              case "9":
                0 === l && (l = 1), 1 === l ? t = 10 * t + parseInt(B, 10) : v = 10 * v + parseInt(B, 10);
            }
            break;
          case 3:
            switch (B) {
              case "\n":
                f > e && (e = f);
                f = 0;
                w += 1;
                break;
              case "#":
                k[g] = new hc(t, v, e, w, y, c - 1);
                g += 1;
                q = 2;
                break;
              case "*":
              case ".":
                f += 1;
                break;
              case " ":
              case "	":
                break;
              default:
                u = true;
            }
        }
      }
      "\n" !== B && (w += 1);
      3 === q && (k[g] = new hc(t, v, e, w, y, c - 1), g += 1);
      if (g && !u) {
        t = k[0].Zn;
        v = k[0].$n;
        B = t + k[0].width - 1;
        f = v + k[0].height - 1;
        for (c = 1; c < g; c += 1) k[c].Zn < t && (t = k[c].Zn), k[c].$n < v && (v = k[c].$n), k[c].Zn + k[c].width - 1 > B && (B = k[c].Zn + k[c].width - 1), k[c].$n + k[c].height - 1 > f && (f = k[c].$n + k[c].height - 1);
        a.height = f - v + 1;
        a.width = B - t + 1;
        a.R = Array.matrix(oa.xa, a.height, (a.width - 1 >> 4) + 1, 0, d, "Pattern.lifeMap");
        a.Ya = "Life 1.05";
        a.ka = Array.matrix(oa.Ka, a.height, a.width, 0, d, "Pattern.multiStateMap");
        n ? (this.Zb(a, p, false, d), this.ab ? 0 <= a.i || a.O || (a.ka = null) : (a.i = -1, a.O = false, a.L = false, a.$ = false)) : this.va(a, "", d, false);
        for (c = 0; c < g; c += 1) for (d = k[c].dG, p = k[c].jD, f = k[c].Zn - t, B = k[c].$n - v, n = f, e = B; d <= p;) switch (B = b[d], d += 1, B) {
          case "\n":
            e += 1;
            n = f;
            break;
          case "*":
            a.R[e][n >> 4] |= 1 << (~n & 15);
            a.ka && (a.ka[e][n] = 1);
            n += 1;
            break;
          default:
            n += 1;
        }
      }
    };
    va.prototype.ba = function (a, b, c, d) {
      var f = 0, e, k, g;
      c && (f = 4);
      for (k = 0; 8192 > k; k += 8) for (g = 0; 4 > g; g += 1) {
        c = 0;
        for (e = k + g & d; 0 < e;) c += e & 1, e >>= 1;
        b === c && (a[k + g + f] = 1);
      }
    };
    va.prototype.Ba = function (a, b, c, d) {
      var f = 0, e, k, g;
      c && (f = 16);
      for (k = 0; 512 > k; k += 32) for (g = 0; 16 > g; g += 1) {
        c = 0;
        for (e = k + g & d; 0 < e;) c += e & 1, e >>= 1;
        b === c && (a[k + g + f] = 1);
      }
    };
    va.prototype.Bd = function (a) {
      return (a & 7) << 6 | (a & 448) >> 6 | a & 56;
    };
    va.prototype.sc = function (a) {
      return (a & 4) << 6 | (a & 32) << 2 | (a & 256) >> 2 | (a & 2) << 4 | a & 16 | (a & 128) >> 4 | (a & 1) << 2 | (a & 8) >> 2 | (a & 64) >> 6;
    };
    va.prototype.Vd = function (a, b, c) {
      var d;
      for (d = 0; 4 > d; d += 1) a[b] = c, b = this.sc(b);
      b = this.Bd(b);
      for (d = 0; 4 > d; d += 1) a[b] = c, b = this.sc(b);
    };
    va.prototype.Rd = function (a, b, c, d, f, e) {
      var k = c ? 16 : 0;
      if (2 > b || 4 < b) this.Ba(a, b, c, e); else if (c = "omp".indexOf(d), -1 !== c) for (b = this.Md[b - 2][c], c = 0; c < b.length; c += 1) d = b[c] + k, a[d] = f, a[d + 256] = f, a[d + 1] = f, a[d + 257] = f;
    };
    va.prototype.Ud = function (a, b, c, d, f) {
      var e = 0, k = b - 1;
      0 === b || 8 === b ? this.Ba(a, b, c, 511) : (3 < k && (k = 6 - k, e = 495), b = this.tc[k].indexOf(d), -1 !== b && (e ^= this.Nd[k][b], c && (e |= 16), this.Vd(a, e, f)));
    };
    va.prototype.xc = function (a, b, c, d) {
      var f = b.length, e = 0, k = "", g;
      for (g = 0; g < f; g += 1) {
        var m = b.charCodeAt(g) - 48;
        e |= 1 << m;
        this.Ba(a, m, c, d);
      }
      for (g = 0; 9 > g; g += 1) 0 !== (e & 1 << g) && (k += String(g));
      return k;
    };
    va.prototype.kb = function (a) {
      for (var b = 0; a;) b += 1, a &= a - 1;
      return b;
    };
    va.prototype.Gc = function (a, b) {
      var c = "", d = 0;
      if (b[a]) {
        b = b[a];
        0 !== (b & 8192) && (d = 1, b &= -8193);
        var f = this.kb(b);
        var e = 2 > a || 4 < a ? 0 : 3;
        2 <= f && (b = ~b & (1 << e) - 1) && (d = 1 - d);
        if (!d || b) for (c += String(a), d && (c += "-"), a = 0; a < e; a += 1) 0 !== (b & 1 << a) && (c += "omp"[a]);
      } else c += String(a);
      return c;
    };
    va.prototype.Ic = function (a, b) {
      var c = "", d = 0;
      if (b[a]) {
        b = b[a];
        0 !== (b & 8192) && (d = 1, b &= -8193);
        var f = this.kb(b);
        var e = this.Fd[a];
        (d || 7 !== f || 13 !== e) && f + d > e >> 1 && (b = ~b & (1 << e) - 1) && (d = 1 - d);
        if (!d || b) for (c += String(a), d && (c += "-"), f = 0; f < e; f += 1) d = this.Jd[a][f], 0 !== (b & 1 << d) && (c += this.tc[3][d]);
      } else c += String(a);
      return c;
    };
    va.prototype.uc = function (a, b, c, d) {
      var f = b.length, e = 0, k = [], g = "", m;
      b += " ";
      for (m = 0; 7 > m; m += 1) k[m] = 0;
      for (m = 0; m < f; m += 1) {
        var p = b.charCodeAt(m) - 48;
        if (0 <= p && 8 >= p) {
          var n = 0 !== (e & 1 << p);
          e |= 1 << p;
          var q = b[m + 1];
          var l = this.fb[p].indexOf(q);
          -1 !== l || n || this.Ba(a, p, c, d);
          var r = 1;
          "-" === q && (r = 0, m += 1, q = b[m + 1], l = this.fb[p].indexOf(q));
          -1 !== l || "0" <= q && "9" >= q || " " === q || (this.P = (c ? "S" : "B") + p + q + " not valid", m = f);
          n && (n = 0, 0 === (k[p] & 8192) && (n = 1), n !== r && (this.P = (c ? "S" : "B") + p + " can not have minus and non-minus", l = -1, m = f));
          for (; -1 !== l;) 0 !== (k[p] & 1 << l) ? (this.P = "Duplicate " + p + this.fb[p][l], l = -1, m = f) : (this.Rd(a, p, c, q, r, d), k[p] |= 1 << l, r || (k[p] |= 8192), m += 1, q = b[m + 1], l = this.fb[p].indexOf(q));
        } else this.P = "Missing digit prefix";
      }
      for (m = 0; 7 > m; m += 1) 0 !== (e & 1 << m) && (g += this.Gc(m, k));
      return g;
    };
    va.prototype.wc = function (a, b, c) {
      var d = b.length, f = 0, e = [], k = "", g;
      b += " ";
      for (g = 0; 9 > g; g += 1) e[g] = 0;
      for (g = 0; g < d; g += 1) {
        var m = b.charCodeAt(g) - 48;
        if (0 <= m && 8 >= m) {
          var p = 0 !== (f & 1 << m);
          f |= 1 << m;
          var n = b[g + 1];
          var q = this.gb[m].indexOf(n);
          -1 !== q || p || this.Ba(a, m, c, 511);
          var l = 1;
          "-" === n && (l = 0, g += 1, n = b[g + 1], q = this.gb[m].indexOf(n));
          -1 !== q || "0" <= n && "9" >= n || " " === n || (this.P = (c ? "S" : "B") + m + n + " not valid", g = d);
          p && (p = 0, 0 === (e[m] & 8192) && (p = 1), p !== l && (this.P = (c ? "S" : "B") + m + " can not have minus and non-minus", q = -1, g = d));
          for (; -1 !== q;) 0 !== (e[m] & 1 << q) ? (this.P = "Duplicate " + m + this.gb[m][q], q = -1, g = d) : (this.Ud(a, m, c, n, l), e[m] |= 1 << q, l || (e[m] |= 8192), g += 1, n = b[g + 1], q = this.gb[m].indexOf(n));
        } else this.P = "Missing digit prefix";
      }
      for (g = 0; 9 > g; g += 1) 0 !== (f & 1 << g) && (k += this.Ic(g, e));
      return k;
    };
    va.prototype.Sc = function (a, b) {
      var c;
      for (c = 0; 512 > c; c += 1) a[c] = 0 !== (b & 1 << (c & 7)) ? 1 : 0 !== (c & 16) ? 1 : 0;
    };
    va.prototype.mb = function (a, b, c) {
      var d = 12, f = 8191, e = a.za, k = a.Ga;
      switch (a.W) {
        case this.ga:
          d = 3;
          f = this.$d;
          break;
        case this.ia:
          d = 9;
          f = this.ge;
          break;
        case this.sa:
          d = 6;
          f = this.ae;
          break;
        case this.ta:
          d = 6;
          f = this.be;
          break;
        case this.ra:
          d = 9;
          f = this.Zd;
          break;
        case this.ua:
          d = 3, f = this.fe;
      }
      b.fill(0);
      c && c.fill(0);
      if (0 !== (e & 1)) if (0 !== (k & 1 << d)) {
        e = ~e;
        k = ~k;
        for (a = 0; a <= d; a += 1) k & 1 << d - a && this.ba(b, a, false, f);
        for (a = 0; a <= d; a += 1) e & 1 << d - a && this.ba(b, a, true, f);
        c.set(b);
      } else {
        for (a = 0; a <= d; a += 1) ~e & 1 << a && this.ba(c, a, false, f);
        for (a = 0; a <= d; a += 1) ~k & 1 << a && this.ba(c, a, true, f);
        for (a = 0; a <= d; a += 1) k & 1 << d - a && this.ba(b, a, false, f);
        for (a = 0; a <= d; a += 1) e & 1 << d - a && this.ba(b, a, true, f);
        this.$ = true;
      } else {
        for (a = 0; a <= d; a += 1) 0 !== (e & 1 << a) && this.ba(b, a, false, f);
        for (a = 0; a <= d; a += 1) 0 !== (k & 1 << a) && this.ba(b, a, true, f);
        c && c.set(b);
      }
    };
    va.prototype.Rc = function (a, b, c, d, f) {
      var e = this.Lb, k = "", g = "";
      switch (f) {
        case this.ga:
          e = this.Kb;
          break;
        case this.ia:
          e = this.Nb;
          break;
        case this.sa:
          e = this.Bc;
          break;
        case this.ta:
          e = this.Ec;
          break;
        case this.ra:
          e = this.Ac;
          break;
        case this.ua:
          e = this.Fc;
      }
      for (f = a.za = 0; f < b.length; f += 1) {
        var m = e.indexOf(b[f]);
        a.za |= 1 << m;
      }
      for (f = a.Ga = 0; f < c.length; f += 1) m = e.indexOf(c[f]), a.Ga |= 1 << m;
      for (f = 0; f < e.length; f += 1) 0 !== (a.za & 1 << f) && (k += e[f]);
      for (f = 0; f < e.length; f += 1) 0 !== (a.Ga & 1 << f) && (g += e[f]);
      return -1 !== d ? g + "/" + k + "/" + d : "B" + k + "/S" + g;
    };
    va.prototype.Qc = function (a, b, c, d, f) {
      var e = 0, k = this.Yd;
      var g = (1 << this.wa + 1) / 6 | 0;
      var m = new Uint8Array(512), p = a.da, n = a.ma, q = a.ha;
      var l = a.ra;
      var r = a.o, u = a.W, t = a.ga, v = a.i;
      if (a.ea) c = this.cc; else if (p || n) for (c = p ? "M" : "2PCA4,", l = 0; 16 > l; l += 1) c += f[l], 15 > l && (c += ","); else if (r) c = this.Rc(a, b, c, v, u); else {
        a = 511;
        q ? a = l === this.oa ? 114 : 254 : t && (a = 186);
        m.fill(0);
        f.fill(0);
        for (l = 0; l < m.length; l += 1) k[l] = q ? l : (l & 448) >> 6 | l & 56 | (l & 7) << 6;
        if ("" !== d) {
          c = "MAP";
          for (l = 0; l < g; l += 1) c += d[l], b = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(d[l]), m[e] = b >> 5, e += 1, m[e] = b >> 4 & 1, e += 1, m[e] = b >> 3 & 1, e += 1, m[e] = b >> 2 & 1, e += 1, m[e] = b >> 1 & 1, e += 1, m[e] = b & 1, e += 1;
          b = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(d[l]);
          m[e] = b >> 5;
          m[e + 1] = b >> 4 & 1;
          c += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b & 48];
          for (l = 0; 512 > l; l += 1) {
            d = 0;
            g = this.wa;
            for (e = 8; 0 <= e; --e) 0 !== (a & 1 << e) && (0 !== (l & 1 << e) && (d |= 1 << g), --g);
            f[k[l]] = m[d];
          }
          -1 !== v && (c += "/" + v);
        } else t ? (e = this.xc(f, b, false, a), f = this.xc(f, c, true, a)) : q ? (e = this.uc(f, b, false, a), f = this.uc(f, c, true, a)) : (e = this.wc(f, b, false), f = this.wc(f, c, true)), c = -1 !== v ? f + "/" + e + "/" + v : "B" + e + "/S" + f;
      }
      return c;
    };
    va.prototype.nc = function (a) {
      var b = a, c = 0;
      if (-1 !== a.indexOf(" ")) for (b = ""; c < a.length;) " " !== a[c] && (b += a[c]), c += 1;
      return b;
    };
    va.prototype.yd = function (a, b, c) {
      for (var d = true, f = 0, e, k = 1; k < b.length && d;) e = "0123456789".indexOf(b[k]), -1 !== e ? f = 10 * f + e : (this.P = "Illegal character in Wolfram rule", d = false), k += 1;
      d && (0 > f || 254 < f || 0 !== (f & 1) ? (this.P = "Wolfram rule number must be even from 0-254", d = false) : (this.Sc(c, f), a.pa = f, a.h = "W" + f));
      return d;
    };
    va.prototype.Jc = function (a, b, c) {
      var d = null;
      if ("" === b) if (a.ha) a.h += "H", a.ra === this.oa && (a.h += "T"); else if (a.ga) a.h += "V"; else if (a.o) switch (a.W) {
        case this.da:
          a.h += this.Da.toUpperCase();
          break;
        case this.ga:
          a.h += this.Ca.toUpperCase();
          break;
        case this.ia:
          a.h += this.Fa.toUpperCase();
          break;
        case this.sa:
          a.h += this.bb.toUpperCase();
          break;
        case this.ta:
          a.h += this.cb.toUpperCase();
          break;
        case this.ra:
          a.h += this.$a.toUpperCase();
          break;
        case this.ua:
          a.h += this.eb.toUpperCase();
      }
      c || (d = bb.Ho(a.h));
      if (null === d && a.X && 0 === a.ua) {
        b = "R" + a.v + ",C" + a.i + ",M1,S" + a.C + ".." + a.Y + ",B" + a.V + ".." + a.ba + ",N";
        switch (a.la) {
          case this.i:
            b += "M";
            break;
          case this.m:
            b += "N";
            break;
          case this.X:
            b += "C";
            break;
          case this.R:
            b += "+";
            break;
          case this.V:
            b += "X";
            break;
          case this.W:
            b += "*";
            break;
          case this.Y:
            b += "2";
            break;
          case this.H:
            b += "H";
            break;
          case this.O:
            b += "B";
            break;
          case this.M:
            b += "D";
            break;
          case this.T:
            b += "#";
            break;
          case 10:
            b += "@" + a.fa + a.Z;
            break;
          case this.B:
            b += "3";
            break;
          case this.u:
            b += "A";
            break;
          case this.L:
            b += "L";
            break;
          case this.v:
            b += "G";
            break;
          case 15:
            b += "W" + a.fa + a.Z;
            break;
          case this.s:
            b += "F" + a.Ab(a.v);
        }
        d = bb.Ho(b);
      }
      a.O && (a.h += "History");
      a.L && (a.h += "Super");
      a.$ && (a.h += "Investigator");
      -1 !== a.l && (a.h += ":" + "ptkcs"[a.l].toUpperCase(), a.h += a.H, a.Ib || (a.h += "*"), a.Hb && (a.h += "*"), a.Ba && (a.h = 0 > a.Ba ? a.h + a.Ba : a.h + ("+" + a.Ba)), 4 !== a.l && (a.h += "," + a.aa, a.Jb && (a.h += "*"), a.Ca && (a.h = 0 > a.Ca ? a.h + a.Ca : a.h + ("+" + a.Ca))));
      null !== d && ("" === d && (d = "Life"), a.O && (d += "History"), a.L && (d += "Super"), a.$ && (d += "Investigator"), a.M = d);
    };
    va.prototype.ie = function (a, b) {
      var c = 86, d = a.length;
      d >= c ? this.wa = 8 : (c = this.Oa, d >= c ? (this.wa = 6, b.ha = true) : (c = this.Qa, d >= c ? (this.wa = 4, b.ga = true) : c = -1));
      if (0 <= c) for (b = 0; b < c; b += 1) -1 === "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[b]) && (c = -1);
      return c;
    };
    va.prototype.l = function (a, b, c, d, f, e) {
      var k = 0, g = b.length, m = a.substring(this.h, this.h + g), p = e.v;
      if (m !== b) "," === b[0] && ("," === m[0] && (m = m.substring(1)), b = b.substring(1)), this.P = "LtL expected '" + b.toUpperCase() + "' got '" + m.toUpperCase() + "'", this.h = -1; else if ("," === b[0] && (b = b.substring(1)), this.h += g, this.h < a.length ? (g = a[this.h], m = g.charCodeAt(0)) : (g = "", m = -1), "n" === b) switch (g) {
        case "m":
          this.h += 1;
          k = this.i;
          break;
        case "n":
          this.h += 1;
          k = this.m;
          break;
        case "c":
          this.h += 1;
          k = this.X;
          break;
        case "+":
          this.h += 1;
          k = this.R;
          break;
        case "x":
          this.h += 1;
          k = this.V;
          break;
        case "*":
          this.h += 1;
          k = this.W;
          break;
        case "2":
          this.h += 1;
          k = this.Y;
          break;
        case "h":
          this.h += 1;
          k = this.H;
          break;
        case "b":
          this.h += 1;
          k = this.O;
          break;
        case "d":
          this.h += 1;
          k = this.M;
          break;
        case "#":
          this.h += 1;
          k = this.T;
          break;
        case "@":
          this.h += 1;
          k = this.ec(a, p, "LtL", e);
          -1 === k && (this.h = -1);
          break;
        case "3":
          this.h += 1;
          k = this.B;
          break;
        case "a":
          this.h += 1;
          k = this.u;
          break;
        case "l":
          this.h += 1;
          k = this.L;
          break;
        case "g":
          this.h += 1;
          k = this.v;
          break;
        case "w":
          this.h += 1;
          k = this.mc(a, p, "LtL", e);
          -1 === k && (this.h = -1);
          break;
        case "f":
          this.h += 1;
          k = this.dc(a, p, "LtL", e);
          -1 === k && (this.h = -1);
          break;
        default:
          this.P = "LtL 'N' [ABCDFGHLMNWX23*+#@] got 'N" + g.toUpperCase() + "'", this.h = -1;
      } else if (48 > m || 57 < m) this.P = "LtL '" + f + b.toUpperCase() + "' needs a number", this.h = -1; else {
        for (; 48 <= m && 57 >= m;) k = 10 * k + (m - 48), this.h += 1, this.h < a.length ? m = a[this.h].charCodeAt(0) : m = -1;
        -1 !== c && k < c && (this.P = "LtL '" + f + b.toUpperCase() + k + "' < " + c, this.h = -1);
        -1 !== d && k > d && (this.P = "LtL '" + f + b.toUpperCase() + k + "' > " + d, this.h = -1);
      }
      return k;
    };
    va.prototype.pa = function (a, b, c) {
      var d = 0;
      switch (b) {
        case this.i:
          d = (2 * a + 1) * (2 * a + 1) - 1;
          break;
        case this.m:
          d = 2 * a * (a + 1);
          break;
        case this.X:
          c = 0;
          var f = a * a + a;
          for (b = -a; b <= a; b += 1) {
            for (d = 0; (d + 1) * (d + 1) + b * b <= f;) d += 1;
            c += 2 * d + 1;
          }
          d = c - 1;
          break;
        case this.R:
          d = 4 * a;
          break;
        case this.V:
          d = 4 * a;
          break;
        case this.W:
          d = 8 * a;
          break;
        case this.Y:
          c = 0;
          f = a * a;
          for (b = -a; b <= a; b += 1) {
            for (d = 0; (d + 1) * (d + 1) + b * b <= f;) d += 1;
            c += 2 * d + 1;
          }
          d = c - 1;
          break;
        case this.H:
          d = (2 * a + 1) * (2 * a + 1) - a * (a + 1) - 1;
          break;
        case this.O:
          d = ((2 * a + 1) * (2 * a + 1) - 1) / 2;
          break;
        case this.M:
          d = ((2 * a + 1) * (2 * a + 1) - 1) / 2;
          break;
        case this.T:
          d = 8 * a;
          break;
        case 10:
          d = c;
          break;
        case this.B:
          d = 3 * a;
          break;
        case this.u:
          d = 6 * a;
          break;
        case this.L:
          d = (4 * a + 1) * (2 * a + 1) - 2 * a * a - 1;
          break;
        case this.v:
          d = (a + 1) * (a + 1) * (a + 1) * (a + 1);
          break;
        case 15:
          d = c;
          break;
        case this.s:
          d = 8;
      }
      return d;
    };
    va.prototype.kd = function (a, b) {
      var c = false;
      this.h = 0;
      var d = this.l(b, "r", 1, 500, "", a);
      -1 !== this.h && (a.v = d, d = this.l(b, ",c", 0, 256, "", a), -1 !== this.h && (2 > d && (d = 2), a.i = d, d = this.l(b, ",m", 0, 1, "", a), -1 !== this.h && (a.ua = d, d = this.l(b, ",s", 0, -1, "", a), -1 !== this.h && (a.C = d, d = this.l(b, "..", a.C, -1, "S", a), -1 !== this.h && (a.Y = d, d = this.l(b, ",b", 0, -1, "", a), -1 !== this.h && (a.V = d, d = this.l(b, "..", a.V, -1, "B", a), -1 !== this.h && (a.ba = d, d = this.l(b, ",n", -1, -1, "", a), -1 !== this.h && (a.la = d, c = true))))))));
      c && (this.h !== b.length ? (c = false, this.P = "LtL invalid characters after rule") : (b = this.pa(a.v, a.la, a.na), b += a.ua, a.V > b && (c = false, this.P = "LtL 'B" + a.V + "..' > " + b), a.ba > b && (c = false, this.P = "LtL 'B.." + a.ba + "' > " + b), a.C > b && (c = false, this.P = "LtL 'S" + a.C + "..' > " + b), a.Y > b && (c = false, this.P = "LtL 'S.." + a.Y + "' > " + b)));
      return c;
    };
    va.prototype.md = function (a, b) {
      var c = false;
      this.h = 0;
      a.i = 2;
      a.ua = 1;
      a.la = this.i;
      var d = this.l(b, "", 1, 500, "", a);
      -1 !== this.h && (a.v = d, d = this.l(b, ",", 0, -1, "", a), -1 !== this.h && (a.V = d, d = this.l(b, ",", a.V, -1, "B", a), -1 !== this.h && (a.ba = d, d = this.l(b, ",", 0, -1, "", a), -1 !== this.h && (a.C = d, d = this.l(b, ",", a.C, -1, "S", a), -1 !== this.h && (a.Y = d, c = true)))));
      c && (this.h !== b.length ? (c = false, this.P = "LtL invalid characters after rule") : (b = (2 * a.v + 1) * (2 * a.v + 1), a.V > b && (c = false, this.P = "LtL 'B" + a.V + "..' > " + b), a.ba > b && (c = false, this.P = "LtL 'B.." + a.ba + "' > " + b), a.C > b && (c = false, this.P = "LtL 'S" + a.C + "..' > " + b), a.Y > b && (c = false, this.P = "LtL 'S.." + a.Y + "' > " + b)));
      return c;
    };
    va.prototype.ld = function (a, b) {
      var c = false;
      this.h = 0;
      -1 === a.i && (a.i = 2);
      a.ua = 1;
      a.la = this.i;
      var d = this.l(b, "r", 1, 500, "", a);
      -1 !== this.h && (a.v = d, d = this.l(b, "b", 0, -1, "", a), -1 !== this.h && (a.V = d, d = this.l(b, "t", a.V, -1, "B", a), -1 !== this.h && (a.ba = d, d = this.l(b, "s", 0, -1, "", a), -1 !== this.h && (a.C = d, d = this.l(b, "t", a.C, -1, "S", a), -1 !== this.h && (a.Y = d, c = true)))));
      c && (this.h !== b.length ? (c = false, this.P = "LtL invalid characters after rule") : (b = (2 * a.v + 1) * (2 * a.v + 1), a.V > b && (c = false, this.P = "LtL 'B" + a.V + "' > " + b), a.ba > b && (c = false, this.P = "LtL 'B..T" + a.ba + "' > " + b), a.C > b && (c = false, this.P = "LtL 'S" + a.C + "..' > " + b), a.Y > b && (c = false, this.P = "LtL 'S..T" + a.Y + "' > " + b)));
      return c;
    };
    va.prototype.hc = function (a, b, c, d, f) {
      var e = false, k, g = "HROT.", m, p = 0;
      if (this.h + c > a.length) this.P = "HROT '" + b + "' needs " + c + " hex digits"; else {
        for (k = m = 0; m < c && -1 !== k;) k = "0123456789abcdef".indexOf(a[this.h]), -1 !== k && (this.h += 1, m += 1);
        if (-1 === k) this.P = "HROT '" + b + "' expected hex got '" + a[this.h] + "'"; else {
          "B" === b ? g += "births" : (g += "survivals", p = 1);
          f = f.h(oa.Ka, (c << 2) + 1 + p, g);
          e = 0;
          f[e] = 0;
          e += 1;
          --m;
          "S" === b && (f[e] = 0, e += 1);
          for (; 0 <= m;) k = "0123456789abcdef".indexOf(a[this.h - c + m]), --m, f[e] = k & 1, e += 1, f[e] = k >> 1 & 1, e += 1, f[e] = k >> 2 & 1, e += 1, f[e] = k >> 3 & 1, e += 1;
          "B" === b ? d.B = f : d.T = f;
          e = true;
        }
      }
      return e;
    };
    va.prototype.ma = function (a, b) {
      var c = -1;
      this.h += 1;
      if (this.h < a.length) {
        var d = a[this.h].charCodeAt(0);
        if (48 > d || 57 < d) this.P = "HROT '" + b + "' needs a number"; else for (c = d - 48, this.h += 1, d = -1, this.h < a.length && (d = a[this.h].charCodeAt(0)); 48 <= d && 57 >= d;) c = 10 * c + (d - 48), this.h += 1, this.h < a.length ? d = a[this.h].charCodeAt(0) : d = -1;
      } else this.P = "HROT '" + b + "' needs a number";
      return c;
    };
    va.prototype.nb = function (a) {
      var b = -1;
      this.h < a.length && ("#" === a[this.h + 1] ? (this.h += 2, b = -2) : b = this.ma(a, "P"));
      return b;
    };
    va.prototype.Wb = function (a, b, c, d, f) {
      var e = true;
      f && "S" === c && (d += 1);
      var k = this.ma(a, c);
      -1 === k && (this.P = "");
      for (; e && -1 !== k;) {
        var g = -1;
        this.h < a.length && "-" === a[this.h] && (g = this.ma(a, c), -1 === g && (this.P = "HROT '" + c + k + "-' needs a number", e = false));
        if (e && (-1 === g && (g = k), k > g && (this.P = "HROT '" + c + k + "-" + g + "' wrong order", e = false), e)) {
          "S" === c ? (this.Sa = g, f && (k += 1, g += 1)) : this.Ra = g;
          k > d && (k = d);
          for (g > d && (g = d); k <= g; k += 1) b[k] = 1;
          k = -1;
          this.h < a.length && "," === a[this.h] && (k = this.ma(a, c), -1 === k && (--this.h, this.P = ""));
        }
      }
      return e;
    };
    va.prototype.mc = function (a, b, c, d) {
      var f = this.h, e = a.length, k = (2 * b + 1) * (2 * b + 1), g = k + k, m = 0, p = 0, n = [], q = [], l = 0, r = 15;
      for (d.Z = ""; f < e && -1 !== "0123456789abcdef".indexOf(a[f]);) f += 1;
      b = f - this.h;
      if (b === k) for (; this.h < f;) k = "0123456789abcdef".indexOf(a[this.h]), 0 !== (k & 8) && (k = -(k & 7)), n[n.length] = k, this.h += 1; else if (b === g) for (; this.h < f;) k = "0123456789abcdef".indexOf(a[this.h]) << 4, this.h += 1, k |= "0123456789abcdef".indexOf(a[this.h]), this.h += 1, 0 !== (k & 128) && (k = -(k & 127)), n[n.length] = k; else this.P = c + " 'NW' needs " + String(k) + " or " + String(g) + " hex digits", r = -1;
      if (-1 !== r) if ("," === a[this.h]) {
        for (f = this.h += 1; f < e && -1 !== "0123456789abcdef".indexOf(a[f]);) f += 1;
        m = f - this.h;
        if (m !== d.i) this.P = c + " 'NW' needs " + String(d.i) + " state weights", r = -1; else for (f = 0; f < d.i; f += 1) k = "0123456789abcdef".indexOf(a[this.h]), this.h += 1, q[q.length] = k, k > l && (l = k);
      } else l = 1;
      -1 !== r && this.h < e && ("h" === a[this.h] ? (d.Z = "H", this.h += 1, p = 1) : "l" === a[this.h] && (d.Z = "L", this.h += 1, p = 1));
      if (-1 !== r) {
        for (c = k = 0; c < n.length; c += 1) 0 < n[c] && (k += n[c] * l);
        d.fa = 0 < q.length ? a.substring(this.h - (b + m + 1) - p, this.h - p).toLowerCase() : a.substring(this.h - b - p, this.h - p).toLowerCase();
        d.na = k;
        d.ub = n;
        d.zb = q;
      }
      -1 === r && (d.fa = "", d.na = -1, d.ub = null, d.zb = null);
      return r;
    };
    va.prototype.ic = function (a, b) {
      for (var c = 0, d, f = false, e = false; !e && this.h < b;) d = a.charCodeAt(this.h), 48 <= d && 57 >= d ? (f = true, c = 10 * c + (d - 48), this.h += 1) : e = true;
      f || (c = -1);
      return c;
    };
    va.prototype.dc = function (a, b, c, d) {
      var f = a.length, e = -1, k = -1, g = -1;
      if (this.h >= f) return d.va = b, d.wa = b, g = this.s;
      var m = a[this.h].toUpperCase();
      for (this.h += 1; "C" === m || "E" === m;) {
        if ("C" === m) if (-1 === e) {
          if (e = this.ic(a, f), -1 === e && (e = b), 1 > e || 500 < e) return this.P = c + " 'NF' invalid corner range", g;
        } else return this.P = c + " 'NF' duplicate 'C'", g; else if (-1 === k) {
          if (k = this.ic(a, f), -1 === k && (k = b), 1 > k || 500 < k) return this.P = c + " 'NF' invalid edge range", g;
        } else return this.P = c + " 'NF' duplicate 'E'", g;
        this.h < f ? (m = a[this.h].toUpperCase(), this.h += 1) : m = "";
      }
      "" !== m && --this.h;
      d.va = -1 === e ? b : e;
      d.wa = -1 === k ? b : k;
      return g = this.s;
    };
    va.prototype.ec = function (a, b, c, d) {
      var f = this.h, e = a.length, k = 0;
      b = ((2 * b + 1) * (2 * b + 1) - 1) / 4;
      var g = 0, m = 10;
      for (d.Z = ""; f < e && k < b && -1 !== m;) {
        var p = "0123456789abcdef".indexOf(a[f]);
        0 <= p ? (f += 1, k += 1, g += this.kb(p)) : m = -1;
      }
      k !== b && (m = -1);
      -1 === m ? (this.P = c + " 'N@' needs " + String(b) + " hex digits", d.fa = "", d.na = -1) : (d.fa = a.substring(this.h, this.h + k).toLowerCase(), d.na = g, this.h += k, f < e && ("h" === a[f] ? (d.Z = "H", this.h += 1) : "l" === a[f] && (d.Z = "L", this.h += 1)));
      return m;
    };
    va.prototype.Xd = function (a, b) {
      var c = a.v, d;
      a.u = c;
      a.m = a.la;
      c = this.pa(c, a.la, a.na);
      c += a.ua;
      a.T = b.h(oa.Ka, c + 2, "HROT.survivals");
      a.B = b.h(oa.Ka, c + 1, "HROT.births");
      for (d = a.C; d <= a.Y; d += 1) a.T[d] = 1;
      for (d = a.V; d <= a.ba; d += 1) a.B[d] = 1;
      if (this.$) {
        a.La = b.h(oa.Ka, c + 2, "HROT.altSurvivals");
        a.Ja = b.h(oa.Ka, c + 1, "HROT.altBirths");
        for (d = a.Rb; d <= a.Sb; d += 1) a.La[d] = 1;
        for (d = a.Pb; d <= a.Nb; d += 1) a.Ja[d] = 1;
      }
      a.Ea = true;
    };
    va.prototype.gd = function (a, b, c) {
      var d = false, f = 0, e = true, k = b.indexOf(",n"), g = b.indexOf(",p");
      this.Sa = this.Ra = this.h = 0;
      if ("r" !== b[this.h]) this.P = "HROT expected 'R' got '" + b[this.h].toUpperCase() + "'"; else {
        var m = this.ma(b, "R");
        -1 !== m && (1 > m ? this.P = "HROT 'R' < 1" : 500 < m ? this.P = "HROT 'R' > 500" : (a.u = m, d = true));
      }
      d && (d = false, this.h < b.length ? "," !== b[this.h] ? this.P = "HROT expected ',' got " + b[this.h].toUpperCase() : (this.h += 1, this.h < b.length ? "c" !== b[this.h] ? this.P = "HROT expected 'C' got " + b[this.h].toUpperCase() : (m = this.ma(b, "C"), -1 !== m && (0 > m ? this.P = "HROT 'C" + m + "' < 0" : 256 < m ? this.P = "HROT 'C" + m + "' > 256" : (2 > m && (m = 2), a.i = m, d = true))) : this.P = "HROT expected 'C'") : this.P = "HROT expected ','");
      if (d) {
        m = this.h;
        this.h = k;
        e = true;
        a.m = this.i;
        if (-1 !== this.h && this.h < b.length && "," === b[this.h]) {
          d = false;
          this.h += 1;
          if (this.h < b.length) if ("n" === b[this.h]) if (this.h += 1, this.h < b.length) switch (b[this.h]) {
            case "m":
              a.m = this.i;
              this.h += 1;
              d = true;
              break;
            case "n":
              a.m = this.m;
              this.h += 1;
              d = true;
              break;
            case "c":
              a.m = this.X;
              this.h += 1;
              d = true;
              break;
            case "+":
              a.m = this.R;
              this.h += 1;
              d = true;
              break;
            case "x":
              a.m = this.V;
              this.h += 1;
              d = true;
              break;
            case "*":
              a.m = this.W;
              this.h += 1;
              d = true;
              break;
            case "2":
              a.m = this.Y;
              this.h += 1;
              d = true;
              break;
            case "h":
              a.m = this.H;
              this.h += 1;
              d = true;
              break;
            case "b":
              a.m = this.O;
              this.h += 1;
              d = true;
              break;
            case "d":
              a.m = this.M;
              this.h += 1;
              d = true;
              break;
            case "#":
              a.m = this.T;
              this.h += 1;
              d = true;
              break;
            case "@":
              this.h += 1;
              a.m = this.ec(b, a.u, "HROT", a);
              -1 !== a.m && (d = true);
              break;
            case "3":
              a.m = this.B;
              this.h += 1;
              d = true;
              break;
            case "a":
              a.m = this.u;
              this.h += 1;
              d = true;
              break;
            case "l":
              a.m = this.L;
              this.h += 1;
              d = true;
              break;
            case "g":
              a.m = this.v;
              e = false;
              this.h += 1;
              d = true;
              break;
            case "w":
              this.h += 1;
              a.m = this.mc(b, a.u, "HROT", a);
              -1 !== a.m && (e = false, d = true);
              break;
            case "f":
              this.h += 1;
              a.m = this.dc(b, a.u, "HROT", a);
              -1 !== a.m && (d = true);
              break;
            default:
              this.P = "HROT 'N' [ABCDFGHLMNWX23*+#@] got '" + b[this.h].toUpperCase() + "'";
          } else this.P = "HROT 'N' needs a neighborhood"; else this.P = "HROT expected 'N' got '" + b[this.h].toUpperCase() + "'"; else this.P = "HROT expected 'N'";
          k = this.h;
        }
        f = this.pa(a.u, a.m, a.na);
        this.h = m;
      }
      d && (d = false, this.h < b.length ? "," !== b[this.h] ? this.P = "HROT expected ',' got " + b[this.h].toUpperCase() : (this.h += 1, this.h < b.length ? "s" !== b[this.h] ? this.P = "HROT expected 'S' got " + b[this.h].toUpperCase() : (a.T = c.h(oa.Ka, f + 2, "HROT.survivals"), d = this.Wb(b, a.T, "S", f, e)) : this.P = "HROT expected 'S'") : this.P = "HROT expected ','");
      d && (d = false, this.h < b.length ? "," !== b[this.h] ? this.P = "HROT expected ',' got " + b[this.h].toUpperCase() : (this.h += 1, this.h < b.length ? "b" !== b[this.h] ? this.P = "HROT expected 'B' got " + b[this.h].toUpperCase() : (a.B = c.h(oa.Ka, f + 1, "HROT.births"), d = this.Wb(b, a.B, "B", f, e)) : this.P = "HROT expected 'B'") : this.P = "HROT expected ','");
      d && (-1 !== k && (this.h = k), a.mb = false, a.Oa = -1, a.Va = -1, a.Ta = -1, -1 !== g && g === this.h && (a.mb = true, this.h += 2, this.h < b.length && (--this.h, m = this.nb(b), -1 !== m && ((0 > m || 100 < m) && -2 !== m ? this.P = "HROT P values need to be from 0 to 100 or #" : (a.Oa = m, a.Va = m, this.h < b.length && "," === b[this.h] && (m = this.nb(b), -1 !== m && ((0 > m || 100 < m) && -2 !== m ? this.P = "HROT P values need to be from 0 to 100 or #" : (a.Oa = m, this.h < b.length && "," === b[this.h] && (m = this.nb(b), -1 !== m && ((0 > m || 100 < m) && -2 !== m ? this.P = "HROT P values need to be from 0 to 100 or #" : a.Ta = m))))))))), this.h !== b.length && (d = false, this.P = "HROT invalid characters after rule"), this.Sa > f && (d = false, this.P = "HROT 'S" + this.Sa + "' > " + f), d && this.Ra > f && (d = false, this.P = "HROT 'B" + this.Ra + "' > " + f));
      d && (a.Ea = true);
      return d;
    };
    va.prototype.fd = function (a, b, c) {
      var d = false, f = 0;
      this.h = 0;
      -1 === a.i && (a.i = 2);
      if ("r" !== b[this.h]) this.P = "HROT expected 'R' got '" + b[this.h].toUpperCase() + "'"; else {
        var e = -1;
        this.h += 1;
        this.h < b.length && (e = b[this.h].charCodeAt(0));
        if (48 > e || 57 < e) this.P = "HROT 'R' needs a number"; else {
          var k = e - 48;
          this.h += 1;
          e = -1;
          for (this.h < b.length && (e = b[this.h].charCodeAt(0)); 48 <= e && 57 >= e;) k = 10 * k + (e - 48), this.h += 1, this.h < b.length ? e = b[this.h].charCodeAt(0) : e = -1;
          1 > k ? this.P = "HROT 'R' < 1" : 500 < k ? this.P = "HROT 'R' > 500" : (a.u = k, d = true, f = k * (k + 1));
        }
      }
      d && (d = false, this.h < b.length ? "b" !== b[this.h] ? this.P = "HROT expected 'B' got " + b[this.h].toUpperCase() + "'" : (this.h += 1, d = this.hc(b, "B", f, a, c)) : this.P = "HROT expected 'B'");
      d && (d = false, this.h < b.length ? "s" !== b[this.h] ? this.P = "HROT expected 'S' got " + b[this.h].toUpperCase() + "'" : (this.h += 1, d = this.hc(b, "S", f, a, c)) : this.P = "HROT expected 'S'");
      d && this.h < b.length && "z" === b[this.h] && (a.T[1] = 1, this.h += 1);
      d && (this.h !== b.length ? (d = false, this.P = "HROT invalid characters after rule") : (a.m = this.i, a.Ea = true));
      return d;
    };
    va.prototype.Sb = function (a, b) {
      for (var c = a.length, d = -1, f = "", e = 0; e < c;) 1 === a[e] ? -1 === d && (d = e) : -1 !== d && ("" !== f && (f += ","), f += d + b, e - 1 !== d && (f += "-" + (e - 1 + b)), d = -1), e += 1;
      -1 !== d && ("" !== f && (f += ","), f += d + b, e - 1 !== d && (f += "-" + (e - 1 + b)));
      return f;
    };
    va.prototype.va = function (a, b, c, d) {
      var f = "", e = false;
      if (!d) {
        var k = bb.Io(b);
        null !== k && (f = bb.Ho(k), b = k);
      }
      k = b.indexOf("|");
      if (-1 === k) (e = this.ub(a, b, c, this.o, d)) && a.o && this.mb(a, this.Jb, this.Ib); else {
        var g = false;
        var m = bb.Io(b.substring(0, k));
        null !== m && -1 !== m.indexOf("|") && (g = true);
        m = bb.Io(b.substring(k + 1));
        null !== m && -1 !== m.indexOf("|") && (g = true);
        if (-1 !== b.substring(k + 1).indexOf("|") || g) this.P = "Only one alternate allowed"; else if (e = this.ub(a, b.substring(0, k), c, this.qa, d)) if (g = new kb(a.name, this), g.Vb(a), a.Zb(), e = this.ub(a, b.substring(k + 1), c, this.o, d)) if (this.P = a.Yb(g), "" === this.P) if (a.Ea && (0 !== a.B[0] || 0 !== g.B[0]) || !a.o && (this.o[0] || this.qa[0]) || a.o && 0 !== (a.za & 1) || 0 !== (g.za & 1)) this.P = "Alternate not supported with B0", a.Ea && (a.h = g.Fa), e = false; else {
          a.o && (this.mb(g, this.Ib, null), this.mb(a, this.Jb, null));
          if ("" !== f) a.M = f; else if ("" !== a.M || "" !== g.M) "" === a.M && (a.M = a.h), "" === g.M && (g.M = g.h), a.M = g.M + "|" + a.M;
          a.h = g.h + "|" + a.h;
          f = bb.Ho(a.h);
          null !== f && (a.M = f);
          (a.Ea || a.X) && a.Ub(g, c);
          this.$ = true;
        } else a.Fa = g.Fa, e = false;
      }
      return e;
    };
    va.prototype.dd = function (a, b) {
      var c = true, d = a.length, f = 0;
      if ("2pca4" !== a.substring(0, 5)) this.P = "PCA rule must start with 2PCA4", c = false; else {
        var e = 5;
        var k = -1;
        if ("," !== a[e]) c = true; else for (e += 1; c && 16 > f && e < d;) if (e < d) {
          var g = a[e];
          e += 1;
          "0" <= g && "9" >= g ? (-1 === k && (k = 0), k = 10 * k + g.charCodeAt(0) - 48) : "," === g ? 15 < k ? (this.P = "Value must be from 0 to 15", c = false) : (b[f] = k, f += 1, k = -1) : (this.P = "Illegal character found in rule", c = false);
        }
        c && (-1 === k ? (this.P = 16 === f ? "Extra characters found after rule" : "Need 16 values", c = false) : 15 < k ? (this.P = "Value must be from 0 to 15", c = false) : (b[f] = k, 16 !== f + 1 && (this.P = "Need 16 values", c = false)));
      }
      return c;
    };
    va.prototype.nd = function (a, b) {
      var c = true, d = 0, f = a.length, e, k = 0;
      if ("m" !== a[d]) this.P = "Margolus rule must start with M", c = false; else {
        d += 1;
        "s,d" === a.substring(d, d + 3) && (d += 3);
        for (e = -1; c && 16 > k && d < f;) if (d < f) {
          var g = a[d];
          d += 1;
          "0" <= g && "9" >= g ? (-1 === e && (e = 0), e = 10 * e + g.charCodeAt(0) - 48) : "," === g || ";" === g ? 15 < e ? (this.P = "Value must be from 0 to 15", c = false) : (b[k] = e, k += 1, e = -1) : (this.P = "Illegal character found in rule", c = false);
        }
        c && (-1 === e ? (this.P = 16 === k ? "Extra characters found after rule" : "Need 16 values", c = false) : 15 < e ? (this.P = "Value must be from 0 to 15", c = false) : (b[k] = e, 16 !== k + 1 && (this.P = "Need 16 values", c = false)));
      }
      return c;
    };
    va.prototype.ub = function (a, b, c, d, f) {
      var e = false, k = null, g = null, m = null, p = "012345678ceaiknjqrytwz-";
      var n = this.Ab.length;
      var q = this.Ma.length;
      var l = this.Da.length;
      var r = this.Ca.length, u = this.Fa.length;
      var t = this.bb.length;
      var v = this.cb.length, B = this.$a.length, w = this.eb.length, y = this.hb.length, D = "";
      d[0] = 0;
      if (!f) {
        var F = bb.Io(b);
        null !== F && ("" === b && (a.h = "Life"), b = F);
      }
      if ("map" === b.substring(0, 3).toLowerCase()) {
        D = b.substring(3);
        var N = D.indexOf("/");
        -1 === N ? "==" === D.substring(D.length - 2) && (D = D.substring(0, D.length - 2)) : "==" === D.substring(N - 2, N) && (D = D.substring(0, N - 2) + D.substring(N));
        b = this.ie(D, a);
        if (0 <= b) if (e = true, m = D.substring(b), D = D.substring(0, b), "/" === m[0]) {
          F = 1;
          a.i = 0;
          F < m.length && ("g" === m[F].toLowerCase() || "c" === m[F].toLowerCase()) && (F += 1);
          for (N = 0; F < m.length && -1 !== N;) N = "0123456789".indexOf(m[F]), -1 !== N ? a.i = 10 * a.i + N : (this.P = "Illegal character in generations number", a.i = -1, e = false), F += 1;
          -1 !== a.i && (2 > a.i || 256 < a.i) && (this.P = "Generations number must be 2-256", a.i = -1, e = false);
        } else "" !== m && (F = m.length, this.P = "MAP length must be " + this.Qa + ", " + this.Oa + " or 86 not " + (F + b), e = false); else this.P = 86 === D.length || D.length === this.Oa || D.length === this.Qa ? "MAP contains illegal base64 character" : "MAP length must be " + this.Qa + ", " + this.Oa + " or 86 not " + D.length;
      } else if (b = b.toLowerCase(), b = this.nc(b), "2pca4" === b.substring(0, 5)) {
        if (e = this.dd(b, d)) a.ma = true, a.i = 16;
      } else if ("m" === b[0]) {
        if (e = this.nd(b, d)) a.da = true;
      } else {
        e = true;
        if ("g" === b[0]) {
          F = 1;
          for (N = a.i = 0; F < b.length && -1 !== N;) N = "0123456789".indexOf(b[F]), -1 !== N && (a.i = 10 * a.i + N, F += 1);
          1 < F && (2 > a.i || 256 < a.i ? (this.P = "Generations number must be 2-256", a.i = -1, e = false) : (F < b.length && "/" === b[F] && (F += 1), b = b.substring(F), e = true));
        }
        if (e && (N = b.lastIndexOf("g"), -1 !== N && N !== b.length - 1 && !(0 < N && "/" === b[N - 1]))) {
          F = N + 1;
          for (N = a.i = 0; F < b.length && -1 !== N;) N = "0123456789".indexOf(b[F]), -1 !== N && (a.i = 10 * a.i + N, F += 1);
          F === b.length ? 2 > a.i || 256 < a.i ? (this.P = "Generations number must be 2-256", a.i = -1, e = false) : (b = b.substring(0, b.lastIndexOf("g")), e = true) : a.i = -1;
        }
        if (e) if (e = false, "r" === b[0] || "1" <= b[0] && "9" >= b[0] && -1 !== b.indexOf(",")) {
          if (e = "r" === b[0] ? -1 !== b.indexOf(".") ? this.kd(a, b) : -1 !== b.indexOf("t") && -1 === b.indexOf("n") ? this.ld(a, b) : -1 !== b.indexOf(",") ? this.gd(a, b, c) : this.fd(a, b, c) : this.md(a, b)) if (a.Ea) {
            a.m === this.s && (a.va > a.u && (a.u = a.va), a.wa > a.u && (a.u = a.wa));
            m = 15 === a.m || a.m === this.v ? 0 : -1;
            a.h = "R" + a.u + ",";
            a.h += "C" + a.i + ",";
            a.h += "S" + this.Sb(a.T, m) + ",";
            a.h += "B" + this.Sb(a.B, 0);
            if (a.m !== this.i) switch (a.h += ",N", a.m) {
              case this.m:
                a.h += "N";
                break;
              case this.X:
                a.h += "C";
                break;
              case this.R:
                a.h += "+";
                break;
              case this.V:
                a.h += "X";
                break;
              case this.W:
                a.h += "*";
                break;
              case this.Y:
                a.h += "2";
                break;
              case this.H:
                a.h += "H";
                break;
              case this.O:
                a.h += "B";
                break;
              case this.M:
                a.h += "D";
                break;
              case this.T:
                a.h += "#";
                break;
              case 10:
                a.h += "@" + a.fa + a.Z;
                break;
              case this.B:
                a.h += "3";
                break;
              case this.u:
                a.h += "A";
                break;
              case this.L:
                a.h += "L";
                break;
              case this.v:
                a.h += "G";
                break;
              case 15:
                a.h += "W" + a.fa + a.Z;
                break;
              case this.s:
                a.h += "F" + a.Ab(a.u);
            }
            a.mb && (a.h += ",P", -1 !== a.Va && (a.h += -2 === a.Va ? "#" : a.Va, -1 !== a.Oa && (a.h += "," + (-2 === a.Oa ? "#" : a.Oa), -1 !== a.Ta && (a.h += "," + (-2 === a.Ta ? "#" : a.Ta)))));
          } else {
            a.la === this.s && (a.va > a.v && (a.v = a.va), a.wa > a.v && (a.v = a.wa));
            a.X = true;
            a.h = "R" + a.v + ",C" + a.i + ",M" + a.ua + ",S" + a.C + ".." + a.Y + ",B" + a.V + ".." + a.ba + ",N";
            switch (a.la) {
              case this.i:
                a.h += "M";
                break;
              case this.m:
                a.h += "N";
                break;
              case this.X:
                a.h += "C";
                break;
              case this.R:
                a.h += "+";
                break;
              case this.V:
                a.h += "X";
                break;
              case this.W:
                a.h += "*";
                break;
              case this.Y:
                a.h += "2";
                break;
              case this.H:
                a.h += "H";
                break;
              case this.O:
                a.h += "B";
                break;
              case this.M:
                a.h += "D";
                break;
              case this.T:
                a.h += "#";
                break;
              case 10:
                a.h += "@" + a.fa + a.Z;
                break;
              case this.B:
                a.h += "3";
                break;
              case this.u:
                a.h += "A";
                break;
              case this.L:
                a.h += "L";
                break;
              case this.v:
                a.h += "G";
                break;
              case 15:
                a.h += "W" + a.fa + a.Z;
                break;
              case this.s:
                a.h += "F" + a.Ab(a.v);
            }
            0 === a.ua && (a.C += 1, a.Y += 1);
          }
        } else if ("w" === b[0]) e = this.yd(a, b, d); else if (c = b.lastIndexOf(this.Da), -1 !== c && c === b.length - l && (a.o = true, a.W = this.da, b = b.substring(0, b.length - l), p = this.Lb), c = b.lastIndexOf(this.Ca), -1 !== c && c === b.length - r && (a.o = true, a.W = this.ga, b = b.substring(0, b.length - r), p = this.Kb), c = b.lastIndexOf(this.Fa), -1 !== c && c === b.length - u && (a.o = true, a.W = this.ia, b = b.substring(0, b.length - u), p = this.Nb), c = b.lastIndexOf(this.bb), -1 !== c && c === b.length - t && (a.o = true, a.W = this.sa, b = b.substring(0, b.length - t), p = this.Bc), c = b.lastIndexOf(this.cb), -1 !== c && c === b.length - v && (a.o = true, a.W = this.ta, b = b.substring(0, b.length - v), p = this.Ec), c = b.lastIndexOf(this.$a), -1 !== c && c === b.length - B && (a.o = true, a.W = this.ra, b = b.substring(0, b.length - B), p = this.Ac), c = b.lastIndexOf(this.eb), -1 !== c && c === b.length - w && (a.o = true, a.W = this.ua, b = b.substring(0, b.length - w), p = this.Fc), t = b.lastIndexOf(this.Ab), -1 !== t && t === b.length - n && (a.ha = true, a.ra = this.oa, b = b.substring(0, b.length - n), p = this.he), t = b.lastIndexOf(this.Ma), -1 !== t && t === b.length - q && (a.ha = true, a.ra = this.na, b = b.substring(0, b.length - q), p = this.yc), t = b.lastIndexOf(this.hb), -1 !== t && t === b.length - y && (a.ga = true, b = b.substring(0, b.length - y), p = this.Cc), n = b.indexOf("/"), -1 === n && (n = b.indexOf("_")), -1 !== n && (t = b.lastIndexOf("/"), -1 === t && (t = b.lastIndexOf("_")), t !== n && (m = b.substring(t + 1), b = b.substring(0, t), c = b.lastIndexOf(this.Da), -1 !== c && c === b.length - l && (a.o = true, a.W = this.da, b = b.substring(0, b.length - l), p = this.Lb), c = b.lastIndexOf(this.Ca), -1 !== c && c === b.length - r && (a.o = true, a.W = this.ga, b = b.substring(0, b.length - r), p = this.Kb), c = b.lastIndexOf(this.Fa), -1 !== c && c === b.length - u && (a.o = true, a.W = this.ia, b = b.substring(0, b.length - u), p = this.Nb), t = b.lastIndexOf(this.Ma), -1 !== t && t === b.length - q && (a.ha = true, b = b.substring(0, b.length - q), p = this.yc), t = b.lastIndexOf(this.hb), -1 !== t && t === b.length - y && (a.ga = true, b = b.substring(0, b.length - y), p = this.Cc))), b === this.cc) a.ea = true, a.i = 256, e = true; else {
          q = b.indexOf("b");
          l = b.indexOf("s");
          -1 === n ? 0 === q || 0 === l ? -1 === l ? (k = b, g = "") : -1 === q ? (g = b, k = "") : q < l && -1 !== l ? (k = b.substring(q + 1, l), g = b.substring(l + 1)) : (g = b.substring(l + 1, q), k = b.substring(q + 1)) : this.P = "Unsupported rule name" : (-1 === q && -1 !== l ? q = n : -1 !== q && -1 === l && (l = n), q < l ? (k = b.substring(0, n), g = b.substring(n + 1)) : (k = b.substring(n + 1), g = b.substring(0, n)));
          -1 !== q && k && "b" === k[0] && (k = k.substring(1));
          -1 !== l && g && "s" === g[0] && (g = g.substring(1));
          if (null !== m) if (F = 0, -1 !== a.i) this.P = "Generations defined twice", k = null; else {
            a.i = 0;
            F < m.length && ("g" === m[F].toLowerCase() || "c" === m[F].toLowerCase()) && (F += 1);
            for (N = 0; F < m.length && -1 !== N;) N = "0123456789".indexOf(m[F]), -1 !== N ? a.i = 10 * a.i + N : (this.P = "Illegal character in generations number", a.i = -1, k = null), F += 1;
            -1 !== a.i && (2 > a.i || 256 < a.i) && (this.P = "Generations number must be 2-256", a.i = -1, k = null);
          }
          if (null !== k && null !== g) {
            e = true;
            for (F = 0; F < k.length;) N = p.indexOf(k[F]), -1 === N ? (this.P = "Illegal character in birth specification", e = false, F = k.length) : F += 1;
            if (e) for (F = 0; F < g.length;) N = p.indexOf(g[F]), -1 === N ? (this.P = "Illegal character in survival specification", e = false, F = g.length) : F += 1;
          }
        }
      }
      e && -1 === a.pa && false === a.X && false === a.Ea && (d = this.Qc(a, String(k), String(g), D, d), "" === this.P ? a.h = d : e = false, 2 === a.i && (a.i = -1));
      e ? this.Jc(a, D, f) : (a.X = false, a.Ea = false, a.i = -1, a.ea = true);
      return e;
    };
    va.prototype.la = function (a, b, c, d) {
      var f = 0, e = b.length - 1, k = false, g = true, m, p = 0, n = 0, q = 0, l = 0, r = this.Z;
      a.fb = -1;
      for (m = b[f]; !k;) {
        var u = m;
        m = b[f + 1];
        var t = -1;
        switch (u) {
          case "#":
            for (f += 1; "\n" !== m && f < e;) f += 1, m = b[f];
            f < e ? m = b[f + 1] : f === e && --f;
            break;
          case "0":
          case "1":
          case "2":
          case "3":
          case "4":
          case "5":
          case "6":
          case "7":
          case "8":
          case "9":
            "0" === u && 0 === l && (this.P = "Leading zero in count", k = a.qa = true);
            l = 10 * l + parseInt(u, 10);
            break;
          case "b":
            t = 0;
            break;
          case "o":
            t = 1;
            break;
          case ".":
            t = 0;
            break;
          case "z":
            t = 19;
            a.L = true;
            a.Ma = true;
            break;
          case "$":
            0 === l && (l = 1);
            q += l;
            l = 0;
            n > p && (p = n);
            n = 0;
            break;
          case "!":
            0 === l && (l = 1);
            q += l;
            l = 0;
            n > p && (p = n);
            k = true;
            break;
          default:
            g = false, "A" <= u && "X" >= u ? (g = true, t = u.charCodeAt(0) - 64) : "p" <= u && "y" > u ? "A" <= m && "X" >= m ? (g = true, t = 24 * (u.charCodeAt(0) - 111) + (m.charCodeAt(0) - 64), f += 1, m = b[f + 1]) : "x" === u && (g = true, a.L = true, a.Ma = true, t = 15) : "y" === u && ("A" <= m && "O" >= m ? (g = true, t = 24 * (u.charCodeAt(0) - 111) + (m.charCodeAt(0) - 64), f += 1, m = b[f + 1]) : (g = true, a.L = true, a.Ma = true, t = 17));
        }
        if (0 <= t) if (0 === l && (l = 1), c || (0 === r[t] && (a.Na += 1), r[t] += l, t >= a.A && (a.A = t + 1)), t >= a.fb && (a.fb = t), 0 < t && c) for (; 0 < l;) {
          a.ka[q][n] = -1 === a.i ? t : 2 === a.i ? 1 === t ? I.Wa : 0 : t < a.i ? t : 1;
          if (!(a.O || a.$ || a.L) && -1 === a.i && 1 === t || (a.O || a.L) && t & 1 || -1 !== a.i && 1 === t) a.R[q][n >> 4] |= 1 << (~n & 15);
          n += 1;
          --l;
        } else n += l, l = 0;
        g || (" " === u || "	" === u || "\r" === u || "\n" === u ? 0 === l ? g = true : (this.P = "Illegal whitespace in pattern", k = a.qa = true) : (this.P = "Illegal character in pattern: " + u, this.aa = k = a.qa = true));
        f += 1;
        f === e && (k || (0 === l && (l = 1), q += l, l = 0, n > p && (p = n)), k = true);
      }
      c || (0 === p && (q = p = 1), a.width = p, a.height = q, 16384 < p || 16384 < q ? a.ta = true : (a.R = Array.matrix(oa.xa, q, (p - 1 >> 4) + 1, 0, d, "Pattern.lifeMap"), a.ka = Array.matrix(oa.Ka, q, p, 0, d, "Pattern.multiStateMap")), a.Ya = "RLE");
      a.qa && (f = -1);
      return f;
    };
    va.prototype.Td = function (a, b) {
      var c = b.indexOf("\n");
      -1 === c && (c = b.length);
      a.Tb = b.substring(0, c).trim();
    };
    va.prototype.Ya = function (a, b, c) {
      for (var d = false; b < c && !d;) " " === a[b] ? b += 1 : d = true;
      return b;
    };
    va.prototype.Ld = function (a) {
      var b = a.indexOf("\n"), c = 0, d = false, f = false, e = 0;
      -1 === b && (b = a.length);
      for (; e < b && !d;) "=" === a[e] ? d = true : " " !== a[e] ? d = true : e += 1;
      if (d && "=" === a[e]) {
        e = this.Ya(a, e + 1, b);
        e < b && "-" === a[e] && (f = true, e += 1);
        for (d = false; e < b && !d;) {
          var k = "0123456789".indexOf(a[e]);
          -1 !== k ? (c = 10 * c + k, e += 1) : d = true;
        }
        this.ib = true;
        f && (c = -c);
        this.zb = c;
      }
    };
    va.prototype.kc = function (a, b) {
      var c = a.indexOf("\n"), d = 0, f = 0, e = false, k = false, g = false, m = 0;
      -1 === c && (c = a.length);
      if (b) {
        for (; m < c && !g;) "=" === a[m] ? g = true : " " !== a[m] ? g = true : m += 1;
        g && "=" === a[m] && (m += 1);
      } else g = true;
      if (g && (m = this.Ya(a, m, c), m < c)) {
        "-" === a[m] && (e = true, m += 1);
        for (g = false; m < c && !g;) b = "0123456789".indexOf(a[m]), -1 !== b ? (d = 10 * d + b, m += 1) : g = true;
        this.Ga = true;
        this.Ta = e ? -d : d;
        m = this.Ya(a, m, c);
        if (m < c && "," === a[m] && (m = this.Ya(a, m + 1, c), m < c)) {
          "-" === a[m] && (k = true, m += 1);
          for (g = false; m < c && !g;) b = "0123456789".indexOf(a[m]), -1 !== b ? (f = 10 * f + b, m += 1) : g = true;
          this.Va = k ? -f : f;
        }
      }
    };
    va.prototype.Lc = function (a, b) {
      var c = a.indexOf("XRLE", b);
      b = a.indexOf("\n", b);
      var d = c;
      -1 !== c && (c = a.indexOf("Pos", c), -1 !== c && c < b && this.kc(a.substring(c + 3), true), c = a.indexOf("Gen", d), -1 !== c && c < b && this.Ld(a.substring(c + 3)));
    };
    va.prototype.Sd = function (a, b) {
      var c = b.indexOf("\n");
      -1 === c && (c = b.length);
      a.name = b.substring(0, c).trim();
    };
    va.prototype.Ia = function (a, b, c, d, f) {
      var e = c.indexOf("\n", d);
      -1 === e && (e = c.length);
      c = c.substring(d, e);
      a.Lb.push(c.trim());
      c = (b + c).replace(/[ \t]+$/g, "");
      f ? a.ib.push(c) : a.kb.push(c);
      return e + 1 - d;
    };
    va.prototype.A = function (a) {
      var b = 0;
      a += " ";
      var c = "0123456789".indexOf(a[this.h]);
      if (-1 !== c) for (b = 0; -1 !== c;) b = 10 * b + c, this.h += 1, c = "0123456789".indexOf(a[this.h]);
      return b;
    };
    va.prototype.rd = function (a, b) {
      var c = this.A(b), d = true;
      b = b[this.h];
      a.H = c;
      a.aa = c;
      "*" === b && (d = false, this.h += 1);
      a.Ib = d;
      0 === c && 0 === c && (a.l = -1);
    };
    va.prototype.td = function (a, b) {
      var c = this.A(b), d = -1, f = 0, e = 0;
      if (-1 !== c) {
        b += " ";
        var k = b[this.h];
        if ("-" === k || "+" === k) this.h += 1, f = this.A(b), -1 === f ? c = -1 : "-" === k && (f = -f);
        if ("," === b[this.h]) if (this.h += 1, d = this.A(b), -1 === d) c = -1; else {
          if (k = b[this.h], "-" === k || "+" === k) this.h += 1, e = this.A(b), -1 === e ? c = -1 : "-" === k && (e = -e);
        } else d = c;
      }
      if (-1000000 > f || 1e6 < f || -1000000 > e || 1e6 < e) c = -1;
      0 !== f && 0 < c && (f %= c);
      0 !== e && 0 < d && (e %= d);
      0 !== f && 0 !== e && (c = -1);
      0 === c && 0 === d && (a.l = -1);
      0 === f && 0 === e || 0 !== c && 0 !== d || (c = -1);
      a.H = c;
      a.aa = d;
      a.Ba = f;
      a.Ca = e;
    };
    va.prototype.jd = function (a, b) {
      var c = this.A(b), d = -1, f = 0, e = 0, k = false, g = false;
      if (-1 !== c) {
        b += " ";
        var m = b[this.h];
        "*" === m && (k = true, this.h += 1, m = b[this.h]);
        if ("-" === m || "+" === m) this.h += 1, f = this.A(b), -1 === f ? c = -1 : "-" === m && (f = -f);
        if ("," === b[this.h]) if (this.h += 1, d = this.A(b), -1 === d) c = -1; else {
          if (m = b[this.h], "*" === m && (g = true, this.h += 1, m = b[this.h]), "-" === m || "+" === m) this.h += 1, e = this.A(b), -1 === e ? c = -1 : "-" === m && (e = -e);
        } else d = c;
      }
      k && g && (c = -1);
      0 !== f && 0 !== e && (c = -1);
      if (k && 0 !== e || g && 0 !== f) c = -1;
      k || g || 0 === f || (c = -1);
      if (0 !== f && 0 !== (c & 1) || 0 !== e && 0 !== (d & 1)) c = -1;
      if (0 === c && 0 === d) a.l = -1; else if (0 === c || 0 === d) c = -1;
      k || g || (g = true);
      0 !== f && (f = 1);
      0 !== e && (e = 1);
      a.H = c;
      a.aa = d;
      a.Ba = f;
      a.Ca = e;
      a.Hb = k;
      a.Jb = g;
    };
    va.prototype.ad = function (a, b) {
      var c = this.A(b), d = -1;
      -1 !== c && (b += " ", "," === b[this.h] ? (this.h += 1, d = this.A(b), -1 === d && (c = -1)) : d = c);
      if (0 === c && 0 === d) a.l = -1; else if (0 === c || 0 === d) c = -1;
      a.H = c;
      a.aa = d;
    };
    va.prototype.pd = function (a, b) {
      var c = this.A(b), d = -1;
      -1 !== c && (b += " ", "," === b[this.h] ? (this.h += 1, d = this.A(b), -1 === d && (c = -1)) : d = c);
      0 === c && 0 === d && (a.l = -1);
      a.H = c;
      a.aa = d;
    };
    va.prototype.Uc = function (a, b) {
      var c = true;
      b = this.nc(b).toLowerCase();
      if ("" !== b) {
        c = false;
        a.l = "ptkcs".indexOf(b[0]);
        if (-1 !== a.l) if (this.h = 1, 2 !== a.l && 4 !== a.l && -1 !== b.indexOf("*")) a.H = -1; else switch (a.l) {
          case 0:
            this.pd(a, b);
            break;
          case 1:
            this.td(a, b);
            break;
          case 2:
            this.jd(a, b);
            break;
          case 3:
            this.ad(a, b);
            break;
          case 4:
            this.rd(a, b);
            break;
          default:
            a.H = -1;
        }
        this.h !== b.length && (a.H = -1);
        -1 !== a.H ? c = true : (a.l = -1, this.P = "Invalid bounded grid definition '" + b.toUpperCase() + "'");
      }
      return c;
    };
    va.prototype.La = function (a, b, c, d) {
      var f, e = 0, k = null;
      if (c[b] === a) {
        for (b += 1; b < d && " " === c[b];) b += 1;
        for (b < d && "=" === c[b] && (b += 1); b < d && " " === c[b];) b += 1;
        a = 0;
        var g = f = false;
        b < d && "-" === c[b] && (b += 1, g = true);
        for (b < d && (e = c[b].charCodeAt(0)); b < d && 48 <= e && 57 >= e;) a = 10 * a + (e - 48), b += 1, f = true, b < d && (e = c[b].charCodeAt(0));
        for (f && (k = g ? -a : a); b < d && " " === c[b];) b += 1;
        for (b < d && "," === c[b] && (b += 1); b < d && " " === c[b];) b += 1;
      }
      return [k, b];
    };
    va.prototype.qd = function (a, b) {
      this.ja = this.ka = -999999;
      var c = this.La("x", 0, a, b);
      var d = c[1];
      c[0] && (this.ka = c[0]);
      c = this.La("y", d, a, b);
      d = c[1];
      c[0] && (this.ja = c[0]);
      c = this.La("h", d, a, b);
      d = c[1];
      c[0] && (this.Ta = c[0], this.Ga = true);
      c = this.La("v", d, a, b);
      c[0] && (this.Va = c[0]);
    };
    va.prototype.Zb = function (a, b, c, d) {
      var f = b.indexOf("\n"), e = b.indexOf("rule"), k = false;
      -1 === f && (f = b.length);
      this.qd(b, f);
      -1 === e || e > f ? e = c ? "" : b.substring(1, f).trim() : (e = b.substring(e + 4, f).trim(), "=" === e[0] && (e = e.substring(1).trim()));
      "" !== e && "," === e[e.length - 1] && (e = e.substring(0, e.length - 1));
      a.Fa = e;
      a.h = e;
      var g = e.indexOf(":");
      c = e.lastIndexOf(":");
      -1 !== c && g === c && null !== bb.Io(a.h) && (c = -1);
      -1 !== c && (this.Uc(a, e.substring(c + 1)) ? e = e.substring(0, c).trim() : c = -2);
      var m = e.toLowerCase().lastIndexOf("history");
      -1 !== m && m === e.length - 7 && (a.O = true, e = e.substring(0, e.length - 7).trim());
      m = e.indexOf("|");
      -1 !== m && "history" === e.toLowerCase().substring(0, m).trim().substring(m - 7) && (a.O = true, g = e.substring(0, m).trim(), e = g.substring(0, g.length - 7) + e.substring(m));
      a.O || (m = e.toLowerCase().lastIndexOf("super"), -1 !== m && m === e.length - 5 && (a.L = true, e = e.substring(0, e.length - 5).trim()), m = e.indexOf("|"), -1 !== m && "super" === e.toLowerCase().substring(0, m).trim().substring(m - 5) && (a.L = true, g = e.substring(0, m).trim(), e = g.substring(0, g.length - 5) + e.substring(m)));
      a.O || a.L || ("stateinvestigator" === e.toLowerCase() ? (e = "B3/S23Investigator", k = true) : "leapinvestigator" === e.toLowerCase() ? (e = "B2n3/S23-qInvestigator", k = true) : "eightinvestigator" === e.toLowerCase() ? (e = "B3/S238Investigator", k = true) : "pedestrianinvestigator" === e.toLowerCase() ? (e = "B38/S23Investigator", k = true) : "merryinvestigator" === e.toLowerCase() && (e = "B3-eq4ciqt5ky/S2-c3-k4yz5i8Investigator", k = true), m = e.toLowerCase().lastIndexOf("investigator"), -1 !== m && m === e.length - 12 && (a.$ = true, e = e.substring(0, e.length - 12).trim()), m = e.indexOf("|"), -1 !== m && "investigator" === e.toLowerCase().substring(0, m).trim().substring(m - 12) && (a.$ = true, g = e.substring(0, m).trim(), e = g.substring(0, g.length - 12) + e.substring(m)));
      -2 !== c && this.va(a, e, d, k) ? this.ab = true : this.gj = true;
      "" === e && -1 === b.indexOf("=") && (f = -1);
      return f + 1;
    };
    va.prototype.Rb = function (a) {
      switch (a) {
        case 0:
          a = "Plane";
          break;
        case 1:
          a = "Torus";
          break;
        case 2:
          a = "Klein bottle";
          break;
        case 3:
          a = "Cross-surface";
          break;
        case 4:
          a = "Sphere";
          break;
        default:
          a = "(unknown)";
      }
      return a;
    };
    va.prototype.Wd = function (a, b) {
      var c = a.B, d = a.T, f = this.pa(a.u, a.m, a.na);
      var e = new Uint8Array(a.B.length);
      var k = new Uint8Array(a.T.length);
      if (d[f + 1]) {
        for (a = 0; a <= f; a += 1) e[a] = 1 - d[f - a + 1], k[a + 1] = 1 - c[f - a];
        for (a = 0; a <= f; a += 1) c[a] = e[a], d[a + 1] = k[a + 1];
        this.$ = false;
      } else {
        a.Ja = b.h(oa.Ka, a.B.length, "HROT.altBirths");
        a.La = b.h(oa.Ka, a.T.length, "HROT.altSurvivals");
        e = a.Ja;
        k = a.La;
        for (a = 0; a <= f; a += 1) e[a] = d[f - a + 1], k[a + 1] = c[f - a];
        for (a = 0; a <= f; a += 1) c[a] = 1 - c[a], d[a + 1] = 1 - d[a + 1];
        this.$ = true;
      }
    };
    va.prototype.Nc = function (a, b) {
      var c, d, f = a.R, e = a.ka;
      if (null !== f) if (a.Ea && 2 === a.i) for (d = 2; 256 > d; d += 1) this.Z[d] && (this.Z[d] = 0, --a.Na); else for (c = 0; c < e.length; c += 1) {
        var k = f[c];
        var g = e[c];
        for (d = 0; d < g.length; d += 1) {
          var m = g[d];
          m >= b && (g[d] = 0, k[d >> 2] &= ~(1 << (~d & 15)), 0 < this.Z[m] && (this.Z[m] = 0, --a.Na));
        }
      }
    };
    va.prototype.Pb = function (a) {
      var b = "[R]History", c = true;
      a.L ? b = "[R]Super" : a.$ && (b = "[R]Investigator");
      -1 === a.i || a.ma || (this.P = a.Ea ? b + " not valid with HROT" : b + " not valid with Generations");
      a.ma && (this.P = b + " not valid with PCA rule");
      a.ea && (this.P = b + " not valid with none rule");
      a.o && (this.P = b + " not valid with triangular rule");
      a.ra === this.oa && (this.P = b + " not valid with Hex Tripod");
      a.X && (this.P = b + " not valid with LtL");
      a.da && (this.P = b + " not valid with Margolus");
      "" !== this.P && (c = false);
      return c;
    };
    va.prototype.Yb = function (a, b, c) {
      var d = 0, f = b.length, e, k = e = false;
      var g = this.Z;
      var m = 0, p = 4, n = 0;
      a.da = false;
      a.ea = false;
      a.l = -1;
      a.width = 0;
      a.height = 0;
      a.ta = false;
      a.R = null;
      a.ka = null;
      a.qa = false;
      a.O = false;
      a.L = false;
      a.$ = false;
      a.Ma = false;
      a.ha = false;
      a.pa = -1;
      a.ga = false;
      a.i = -1;
      a.X = false;
      a.v = -1;
      a.ua = 1;
      a.C = -1;
      a.Y = -1;
      a.V = -1;
      a.ba = -1;
      a.Ea = false;
      a.B = null;
      a.T = null;
      a.u = -1;
      a.title = "";
      a.s = "";
      a.oa = "";
      a.A = 2;
      a.Na = 0;
      g.fill(0);
      for (b += " "; d < f && !a.qa;) switch (g = b[d], g) {
        case "#":
          d += 1;
          g = b[d];
          d += 1;
          switch (g) {
            case "N":
              this.Sd(a, b.substring(d));
              break;
            case "O":
              this.Td(a, b.substring(d));
              break;
            case "C":
              this.Lc(b, d);
              break;
            case "P":
            case "R":
              this.kc(b.substring(d), false);
              break;
            case "\n":
              --d;
          }
          d = "\n" === g ? d + this.Ia(a, "#", b, d, e) : d + this.Ia(a, "#" + g, b, d, e);
          break;
        case "\n":
          d += 1;
          break;
        default:
          "x" !== g || k ? e ? d += this.Ia(a, "", b, d, true) : (e = true, g = this.la(a, b.substring(d), false, c), -1 !== g && (d = a.ta ? d + g : d + this.la(a, b.substring(d), true, c))) : (d += this.Zb(a, b.substring(d), true, c), k = true);
      }
      if (a.qa && (e = b.substring(d).indexOf("!"), -1 !== e)) for (d += e + 1; d < f;) d += this.Ia(a, "", b, d, true);
      k || (this.va(a, "", c, false) ? this.ab = true : this.gj = true);
      a.X && this.Xd(a, c);
      (b = a.Wb()) && this.Wd(a, c);
      !a.Ea || a.m !== this.H && a.m !== this.B && a.m !== this.u && (15 !== a.m && 10 !== a.m || "H" !== a.Z) || (a.ha = true);
      !a.Ea || a.m !== this.L && (15 !== a.m && 10 !== a.m || "L" !== a.Z) || (a.o = true);
      -1 !== a.l && (a.Ea && (p = 6 * a.u), a.X && (p = 6 * a.v), a.H >= 16384 - p || a.aa >= 16384 - p) && (this.P = "Bounded grid too big", this.ab = false, a.l = -1);
      a.Ea && -1 !== a.l && (0 !== a.H && a.H < 2 * a.u || 0 !== a.aa && a.aa < 2 * a.u) && (this.P = "Bounded grid too small (must be at least " + 2 * a.u + ")", this.ab = false, a.l = -1);
      a.ha && 1 < a.l && "" === this.P && (this.P = "Hexagonal rules only support Plane or Torus", this.ab = false, a.l = -1);
      a.o && 1 < a.l && "" === this.P && (this.P = "Triangular rules only support Plane or Torus", this.ab = false, a.l = -1);
      a.o && (1 === a.l || 2 === a.l) && (a.Ba & 1 || a.Ca & 1) && (this.P = "Triangular rules only support even shifts", this.ab = false, a.l = -1);
      a.da && (1 === a.l || 2 === a.l) && (a.Ba & 1 || a.Ca & 1) && (this.P = "Margolus rules only support even shifts", this.ab = false, a.l = -1);
      a.da && 1 < a.l && "" === this.P && (this.P = "Margolus rules only support Plane or Torus", this.ab = false, a.l = -1);
      a.ma && 1 < a.l && "" === this.P && (this.P = "PCA rules only support Plane or Torus", this.ab = false, a.l = -1);
      !a.X || "" !== this.P || (1 < a.l && (this.P = "LtL only supports Plane or Torus", this.ab = false, a.l = -1), 0 !== a.l && 1 !== a.l) || 0 !== a.H && 0 !== a.aa || (this.P = "LtL bounded grid must be finite", this.ab = false, a.l = -1);
      a.o && -1 !== a.l && (0 !== (a.H & 1) ? (this.P = "Bounded grid width must be even", this.ab = false, a.l = -1) : 0 !== (a.aa & 1) && (this.P = "Bounded grid height must be even", this.ab = false, a.l = -1));
      a.ma && 0 !== this.o[0] && (this.P = "PCA first value must be 0", this.o[0] = 0, this.ab = false);
      a.da && (15 === this.o[0] && 0 !== this.o[15] ? (this.P = "Margolus last value must be 0 when first is 15", this.ab = false) : 0 !== this.o[0] && 15 !== this.o[0] && (this.P = "Margolus first value must be 0 or 15", this.ab = false));
      !a.Ea || -1 === a.l || 0 === a.Ca && 0 === a.Ba || (this.P = "HROT does not support Bounded Grid shift", this.ab = false, a.l = -1);
      b && 2 < a.i && (this.P = "HROT Generations does not support B0", this.ab = false);
      !a.Ea || "" !== this.P || (1 < a.l && (this.P = "HROT only supports Plane or Torus", this.ab = false, a.l = -1), 0 !== a.l && 1 !== a.l) || 0 !== a.H && 0 !== a.aa || (this.P = "HROT bounded grid must be finite", this.ab = false, a.l = -1);
      a.Ma && (a.O || a.$) && (this.P = a.O ? "[R]History not valid with Niemiec states" : "[R]Investigator not valid with Niemiec states", this.ab = false);
      a.O && "" === this.P && (a.O = this.Pb(a));
      a.$ && "" === this.P && (a.$ = this.Pb(a));
      a.L && "" === this.P && (a.L = this.Pb(a));
      -1 === a.i || !this.o[0] || a.X || a.Ea || (this.P = "Generations does not support B0", this.ab = false);
      a.da && -1 !== a.l && (-1 !== a.aa && 0 !== (a.aa & 1) && (this.P = "Bounded grid height must be even", a.l = -1, this.ab = false), -1 !== a.H && 0 !== (a.H & 1) && (this.P = "Bounded grid width must be even", a.l = -1, this.ab = false));
      a.ha && (m += 1);
      a.o && (m += 1);
      a.ga && (m += 1);
      1 < m && (this.P = "Multiple neighbourhoods specified", this.ab = false, a.ha = false, a.o = false, a.ga = false);
      a.L && (a.i = 26);
      a.$ && (a.i = 21);
      this.ab && (a.O ? (n = 7, a.A > n && (this.P = "Illegal state in pattern for [R]History", this.ab = false, this.aa = true)) : a.L ? (n = 26, a.A > n && (this.P = "Illegal state in pattern for [R]Super", this.ab = false, this.aa = true)) : a.$ ? (n = 21, a.A > n && (this.P = "Illegal state in pattern for [R]Investigator", this.ab = false, this.aa = true)) : -1 !== a.i && (n = a.i, a.A > n && (this.P = a.X ? "Illegal state in pattern for LtL" : a.Ea ? "Illegal state in pattern for HROT" : a.ma ? "Illegal state in pattern for PCA" : "Illegal state in pattern for Generations", this.aa = true, this.ab = false)), this.aa && (a.A = n, this.Nc(a, n)));
    };
    va.prototype.hd = function (a, b) {
      var c = true, d = false, f = 0, e = 0, k = 0, g = 0, m = 0, p = true, n = Ba.qv, q = null, l = [], r = {}, u = null;
      b.s();
      var t = b.l();
      for ("" !== t && "@" === t[0] && (t = ""); c && "" !== t;) {
        for (; c && !d && "" !== t;) {
          if ("/" === t[0]) b.s(); else if ("xpm" === t.toLowerCase()) b.s(); else if ('"' === t[0]) t = t.substring(1), b.u(t) && (f = b.L(t), b.i() && (e = b.h(), b.i() && (k = b.h(), t = b.l(), '"' === t[t.length - 1] && (t = t.substring(0, t.length - 1), b.u(t) && (g = b.L(t)))))), 0 < f && 0 < e && 1 <= g && 2 >= g && 0 === e % f ? 7 !== f && 15 !== f && 31 !== f ? d = false : (d = true, m = 0, q = new Uint16Array(f * e), u = new Uint32Array(k)) : c = false; else switch (t) {
            case "circles":
              n = Ba.KF;
              r = {};
              q = [];
              u = [];
              break;
            case "diamonds":
              n = Ba.LF;
              r = {};
              q = [];
              u = [];
              break;
            case "hexagons":
              n = Ba.MF;
              r = {};
              q = [];
              u = [];
              break;
            case "triangles":
              n = Ba.OF, r = {}, q = [], u = [];
          }
          for (; b.B();) b.l();
          t = b.l();
          "" !== t && "@" === t[0] && (t = "");
        }
        for (; c && d && "" !== t;) {
          if ("/" === t[0]) b.s(); else {
            if ('"' === t[0]) if (c = false, m < k) {
              var v = t.substring(1);
              if (v.length === g && void 0 === r[v] && (t = b.l(), "c" === t && (t = b.l(), '"' === t[t.length - 1]))) {
                c = t.substring(0, t.length - 1);
                c = parseInt(c, 16);
                r[v] = m;
                u[m] = c;
                if (c >> 16 !== (c >> 8 & 255) || c >> 16 !== (c & 255)) p = false;
                c = true;
                b.s();
              }
            } else {
              if (c = false, '"' === t[t.length - 1] && t.length - 2 === f * g) {
                t = t.substring(1, t.length - 1);
                var B = 0;
                for (c = true; c && B < f;) v = t[B * g], 1 < g && (v += t[B * g + 1]), void 0 === r[v] ? c = false : q[(m - k) * f + B] = r[v], B += 1;
              }
            } else m === e + k ? (d = false, l[l.length] = {ds: n, width: f, height: e, sz: k, Bo: u.slice(), Fy: q.slice(), Ay: p}, r = {}, q = null, p = true, n = Ba.qv) : c = false, b.R();
            m += 1;
          }
          for (; b.B();) b.l();
          t = b.l();
          "" !== t && "@" === t[0] && (t = "");
        }
      }
      c ? m === e + k ? (l[l.length] = {ds: n, width: f, height: e, sz: k, Bo: u.slice(), Fy: q.slice(), Ay: p}, a.ya = l) : a.ya = null : a.ya = null;
    };
    va.prototype.od = function (a, b) {
      var c = a.A, d = [], f = 0, e, k = false;
      b.s();
      b.i() && (f = b.h(), 0 <= f && f < c && (k = true));
      for (; k;) {
        k = false;
        for (e = ""; !b.B() && "" !== b.m();) e = "" === e ? b.l() : e + (" " + b.l());
        d[f] = e;
        b.s();
        b.i() && (f = b.h(), 0 <= f && f < c && (k = true));
      }
      a.Xa = d;
    };
    va.prototype.$c = function (a, b) {
      var c = a.A;
      a = a.Da;
      var d = 0, f = 0, e = 0, k = 0, g = false;
      b.s();
      b.i() && (d = b.h(), g = true);
      for (; g;) {
        g = false;
        b.i() && (f = b.h(), b.i() && (e = b.h(), b.i() && (k = b.h(), g = true)));
        if (g) if (b.i() && b.M()) {
          var m = b.h();
          var p = b.h();
          0 <= d && 255 >= d && 0 <= f && 255 >= f && 0 <= e && 255 >= e && 0 <= k && 255 >= k && 0 <= m && 255 >= m && 0 <= p && 255 >= p ? this.Tb(a, d, f, e, k, m, p) : g = false;
        } else 0 <= d && d < c && 0 <= f && 255 >= f && 0 <= e && 255 >= e && 0 <= k && 255 >= k ? a[d] = f << 16 | e << 8 | k : g = false;
        g && (b.s(), b.i() ? d = b.h() : g = false);
      }
    };
    va.prototype.Hb = function (a, b, c, d, f, e) {
      var k = false, g = a.length;
      var m = d.length;
      var p = m % 32;
      var n = 1 << p, q = (m - p) / 32, l = 0;
      if (null !== e) for (m = 0; !k && m < e.length;) {
        var r = e[m];
        if (r.output === b) for (p = 0, k = true; k && p < a.length;) 0 !== this.Ja(a[p], r.inputs[p]) && (k = false), p += 1;
        m += 1;
      }
      if (!k) {
        null !== e && (r = {inputs: [], output: b}, r.inputs = a.slice(), e[e.length] = r);
        d[d.length] = b;
        if (q >= c.Ha) {
          for (m = 0; m < g; m += 1) for (p = 0; p < c.sa; p += 1) f[m][p][f[m][p].length] = 0;
          c.Ha += 1;
        }
        for (m = 0; m < g; m += 1) {
          c = a[m];
          d = false;
          for (p = 0; p < c.length; p += 1) f[m][c[p]][q] |= n, 0 === c[p] && (d = true);
          d && (l += 1);
        }
        0 !== b && l === g && (this.C = true);
      }
      return k;
    };
    va.prototype.Id = function (a) {
      var b = a.length, c = b - 2, d = b - 1, f = false;
      if (1 < b) {
        for (; 0 <= c && 0 <= this.Ja(a[c], a[c + 1]);) --c;
        if (0 < c) {
          for (f = true; d >= c && 0 >= this.Ja(a[d], a[c]);) --d;
          var e = a[c];
          a[c] = a[d];
          a[d] = e;
          var k = (b - (c + 1)) / 2 | 0;
          for (d = 0; d < k; d += 1) e = a[b - d - 1], a[b - d - 1] = a[c + 1 + d], a[c + 1 + d] = e;
        }
      }
      return f;
    };
    va.prototype.Ja = function (a, b) {
      var c = 0, d = a.length;
      if (d === b.length) {
        for (; c < d && a[c] === b[c];) c += 1;
        return c === d ? 0 : a[c] - b[c];
      }
      return d - b.length;
    };
    va.prototype.Kd = function (a, b, c, d, f) {
      var e, k, g, m = [], p = [], n = [], q = 0;
      for (e = 0; e < c; e += 1) for (n[e] = [], k = 0; k < f.sa; k += 1) n[e][k] = [];
      for (e = f.Ha = 0; e < d.length; e += 1) {
        var l = d[e].inputs;
        var r = d[e].output;
        if (0 === a) this.Hb(l, r, f, p, n, null); else if (a === b - 1) {
          m = l.slice(1).sort(this.Ja);
          for (k = 0; k < m.length; k += 1) l[k + 1] = m[k];
          do this.Hb(l, r, f, p, n, null); while (this.Id(l));
        } else {
          var u = this.za[f.Qa][a - 1];
          var t = [];
          for (k = 0; k < u.length; k += 1) {
            for (g = 0; g < l.length; g += 1) m[g] = l[u[k][g]];
            this.Hb(m, r, f, p, n, t) && (q += 1);
          }
        }
      }
      f.Ia = [];
      for (e = 0; e < c; e += 1) for (f.Ia[e] = [], k = 0; k < f.sa; k += 1) f.Ia[e][k] = new Uint32Array(n[e][k].length), f.Ia[e][k].set(n[e][k]);
      f.ia = new Uint8Array(p.length);
      f.ia.set(p);
      f.gb = q;
    };
    va.prototype.sd = function (a, b) {
      var c = -1, d = -1, f = -1, e = 0, k, g = "", m = {}, p = 0, n = 0, q = [], l = null, r;
      this.C = false;
      var u = 0;
      for (r = true; r && 3 > u;) {
        var t = b.W();
        switch (t.toLowerCase()) {
          case "n_states":
            r = false;
            ":" === b.l() ? b.i() ? (c = b.h() | 0, 2 <= c && 256 >= c ? r = true : this.P = "n_states must be from 2 to 256") : this.P = "n_states must be numeric" : this.P = "n_states missing :";
            break;
          case "neighborhood":
            r = false;
            if (":" === b.l()) {
              t = b.l();
              var v = false;
              for (k = 0; !v && k < this.ea.length;) t.toLowerCase() === this.ea[k] ? (d = k, e = this.ya[k], v = true, l = new Int32Array(e + 1)) : k += 1;
              r = v;
              v || (this.P = "neighborhood invalid");
            } else this.P = "neighborhood missing :";
            break;
          case "symmetries":
            r = false;
            if (-1 !== d) if (":" === b.l()) {
              t = b.l();
              v = false;
              for (k = 0; !v && k < this.fa[d].length;) t.toLowerCase() === this.fa[d][k] ? (f = k, v = true) : k += 1;
              r = v;
              v || (this.P = "symmetries invalid");
            } else this.P = "symmetries missing :"; else this.P = "symmetries must follow neighborhood";
            break;
          default:
            r = false;
        }
        u += 1;
      }
      if (-1 === c || -1 === d || -1 === f) "" === this.P && (this.P = -1 === c ? "missing n_states" : -1 === d ? "missing neighborhood" : "missing symmetries"), r = false;
      b.H();
      t = b.l();
      for ("" !== t && "@" === t[0] && (t = ""); r && "" !== t;) {
        if ("var" === t.toLowerCase()) {
          g = b.l();
          var B = [];
          "=" === b.m() && b.l();
          for (r = true; r && !b.B();) if (b.i()) k = b.h(), 0 <= k && k <= c ? B[B.length] = k : (r = false, this.P = "out of range value: " + g + "=" + k); else {
            var w = b.l();
            if (void 0 !== m[w]) for (u = 0; u < m[w].length; u += 1) B[B.length] = m[w][u]; else r = false, this.P = "var unknown assignment: " + g + "=" + w;
          }
          r && (m[g] = B, p += 1);
        } else if (10 >= c && 0 === p && b.B()) {
          if (B = [], r = false, t.length === e + 1) {
            u = 0;
            for (r = true; r && u < e;) w = t.charCodeAt(u), 48 <= w && w < 48 + c ? (B[B.length] = [w - 48], u += 1) : (this.P = "expected only digits: " + t, r = false);
            r && (w = t.charCodeAt(u), 48 <= w && w < 48 + c ? (n = w - 48, q[q.length] = {inputs: B, output: n}) : (this.P = "expected only digits: " + t, r = false));
          }
        } else {
          r = false;
          w = [];
          w[0] = t;
          l[0] = b.u(t) ? parseInt(t, 10) : -1;
          for (u = 1; b.$();) u < e + 1 ? b.i() ? (l[u] = b.h(), w[u] = "") : (l[u] = -1, w[u] = b.l()) : w[u] = b.l(), u += 1;
          if (w.length === e + 1) {
            t = [];
            for (g in m) {
              for (u = r = 0; u < w.length; u += 1) g === w[u] && (r += 1);
              1 < r && (t[t.length] = g);
            }
            B = [];
            var y = {};
            for (u = 0; u < t.length; u += 1) y[t[u]] = 0;
            for (r = true;;) {
              for (u = 0; u < e; u += 1) if (v = false, k = l[u], -1 !== k) k >= c ? (this.P = "state out of range: " + k, r = false) : B[u] = [k]; else {
                var D = w[u];
                if (t.length) for (k = 0; !v && k < t.length;) t[k] === D ? v = true : k += 1;
                0 < t.length && v ? B[u] = [m[D][y[D]]] : void 0 !== m[D] ? B[u] = m[D] : (this.P = "unknown variable: " + D, r = false);
              }
              v = false;
              k = l[u];
              if (-1 !== k) 0 > k || k >= c ? (this.P = "output state out of range: " + k, r = false) : n = k; else {
                D = w[u];
                if (0 < t.length) for (k = 0; !v && k < t.length;) t[k] === D ? v = true : k += 1;
                0 < t.length && v ? n = m[D][y[D]] : void 0 !== m[D] ? n = m[D] : (this.P = "unknown output variable: " + D, r = false);
              }
              q[q.length] = {inputs: B.slice(), output: n};
              for (u = 0; u < t.length; u += 1) if (y[t[u]] < m[t[u]].length - 1) {
                y[t[u]] += 1;
                break;
              } else y[t[u]] = 0;
              if (u >= t.length) break;
            }
          }
        }
        b.H();
        t = b.l();
        "" !== t && "@" === t[0] && (b.R(), t = "");
      }
      r && (null === a.N && (a.N = new gb), a.sa = c, a.Qa = d, a.ha = d === Ba.ug ? true : false, this.Kd(f, this.fa[d].length, e, q, a), a.A = a.sa, this.P = "", this.ab = true, this.gj = false, a.ea = false, this.Ub(a, a.sa));
      return r;
    };
    va.prototype.Tb = function (a, b, c, d, f, e, k) {
      var g = a.length, m;
      a[0] = 0;
      for (m = 1; m < g; m += 1) {
        var p = 2 === g ? 0 : (m - 1) / (g - 2);
        a[m] = (f * p + b * (1 - p) | 0) << 16 | (e * p + c * (1 - p) | 0) << 8 | k * p + d * (1 - p) | 0;
      }
    };
    va.prototype.Ub = function (a, b) {
      a.Da = new Uint32Array(b);
      this.Tb(a.Da, 255, 0, 0, 255, 255, 0);
    };
    va.prototype.Pd = function (a) {
      return new RegExp("neighborhood *: *" + this.ea[Ba.ug]).test(a.source);
    };
    va.prototype.Mc = function (a, b, c, d) {
      4 === c ? 0 !== b[a[a[a[a[d]]]]] && (this.C = true) : 0 !== b[a[a[a[a[a[a[a[a[d]]]]]]]]] && (this.C = true);
    };
    va.prototype.vd = function (a, b) {
      var c, d = -1, f = -1, e = -1, k = null, g = 0, m = null, p = 0, n = null, q = 0, l = null, r = 0, u = 0, t = 0;
      this.C = false;
      var v = 0;
      for (c = true; c && 3 > v;) {
        c = b.W();
        switch (c.toLowerCase()) {
          case "num_states":
            c = false;
            "=" === b.l() ? b.i() ? (d = b.h() | 0, 2 <= d && 256 >= d ? c = true : this.P = "num_states must be from 2 to 256") : this.P = "num_states must be numeric" : this.P = "num_states missing =";
            break;
          case "num_neighbors":
            c = false;
            "=" === b.l() ? b.i() ? (f = b.h() | 0, 4 === f || 8 === f ? c = true : this.P = "num_neighbors must be 4 or 8") : this.P = "num_neighbors must be numeric" : this.P = "num_neighbors missing =";
            break;
          case "num_nodes":
            c = false;
            "=" === b.l() ? b.i() ? (e = b.h() | 0, e >= f && 1e8 >= e ? c = true : this.P = "num_nodes out of range") : this.P = "num_nodes must be numeric" : this.P = "num_nodes missing =";
            break;
          default:
            c = false;
        }
        v += 1;
      }
      if (-1 === d || -1 === f || -1 === e) "" === this.P && (this.P = -1 === d ? "missing num_states" : -1 === f ? "missing num_neighbors" : "missing num_nodes"), c = false;
      c && (k = new Uint32Array(e * d), m = new Uint8Array(e * d), n = new Uint32Array(e), l = new Uint32Array(e));
      for (b.H(); c && b.i();) {
        q > e ? c = false : (u = b.h(), t = 0, n[q] = 1 === u ? p : g, q += 1, l[r] = u, r += 1);
        for (; c && b.i();) v = b.h(), 1 === u ? 0 > v || v >= d ? (this.P = "bad state value in tree data: " + v, c = false) : (m[p] = v, p += 1) : 0 > v || v > n.length ? (this.P = "bad node value in tree data: " + v, c = false) : l[v] !== u - 1 ? (this.P = "bad node pointer in tree data: " + u, c = false) : (k[g] = n[v], g += 1), t += 1;
        c && t !== d && (this.P = "bad number of values on tree data line", c = false);
        b.H();
      }
      c && (g + p !== e * d ? (this.P = "bad count of values in tree data", c = false) : u !== f + 1 && (this.P = "bad last node (wrong level)", c = false));
      c && (null === a.N && (a.N = new gb), a.eb = f, a.ja = d, a.hb = e, a.cb = n[n.length - 1], a.$a = k.slice(0, g), a.bb = m.slice(0, p), a.Kb = this.Pd(b), a.ha = a.Kb, a.A = a.ja, this.P = "", this.ab = true, this.gj = false, a.ea = false, this.Mc(a.$a, a.bb, a.eb, a.cb), this.Ub(a, a.ja));
      return c;
    };
    va.prototype.bc = function (a, b) {
      var c = false, d = new Ra(b, true);
      a.U.Xa = "";
      a.U.P = "";
      b = d.v("@RULE", -1);
      if (-1 !== b && !d.B()) {
        a.nb = d.Y();
        var f = d.v("@TREE", -1);
        -1 !== f ? (c = this.vd(a, d)) ? a.h = a.nb : ("" === a.U.P && (a.U.P = "not valid"), a.U.P = "@TREE " + a.U.P) : (f = d.v("@TABLE", 0), -1 !== f ? (c = this.sd(a, d)) ? a.h = a.nb : ("" === a.U.P && (a.U.P = "not valid"), a.U.P = "@TABLE " + a.U.P) : a.U.P = "@TABLE and @TREE not found");
        f = d.current - 1;
        c && (c = d.v("@COLORS", 0), -1 !== c && (this.$c(a, d), d.current - 1 > f && (f = d.current - 1)), c = d.v("@ICONS", 0), -1 !== c && (this.hd(a, d), d.current - 1 > f && (f = d.current - 1)), c = d.v("@NAMES", 0), -1 !== c && (this.od(a, d), d.current - 1 > f && (f = d.current - 1)));
        "" === a.U.P && (a.U.Xa = d.Z(b, f));
      }
    };
    va.prototype.Kc = function (a) {
      var b = a.h.toLowerCase().lastIndexOf("super");
      -1 === b && (a.h += "Super");
      "" !== a.M && (b = a.M.toLowerCase().lastIndexOf("super"), -1 === b && (a.M += "Super"));
    };
    va.prototype.ed = function (a) {
      var b = false, c = a.oa.indexOf("@RULE"), d = a.h;
      for (a.Sa = this.P; -1 !== c && !b;) {
        var f = a.oa.indexOf("@RULE", c + 1);
        var e = -1 === f ? a.oa.substring(c) : a.oa.substring(c, f);
        this.bc(a, e);
        -1 === a.ja && null === a.ia || d !== a.nb ? (c = f, a.ja = -1, a.ia = null) : b = true;
      }
      return b;
    };
    va.prototype.create = function (a, b, c, d, f, e, k) {
      a = new kb(a, this);
      this.ab = this.gj = this.Ha = this.aa = this.C = this.Na = false;
      this.P = "";
      this.h = 0;
      this.ib = false;
      this.zb = 0;
      this.Ga = false;
      this.Va = this.Ta = 0;
      this.ja = this.ka = -999999;
      this.$ = false;
      if ("!" === b.charAt(0) || "O" === b.charAt(0) || "." === b.charAt(0) || "*" === b.charAt(0) || "o" === b.charAt(0)) this.Zc(a, b, c), this.ab = true;
      null === a.R && (this.ab = false, "#Life 1.05" === b.substring(0, 10) ? this.Vb(a, b, true, c) : "#Life 1.06" === b.substring(0, 10) ? (this.Tc(a, b, c), this.ab = true) : "#" === b[0] || "x" === b[0] ? (this.Yb(a, b, c), null !== a.R || a.ta || a.qa || (this.Vb(a, b, false, c), this.gj = false, a.ka = null, a.O = false, a.L = false, a.$ = false, a.A = 2, a.Na = 0)) : (this.Yb(a, b, c), a.qa && (a = null)));
      a && a.ta && (this.P = "Pattern too big", this.Ha = a.qa = true, this.ab = false);
      a && (-1 !== a.l ? (b = a.h.lastIndexOf(":"), a.Ra = a.h.substring(b), a.h = a.h.substring(0, b)) : a.Ra = "");
      a && a.Ea && a.m === this.v && 50 < a.u && (this.P = "HROT 'R' > 50", this.ab = false);
      a && null === a.R && "" === this.P && (this.P = "Invalid pattern", a = null, this.ab = false);
      a && a.qa && !a.ta && (this.ab = false);
      a && (!a.Ma || a.O || a.$ || this.Kc(a), "" !== a.s && "\n" !== a.s[a.s.length - 1] && (a.s += "\n"), "" !== a.oa && "\n" !== a.oa[a.oa.length - 1] && (a.oa += "\n"), "" !== this.P && (a.ha || a.o) && null === a.h.match(/[0-9]/) && (a.ha = false, a.o = false), "" === a.title && (a.title = a.Lb.join(" "), a.oa = 0 < a.ib.length ? a.ib.join("\n") + "\n" : "", a.s = 0 < a.kb.length ? a.kb.join("\n") + "\n" : "", a.Lb = [], a.ib = [], a.kb = []), "" === this.P || this.Ha || this.aa || "" === a.h || (-1 !== a.h.indexOf("|") && "Only one alternate allowed" !== this.P ? this.P = "Alternating RuleLoader rules are not supported" : (a.Sa = this.P, a.Fa = a.h, -1 !== a.l ? (b = a.h.lastIndexOf(":"), -1 !== b && (a.Ra = a.h.substring(b), a.h = a.h.substring(0, b))) : a.Ra = "", a.da = false, a.ma = false, a.ea = false, a.O = false, a.L = false, a.$ = false, a.Ma = false, a.ha = false, a.o = false, a.pa = -1, a.ga = false, a.X = false, a.BA = a.Ea, a.Ea = false, this.ed(a) || Ya.Qy(a), -1 !== a.ja || null !== a.ia ? (d = null === a.ia ? a.ja : a.sa, a.A = d, this.P = "", this.ab = true, this.gj = false, a.ea = false) : this.Ed(a, d, f, e, k))));
      return a;
    };
    va.prototype.Cd = function (a) {
      var b = a.indexOf("@RULE");
      if (-1 === b) a = ""; else {
        var c = a.indexOf("<!--", b);
        a = -1 === c ? 0 === b ? a : a.substring(b) : a.substring(b, c);
        a = a.replace(/<li>/g, "# ");
        a = a.replace(/<[^<]*>/g, "");
      }
      return a;
    };
    va.prototype.Dd = function (a, b, c) {
      if (4 === b.readyState) if (200 === b.status) {
        b = a.Cd(b.responseText);
        var d = performance.now() - this.time;
        this.time = performance.now();
        if ("" === b) c.U.P = "@RULE not found", Ya.sq(c); else {
          a.bc(c, b);
          var f = performance.now() - this.time;
          -1 !== c.ja || null !== c.ia ? Ya.add(c, d, f, b.length, a.Xa, a.C) : Ya.sq(c);
        }
      } else c.Sa += "\n\nRepository lookup failed with status " + b.status, Ya.sq(c);
    };
    va.prototype.zd = function (a) {
      Ya.sq(a);
    };
    va.prototype.Ed = function (a, b, c, d, f) {
      var e = this, k = null, g = a.h, m = "";
      g = g.replace(/ /g, "_");
      m = "/wiki/Rule:" + g;
      this.time = performance.now();
      this.Na = true;
      f ? a.N = f.g.N : a.N = null;
      Ya.HC(a, b, c, d, f) || (k = new XMLHttpRequest, "" !== Ca.mv && (m = Ca.mv + g + Ca.Zz), Ia(k, "load", function () {
        e.Dd(e, k, a);
      }, false), Ia(k, "error", function () {
        e.zd(a);
      }, false), k.open("GET", m, true), k.send(null));
    };
    var eb = {us: [48, 48, 48, 0, 255, 127, 127, 0, 255, 148, 148, 148, 128, 255, 0, 255, 0, 128, 0, 128, 255, 1, 159, 0, 159, 0, 1, 255, 254, 96, 0, 1, 159, 96, 255, 254, 254, 96, 255, 126, 125, 21, 21, 126, 125, 125, 21, 126, 255, 116, 116, 116, 255, 116, 116, 116, 255, 228, 227, 0, 28, 255, 27, 255, 27, 28, 0, 228, 227, 227, 0, 228, 27, 28, 255, 59, 59, 59, 234, 195, 176, 175, 196, 255, 171, 194, 68, 194, 68, 171, 68, 171, 194, 72, 184, 71, 184, 71, 72, 71, 72, 184, 169, 255, 188, 252, 179, 63, 63, 252, 179, 179, 63, 252, 80, 9, 0, 0, 80, 9, 9, 0, 80, 255, 175, 250, 199, 134, 213, 115, 100, 95, 188, 163, 0, 0, 188, 163, 163, 0, 188, 203, 73, 0, 0, 203, 73, 73, 0, 203, 94, 189, 0, 189, 0, 94, 0, 94, 189, 187, 243, 119, 55, 125, 32, 125, 32, 55, 32, 55, 125, 255, 102, 185, 102, 185, 255, 120, 209, 168, 208, 166, 119, 135, 96, 192, 182, 255, 41, 83, 153, 130, 247, 88, 55, 89, 247, 55, 88, 55, 247, 87, 75, 0, 0, 87, 75, 75, 0, 87, 200, 135, 59, 51, 213, 127, 255, 255, 162, 255, 37, 182, 37, 182, 255, 228, 57, 117, 142, 163, 210, 57, 117, 228, 193, 255, 246, 188, 107, 123, 123, 194, 107, 145, 59, 5, 5, 145, 59, 59, 5, 145, 119, 39, 198, 40, 197, 23, 197, 23, 40, 23, 40, 197, 178, 199, 158, 255, 201, 121, 134, 223, 223, 39, 253, 84, 149, 203, 15, 203, 15, 149, 15, 149, 203, 152, 144, 90, 143, 75, 139, 71, 97, 132, 224, 65, 219, 65, 219, 224, 255, 255, 40, 218, 223, 69, 74, 241, 0, 241, 0, 74, 0, 74, 241, 122, 171, 51, 220, 211, 227, 61, 127, 87, 90, 124, 176, 36, 39, 13, 165, 142, 255, 255, 38, 255, 38, 255, 255, 83, 50, 107, 224, 142, 165, 255, 181, 9, 9, 255, 181, 181, 9, 255, 140, 238, 70, 255, 74, 5, 74, 5, 255, 138, 84, 51, 31, 172, 101, 177, 115, 17, 221, 0, 0, 0, 221, 0, 0, 0, 221, 220, 255, 200, 0, 41, 50, 255, 150, 205, 178, 45, 116, 113, 255, 189, 47, 0, 44, 40, 119, 171, 205, 107, 255, 177, 115, 172, 133, 73, 236, 109, 0, 168, 168, 46, 207, 188, 181, 203, 212, 188, 35, 90, 97, 52, 39, 209, 184, 41, 164, 152, 227, 46, 70, 46, 70, 227, 211, 156, 255, 98, 146, 222, 136, 56, 95, 102, 54, 152, 86, 142, 0, 142, 0, 86, 0, 86, 142, 86, 223, 96, 246, 135, 46, 4, 208, 120, 212, 233, 158, 177, 92, 214, 104, 147, 88, 149, 240, 147, 227, 93, 148, 72, 255, 133, 209, 27, 194, 147, 255, 255, 44, 93, 0, 160, 36, 158, 182, 233, 0, 96, 94, 217, 218, 103, 88, 163, 154, 38, 118, 114, 139, 94, 0, 43, 113, 164, 174, 168, 188, 114, 0, 23, 119, 42, 86, 93, 255, 226, 202, 80, 191, 155, 255, 158, 136, 0, 247, 62, 234, 146, 88, 0, 183, 229, 110, 212, 36, 0, 143, 161, 105, 191, 210, 133, 164, 0, 41, 30, 89, 164, 0, 132, 30, 89, 42, 178, 222, 217, 121, 22, 11, 221, 107, 22, 69, 151, 255, 45, 158, 3, 158, 3, 45, 3, 45, 158, 86, 42, 29, 9, 122, 22, 213, 209, 110, 53, 221, 57, 159, 101, 91, 93, 140, 45, 247, 213, 37, 185, 34, 0, 0, 185, 34, 34, 0, 185, 236, 0, 172, 210, 180, 78, 231, 107, 221, 162, 49, 43, 43, 162, 49, 49, 43, 162, 36, 248, 213, 114, 0, 214, 213, 36, 248, 149, 34, 243, 185, 158, 167, 144, 122, 224, 34, 245, 149, 255, 31, 98, 31, 98, 255, 152, 200, 193, 255, 80, 95, 128, 123, 63, 102, 62, 72, 255, 62, 148, 151, 226, 108, 159, 99, 255, 226, 255, 126, 98, 223, 136, 80, 95, 255, 225, 153, 15, 73, 41, 211, 212, 71, 41, 83, 217, 187, 180, 235, 79, 0, 166, 127, 251, 135, 243, 229, 41, 0, 41, 0, 229, 82, 255, 216, 141, 174, 249, 249, 215, 255, 167, 31, 79, 31, 79, 167, 213, 102, 185, 255, 215, 83, 4, 2, 40, 224, 171, 220, 41, 0, 4, 6, 50, 90, 221, 15, 113, 15, 113, 221, 33, 0, 115, 108, 23, 90, 182, 215, 36], ts: [], Oe: {aliceblue: ["AliceBlue", 240, 248, 255], antiquewhite: ["AntiqueWhite", 250, 235, 215], aqua: ["Aqua", 0, 255, 255], aquamarine: ["Aquamarine", 127, 255, 212], azure: ["Azure", 240, 255, 255], beige: ["Beige", 245, 245, 220], bisque: ["Bisque", 255, 228, 196], black: ["Black", 0, 0, 0], blanchedalmond: ["BlanchedAlmond", 255, 235, 205], blue: ["Blue", 0, 0, 255], blueviolet: ["BlueViolet", 138, 43, 226], brown: ["Brown", 165, 42, 42], burlywood: ["BurlyWood", 222, 184, 135], cadetblue: ["CadetBlue", 95, 158, 160], chartreuse: ["Chartreuse", 127, 255, 0], chocolate: ["Chocolate", 210, 105, 30], coral: ["Coral", 255, 127, 80], cornflowerblue: ["CornflowerBlue", 100, 149, 237], cornsilk: ["Cornsilk", 255, 248, 220], crimson: ["Crimson", 220, 20, 60], cyan: ["Cyan", 0, 255, 255], darkblue: ["DarkBlue", 0, 0, 139], darkcyan: ["DarkCyan", 0, 139, 139], darkgoldenrod: ["DarkGoldenRod", 184, 134, 11], darkgray: ["DarkGray", 169, 169, 169], darkgreen: ["DarkGreen", 0, 100, 0], darkkhaki: ["DarkKhaki", 189, 183, 107], darkmagenta: ["DarkMagenta", 139, 0, 139], darkolivegreen: ["DarkOliveGreen", 85, 107, 47], darkorange: ["DarkOrange", 255, 140, 0], darkorchid: ["DarkOrchid", 153, 50, 204], darkred: ["DarkRed", 139, 0, 0], darksalmon: ["DarkSalmon", 233, 150, 122], darkseagreen: ["DarkSeaGreen", 143, 188, 143], darkslateblue: ["DarkSlateBlue", 72, 61, 139], darkslategray: ["DarkSlateGray", 47, 79, 79], darkturquoise: ["DarkTurquoise", 0, 206, 209], darkviolet: ["DarkViolet", 148, 0, 211], deeppink: ["DeepPink", 255, 20, 147], deepskyblue: ["DeepSkyBlue", 0, 191, 255], dimgray: ["DimGray", 105, 105, 105], dodgerblue: ["DodgerBlue", 30, 144, 255], firebrick: ["FireBrick", 178, 34, 34], floralwhite: ["FloralWhite", 255, 250, 240], forestgreen: ["ForestGreen", 34, 139, 34], fuchsia: ["Fuchsia", 255, 0, 255], gainsboro: ["Gainsboro", 220, 220, 220], ghostwhite: ["GhostWhite", 248, 248, 255], gold: ["Gold", 255, 215, 0], goldenrod: ["GoldenRod", 218, 165, 32], gray: ["Gray", 128, 128, 128], green: ["Green", 0, 128, 0], greenyellow: ["GreenYellow", 173, 255, 47], honeydew: ["HoneyDew", 240, 255, 240], hotpink: ["HotPink", 255, 105, 180], indianred: ["IndianRed", 205, 92, 92], indigo: ["Indigo", 75, 0, 130], ivory: ["Ivory", 255, 255, 240], khaki: ["Khaki", 240, 230, 140], lavender: ["Lavender", 230, 230, 250], lavenderblush: ["LavenderBlush", 255, 240, 245], lawngreen: ["LawnGreen", 124, 252, 0], lemonchiffon: ["LemonChiffon", 255, 250, 205], lightblue: ["LightBlue", 173, 216, 230], lightcoral: ["LightCoral", 240, 128, 128], lightcyan: ["LightCyan", 224, 255, 255], lightgoldenrodyellow: ["LightGoldenRodYellow", 250, 250, 210], lightgray: ["LightGray", 211, 211, 211], lightgreen: ["LightGreen", 144, 238, 144], lightpink: ["LightPink", 255, 182, 193], lightsalmon: ["LightSalmon", 255, 160, 122], lightseagreen: ["LightSeaGreen", 32, 178, 170], lightskyblue: ["LightSkyBlue", 135, 206, 250], lightslategray: ["LightSlateGray", 119, 136, 153], lightsteelblue: ["LightSteelBlue", 176, 196, 222], lightyellow: ["LightYellow", 255, 255, 224], lime: ["Lime", 0, 255, 0], limegreen: ["LimeGreen", 50, 205, 50], linen: ["Linen", 250, 240, 230], magenta: ["Magenta", 255, 0, 255], maroon: ["Maroon", 128, 0, 0], mediumaquamarine: ["MediumAquaMarine", 102, 205, 170], mediumblue: ["MediumBlue", 0, 0, 205], mediumorchid: ["MediumOrchid", 186, 85, 211], mediumpurple: ["MediumPurple", 147, 112, 219], mediumseagreen: ["MediumSeaGreen", 60, 179, 113], mediumslateblue: ["MediumSlateBlue", 123, 104, 238], mediumspringgreen: ["MediumSpringGreen", 0, 250, 154], mediumturquoise: ["MediumTurquoise", 72, 209, 204], mediumvioletred: ["MediumVioletRed", 199, 21, 133], midnightblue: ["MidnightBlue", 25, 25, 112], mintcream: ["MintCream", 245, 255, 250], mistyrose: ["MistyRose", 255, 228, 225], moccasin: ["Moccasin", 255, 228, 181], navajowhite: ["NavajoWhite", 255, 222, 173], navy: ["Navy", 0, 0, 128], oldlace: ["OldLace", 253, 245, 230], olive: ["Olive", 128, 128, 0], olivedrab: ["OliveDrab", 107, 142, 35], orange: ["Orange", 255, 165, 0], orangered: ["OrangeRed", 255, 69, 0], orchid: ["Orchid", 218, 112, 214], palegoldenrod: ["PaleGoldenRod", 238, 232, 170], palegreen: ["PaleGreen", 152, 251, 152], paleturquoise: ["PaleTurquoise", 175, 238, 238], palevioletred: ["PaleVioletRed", 219, 112, 147], papayawhip: ["PapayaWhip", 255, 239, 213], peachpuff: ["PeachPuff", 255, 218, 185], peru: ["Peru", 205, 133, 63], pink: ["Pink", 255, 192, 203], plum: ["Plum", 221, 160, 221], powderblue: ["PowderBlue", 176, 224, 230], purple: ["Purple", 128, 0, 128], rebeccapurple: ["RebeccaPurple", 102, 51, 153], red: ["Red", 255, 0, 0], rosybrown: ["RosyBrown", 188, 143, 143], royalblue: ["RoyalBlue", 65, 105, 225], saddlebrown: ["SaddleBrown", 139, 69, 19], salmon: ["Salmon", 250, 128, 114], sandybrown: ["SandyBrown", 244, 164, 96], seagreen: ["SeaGreen", 46, 139, 87], seashell: ["SeaShell", 255, 245, 238], sienna: ["Sienna", 160, 82, 45], silver: ["Silver", 192, 192, 192], skyblue: ["SkyBlue", 135, 206, 235], slateblue: ["SlateBlue", 106, 90, 205], slategray: ["SlateGray", 112, 128, 144], snow: ["Snow", 255, 250, 250], springgreen: ["SpringGreen", 0, 255, 127], steelblue: ["SteelBlue", 70, 130, 180], tan: ["Tan", 210, 180, 140], teal: ["Teal", 0, 128, 128], thistle: ["Thistle", 216, 191, 216], tomato: ["Tomato", 255, 99, 71], turquoise: ["Turquoise", 64, 224, 208], violet: ["Violet", 238, 130, 238], wheat: ["Wheat", 245, 222, 179], white: ["White", 255, 255, 255], whitesmoke: ["WhiteSmoke", 245, 245, 245], yellow: ["Yellow", 255, 255, 0], yellowgreen: ["YellowGreen", 154, 205, 50]}, QG: function () {
      return this.ts;
    }, oe: function () {
      var a, b;
      if (!this.dE) for (this.dE = true, a = b = 0; 256 > a; a += 1) eb.ts[a] = eb.us[b] << 16 | eb.us[b + 1] << 8 | eb.us[b + 2], b += 3;
    }};
    Ma.prototype.set = function (a) {
      this.F = a.F;
      this.G = a.G;
      this.J = a.J;
      this.K = a.K;
    };
    Ma.prototype.h = function (a) {
      a.F < this.F && (this.F = a.F);
      a.J > this.J && (this.J = a.J);
      a.G < this.G && (this.G = a.G);
      a.K > this.K && (this.K = a.K);
    };
    sb.prototype.V = function (a, b) {
      var c = b.length, d = b[0].length, f, e, k = 0, g, m, p = 0, n = this.O, q = 0, l = n[q], r = l.length;
      a = Array.Wc(oa.xa, a, "Snapshot.input16");
      Array.jg(this.l, b);
      for (f = 0; f < c; f += 1) {
        var u = this.l[f];
        for (b = m = 0; b < d; b += 1) if (g = u[b]) for (e = 15; 0 <= e; --e) {
          if (0 !== (g & 1 << e)) {
            var t = p;
            var v = m;
            var B = l[k];
            k += 1;
            a[t][v] = B >> 16;
            a[t + 1][v] = B & 65535;
            t += 2;
            B = l[k];
            k += 1;
            a[t][v] = B >> 16;
            a[t + 1][v] = B & 65535;
            t += 2;
            B = l[k];
            k += 1;
            a[t][v] = B >> 16;
            a[t + 1][v] = B & 65535;
            t += 2;
            B = l[k];
            k += 1;
            a[t][v] = B >> 16;
            a[t + 1][v] = B & 65535;
            t += 2;
            B = l[k];
            k += 1;
            a[t][v] = B >> 16;
            a[t + 1][v] = B & 65535;
            t += 2;
            B = l[k];
            k += 1;
            a[t][v] = B >> 16;
            a[t + 1][v] = B & 65535;
            t += 2;
            B = l[k];
            k += 1;
            a[t][v] = B >> 16;
            a[t + 1][v] = B & 65535;
            t += 2;
            B = l[k];
            k += 1;
            a[t][v] = B >> 16;
            a[t + 1][v] = B & 65535;
            k >= r && (q += 1, l = n[q], k = 0);
          }
          m += 1;
        } else m += 16;
        p += 16;
      }
    };
    sb.prototype.W = function (a, b) {
      var c = b.length, d = b[0].length, f, e = 0, k;
      var g = 0;
      var m, p = 0, n = this.O, q = 0, l = n[q], r = l.length, u = n.length;
      var t = this.U.M;
      var v = Array.Wc(oa.xa, a, "Snapshot.input16");
      Array.jg(b, this.l);
      for (f = 0; f < c; f += 1) {
        var B = b[f];
        for (a = 0; a < d; a += 1) (k = B[a]) && (g += t[k]);
      }
      if (g) for (f = 0; f < c; f += 1) {
        B = b[f];
        for (a = m = 0; a < d; a += 1) if (k = B[a]) for (g = 15; 0 <= g; --g) {
          if (0 !== (k & 1 << g)) {
            var w = p;
            t = m;
            l[e] = v[w][t] << 16 | v[w + 1][t];
            e += 1;
            w += 2;
            l[e] = v[w][t] << 16 | v[w + 1][t];
            e += 1;
            w += 2;
            l[e] = v[w][t] << 16 | v[w + 1][t];
            e += 1;
            w += 2;
            l[e] = v[w][t] << 16 | v[w + 1][t];
            e += 1;
            w += 2;
            l[e] = v[w][t] << 16 | v[w + 1][t];
            e += 1;
            w += 2;
            l[e] = v[w][t] << 16 | v[w + 1][t];
            e += 1;
            w += 2;
            l[e] = v[w][t] << 16 | v[w + 1][t];
            e += 1;
            w += 2;
            l[e] = v[w][t] << 16 | v[w + 1][t];
            e += 1;
            e >= r && (q += 1, e = 0, q >= u && (Array.yo(n, "Snapshot.gridBufferRow"), u += 1));
            l = n[q];
          }
          m += 1;
        } else m += 16;
        p += 16;
      }
    };
    sb.prototype.R = function (a, b, c) {
      var d = b.length, f = b[0].length, e, k, g = 0, m, p, n = 0, q = 0, l = c[q], r = l.length, u = Array.Wc(oa.fc, a, "Snapshot.input32");
      Array.jg(this.m, b);
      for (e = 0; e < d; e += 1) {
        var t = b[e];
        for (a = p = 0; a < f; a += 1) if (m = t[a]) for (k = 15; 0 <= k; --k) {
          if (0 !== (m & 1 << k)) {
            var v = p;
            var B = n;
            var w = u[B];
            w[v] = l[g];
            g += 1;
            w[v + 1] = l[g];
            g += 1;
            w[v + 2] = l[g];
            g += 1;
            w[v + 3] = l[g];
            g += 1;
            B += 1;
            w = u[B];
            w[v] = l[g];
            g += 1;
            w[v + 1] = l[g];
            g += 1;
            w[v + 2] = l[g];
            g += 1;
            w[v + 3] = l[g];
            g += 1;
            B += 1;
            w = u[B];
            w[v] = l[g];
            g += 1;
            w[v + 1] = l[g];
            g += 1;
            w[v + 2] = l[g];
            g += 1;
            w[v + 3] = l[g];
            g += 1;
            B += 1;
            w = u[B];
            w[v] = l[g];
            g += 1;
            w[v + 1] = l[g];
            g += 1;
            w[v + 2] = l[g];
            g += 1;
            w[v + 3] = l[g];
            g += 1;
            B += 1;
            w = u[B];
            w[v] = l[g];
            g += 1;
            w[v + 1] = l[g];
            g += 1;
            w[v + 2] = l[g];
            g += 1;
            w[v + 3] = l[g];
            g += 1;
            B += 1;
            w = u[B];
            w[v] = l[g];
            g += 1;
            w[v + 1] = l[g];
            g += 1;
            w[v + 2] = l[g];
            g += 1;
            w[v + 3] = l[g];
            g += 1;
            B += 1;
            w = u[B];
            w[v] = l[g];
            g += 1;
            w[v + 1] = l[g];
            g += 1;
            w[v + 2] = l[g];
            g += 1;
            w[v + 3] = l[g];
            g += 1;
            B += 1;
            w = u[B];
            w[v] = l[g];
            g += 1;
            w[v + 1] = l[g];
            g += 1;
            w[v + 2] = l[g];
            g += 1;
            w[v + 3] = l[g];
            g += 1;
            B += 1;
            w = u[B];
            w[v] = l[g];
            g += 1;
            w[v + 1] = l[g];
            g += 1;
            w[v + 2] = l[g];
            g += 1;
            w[v + 3] = l[g];
            g += 1;
            B += 1;
            w = u[B];
            w[v] = l[g];
            g += 1;
            w[v + 1] = l[g];
            g += 1;
            w[v + 2] = l[g];
            g += 1;
            w[v + 3] = l[g];
            g += 1;
            B += 1;
            w = u[B];
            w[v] = l[g];
            g += 1;
            w[v + 1] = l[g];
            g += 1;
            w[v + 2] = l[g];
            g += 1;
            w[v + 3] = l[g];
            g += 1;
            B += 1;
            w = u[B];
            w[v] = l[g];
            g += 1;
            w[v + 1] = l[g];
            g += 1;
            w[v + 2] = l[g];
            g += 1;
            w[v + 3] = l[g];
            g += 1;
            B += 1;
            w = u[B];
            w[v] = l[g];
            g += 1;
            w[v + 1] = l[g];
            g += 1;
            w[v + 2] = l[g];
            g += 1;
            w[v + 3] = l[g];
            g += 1;
            B += 1;
            w = u[B];
            w[v] = l[g];
            g += 1;
            w[v + 1] = l[g];
            g += 1;
            w[v + 2] = l[g];
            g += 1;
            w[v + 3] = l[g];
            g += 1;
            B += 1;
            w = u[B];
            w[v] = l[g];
            g += 1;
            w[v + 1] = l[g];
            g += 1;
            w[v + 2] = l[g];
            g += 1;
            w[v + 3] = l[g];
            g += 1;
            B += 1;
            w = u[B];
            w[v] = l[g];
            g += 1;
            w[v + 1] = l[g];
            g += 1;
            w[v + 2] = l[g];
            g += 1;
            w[v + 3] = l[g];
            g += 1;
            g >= r && (q += 1, l = c[q], g = 0);
          }
          p += 4;
        } else p += 64;
        n += 16;
      }
    };
    sb.prototype.T = function (a, b, c, d) {
      var f = b.length, e = b[0].length, k, g = 0, m;
      var p = 0;
      var n, q = 0, l = 0, r = c[l], u = r.length, t = c.length;
      var v = this.U.M;
      a = Array.Wc(oa.fc, a, "Snapshot.input32");
      Array.jg(b, d);
      for (k = 0; k < f; k += 1) {
        var B = b[k];
        for (d = 0; d < e; d += 1) (m = B[d]) && (p += v[m]);
      }
      if (p) for (k = 0; k < f; k += 1) {
        B = b[k];
        for (d = n = 0; d < e; d += 1) if (m = B[d]) for (p = 15; 0 <= p; --p) {
          if (0 !== (m & 1 << p)) {
            v = n;
            var w = q;
            var y = a[w];
            r[g] = y[v];
            g += 1;
            r[g] = y[v + 1];
            g += 1;
            r[g] = y[v + 2];
            g += 1;
            r[g] = y[v + 3];
            g += 1;
            w += 1;
            y = a[w];
            r[g] = y[v];
            g += 1;
            r[g] = y[v + 1];
            g += 1;
            r[g] = y[v + 2];
            g += 1;
            r[g] = y[v + 3];
            g += 1;
            w += 1;
            y = a[w];
            r[g] = y[v];
            g += 1;
            r[g] = y[v + 1];
            g += 1;
            r[g] = y[v + 2];
            g += 1;
            r[g] = y[v + 3];
            g += 1;
            w += 1;
            y = a[w];
            r[g] = y[v];
            g += 1;
            r[g] = y[v + 1];
            g += 1;
            r[g] = y[v + 2];
            g += 1;
            r[g] = y[v + 3];
            g += 1;
            w += 1;
            y = a[w];
            r[g] = y[v];
            g += 1;
            r[g] = y[v + 1];
            g += 1;
            r[g] = y[v + 2];
            g += 1;
            r[g] = y[v + 3];
            g += 1;
            w += 1;
            y = a[w];
            r[g] = y[v];
            g += 1;
            r[g] = y[v + 1];
            g += 1;
            r[g] = y[v + 2];
            g += 1;
            r[g] = y[v + 3];
            g += 1;
            w += 1;
            y = a[w];
            r[g] = y[v];
            g += 1;
            r[g] = y[v + 1];
            g += 1;
            r[g] = y[v + 2];
            g += 1;
            r[g] = y[v + 3];
            g += 1;
            w += 1;
            y = a[w];
            r[g] = y[v];
            g += 1;
            r[g] = y[v + 1];
            g += 1;
            r[g] = y[v + 2];
            g += 1;
            r[g] = y[v + 3];
            g += 1;
            w += 1;
            y = a[w];
            r[g] = y[v];
            g += 1;
            r[g] = y[v + 1];
            g += 1;
            r[g] = y[v + 2];
            g += 1;
            r[g] = y[v + 3];
            g += 1;
            w += 1;
            y = a[w];
            r[g] = y[v];
            g += 1;
            r[g] = y[v + 1];
            g += 1;
            r[g] = y[v + 2];
            g += 1;
            r[g] = y[v + 3];
            g += 1;
            w += 1;
            y = a[w];
            r[g] = y[v];
            g += 1;
            r[g] = y[v + 1];
            g += 1;
            r[g] = y[v + 2];
            g += 1;
            r[g] = y[v + 3];
            g += 1;
            w += 1;
            y = a[w];
            r[g] = y[v];
            g += 1;
            r[g] = y[v + 1];
            g += 1;
            r[g] = y[v + 2];
            g += 1;
            r[g] = y[v + 3];
            g += 1;
            w += 1;
            y = a[w];
            r[g] = y[v];
            g += 1;
            r[g] = y[v + 1];
            g += 1;
            r[g] = y[v + 2];
            g += 1;
            r[g] = y[v + 3];
            g += 1;
            w += 1;
            y = a[w];
            r[g] = y[v];
            g += 1;
            r[g] = y[v + 1];
            g += 1;
            r[g] = y[v + 2];
            g += 1;
            r[g] = y[v + 3];
            g += 1;
            w += 1;
            y = a[w];
            r[g] = y[v];
            g += 1;
            r[g] = y[v + 1];
            g += 1;
            r[g] = y[v + 2];
            g += 1;
            r[g] = y[v + 3];
            g += 1;
            w += 1;
            y = a[w];
            r[g] = y[v];
            g += 1;
            r[g] = y[v + 1];
            g += 1;
            r[g] = y[v + 2];
            g += 1;
            r[g] = y[v + 3];
            g += 1;
            g >= u && (l += 1, g = 0, l >= t && (Array.yo(c, "Snapshot.colourGridBufferRow"), t += 1), r = c[l]);
          }
          n += 4;
        } else n += 64;
        q += 16;
      }
    };
    db.prototype.V = function () {
      for (var a = 0, b = 0; b < this.l.length;) a += this.s[b].length * this.s[b][0].length * 2, a += this.m[b].length * this.m[b][0].length * 2, a += this.B[b].length * this.B[b][0].length * 4, a += this.A[b].length * this.A[b][0].length * 4, this.u[b] && (a += this.o[b].length * this.o[b][0].length * 2, a += this.u[b].length * this.u[b][0].length * 4), b += 1;
      return a;
    };
    db.prototype.Z = function () {
      for (var a = 0, b = 0; b < this.l.length;) this.l[b] && (a += 1), b += 1;
      return a;
    };
    db.prototype.reset = function () {
      this.h = [];
      this.l = [];
      this.C = 0;
      this.i = -1;
    };
    db.prototype.Y = function (a) {
      var b = null;
      if (0 < this.h.length) for (b = this.h[this.i]; b && b.counter > a;) b = null, 0 < this.i && (this.O(this.h[this.i].s), this.h.pop(), --this.i, 0 <= this.i && (b = this.h[this.i]));
      return b;
    };
    db.prototype.W = function (a, b, c, d, f, e, k, g, m, p, n, q, l, r, u, t, v, B, w) {
      B = null !== f;
      if (w) t = this.v; else if (51 > this.h.length) t = this.L(t, v, false, B), this.i += 1; else {
        this.i += 1;
        if (51 <= this.i) {
          this.i = 50;
          this.O(this.h[0].s);
          for (w = 0; 50 > w; w += 1) this.h[w] = this.h[w + 1];
          this.h.pop();
          this.L(t, v, false, B);
        }
        t = this.h[this.i];
      }
      t.W(a, b);
      t.T(c, d, t.L, t.m);
      B && t.T(f, e, t.u, t.o);
      t.i.F = k.F;
      t.i.J = k.J;
      t.i.G = k.G;
      t.i.K = k.K;
      t.h.F = g.F;
      t.h.J = g.J;
      t.h.G = g.G;
      t.h.K = g.K;
      t.H = m;
      t.v = p;
      t.B = n;
      t.counter = q;
      t.M = l;
      t.A = r;
      t.C = u;
    };
    db.prototype.O = function (a) {
      this.l[a] = false;
    };
    db.prototype.X = function (a, b, c) {
      for (var d = 0, f = false; d < this.C && !f;) this.l[d] ? d += 1 : f = true;
      f ? (a = d, this.l[d] = true) : (this.s[d] = Array.matrix(oa.xa, b, a, 0, this.N, "Snapshot.tileGrid" + d), this.m[d] = Array.matrix(oa.xa, b, a, 0, this.N, "Snapshot.colourTileGrid" + d), this.B[d] = Array.matrix(oa.fc, 1, 1024, 0, this.N, "Snapshot.gridBuffer" + d), this.A[d] = Array.matrix(oa.fc, 1, 8192, 0, this.N, "Snapshot.colourGridBuffer" + d), c && (this.o[d] = Array.matrix(oa.xa, b, a, 0, this.N, "Snapshot.overlayTileGrid" + d), this.u[d] = Array.matrix(oa.fc, 1, 8192, 0, this.N, "Snapshot.overlayGridBuffer" + d)), this.l[d] = true, this.C += 1, a = d);
      return a;
    };
    db.prototype.L = function (a, b, c, d) {
      a = this.X(a, b, d);
      c ? this.v = c = new sb(this, a, d) : (c = new sb(this, a, d), this.h[this.h.length] = c);
      return c;
    };
    db.prototype.H = function (a, b, c) {
      a.set(b, c);
    };
    db.prototype.R = function (a, b, c, d, f, e, k, g) {
      var m = a.l, p = a.m, n = a.o, q = a.l.length, l = 0, r = a.s;
      this.s[r] = Array.matrix(oa.xa, c, b, 0, this.N, "Snapshot.tileGrid" + r);
      this.m[r] = Array.matrix(oa.xa, c, b, 0, this.N, "Snapshot.colourTileGrid" + r);
      g && (this.o[r] = Array.matrix(oa.xa, c, b, 0, this.N, "Snapshot.overlayTileGrid" + r));
      a.l = this.s[r];
      a.m = this.m[r];
      g && (a.o = this.o[r]);
      if (0 < d || 0 < f) for (; l < q;) this.H(a.l[l + f], m[l], d), this.H(a.m[l + f], p[l], d), g && this.H(a.o[l + f], n[l], d), l += 1;
      a.i.F += e;
      a.i.J += e;
      a.i.G += k;
      a.i.K += k;
      a.h.F += e;
      a.h.J += e;
      a.h.G += k;
      a.h.K += k;
    };
    db.prototype.T = function (a, b, c, d, f, e, k) {
      var g;
      this.v && this.R(this.v, a, b, c, d, f, e, k);
      var m = 0;
      for (g = this.h.length; m < g;) this.R(this.h[m], a, b, c, d, f, e, k), m += 1;
      for (m = 0; m < this.l.length;) this.l[m] || (this.s[m] = Array.matrix(oa.xa, b, a, 0, this.N, "Snapshot.tileGrid" + m), this.m[m] = Array.matrix(oa.xa, b, a, 0, this.N, "Snapshot.colourTileGrid" + m), k && (this.o[m] = Array.matrix(oa.xa, b, a, 0, this.N, "Snapshot.overlayTileGrid" + m))), m += 1;
    };
    Ea.prototype.kb = function (a) {
      this.O.oe(a);
      this.W = this.N.h(oa.Yc, this.B.length, "HROT.birthChances");
      for (a = 0; a < this.B.length; a += 1) this.W[a] = -1 >= this.ga ? this.O.random() : (100 - this.ga) / 100;
      this.T = this.N.h(oa.Yc, this.v.length, "HROT.suvivalChances");
      for (a = 0; a < this.v.length; a += 1) this.T[a] = -1 >= this.ia ? this.O.random() : (100 - this.ia) / 100;
      this.M = this.N.h(oa.Yc, this.v.length, "HROT.immunityChances");
      for (a = 0; a < this.v.length; a += 1) this.M[a] = -1 === this.Y ? 1 : -2 === this.Y ? this.O.random() : (100 - this.Y) / 100;
      this.W.fill(this.W[0]);
      this.T.fill(this.T[0]);
      this.M.fill(this.M[0]);
    };
    Ea.prototype.resize = function (a, b) {
      this.h = Array.matrix(oa.Gd, b, a, 0, this.N, "HROT.counts");
      this.ja = this.N.h(oa.Ka, a, "HROT.colUsed");
    };
    Ea.prototype.mb = function (a, b, c, d, f, e, k, g, m) {
      var p = 2 * b + 1, n = p - 1, q = b * b, l = q + b, r, u = c.length >> 1;
      this.type = a;
      this.l = b;
      this.o = f && 10 !== a && 15 !== a ? b + b : b;
      this.H = this.N.h(oa.fc, p, "HROT.widths");
      this.L = c;
      this.ma = d;
      this.C = f;
      this.Z = g;
      this.$ = m;
      if (e) for (this.s = this.N.h(oa.pp, e.length, "HROT.weightedNeighbourhood"), d = 0; d < e.length; d += 1) this.s[d] = e[d]; else this.s = null;
      if (k) for (this.A = this.N.h(oa.Ka, k.length, "HROT.weightedStates"), d = 0; d < k.length; d += 1) this.A[d] = k[d]; else this.A = null;
      switch (a) {
        case this.U.i:
          for (d = 0; d < p; d += 1) this.H[d] = b;
          break;
        case this.U.m:
          for (d = 0; d < b; d += 1) this.H[d] = d, this.H[p - d - 1] = d;
          this.H[d] = b;
          break;
        case this.U.X:
          for (d = -b; d <= b; d += 1) {
            for (a = 0; (a + 1) * (a + 1) + d * d <= l;) a += 1;
            this.H[d + b] = a;
          }
          break;
        case this.U.Y:
          for (d = -b; d <= b; d += 1) {
            for (a = 0; (a + 1) * (a + 1) + d * d <= q;) a += 1;
            this.H[d + b] = a;
          }
          break;
        case 10:
          this.Kl = Array.matrix(oa.Ka, p, p, 0, this.N, "HROT.neighbourhood");
          q = new Uint16Array(p);
          k = r = f = d = l = e = 0;
          for (g = this.Kl[n - l]; l < p;) for (a = "0123456789abcdef".indexOf(c[e]), e === u && (g[n - d] = 1, d += 1, f += 1, r += 1), e += 1, m = 3; 0 <= m; --m) 0 !== (a & 1 << m) && (g[n - d] = 1, f += 1, r += 1), d += 1, d === p && (q[n - k] = r, r = 0, k += 1, d = 0, l += 1, l < p && (g = this.Kl[n - l]));
          c = new Uint32Array(f);
          for (l = f = 0; l < p; l += 1) for (g = this.Kl[l], d = 0; d < p; d += 1) 0 < g[d] && (c[f] = l << 16 | d, f += 1);
          for (d = p = 0; d < q.length; d += 1) 0 < q[d] && (p += q[d] + 2);
          this.fa = this.N.h(oa.xo, p, "HROT.neighbourList");
          for (d = f = e = 0; d < q.length; d += 1) if (0 < q[d]) {
            k = c[e];
            this.fa[f] = b - (k >> 16);
            this.fa[f + 1] = q[d];
            f += 2;
            for (l = 0; l < q[d]; l += 1) this.fa[f + l] = b - (c[e] & 65535), e += 1;
            f += q[d];
          }
      }
    };
    Ea.prototype.i = function (a, b, c) {
      return 0 > a || 0 > a + b || b - a >= this.m ? 0 : 0 > b && a + b < this.u ? this.h[a + b][0] : b >= this.m && b - a >= this.m - this.u ? this.h[a + this.m - 1 - b][this.m - 1] : a < this.u ? c[b] : a - this.u + 1 + b <= this.ea ? this.h[this.u - 1][a - this.u + 1 + b] : b - (a - this.u + 1) >= this.ea ? this.h[this.u - 1][b - (a - this.u + 1)] : this.h[this.u - 1][this.ea + (a + b + this.u + this.ea + 1) % 2];
    };
    Ea.prototype.da = function (a, b, c, d, f) {
      a.set(b.slice(c, d), f);
    };
    Ea.prototype.qa = function (a, b, c, d) {
      var f = this.g.m, e = this.o, k = this.l, g;
      for (g = 0; g < k; g += 1) {
        var m = f[b + g];
        var p = f[d + g + 1];
        this.da(p, m, a, c + 1, a);
      }
      for (g = 0; g < k; g += 1) m = f[d - g], p = f[b - g - 1], this.da(p, m, a, c + 1, a);
      for (g = b; g <= d; g += 1) m = f[g], m.copyWithin(c + 1, a, a + e + 1), m.copyWithin(a - e - 1, c - e, c + 1);
      for (g = 0; g < k; g += 1) m = f[b + g], p = f[d + g + 1], this.da(p, m, a, a + e + 1, c + 1), this.da(p, m, c - e, c + 1, a - e - 1);
      for (g = 0; g < k; g += 1) m = f[d - g], p = f[b - g - 1], this.da(p, m, a, a + e + 1, c + 1), this.da(p, m, c - e, c + 1, a - e - 1);
    };
    Ea.prototype.la = function (a, b, c, d) {
      var f = this.g.m, e = this.o, k = this.l, g;
      for (g = 0; g < k; g += 1) f[d + g + 1].fill(0, a, c + 1);
      for (g = 0; g < k; g += 1) f[b - g - 1].fill(0, a, c + 1);
      for (g = b; g <= d; g += 1) {
        var m = f[g];
        m.fill(0, c + 1, c + e + 2);
        m.fill(0, a - e - 1, a);
      }
      for (g = 0; g < k; g += 1) m = f[d + g + 1], m.fill(0, c + 1, c + e + 2), m.fill(0, a - e - 1, a);
      for (g = 0; g < k; g += 1) m = f[b - g - 1], m.fill(0, c + 1, c + e + 2), m.fill(0, a - e - 1, a);
    };
    Ea.prototype.ub = function (a, b, c, d, f) {
      var e, k, g = this.g.m, m = this.g.B, p = this.g.width, n = 0, q = this.g.height, l = 0, r = p, u = n, t = q, v = l, B = this.g.u, w = this.g.na, y = this.o, D = this.l, F = f ? this.aa : this.B, N = f ? this.ba : this.v, O = this.h;
      var M = this.X - 1;
      var U = I.Wa, W = I.Gh, H = this.g.Bf, P = this.O, Q = this.W, T = this.T, Z = this.M;
      var na = this.g.h + this.g.v - 1;
      var ia = this.g.v, ba = 0 < this.g.v ? 1 : 0;
      var ja = e = f = 0;
      if (1 === M) for (M = b - D; M <= d + D; M += 1) {
        var la = g[M];
        var fa = O[M];
        var V = m[M >> 4];
        var ma = k = false;
        for (b = a - y; b <= c + y; b += 1) {
          var ca = la[b];
          var aa = fa[b];
          na = 0;
          ca < U ? 0 <= aa && 1 === F[aa] && P.random() >= Q[aa] && (e += 1, na = 128) : 0 <= aa && 0 === N[aa] ? P.random() >= Z[aa] ? na = 128 : ja += 1 : P.random() >= T[aa] ? na = 128 : ja += 1;
          ca = H[ca + na];
          la[b] = ca;
          ca > W && (k = true, V[b >> 8] |= 1 << (~(b >> 4) & 15), b < p && (p = b), b > n && (n = b), ca >= U && (f += 1, b < r && (r = b), b > u && (u = b), ma = true));
        }
        k && (M < q && (q = M), M > l && (l = M));
        ma && (M < t && (t = M), M > v && (v = M));
      } else for (M = b - D; M <= d + D; M += 1) {
        la = g[M];
        fa = O[M];
        V = m[M >> 4];
        ma = k = false;
        for (b = a - y; b <= c + y; b += 1) ca = la[b], aa = fa[b], ca <= ia ? 0 <= aa && 1 === F[aa] ? P.random() >= Q[aa] ? (ca = na, e += 1) : ca > ba && --ca : ca > ba && --ca : ca === na ? 0 > aa || 0 === N[aa] ? P.random() >= this.M[0 > aa ? 0 : aa] || (--ca, ja += 1) : P.random() >= this.T[0 > aa ? 0 : aa] || (--ca, ja += 1) : ca > ba && --ca, la[b] = ca, 0 < ca && (k = true, V[b >> 8] |= 1 << (~(b >> 4) & 15), b < p && (p = b), b > n && (n = b), ca === na && (f += 1, b < r && (r = b), b > u && (u = b), ma = true));
        k && (M < q && (q = M), M > l && (l = M));
        ma && (M < t && (t = M), M > v && (v = M));
      }
      this.g.o = f;
      this.g.ma = e;
      this.g.aa = ja;
      0 < f && (B.F = p, B.J = n, B.G = q, B.K = l, w.F = r, w.J = u, w.G = t, w.K = v);
    };
    Ea.prototype.nb = function (a, b, c, d, f) {
      var e, k, g = this.g.m, m = this.g.B, p = this.g.width, n = 0, q = this.g.height, l = 0, r = p, u = n, t = q, v = l, B = this.g.u, w = this.g.na, y = this.o, D = this.l, F = f ? this.aa : this.B, N = f ? this.ba : this.v, O = this.h;
      var M = this.X - 1;
      var U = I.Wa, W = I.Gh, H = this.g.Bf;
      var P = this.g.h + this.g.v - 1;
      var Q = this.g.v, T = 0 < this.g.v ? 1 : 0;
      var Z = e = f = 0;
      if (1 === M) for (M = b - D; M <= d + D; M += 1) {
        var na = g[M];
        var ia = O[M];
        var ba = m[M >> 4];
        var ja = k = false;
        for (b = a - y; b <= c + y; b += 1) {
          var la = na[b];
          var fa = ia[b];
          P = 0;
          la < U ? 0 <= fa && 1 === F[fa] && (e += 1, P = 128) : 0 <= fa && 0 === N[fa] ? Z += 1 : P = 128;
          la = H[la + P];
          na[b] = la;
          la > W && (k = true, ba[b >> 8] |= 1 << (~(b >> 4) & 15), b < p && (p = b), b > n && (n = b), la >= U && (f += 1, b < r && (r = b), b > u && (u = b), ja = true));
        }
        k && (M < q && (q = M), M > l && (l = M));
        ja && (M < t && (t = M), M > v && (v = M));
      } else for (M = b - D; M <= d + D; M += 1) {
        na = g[M];
        ia = O[M];
        ba = m[M >> 4];
        ja = k = false;
        for (b = a - y; b <= c + y; b += 1) {
          la = na[b];
          fa = ia[b];
          if (la <= Q) 0 <= fa && 1 === F[fa] ? (la = P, e += 1) : la > T && --la; else if (la === P) {
            if (0 > fa || 0 === N[fa]) --la, Z += 1;
          } else la > T && --la;
          na[b] = la;
          0 < la && (k = true, ba[b >> 8] |= 1 << (~(b >> 4) & 15), b < p && (p = b), b > n && (n = b), la === P && (f += 1, b < r && (r = b), b > u && (u = b), ja = true));
        }
        k && (M < q && (q = M), M > l && (l = M));
        ja && (M < t && (t = M), M > v && (v = M));
      }
      this.g.o = f;
      this.g.ma = e;
      this.g.aa = Z;
      0 < f && (B.F = p, B.J = n, B.G = q, B.K = l, w.F = r, w.J = u, w.G = t, w.K = v);
    };
    Ea.prototype.pa = function (a, b, c, d, f) {
      this.V ? this.ub(a, b, c, d, f) : this.nb(a, b, c, d, f);
    };
    Ea.prototype.hb = function (a, b, c, d, f) {
      var e, k = this.g.h + this.g.v, g = this.g.v, m = this.s, p = this.g.m, n = this.h, q = this.A, l = q[0], r = m[0], u = m[1], t = m[2], v = m[3], B = m[4], w = m[5], y = m[6], D = m[7];
      m = m[8];
      for (a -= f; a <= b + f; a += 1) {
        var F = n[a];
        var N = c - f;
        var O = N - 1;
        for (e = N + 1; N <= d + f;) {
          var M = 0;
          var U = p[a - 1];
          var W = U[O];
          W > g ? M += r * q[k - W] : 0 < l && (M += r * l);
          W = U[N];
          W > g ? M += u * q[k - W] : 0 < l && (M += u * l);
          W = U[e];
          W > g ? M += t * q[k - W] : 0 < l && (M += t * l);
          U = p[a];
          W = U[O];
          W > g ? M += v * q[k - W] : 0 < l && (M += v * l);
          W = U[N];
          W > g ? M += B * q[k - W] : 0 < l && (M += B * l);
          W = U[e];
          W > g ? M += w * q[k - W] : 0 < l && (M += w * l);
          U = p[a + 1];
          W = U[O];
          W > g ? M += y * q[k - W] : 0 < l && (M += y * l);
          W = U[N];
          W > g ? M += D * q[k - W] : 0 < l && (M += D * l);
          W = U[e];
          W > g ? M += m * q[k - W] : 0 < l && (M += m * l);
          F[N] = M;
          N += 1;
          O += 1;
          e += 1;
        }
      }
    };
    Ea.prototype.gb = function (a, b, c, d, f) {
      var e, k = I.Wa, g = this.s, m = this.g.m, p = this.h, n = g[0], q = g[1], l = g[2], r = g[3], u = g[4], t = g[5], v = g[6], B = g[7];
      g = g[8];
      for (a -= f; a <= b + f; a += 1) {
        var w = p[a];
        var y = c - f;
        var D = y - 1;
        for (e = y + 1; y <= d + f;) {
          var F = 0;
          var N = m[a - 1];
          N[D] >= k && (F += n);
          N[y] >= k && (F += q);
          N[e] >= k && (F += l);
          N = m[a];
          N[D] >= k && (F += r);
          N[y] >= k && (F += u);
          N[e] >= k && (F += t);
          N = m[a + 1];
          N[D] >= k && (F += v);
          N[y] >= k && (F += B);
          N[e] >= k && (F += g);
          w[y] = F;
          y += 1;
          D += 1;
          e += 1;
        }
      }
    };
    Ea.prototype.ya = function (a, b, c, d, f, e) {
      var k = this.h, g, m = I.Wa, p = this.Z, n = this.$, q = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var l = k[g];
        for (b = a - f; b <= c + f;) {
          var r = 0;
          var u = q[g - p];
          u[b - p] >= m && (r += 1);
          u[b + p] >= m && (r += 1);
          u = q[g + p];
          u[b - p] >= m && (r += 1);
          u[b + p] >= m && (r += 1);
          q[g - n][b] >= m && (r += 1);
          q[g + n][b] >= m && (r += 1);
          u = q[g];
          u[b - n] >= m && (r += 1);
          u[b + n] >= m && (r += 1);
          u[b] >= m && (r += 1);
          l[b] = r;
          b += 1;
        }
      }
    };
    Ea.prototype.ta = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p = I.Wa, n = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var q = k[g];
        for (b = a - f; b <= c + f;) {
          var l = 0;
          for (m = -e; 0 > m; m += 1) {
            var r = n[g + m];
            r[b] >= p && (l += 1);
            r[b + m] >= p && (l += 1);
          }
          r = n[g];
          for (m = -f; m <= f; m += 1) r[b + m] >= p && (l += 1);
          for (m = 1; m <= f; m += 1) r = n[g + m], r[b] >= p && (l += 1), r[b + m] >= p && (l += 1);
          q[b] = l;
          b += 1;
        }
      }
    };
    Ea.prototype.cb = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p = I.Wa, n = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var q = k[g];
        for (b = a - f; b <= c + f;) {
          var l = 0;
          for (m = -e; 0 > m; m += 1) {
            var r = n[g + m];
            r[b] >= p && (l += 1);
          }
          r = n[g];
          for (m = -f; 0 >= m; m += 1) r[b + m] >= p && (l += 1);
          for (m = 1; m <= f; m += 1) n[g + m][b + m] >= p && (l += 1);
          q[b] = l;
          b += 1;
        }
      }
    };
    Ea.prototype.fb = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p, n = I.Wa, q = this.g.m;
      if (null === this.A) if (1 !== f || 1 !== e || this.C) for (g = b - e; g <= d + e; g += 1) {
        var l = k[g];
        for (b = a - f; b <= c + f;) {
          if (this.C && 0 !== (b + g & 1)) {
            var r = -(f + f + 1);
            var u = this.s.length + r;
            r += r;
          } else r = u = 0;
          var t = 0;
          for (p = -e; p <= e; p += 1) {
            var v = q[g + p];
            for (m = -f; m <= f; m += 1) v[b + m] >= n && (t += this.s[u]), u += 1;
            u += r;
          }
          l[b] = t;
          b += 1;
        }
      } else this.gb(b, d, a, c, f); else {
        var B = this.A[0];
        var w = this.A[1];
        for (g = b - e; g <= d + e; g += 1) for (l = k[g], b = a - f; b <= c + f;) {
          this.C && 0 !== (b + g & 1) ? (r = -(f + f + 1), u = this.s.length + r, r += r) : r = u = 0;
          t = 0;
          for (p = -e; p <= e; p += 1) {
            v = q[g + p];
            for (m = -f; m <= f; m += 1) t = v[b + m] >= n ? t + this.s[u] * w : t + this.s[u] * B, u += 1;
            u += r;
          }
          l[b] = t;
          b += 1;
        }
      }
    };
    Ea.prototype.Da = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p, n, q = I.Wa, l = this.fa, r = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var u = k[g];
        for (b = a - f; b <= c + f;) {
          for (m = n = 0; m < l.length;) {
            var t = l[m];
            this.C && 0 === (b + g & 1) && (t = -t);
            m += 1;
            var v = r[g + t];
            t = l[m];
            for (p = m += 1; p < m + t; p += 1) v[b + l[p]] >= q && (n += 1);
            m += t;
          }
          u[b] = n;
          b += 1;
        }
      }
    };
    Ea.prototype.Ma = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p, n, q, l = I.Wa, r = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var u = k[g];
        b = a - f;
        var t = q = n = 0;
        for (p = -e; p <= e; p += 1) {
          var v = r[g + p];
          if (1 === p) for (m = -f; m <= f; m += 1) v[b + m] >= l && (q += 1); else if (-1 === p) for (m = -f; m <= f; m += 1) v[b + m] >= l && (t += 1); else v[b - 1] >= l && (n += 1), v[b + 1] >= l && (n += 1);
        }
        r[g][b] >= l && (n += 1);
        u[b] = n + q + t;
        for (b += 1; b <= c + f;) {
          n = 0;
          for (p = -e; p <= e; p += 1) v = r[g + p], 1 === p ? (v[b - f - 1] >= l && --q, v[b + f] >= l && (q += 1)) : -1 === p ? (v[b - f - 1] >= l && --t, v[b + f] >= l && (t += 1)) : (v[b - 1] >= l && (n += 1), v[b + 1] >= l && (n += 1));
          r[g][b] >= l && (n += 1);
          u[b] = n + q + t;
          b += 1;
        }
      }
    };
    Ea.prototype.na = function (a, b, c, d, f, e, k) {
      var g = this.h, m, p, n, q = I.Wa, l = this.g.m;
      for (m = b - e; m <= d + e; m += 1) {
        var r = g[m];
        b = a - f;
        var u = 0;
        var t = k;
        for (n = -e; n <= e; n += 1) {
          var v = l[m + n];
          for (p = -f + t; p <= f - t; p += 2) v[b + p] >= q && (u += 1);
          t = 1 - t;
        }
        1 === k && l[m][b] >= q && (u += 1);
        r[b] = u;
        b += 1;
        if (b <= c + f) {
          var B = 0;
          t = k;
          for (n = -e; n <= e; n += 1) {
            v = l[m + n];
            for (p = -f + t; p <= f - t; p += 2) v[b + p] >= q && (B += 1);
            t = 1 - t;
          }
          1 === k && l[m][b] >= q && (B += 1);
          r[b] = B;
          for (b += 1; b <= c + f;) {
            t = k;
            for (n = -e; n <= e; n += 1) v = l[m + n], v[b - f + t - 2] >= q && --u, v[b + f - t] >= q && (u += 1), t = 1 - t;
            1 === k && (l[m][b - 2] >= q && --u, l[m][b] >= q && (u += 1));
            r[b] = u;
            b += 1;
            if (b <= c + f) {
              t = k;
              for (n = -e; n <= e; n += 1) v = l[m + n], v[b - f + t - 2] >= q && --B, v[b + f - t] >= q && (B += 1), t = 1 - t;
              1 === k && (l[m][b - 2] >= q && --B, l[m][b] >= q && (B += 1));
              r[b] = B;
              b += 1;
            }
          }
        }
      }
    };
    Ea.prototype.va = function (a, b, c, d, f, e) {
      this.na(a, b, c, d, f, e, 1);
    };
    Ea.prototype.ra = function (a, b, c, d, f, e) {
      this.na(a, b, c, d, f, e, 0);
    };
    Ea.prototype.Oa = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p, n = I.Wa, q = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var l = k[g];
        b = a - f;
        var r = 0;
        for (p = -e; 0 > p; p += 1) {
          var u = q[g + p];
          for (m = -f; m <= f + p; m += 1) u[b + m] >= n && (r += 1);
        }
        for (p = 0; p <= e; p += 1) for (u = q[g + p], m = -f + p; m <= f; m += 1) u[b + m] >= n && (r += 1);
        l[b] = r;
        for (b += 1; b <= c + f;) {
          for (p = -e; 0 > p; p += 1) u = q[g + p], u[b - f - 1] >= n && --r, u[b + f + p] >= n && (r += 1);
          for (p = 0; p <= e; p += 1) u = q[g + p], u[b - f + p - 1] >= n && --r, u[b + f] >= n && (r += 1);
          l[b] = r;
          b += 1;
        }
      }
    };
    Ea.prototype.Ra = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p = I.Wa, n = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var q = k[g];
        for (b = a - f; b <= c + f;) {
          var l = 0;
          for (m = 1; m <= e; m += 1) {
            var r = n[g + m];
            r[b - m] >= p && (l += 1);
            r[b + m] >= p && (l += 1);
            r = n[g - m];
            r[b - m] >= p && (l += 1);
            r[b + m] >= p && (l += 1);
          }
          r = n[g];
          r[b] >= p && (l += 1);
          q[b] = l;
          b += 1;
        }
      }
    };
    Ea.prototype.Xa = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p = I.Wa, n = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var q = k[g];
        for (b = a - f; b <= c + f;) {
          var l = 0;
          for (m = 1; m <= e; m += 1) {
            var r = n[g + m];
            r[b - m] >= p && (l += 1);
            r[b + m] >= p && (l += 1);
            r[b] >= p && (l += 1);
            r = n[g - m];
            r[b - m] >= p && (l += 1);
            r[b + m] >= p && (l += 1);
            r[b] >= p && (l += 1);
          }
          r = n[g];
          for (m = -f; m <= f; m += 1) r[b + m] >= p && (l += 1);
          q[b] = l;
          b += 1;
        }
      }
    };
    Ea.prototype.Ba = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p, n = I.Wa, q = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var l = k[g];
        b = a - f;
        var r = p = 0;
        for (m = 1; m <= e; m += 1) {
          var u = q[g + m];
          u[b] >= n && (p += 1);
          u = q[g - m];
          u[b] >= n && (p += 1);
        }
        u = q[g];
        for (m = -f; m <= f; m += 1) u[b + m] >= n && (r += 1);
        l[b] = p + r;
        for (b += 1; b <= c + f;) {
          p = 0;
          for (m = 1; m <= e; m += 1) q[g + m][b] >= n && (p += 1), q[g - m][b] >= n && (p += 1);
          u = q[g];
          u[b - f - 1] >= n && --r;
          u[b + f] >= n && (r += 1);
          l[b] = p + r;
          b += 1;
        }
      }
    };
    Ea.prototype.$a = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p = I.Wa, n = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var q = k[g];
        b = a - f;
        var l = 0;
        var r = b + g & 1;
        if (0 === r) {
          var u = e + 1;
          for (r = -e; 0 > r; r += 1) {
            var t = n[g + r];
            for (m = -u; m < u; m += 2) t[b + m] >= p && (l += 1), t[b + m + 1] >= p && (l += 1);
            t[b + m] >= p && (l += 1);
            u += 1;
          }
          r = 0;
        } else {
          u = e;
          for (r = -e; 0 >= r; r += 1) {
            t = n[g + r];
            for (m = -u; m < u; m += 2) t[b + m] >= p && (l += 1), t[b + m + 1] >= p && (l += 1);
            t[b + m] >= p && (l += 1);
            u += 1;
          }
          r = 1;
        }
        for (; r <= e; r += 1) {
          --u;
          t = n[g + r];
          for (m = -u; m < u; m += 2) t[b + m] >= p && (l += 1), t[b + m + 1] >= p && (l += 1);
          t[b + m] >= p && (l += 1);
        }
        q[b] = l;
        for (b += 1; b <= c + f;) {
          r = b + g & 1;
          if (0 === r) {
            u = e + 1;
            m = e;
            for (r = -e; 0 > r; r += 1) t = n[g + r], t[b + m] >= p && (l += 1), m += 1, t[b + m] >= p && (l += 1), u += 1;
            --u;
            t = n[g];
            t[b - m - 1] >= p && --l;
            t[b + m] >= p && (l += 1);
            m += 1;
            for (r = 1; r <= e; r += 1) --u, --m, t = n[g + r], t[b - m - 1] >= p && --l, t[b - m] >= p && --l;
          } else {
            u = e;
            m = e + 1;
            for (r = -e; 0 > r; r += 1) t = n[g + r], t[b - m - 1] >= p && --l, t[b - m] >= p && --l, u += 1, m += 1;
            --m;
            t = n[g];
            t[b - m - 1] >= p && --l;
            t[b + m] >= p && (l += 1);
            u += 1;
            for (r = 1; r <= e; r += 1) --u, --m, t = n[g + r], t[b + m] >= p && (l += 1), t[b + m + 1] >= p && (l += 1);
          }
          q[b] = l;
          b += 1;
        }
      }
    };
    Ea.prototype.Ga = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p, n, q = I.Wa, l = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var r = k[g];
        for (b = a - f; b <= c + f;) {
          var u = 0;
          for (p = -e; 0 > p; p += 1) {
            var t = n = p + e + 1;
            var v = l[g + p];
            for (m = -f; 0 >= m; m += 1) v[b + m] >= q && (u += t), t += n;
            t -= n + n;
            for (m = 1; m <= f; m += 1) v[b + m] >= q && (u += t), t -= n;
            t = n = p + e + 1;
            v = l[g - p];
            for (m = -f; 0 >= m; m += 1) v[b + m] >= q && (u += t), t += n;
            t -= n + n;
            for (m = 1; m <= f; m += 1) v[b + m] >= q && (u += t), t -= n;
          }
          t = n = f + 1;
          v = l[g];
          for (m = -f; 0 >= m; m += 1) v[b + m] >= q && (u += t), t += n;
          t -= n + n;
          for (m = 1; m <= f; m += 1) v[b + m] >= q && (u += t), t -= n;
          r[b] = u;
          b += 1;
        }
      }
    };
    Ea.prototype.Ta = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p, n = I.Wa, q = this.H, l = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var r = k[g];
        b = a - f;
        var u = 0;
        for (p = -e; p <= e; p += 1) {
          var t = q[p + e];
          var v = l[g + p];
          for (m = -t; m < t; m += 2) v[b + m] >= n && (u += 1), v[b + m + 1] >= n && (u += 1);
          v[b + m] >= n && (u += 1);
        }
        r[b] = u;
        for (b += 1; b <= c + f;) {
          for (p = -e; p <= e; p += 1) t = q[p + e], v = l[g + p], v[b - t - 1] >= n && --u, v[b + t] >= n && (u += 1);
          r[b] = u;
          b += 1;
        }
      }
    };
    Ea.prototype.Ja = function (a) {
      var b, c, d = this.g.u.F, f = this.g.u.J, e = this.g.u.G, k = this.g.u.K, g = this.o, m = this.l, p = a ? this.aa : this.B, n = a ? this.ba : this.v, q = g + g, l = m + m;
      var r = g + 1;
      var u = m + 1;
      var t = this.h, v = this.type, B = this.X - 1, w = this.g.width, y = 0, D = this.g.height, F = 0, N = w, O = y, M = D, U = F, W = this.g.m, H = this.g.B;
      var P = this.g.R;
      var Q = this.g.M, T = 0, Z = 0, na = 0, ia = 0, ba = 0, ja = 0, la = 0, fa = I.Wa, V = I.Gh, ma = this.g.Bf, ca = this.ja, aa = this.V, X = this.O, pa = this.W, R = this.T, E = this.M;
      -1 !== this.g.C && (T = Math.round((this.g.width - P) / 2), na = Math.round((this.g.height - Q) / 2), Z = T + P - 1, ia = na + Q - 1, 1 === p[0] && (d = T + g, f = Z - g, k = ia - m, e = na + m), 1 === this.g.C && (d - T < g && (f = Z), Z - f < g && (d = T), ia - k < m && (e = na), e - na < m && (k = ia), this.qa(T, na, Z, ia)), 0 === this.g.C && 1 === B && this.g.Te(W, 0), d - T < g && (d = T + g), Z - f < g && (f = Z - g), ia - k < m && (k = ia - m), e - na < m && (e = na + m), v === this.U.i ? (d -= q, e -= l, f += q, k += l) : v === this.U.m && 6 < g && (d -= g, e -= m, f += g, k += m));
      if (v === this.U.i) {
        d -= q;
        e -= l;
        f += q;
        k += l;
        for (c = e; c < e + l; c += 1) t[c].fill(0, d, f + 1);
        for (c = e + l; c <= k; c += 1) t[c].fill(0, d, d + q + 1);
        var z = t[e + l - 1];
        for (c = e + l; c <= k; c += 1) {
          var K = t[c];
          B = W[c];
          P = 0;
          for (b = d + q; b + 8 <= f;) B[b] >= fa && (P += 1), K[b] = z[b] + P, b += 1, B[b] >= fa && (P += 1), K[b] = z[b] + P, b += 1, B[b] >= fa && (P += 1), K[b] = z[b] + P, b += 1, B[b] >= fa && (P += 1), K[b] = z[b] + P, b += 1, B[b] >= fa && (P += 1), K[b] = z[b] + P, b += 1, B[b] >= fa && (P += 1), K[b] = z[b] + P, b += 1, B[b] >= fa && (P += 1), K[b] = z[b] + P, b += 1, B[b] >= fa && (P += 1), K[b] = z[b] + P, b += 1;
          for (; b <= f;) B[b] >= fa && (P += 1), K[b] = z[b] + P, b += 1;
          z = K;
        }
        d += g;
        e += m;
        f -= g;
        k -= m;
        -1 !== this.g.C && (d += q, e += l, f -= q, k -= l);
        l = W[e][d];
        P = t[e + m][d + g];
        var L = 0;
        l < fa ? 1 === p[P] && (aa ? X.random() >= pa[P] && (ja += 1, L = 128) : (ja += 1, L = 128)) : 0 === n[P] ? aa ? X.random() >= E[P] ? L = 128 : la += 1 : la += 1 : aa ? X.random() >= R[P] ? L = 128 : la += 1 : L = 128;
        l = ma[l + L];
        W[e][d] = l;
        l > V && (ca[d] |= 1, F = D = e, H[e >> 4][d >> 8] |= 1 << (~(d >> 4) & 15), l >= fa && (ba += 1, ca[d] |= 2, U = M = e));
        var J = Q = false;
        K = t[e + m];
        z = t[e + m];
        B = W[e];
        q = H[e >> 4];
        if (aa) for (b = d + 1; b <= f; b += 1) l = B[b], P = K[b + g] - z[b - r], L = 0, l < fa ? 1 === p[P] && X.random() >= pa[P] && (ja += 1, L = 128) : 0 === n[P] ? X.random() >= E[P] ? L = 128 : la += 1 : X.random() >= R[P] ? L = 128 : la += 1, l = ma[l + L], B[b] = l, l > V && (ca[b] |= 1, Q = true, q[b >> 8] |= 1 << (~(b >> 4) & 15), l >= fa && (ba += 1, ca[b] |= 2, J = true)); else for (b = d + 1; b <= f; b += 1) l = B[b], P = K[b + g] - z[b - r], L = 0, l < fa ? 1 === p[P] && (ja += 1, L = 128) : 0 === n[P] ? la += 1 : L = 128, l = ma[l + L], B[b] = l, l > V && (ca[b] |= 1, Q = true, q[b >> 8] |= 1 << (~(b >> 4) & 15), l >= fa && (ba += 1, ca[b] |= 2, J = true));
        Q && (F = D = e);
        J && (U = M = e);
        q = B = false;
        K = d + g;
        for (c = e + 1; c <= k; c += 1) l = W[c][d], P = t[c + m][K] - t[c - u][K], L = 0, l < fa ? 1 === p[P] && (aa ? X.random() >= pa[P] && (ja += 1, L = 128) : (ja += 1, L = 128)) : 0 === n[P] ? aa ? X.random() >= E[P] ? L = 128 : la += 1 : la += 1 : aa ? X.random() >= R[P] ? L = 128 : la += 1 : L = 128, l = ma[l + L], W[c][d] = l, l > V && (c < D && (D = c), c > F && (F = c), B = true, H[c >> 4][d >> 8] |= 1 << (~(d >> 4) & 15), l >= fa && (ba += 1, c < M && (M = c), c > U && (U = c), q = true));
        B && (ca[d] |= 1);
        q && (ca[d] |= 2);
        for (c = e + 1; c <= k; c += 1) {
          B = W[c];
          q = H[c >> 4];
          z = t[c + m];
          var x = t[c - u];
          K = d + 1 + g;
          var A = d + 1 - r;
          J = Q = false;
          if (aa) for (b = d + 1; b <= f; b += 1) l = B[b], P = z[K] + x[A] - z[A] - x[K], L = 0, l < fa ? 1 === p[P] && X.random() >= pa[P] && (L = 128, ja += 1) : 0 === n[P] ? X.random() >= E[P] ? L = 128 : la += 1 : X.random() >= R[P] ? L = 128 : la += 1, l = ma[l + L], B[b] = l, l > V && (Q = true, q[b >> 8] |= 1 << (~(b >> 4) & 15), ca[b] |= 1, l >= fa && (ba += 1, J = true, ca[b] |= 2)), K += 1, A += 1; else for (b = d + 1; b <= f; b += 1) l = B[b], P = z[K] + x[A] - z[A] - x[K], L = 0, l < fa ? 1 === p[P] && (L = 128, ja += 1) : 0 === n[P] ? la += 1 : L = 128, l = ma[l + L], B[b] = l, l > V && (Q = true, q[b >> 8] |= 1 << (~(b >> 4) & 15), ca[b] |= 1, l >= fa && (ba += 1, J = true, ca[b] |= 2)), K += 1, A += 1;
          Q && (c < D && (D = c), c > F && (F = c));
          J && (c < M && (M = c), c > U && (U = c));
        }
        for (b = d; b <= f; b += 1) ca[b] && (b < w && (w = b), b > y && (y = b), 0 !== (ca[b] & 2) && (b < N && (N = b), b > O && (O = b)), ca[b] = 0);
        this.g.o = ba;
        this.g.ma = ja;
        this.g.aa = la;
        0 < ba && (this.g.u.F = w, this.g.u.J = y, this.g.u.G = D, this.g.u.K = F, this.g.na.F = N, this.g.na.J = O, this.g.na.G = M, this.g.na.K = U);
      } else if (v === this.U.m && 6 < g) {
        d -= g;
        f += g;
        e -= m;
        k += m;
        -1 === this.g.C && (d -= g, f += g, e -= m, k += m);
        this.R = k - e + 1;
        this.m = f - d + 1;
        this.u = this.R + (this.m - 1) / 2 | 0;
        this.ea = this.m / 2 | 0;
        for (r = 0; r < this.u; r += 1) for (K = t[r], B = W[r + e], ca = r - 1, P = ca - 1, c = t[ca], q = t[P], u = 0; u <= this.m; u += 1) K[u] = this.i(ca, u - 1, c) + this.i(ca, u + 1, c) - this.i(P, u, q), r < this.R && B[u + d] >= fa && (K[u] += 1);
        for (r = m; r <= this.R - m; r += 1) {
          ca = r - 1;
          c = t[ca];
          A = r + m;
          var ka = t[A];
          K = A - 1;
          var Y = t[K];
          b = r - m - 1;
          var qa = t[b];
          z = b - 1;
          var sa = t[z];
          x = r + e;
          B = W[x];
          q = H[x >> 4];
          J = Q = false;
          if (aa) for (u = g; u <= this.m - g; u += 1) {
            P = u + g;
            l = u - g;
            P = this.i(A, u, ka) - this.i(ca, P + 1, c) - this.i(ca, l - 1, c) + this.i(z, u, sa) + this.i(K, u, Y) - this.i(ca, P, c) - this.i(ca, l, c) + this.i(b, u, qa);
            var ha = u + d;
            l = B[ha];
            L = 0;
            l < fa ? 1 === p[P] && X.random() >= pa[P] && (L = 128, ja += 1) : 0 === n[P] ? X.random() >= E[P] ? L = 128 : la += 1 : X.random() >= R[P] ? L = 128 : la += 1;
            l = ma[l + L];
            B[ha] = l;
            l > V && (ha < w && (w = ha), ha > y && (y = ha), Q = true, q[ha >> 8] |= 1 << (~(ha >> 4) & 15), l >= fa && (ba += 1, J = true, ha < N && (N = ha), ha > O && (O = ha)));
          } else for (u = g; u <= this.m - g; u += 1) P = u + g, l = u - g, P = this.i(A, u, ka) - this.i(ca, P + 1, c) - this.i(ca, l - 1, c) + this.i(z, u, sa) + this.i(K, u, Y) - this.i(ca, P, c) - this.i(ca, l, c) + this.i(b, u, qa), ha = u + d, l = B[ha], L = 0, l < fa ? 1 === p[P] && (L = 128, ja += 1) : 0 === n[P] ? la += 1 : L = 128, l = ma[l + L], B[ha] = l, l > V && (ha < w && (w = ha), ha > y && (y = ha), Q = true, q[ha >> 8] |= 1 << (~(ha >> 4) & 15), l >= fa && (ba += 1, J = true, ha < N && (N = ha), ha > O && (O = ha)));
          Q && (x < D && (D = x), x > F && (F = x));
          J && (x < M && (M = x), x > U && (U = x));
        }
        this.g.o = ba;
        this.g.ma = ja;
        this.g.aa = la;
        0 < ba && (this.g.u.F = w, this.g.u.J = y, this.g.u.G = D, this.g.u.K = F, this.g.na.F = N, this.g.na.J = O, this.g.na.G = M, this.g.na.K = U);
      } else switch (v) {
        case this.U.s:
          this.ya(d, e, f, k, g, m);
          break;
        case this.U.u:
          this.ta(d, e, f, k, g, m);
          break;
        case this.U.B:
          this.cb(d, e, f, k, g, m);
          break;
        case 15:
          this.fb(d, e, f, k, g, m);
          break;
        case 10:
          this.Da(d, e, f, k, g, m);
          break;
        case this.U.T:
          this.Ma(d, e, f, k, g, m);
          break;
        case this.U.O:
          this.va(d, e, f, k, g, m);
          break;
        case this.U.M:
          this.ra(d, e, f, k, g, m);
          break;
        case this.U.H:
          this.Oa(d, e, f, k, g, m);
          break;
        case this.U.V:
          this.Ra(d, e, f, k, g, m);
          break;
        case this.U.W:
          this.Xa(d, e, f, k, g, m);
          break;
        case this.U.R:
          this.Ba(d, e, f, k, g, m);
          break;
        case this.U.L:
          this.$a(d, e, f, k, g, m);
          break;
        case this.U.v:
          this.Ga(d, e, f, k, g, m);
          break;
        default:
          this.Ta(d, e, f, k, g, m);
      }
      -1 !== this.g.C && (d < T + g && (d = T + g), f > Z - g && (f = Z - g), e < na + m && (e = na + m), k > ia - m && (k = ia - m));
      v === this.U.i || v === this.U.m && 6 < g || this.pa(d, e, f, k, a);
      1 === this.g.C && this.la(T, na, Z, ia);
    };
    Ea.prototype.za = function (a, b, c, d, f, e) {
      var k = this.h, g, m = this.g.h + this.g.v - 1, p = this.Z, n = this.$, q = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var l = k[g];
        for (b = a - f; b <= c + f;) {
          var r = 0;
          var u = q[g - p];
          u[b - p] === m && (r += 1);
          u[b + p] === m && (r += 1);
          u = q[g + p];
          u[b - p] === m && (r += 1);
          u[b + p] === m && (r += 1);
          q[g - n][b] === m && (r += 1);
          q[g + n][b] === m && (r += 1);
          u = q[g];
          u[b - n] === m && (r += 1);
          u[b + n] === m && (r += 1);
          u[b] === m && (r += 1);
          l[b] = r;
          b += 1;
        }
      }
    };
    Ea.prototype.ua = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p = this.g.h + this.g.v - 1, n = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var q = k[g];
        for (b = a - f; b <= c + f;) {
          var l = 0;
          for (m = -e; 0 > m; m += 1) {
            var r = n[g + m];
            r[b] === p && (l += 1);
            r[b + m] === p && (l += 1);
          }
          r = n[g];
          for (m = -f; m <= f; m += 1) r[b + m] === p && (l += 1);
          for (m = 1; m <= f; m += 1) r = n[g + m], r[b] === p && (l += 1), r[b + m] === p && (l += 1);
          q[b] = l;
          b += 1;
        }
      }
    };
    Ea.prototype.eb = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p = this.g.h + this.g.v - 1, n = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var q = k[g];
        for (b = a - f; b <= c + f;) {
          var l = 0;
          for (m = -e; 0 > m; m += 1) {
            var r = n[g + m];
            r[b] === p && (l += 1);
          }
          r = n[g];
          for (m = -f; 0 >= m; m += 1) r[b + m] === p && (l += 1);
          for (m = 1; m <= f; m += 1) n[g + m][b + m] === p && (l += 1);
          q[b] = l;
          b += 1;
        }
      }
    };
    Ea.prototype.ib = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p, n = this.g.h + this.g.v - 1, q = this.g.m;
      if (null === this.A) for (g = b - e; g <= d + e; g += 1) {
        var l = k[g];
        for (b = a - f; b <= c + f;) {
          if (this.C && 0 !== (b + g & 1)) {
            var r = -(f + f + 1);
            var u = this.s.length + r;
            r += r;
          } else r = u = 0;
          var t = 0;
          for (p = -e; p <= e; p += 1) {
            var v = q[g + p];
            for (m = -f; m <= f; m += 1) v[b + m] === n && (t += this.s[u]), u += 1;
            u += r;
          }
          l[b] = t;
          b += 1;
        }
      } else if (1 !== f || 1 !== e || this.C) {
        var B = this.A[0];
        var w = this.A[1];
        for (g = b - e; g <= d + e; g += 1) for (l = k[g], b = a - f; b <= c + f;) {
          this.C && 0 !== (b + g & 1) ? (r = -(f + f + 1), u = this.s.length + r, r += r) : r = u = 0;
          t = 0;
          for (p = -e; p <= e; p += 1) {
            v = q[g + p];
            for (m = -f; m <= f; m += 1) t = v[b + m] === n ? t + this.s[u] * w : t + this.s[u] * B, u += 1;
            u += r;
          }
          l[b] = t;
          b += 1;
        }
      } else this.hb(b, d, a, c, f);
    };
    Ea.prototype.Fa = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p, n, q = this.g.h + this.g.v - 1, l = this.fa, r = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var u = k[g];
        for (b = a - f; b <= c + f;) {
          for (m = n = 0; m < l.length;) {
            var t = l[m];
            this.C && 0 === (b + g & 1) && (t = -t);
            m += 1;
            var v = r[g + t];
            t = l[m];
            for (p = m += 1; p < m + t; p += 1) v[b + l[p]] === q && (n += 1);
            m += t;
          }
          u[b] = n;
          b += 1;
        }
      }
    };
    Ea.prototype.Na = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p, n, q, l = this.g.h + this.g.v - 1, r = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var u = k[g];
        b = a - f;
        var t = q = n = 0;
        for (p = -e; p <= e; p += 1) {
          var v = r[g + p];
          if (1 === p) for (m = -f; m <= f; m += 1) v[b + m] === l && (q += 1); else if (-1 === p) for (m = -f; m <= f; m += 1) v[b + m] === l && (t += 1); else v[b - 1] === l && (n += 1), v[b + 1] === l && (n += 1);
        }
        r[g][b] === l && (n += 1);
        u[b] = n + q + t;
        for (b += 1; b <= c + f;) {
          n = 0;
          for (p = -e; p <= e; p += 1) v = r[g + p], 1 === p ? (v[b - f - 1] === l && --q, v[b + f] === l && (q += 1)) : -1 === p ? (v[b - f - 1] === l && --t, v[b + f] === l && (t += 1)) : (v[b - 1] === l && (n += 1), v[b + 1] === l && (n += 1));
          r[g][b] === l && (n += 1);
          u[b] = n + q + t;
          b += 1;
        }
      }
    };
    Ea.prototype.oa = function (a, b, c, d, f, e, k) {
      var g = this.h, m, p, n, q = this.g.h + this.g.v - 1, l = this.g.m;
      for (m = b - e; m <= d + e; m += 1) {
        var r = g[m];
        b = a - f;
        var u = 0;
        var t = k;
        for (n = -e; n <= e; n += 1) {
          var v = l[m + n];
          for (p = -f + t; p <= f - t; p += 2) v[b + p] === q && (u += 1);
          t = 1 - t;
        }
        1 === k && l[m][b] === q && (u += 1);
        r[b] = u;
        b += 1;
        if (b <= c + f) {
          var B = 0;
          t = k;
          for (n = -e; n <= e; n += 1) {
            v = l[m + n];
            for (p = -f + t; p <= f - t; p += 2) v[b + p] === q && (B += 1);
            t = 1 - t;
          }
          1 === k && l[m][b] === q && (B += 1);
          r[b] = B;
          for (b += 1; b <= c + f;) {
            t = k;
            for (n = -e; n <= e; n += 1) v = l[m + n], v[b - f + t - 2] === q && --u, v[b + f - t] === q && (u += 1), t = 1 - t;
            1 === k && (l[m][b - 2] === q && --u, l[m][b] === q && (u += 1));
            r[b] = u;
            b += 1;
            if (b <= c + f) {
              t = k;
              for (n = -e; n <= e; n += 1) v = l[m + n], v[b - f + t - 2] === q && --B, v[b + f - t] === q && (B += 1), t = 1 - t;
              1 === k && (l[m][b - 2] === q && --B, l[m][b] === q && (B += 1));
              r[b] = B;
              b += 1;
            }
          }
        }
      }
    };
    Ea.prototype.wa = function (a, b, c, d, f, e) {
      this.oa(a, b, c, d, f, e, 1);
    };
    Ea.prototype.sa = function (a, b, c, d, f, e) {
      this.oa(a, b, c, d, f, e, 0);
    };
    Ea.prototype.Qa = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p, n = this.g.h + this.g.v - 1, q = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var l = k[g];
        b = a - f;
        var r = 0;
        for (p = -e; 0 > p; p += 1) {
          var u = q[g + p];
          for (m = -f; m <= f + p; m += 1) u[b + m] === n && (r += 1);
        }
        for (p = 0; p <= e; p += 1) for (u = q[g + p], m = -f + p; m <= f; m += 1) u[b + m] === n && (r += 1);
        l[b] = r;
        for (b += 1; b <= c + f;) {
          for (p = -e; 0 > p; p += 1) u = q[g + p], u[b - f - 1] === n && --r, u[b + f + p] === n && (r += 1);
          for (p = 0; p <= e; p += 1) u = q[g + p], u[b - f + p - 1] === n && --r, u[b + f] === n && (r += 1);
          l[b] = r;
          b += 1;
        }
      }
    };
    Ea.prototype.Sa = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p = this.g.h + this.g.v - 1, n = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var q = k[g];
        for (b = a - f; b <= c + f;) {
          var l = 0;
          for (m = 1; m <= e; m += 1) {
            var r = n[g + m];
            r[b - m] === p && (l += 1);
            r[b + m] === p && (l += 1);
            r = n[g - m];
            r[b - m] === p && (l += 1);
            r[b + m] === p && (l += 1);
          }
          r = n[g];
          r[b] === p && (l += 1);
          q[b] = l;
          b += 1;
        }
      }
    };
    Ea.prototype.Ya = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p = this.g.h + this.g.v - 1, n = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var q = k[g];
        for (b = a - f; b <= c + f;) {
          var l = 0;
          for (m = 1; m <= e; m += 1) {
            var r = n[g + m];
            r[b - m] === p && (l += 1);
            r[b + m] === p && (l += 1);
            r[b] === p && (l += 1);
            r = n[g - m];
            r[b - m] === p && (l += 1);
            r[b + m] === p && (l += 1);
            r[b] === p && (l += 1);
          }
          r = n[g];
          for (m = -f; m <= f; m += 1) r[b + m] === p && (l += 1);
          q[b] = l;
          b += 1;
        }
      }
    };
    Ea.prototype.Ca = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p, n = this.g.h + this.g.v - 1, q = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var l = k[g];
        b = a - f;
        var r = p = 0;
        for (m = 1; m <= e; m += 1) {
          var u = q[g + m];
          u[b] === n && (p += 1);
          u = q[g - m];
          u[b] === n && (p += 1);
        }
        u = q[g];
        for (m = -f; m <= f; m += 1) u[b + m] === n && (r += 1);
        l[b] = p + r;
        for (b += 1; b <= c + f;) {
          p = 0;
          for (m = 1; m <= e; m += 1) q[g + m][b] === n && (p += 1), q[g - m][b] === n && (p += 1);
          u = q[g];
          u[b - f - 1] === n && --r;
          u[b + f] === n && (r += 1);
          l[b] = p + r;
          b += 1;
        }
      }
    };
    Ea.prototype.bb = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p = this.g.h + this.g.v - 1, n = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var q = k[g];
        b = a - f;
        var l = 0;
        var r = b + g & 1;
        if (0 === r) {
          var u = e + 1;
          for (r = -e; 0 > r; r += 1) {
            var t = n[g + r];
            for (m = -u; m < u; m += 2) t[b + m] === p && (l += 1), t[b + m + 1] === p && (l += 1);
            t[b + m] === p && (l += 1);
            u += 1;
          }
          r = 0;
        } else {
          u = e;
          for (r = -e; 0 >= r; r += 1) {
            t = n[g + r];
            for (m = -u; m < u; m += 2) t[b + m] === p && (l += 1), t[b + m + 1] === p && (l += 1);
            t[b + m] === p && (l += 1);
            u += 1;
          }
          r = 1;
        }
        for (; r <= e; r += 1) {
          --u;
          t = n[g + r];
          for (m = -u; m < u; m += 2) t[b + m] === p && (l += 1), t[b + m + 1] === p && (l += 1);
          t[b + m] === p && (l += 1);
        }
        q[b] = l;
        for (b += 1; b <= c + f;) {
          r = b + g & 1;
          if (0 === r) {
            u = e + 1;
            m = e;
            for (r = -e; 0 > r; r += 1) t = n[g + r], t[b + m] === p && (l += 1), m += 1, t[b + m] === p && (l += 1), u += 1;
            --u;
            t = n[g];
            t[b - m - 1] === p && --l;
            t[b + m] === p && (l += 1);
            m += 1;
            for (r = 1; r <= e; r += 1) --u, --m, t = n[g + r], t[b - m - 1] === p && --l, t[b - m] === p && --l;
          } else {
            u = e;
            m = e + 1;
            for (r = -e; 0 > r; r += 1) t = n[g + r], t[b - m - 1] === p && --l, t[b - m] === p && --l, u += 1, m += 1;
            --m;
            t = n[g];
            t[b - m - 1] === p && --l;
            t[b + m] === p && (l += 1);
            u += 1;
            for (r = 1; r <= e; r += 1) --u, --m, t = n[g + r], t[b + m] === p && (l += 1), t[b + m + 1] === p && (l += 1);
          }
          q[b] = l;
          b += 1;
        }
      }
    };
    Ea.prototype.Ha = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p, n, q = this.g.h + this.g.v - 1, l = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var r = k[g];
        for (b = a - f; b <= c + f;) {
          var u = 0;
          for (p = -e; 0 > p; p += 1) {
            var t = n = p + e + 1;
            var v = l[g + p];
            for (m = -f; 0 >= m; m += 1) v[b + m] === q && (u += t), t += n;
            t -= n + n;
            for (m = 1; m <= f; m += 1) v[b + m] === q && (u += t), t -= n;
            t = n = p + e + 1;
            v = l[g - p];
            for (m = -f; 0 >= m; m += 1) v[b + m] === q && (u += t), t += n;
            t -= n + n;
            for (m = 1; m <= f; m += 1) v[b + m] === q && (u += t), t -= n;
          }
          t = n = f + 1;
          v = l[g];
          for (m = -f; 0 >= m; m += 1) v[b + m] === q && (u += t), t += n;
          t -= n + n;
          for (m = 1; m <= f; m += 1) v[b + m] === q && (u += t), t -= n;
          r[b] = u;
          b += 1;
        }
      }
    };
    Ea.prototype.Va = function (a, b, c, d, f, e) {
      var k = this.h, g, m, p, n = this.g.h + this.g.v - 1, q = this.H, l = this.g.m;
      for (g = b - e; g <= d + e; g += 1) {
        var r = k[g];
        b = a - f;
        var u = 0;
        for (p = -e; p <= e; p += 1) {
          var t = q[p + e];
          var v = l[g + p];
          for (m = -t; m < t; m += 2) v[b + m] === n && (u += 1), v[b + m + 1] === n && (u += 1);
          v[b + m] === n && (u += 1);
        }
        r[b] = u;
        for (b += 1; b <= c + f;) {
          for (p = -e; p <= e; p += 1) t = q[p + e], v = l[g + p], v[b - t - 1] === n && --u, v[b + t] === n && (u += 1);
          r[b] = u;
          b += 1;
        }
      }
    };
    Ea.prototype.La = function (a) {
      var b, c, d = this.g.u.F, f = this.g.u.J, e = this.g.u.G, k = this.g.u.K, g = this.o, m = this.l, p = a ? this.aa : this.B, n = a ? this.ba : this.v, q = g + g, l = m + m;
      var r = g + 1;
      var u = m + 1;
      var t = this.h, v = this.type, B = this.g.width, w = 0, y = this.g.height, D = 0, F = B, N = w, O = y, M = D, U = this.g.m, W = this.g.B;
      var H = this.g.R;
      var P = this.g.M;
      var Q = 0, T = 0, Z = 0, na = 0, ia = 0, ba = 0, ja = 0, la, fa = this.V, V = this.O, ma = this.W, ca = this.T, aa = this.M, X = this.g.h + this.g.v - 1, pa = this.g.v, R = 0 < this.g.v ? 1 : 0;
      -1 !== this.g.C && (Q = Math.round((this.g.width - H) / 2), Z = Math.round((this.g.height - P) / 2), T = Q + H - 1, na = Z + P - 1, 1 === p[0] && (d = Q + g, f = T - g, k = na - m, e = Z + m), 1 === this.g.C && (d - Q < g && (f = T), T - f < g && (d = Q), na - k < m && (e = Z), e - Z < m && (k = na), this.qa(Q, Z, T, na)), d - Q < g && (d = Q + g), T - f < g && (f = T - g), na - k < m && (k = na - m), e - Z < m && (e = Z + m), v === this.U.i ? (d -= q, e -= l, f += q, k += l) : v === this.U.m && 6 < g && (d -= g, e -= m, f += g, k += m));
      if (v === this.U.i) {
        d -= q;
        e -= l;
        f += q;
        k += l;
        for (c = e; c < e + l; c += 1) t[c].fill(0, d, f + 1);
        for (c = e + l; c <= k; c += 1) t[c].fill(0, d, d + q);
        for (c = e + l; c <= k; c += 1) {
          var E = t[c - 1];
          var z = t[c];
          H = U[c];
          P = 0;
          for (b = d + q; b <= f; b += 1) H[b] === X && (P += 1), z[b] = E[b] + P;
        }
        d += g;
        e += m;
        f -= g;
        k -= m;
        -1 !== this.g.C && (d += q, e += l, f -= q, k -= l);
        l = U[e][d];
        P = t[e + m][d + g];
        l <= pa ? 1 === p[P] ? fa ? V.random() >= ma[P] ? (l = X, ba += 1) : l > R && --l : (l = X, ba += 1) : l > R && --l : l === X ? 0 === n[P] ? fa ? V.random() >= aa[P] || (--l, ja += 1) : (--l, ja += 1) : !fa || V.random() >= ca[P] || (--l, ja += 1) : l > R && --l;
        U[e][d] = l;
        0 < l && (w = B = d, D = y = e, W[e >> 4][d >> 8] |= 1 << (~(d >> 4) & 15), l === X && (ia += 1, N = F = d, M = O = e));
        var K = la = false;
        z = t[e + m];
        E = t[e + m];
        H = U[e];
        q = W[e >> 4];
        if (fa) for (b = d + 1; b <= f; b += 1) l = H[b], P = z[b + g] - E[b - r], l <= pa ? 1 === p[P] ? V.random() >= ma[P] ? (l = X, ba += 1) : l > R && --l : l > R && --l : l === X ? 0 === n[P] ? V.random() >= aa[P] || (--l, ja += 1) : V.random() >= ca[P] || (--l, ja += 1) : l > R && --l, H[b] = l, 0 < l && (b < B && (B = b), b > w && (w = b), la = true, q[b >> 8] |= 1 << (~(b >> 4) & 15), l === X && (ia += 1, b < F && (F = b), b > N && (N = b), K = true)); else for (b = d + 1; b <= f; b += 1) l = H[b], P = z[b + g] - E[b - r], l <= pa ? 1 === p[P] ? (l = X, ba += 1) : l > R && --l : l === X ? 0 === n[P] && (--l, ja += 1) : l > R && --l, H[b] = l, 0 < l && (b < B && (B = b), b > w && (w = b), la = true, q[b >> 8] |= 1 << (~(b >> 4) & 15), l === X && (ia += 1, b < F && (F = b), b > N && (N = b), K = true));
        la && (D = y = e);
        K && (M = O = e);
        q = H = false;
        z = d + g;
        if (fa) for (c = e + 1; c <= k; c += 1) l = U[c][d], P = t[c + m][z] - t[c - u][z], l <= pa ? 1 === p[P] ? V.random() >= ma[P] ? (l = X, ba += 1) : l > R && --l : l > R && --l : l === X ? 0 === n[P] ? V.random() >= aa[P] || (--l, ja += 1) : V.random() >= ca[P] || (--l, ja += 1) : l > R && --l, U[c][d] = l, 0 < l && (c < y && (y = c), c > D && (D = c), H = true, W[c >> 4][d >> 8] |= 1 << (~(d >> 4) & 15), l === X && (ia += 1, c < O && (O = c), c > M && (M = c), q = true)); else for (c = e + 1; c <= k; c += 1) l = U[c][d], P = t[c + m][z] - t[c - u][z], l <= pa ? 1 === p[P] ? (l = X, ba += 1) : l > R && --l : l === X ? 0 === n[P] && (--l, ja += 1) : l > R && --l, U[c][d] = l, 0 < l && (c < y && (y = c), c > D && (D = c), H = true, W[c >> 4][d >> 8] |= 1 << (~(d >> 4) & 15), l === X && (ia += 1, c < O && (O = c), c > M && (M = c), q = true));
        H && (d < B && (B = d), d > w && (w = d));
        q && (d < F && (F = d), d > N && (N = d));
        for (c = e + 1; c <= k; c += 1) {
          H = U[c];
          q = W[c >> 4];
          E = t[c + m];
          var L = t[c - u];
          K = la = false;
          z = d + 1 + g;
          var J = d + 1 - r;
          if (fa) for (b = d + 1; b <= f; b += 1) l = H[b], P = E[z] + L[J] - E[J] - L[z], l <= pa ? 1 === p[P] ? V.random() >= ma[P] ? (l = X, ba += 1) : l > R && --l : l > R && --l : l === X ? 0 === n[P] ? V.random() >= aa[P] || (--l, ja += 1) : V.random() >= ca[P] || (--l, ja += 1) : l > R && --l, H[b] = l, 0 < l && (q[b >> 8] |= 1 << (~(b >> 4) & 15), b < B && (B = b), b > w && (w = b), la = true, l === X && (ia += 1, K = true, b < F && (F = b), b > N && (N = b))), z += 1, J += 1; else for (b = d + 1; b <= f; b += 1) l = H[b], P = E[z] + L[J] - E[J] - L[z], l <= pa ? 1 === p[P] ? (l = X, ba += 1) : l > R && --l : l === X ? 0 === n[P] && (--l, ja += 1) : l > R && --l, H[b] = l, 0 < l && (q[b >> 8] |= 1 << (~(b >> 4) & 15), b < B && (B = b), b > w && (w = b), la = true, l === X && (ia += 1, K = true, b < F && (F = b), b > N && (N = b))), z += 1, J += 1;
          la && (c < y && (y = c), c > D && (D = c));
          K && (c < O && (O = c), c > M && (M = c));
        }
        this.g.o = ia;
        this.g.ma = ba;
        this.g.aa = ja;
        0 < ia && (this.g.u.F = B, this.g.u.J = w, this.g.u.G = y, this.g.u.K = D, this.g.na.F = F, this.g.na.J = N, this.g.na.G = O, this.g.na.K = M);
      } else if (v === this.U.m && 6 < g) {
        d -= g;
        f += g;
        e -= m;
        k += m;
        -1 === this.g.C && (d -= g, f += g, e -= m, k += m);
        this.R = k - e + 1;
        this.m = f - d + 1;
        this.u = this.R + (this.m - 1) / 2 | 0;
        this.ea = this.m / 2 | 0;
        for (r = 0; r < this.u; r += 1) for (z = t[r], H = U[r + e], c = r - 1, P = c - 1, b = t[c], q = t[P], u = 0; u <= this.m; u += 1) z[u] = this.i(c, u - 1, b) + this.i(c, u + 1, b) - this.i(P, u, q), r < this.R && H[u + d] === X && (z[u] += 1);
        for (r = m; r <= this.R - m; r += 1) {
          c = r - 1;
          b = t[c];
          var x = r + m;
          var A = t[x];
          z = x - 1;
          var ka = t[z];
          E = r - m - 1;
          var Y = t[E];
          L = E - 1;
          var qa = t[L];
          J = r + e;
          H = U[J];
          q = W[J >> 4];
          K = la = false;
          if (fa) for (u = g; u <= this.m - g; u += 1) {
            P = u + g;
            l = u - g;
            P = this.i(x, u, A) - this.i(c, P + 1, b) - this.i(c, l - 1, b) + this.i(L, u, qa) + this.i(z, u, ka) - this.i(c, P, b) - this.i(c, l, b) + this.i(E, u, Y);
            var sa = u + d;
            l = H[sa];
            l <= pa ? 1 === p[P] ? V.random() >= ma[P] ? (l = X, ba += 1) : l > R && --l : l > R && --l : l === X ? 0 === n[P] ? V.random() >= aa[P] || (--l, ja += 1) : V.random() >= ca[P] || (--l, ja += 1) : l > R && --l;
            H[sa] = l;
            0 < l && (q[sa >> 8] |= 1 << (~(sa >> 4) & 15), sa < B && (B = sa), sa > w && (w = sa), la = true, l === X && (ia += 1, K = true, sa < F && (F = sa), sa > N && (N = sa)));
          } else for (u = g; u <= this.m - g; u += 1) P = u + g, l = u - g, P = this.i(x, u, A) - this.i(c, P + 1, b) - this.i(c, l - 1, b) + this.i(L, u, qa) + this.i(z, u, ka) - this.i(c, P, b) - this.i(c, l, b) + this.i(E, u, Y), sa = u + d, l = H[sa], l <= pa ? 1 === p[P] ? (l = X, ba += 1) : l > R && --l : l === X ? 0 === n[P] && (--l, ja += 1) : l > R && --l, H[sa] = l, 0 < l && (q[sa >> 8] |= 1 << (~(sa >> 4) & 15), sa < B && (B = sa), sa > w && (w = sa), la = true, l === X && (ia += 1, K = true, sa < F && (F = sa), sa > N && (N = sa)));
          la && (J < y && (y = J), J > D && (D = J));
          K && (J < O && (O = J), J > M && (M = J));
        }
        this.g.o = ia;
        this.g.ma = ba;
        this.g.aa = ja;
        0 < ia && (this.g.u.F = B, this.g.u.J = w, this.g.u.G = y, this.g.u.K = D, this.g.na.F = F, this.g.na.J = N, this.g.na.G = O, this.g.na.K = M);
      } else switch (v) {
        case this.U.s:
          this.za(d, e, f, k, g, m);
          break;
        case this.U.u:
          this.ua(d, e, f, k, g, m);
          break;
        case this.U.B:
          this.eb(d, e, f, k, g, m);
          break;
        case 15:
          this.ib(d, e, f, k, g, m);
          break;
        case 10:
          this.Fa(d, e, f, k, g, m);
          break;
        case this.U.T:
          this.Na(d, e, f, k, g, m);
          break;
        case this.U.O:
          this.wa(d, e, f, k, g, m);
          break;
        case this.U.M:
          this.sa(d, e, f, k, g, m);
          break;
        case this.U.H:
          this.Qa(d, e, f, k, g, m);
          break;
        case this.U.V:
          this.Sa(d, e, f, k, g, m);
          break;
        case this.U.W:
          this.Ya(d, e, f, k, g, m);
          break;
        case this.U.R:
          this.Ca(d, e, f, k, g, m);
          break;
        case this.U.L:
          this.bb(d, e, f, k, g, m);
          break;
        case this.U.v:
          this.Ha(d, e, f, k, g, m);
          break;
        default:
          this.Va(d, e, f, k, g, m);
      }
      -1 !== this.g.C && (d < Q + g && (d = Q + g), f > T - g && (f = T - g), e < Z + m && (e = Z + m), k > na - m && (k = na - m));
      v === this.U.i || v === this.U.m && 6 < g || this.pa(d, e, f, k, a);
      1 === this.g.C && this.la(Q, Z, T, na);
    };
    Ea.prototype.Ia = function (a) {
      var b = false;
      this.ka && 1 === (a & 1) && (b = true);
      2 === this.X ? this.Ja(b) : this.La(b);
    };
    var I = {cE: 15, Nt: 0, Pt: 1, Ot: 2, LE: 3, Bv: "St.6", Av: "St.3", Uj: 5e4, Mh: 0, Lh: 1, pi: 2, ri: 3, si: 4, $e: 5, af: 6, nz: 7, oz: 8, eq: 9, Mt: 10, lz: 11, GE: 12, HE: 13, jz: 14, kz: 15, mz: 16, IE: [0, 1, 2, 3, 4, 5, 6], JE: [2, 3, 5, 6], en: 0, dl: 1, ai: 2, Hl: 27, Zy: 36, KE: ["Rot90CW", "Rot90CCW", "FlipX", "FlipY", "Rot180", "Flip" + String.fromCharCode(10189), "Flip" + String.fromCharCode(10187), "FlipOrth", "Rot90", "FlipOrthOrRot90", "FlipDiag", "FlipDiagOrRot90", "FlipXOrRot180", "FlipYOrRot180", "Flip" + String.fromCharCode(10189) + "OrRot180", "Flip" + String.fromCharCode(10187) + "OrRot180", "FlipOrthOrDiag"], Gl: 4194304, BE: 268435456, Ex: "Buffer Full", Bp: [[0, 0, 0], [0, 236, 91], [0, 192, 254], [254, 0, 0], [254, 254, 254], [75, 75, 75], [233, 41, 254], [64, 0, 128], [254, 230, 0], [150, 128, 0], [130, 200, 0], [0, 120, 40], [254, 140, 0], [140, 70, 0], [0, 0, 254], [192, 192, 192], [128, 128, 128], [254, 112, 140], [174, 0, 168], [0, 152, 127], [0, 73, 59]], Dn: "off;on;killer on;killer off;eternal on;eternal off;p2 killer on;p2 killer off;egg on;egg off;p2 on;p2 off;p2 egg on;p2 egg off;inverter;catalyst;catalyst killer;on births;off births;on p2 births;off p2 births".split(";"), Cp: [[0, 0, 0], [0, 255, 0], [0, 0, 160], [255, 216, 255], [255, 0, 0], [255, 255, 0], [96, 96, 96], [255, 105, 180], [128, 0, 128], [0, 191, 255], [0, 64, 128], [64, 224, 208], [0, 128, 64], [255, 255, 255], [255, 99, 71], [250, 128, 114], [219, 112, 147], [255, 165, 0], [245, 222, 179], [0, 255, 255], [192, 192, 192], [192, 255, 128], [255, 182, 193], [0, 255, 127], [1, 1, 1], [255, 0, 127]], En: "dead;on;off;marked on trail;marked off trail;marked on alt;boundary;marked on no-trail;marked off no-trail;on trail 2;off trail 2;on trail 3;off trail 3;on no-trail 1;off disappearing;on no-trail 2;off vanishing;on no-trail 3;off cycling 1;on no-trail 4;off cycling 2;on no-trail 5;off cycling 3;on no-trail 6;hidden;on no-trail 7".split(";"), CD: [[1, 1, 1], [1, 0, 0], [0, 1, 0]], DD: [[0, 1, 0], [1, 1, 0], [1, 0, 1]], ED: [[1, 1, 0], [1, 0, 1], [1, 0, 0]], FD: [[0, 1, 1], [1, 1, 0], [0, 0, 1]], yD: [[1, 1, 1], [0, 0, 1], [0, 1, 0]], zD: [[0, 1, 0], [0, 1, 1], [1, 0, 1]], AD: [[0, 1, 1], [1, 0, 1], [0, 0, 1]], BD: [[1, 1, 0], [0, 1, 1], [1, 0, 0]], KD: [[0, 1, 0], [1, 0, 0], [1, 1, 1]], LD: [[1, 0, 1], [1, 1, 0], [0, 1, 0]], MD: [[1, 0, 0], [1, 0, 1], [1, 1, 0]], ND: [[0, 0, 1], [1, 1, 0], [0, 1, 1]], GD: [[0, 1, 0], [0, 0, 1], [1, 1, 1]], HD: [[1, 0, 1], [0, 1, 1], [0, 1, 0]], ID: [[0, 0, 1], [1, 0, 1], [0, 1, 1]], JD: [[1, 0, 0], [0, 1, 1], [1, 1, 0]], Mg: 0, Ng: 1, Og: 2, Pg: 3, Vj: 0, hi: 1, Wj: 2, ii: 3, Hc: 4096, ew: 1.6, ag: 16, Tl: 4096, UD: 512, Qp: 262144, Yj: 65536, sl: 65536, Cy: 8192, By: 131072, ap: 64, Vp: 524288, tj: 12, Wa: 64, vf: 127, me: 63, Gh: 1, qb: 1, jb: 2, tb: 4, xb: 8, Eb: 16, sb: 32, Bb: 64, Cb: 128};
    Na.prototype.set = function (a) {
      var b;
      this.Xj = a.Xj;
      this.A = a.A;
      this.o = a.o;
      this.s = a.s;
      this.u.set(a.u);
      this.i.set(a.i);
      this.h.set(a.h);
      this.v.set(a.v);
      this.m.set(a.m);
      this.l.set(a.l);
      this.C.set(a.C);
      this.m.set(a.m);
      this.H = a.H;
      for (b = 0; b < a.B.length; b += 1) this.B[b].set(a.B[b]);
    };
    Na.prototype.L = function (a, b, c) {
      this.Xj = true;
      this.A = a;
      this.o = b.h << 16 | b.l << 8 | b.i;
      this.s = c.h << 16 | c.l << 8 | c.i;
    };
    Na.prototype.M = function (a, b) {
      -1 !== a && (this.o = a);
      -1 !== b && (this.s = b);
    };
    S.prototype.set = function (a) {
      this.h = a.h;
      this.l = a.l;
      this.i = a.i;
    };
    ua.prototype.set = function (a) {
      this.h.set(a.h);
      this.i.set(a.i);
    };
    ra.prototype.Bi = function () {
      var a = G.Xb, b = this.displayWidth + a + a << 1;
      a = this.displayHeight + a + a << 1;
      this.Cc ? (null === this.qd && (this.qd = document.createElement("canvas")), this.qd.width = b, this.qd.height = a, this.Zf = this.qd.getContext("2d", {alpha: false}), this.$f = this.Zf.getImageData(0, 0, this.qd.width, this.qd.height), this.Ig = new Uint32Array(this.$f.data.buffer)) : this.Ig = this.$f = this.Zf = null;
    };
    ra.prototype.oj = function () {
      var a, b, c, d = this.displayWidth, f = 20 * this.displayHeight, e = -f, k = this.nh;
      this.Vh = new Uint16Array(I.Uj);
      this.Wh = new Float32Array(I.Uj);
      this.Uh = new Float32Array(I.Uj);
      this.Oj = new Uint32Array(I.Uj);
      var g = this.Vh;
      var m = this.Wh;
      var p = this.Uh;
      for (a = 0; a < I.Uj; a += 1) {
        g[a] = k.random() * d | 0;
        for (b = c = 0; 10 > b; b += 1) c += k.random() * f;
        m[a] = -c / 10;
        m[a] > e && (e = m[a]);
        p[a] = k.random() / 5 + 0.8;
        if (a < I.Uj - 4 && 0.2 > k.random()) {
          b = g[a];
          c = m[a];
          var n = p[a];
          a += 1;
          g[a] = b;
          m[a] = c - 2;
          p[a] = n;
          a += 1;
          g[a] = b;
          m[a] = c + 2;
          p[a] = n;
          1 < b && (a += 1, g[a] = b - 2, m[a] = c, p[a] = n);
          b < d - 2 && (a += 1, g[a] = b + 2, m[a] = c, p[a] = n);
        }
      }
      for (a = 0; a < I.Uj; a += 1) m[a] -= e;
    };
    ra.prototype.kj = function () {
      var a = 1;
      this.X && (a = G.dm);
      this.ha && (a = G.tl);
      return a;
    };
    ra.prototype.tc = function (a) {
      this.X && (a *= G.dm);
      this.ha && (a *= G.tl);
      return a;
    };
    ra.prototype.ah = function () {
      var a, b = 0, c = this.displayWidth, d = this.displayHeight, f = this.fb[0], e = this.Oc, k = this.nh, g = this.Vh, m = this.Wh, p = this.Uh, n = this.Oj;
      for (a = 0; a < I.Uj; a += 1) {
        var q = g[a];
        var l = m[a];
        var r = p[a];
        var u = q;
        var t = l;
        if (0 <= l && l < d - 1) if ((l | 0) === (l + r | 0)) t = l + r, e[(t | 0) * c + u] = -1; else {
          if (e[(l + r | 0) * c + q] === f) t = l + r; else {
            var v = k.random();
            if (0.05 > v) {
              var B = 1;
              0.025 > v && (B = -1);
              0 <= q + B && q + B < c && e[(l + r | 0) * c + q + B] === f && e[(l | 0) * c + q + B] === f && (u = q + B, t = l + r);
            }
          }
          e[(t | 0) * c + u] = -1;
        } else 0 > l && (t = l + r);
        t >= d - 1 && (n[b] = a, b += 1);
        g[a] = u;
        m[a] = t;
      }
      if (5 < b) for (a = 0; a < b; a += 1) 0.25 > k.random() && (v = n[a], t = -(k.random() * d), u = k.random() * c | 0, g[v] = u, m[v] = t, r = p[v], a < b - 4 && 0.2 > k.random() && (a += 1, v = n[a], g[v] = u, m[v] = t - 2, p[v] = r, a += 1, v = n[a], g[v] = u, m[v] = t + 2, p[v] = r, 1 < u && (a += 1, v = n[a], g[v] = u - 2, m[v] = t, p[v] = r), u < c - 2 && (a += 1, v = n[a], g[v] = u + 2, m[v] = t, p[v] = r)));
    };
    ra.prototype.an = function (a) {
      var b, c, d, f;
      this.Nd = this.zf = null;
      this.xc = a;
      var e = a[0].width;
      var k = a[0].height / e;
      var g = a[0].Fy;
      var m = a[0].Bo;
      if (0 < k && 31 === e) {
        null === this.Nd && (this.Nd = document.createElement("canvas"), this.Nd.width = 32, this.Nd.height = 32 * k);
        var p = this.Nd.getContext("2d");
        var n = p.getImageData(0, 0, this.Nd.width, this.Nd.height);
        var q = new Uint32Array(n.data.buffer);
        for (a = c = b = 0; a < k; a += 1) {
          for (f = 0; f < e; f += 1) {
            for (d = 0; d < e; d += 1) {
              var l = g[b];
              b += 1;
              l = m[l];
              q[c] = -16777216 | (l & 255) << 16 | l & 65280 | l >> 16;
              c += 1;
            }
            q[c] = 0;
            c += 1;
          }
          for (d = 0; d < e + 1; d += 1) q[c] = 0, c += 1;
        }
        p.putImageData(n, 0, 0);
        null === this.zf && (this.zf = new Image);
        this.zf.src = this.Nd.toDataURL("image/png");
      }
    };
    ra.prototype.Qf = function (a) {
      this.ec = 0;
      this.Be = -1;
      this.Vd = [];
      a ? null === this.Ud && (this.Ud = this.N.h(oa.Gd, I.Gl, "Life.hashList"), this.fi = this.N.h(oa.fc, I.Gl, "Life.genList"), this.kf = this.N.h(oa.fc, I.Gl, "Life.popList"), this.Yb = this.N.h(oa.fc, 2 * I.Gl, "Life.boxList"), this.De = this.N.h(oa.Gd, I.Gl, "Life.nextList"), this.Kg = Array.matrix(oa.Ka, this.height, this.width, I.en, this.N, "Life.countList"), 2 < this.h || this.s ? this.Ce = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.initList") : this.Ce = null, this.sf = this.Jf = this.Lc = -1, this.De.fill(-1), this.Yh = "", this.ie = null, this.Zd = new Uint16Array(67), this.Zd[0] = I.en, this.Zd[1] = I.ai, this.Zd[2] = I.ai, this.Zd[64] = I.ai, this.Zd[65] = I.en, this.Zd[66] = I.ai, this.zi = performance.now()) : (this.Ce = this.Kg = this.De = this.Yb = this.kf = this.fi = this.Ud = null, this.sf = this.Jf = this.Lc = -1, this.jf = this.Wf = this.Zd = null);
    };
    ra.prototype.Em = function (a, b, c) {
      b = "Spaceship (" + (b + "," + c) + ")c";
      1 < a && (b += "/" + a);
      return b;
    };
    ra.prototype.cl = function (a, b, c, d, f, e) {
      var k = 31415962, g, m = 0, p = this.m, n = I.Wa;
      d += e;
      for (g = 0; g < b; g += 1) for (e = 0; e < a; e += 1) p[d - m][f] >= n && (k = 1000003 * k ^ g, k = 1000003 * k ^ e), m += 1, m === c && (m = 0, f += 1);
      return k | 0;
    };
    ra.prototype.al = function (a, b, c, d, f, e) {
      var k = 31415962, g = this.m, m = I.Wa;
      c += f;
      d += e;
      for (e = 0; e < b; e += 1) {
        var p = g[d - e];
        for (f = 0; f < a; f += 1) p[c - f] >= m && (k = 1000003 * k ^ e, k = 1000003 * k ^ f);
      }
      return k | 0;
    };
    ra.prototype.el = function (a, b, c, d, f, e) {
      var k = 31415962, g, m = 0, p = 0, n = this.m, q = I.Wa;
      d += f;
      for (g = 0; g < b; g += 1) for (f = 0; f < a; f += 1) n[p + e][d - m] >= q && (k = 1000003 * k ^ g, k = 1000003 * k ^ f), p += 1, p === c && (p = 0, m += 1);
      return k | 0;
    };
    ra.prototype.Zk = function (a, b, c, d, f) {
      var e = 31415962, k, g = this.m, m = I.Wa;
      c += d;
      for (k = 0; k < b; k += 1) {
        var p = g[k + f];
        for (d = 0; d < a; d += 1) p[c - d] >= m && (e = 1000003 * e ^ k, e = 1000003 * e ^ d);
      }
      return e | 0;
    };
    ra.prototype.nk = function (a, b, c, d, f) {
      var e = 31415962, k, g = this.m, m = I.Wa;
      c += f;
      for (k = 0; k < b; k += 1) {
        var p = g[c - k];
        for (f = 0; f < a; f += 1) p[f + d] >= m && (e = 1000003 * e ^ k, e = 1000003 * e ^ f);
      }
      return e | 0;
    };
    ra.prototype.jl = function (a, b, c, d, f) {
      var e = 31415962, k, g = 0, m = this.m, p = I.Wa;
      var n = d;
      for (k = 0; k < b; k += 1) for (d = 0; d < a; d += 1) m[g + f][n] >= p && (e = 1000003 * e ^ k, e = 1000003 * e ^ d), g += 1, g === c && (g = 0, n += 1);
      return e | 0;
    };
    ra.prototype.ml = function (a, b, c, d, f, e, k) {
      var g = 31415962, m = 0, p = 0, n = this.m, q = I.Wa;
      d += e;
      f += k;
      for (k = 0; k < b; k += 1) for (e = 0; e < a; e += 1) n[f - p][d - m] >= q && (g = 1000003 * g ^ k, g = 1000003 * g ^ e), p += 1, p === c && (p = 0, m += 1);
      return g | 0;
    };
    ra.prototype.ql = function (a, b) {
      var c = 0, d = a.F, f = a.G, e = a.J - d + 1;
      a = a.K - f + 1;
      var k = e - 1, g = a - 1, m = a;
      if (b === I.Mh || b === I.Lh || b === I.$e || b === I.af) {
        var p = e;
        e = m;
        m = p;
      }
      switch (b) {
        case I.Mh:
          c = this.el(e, m, a, k, d, f);
          break;
        case I.si:
          c = this.al(e, m, k, g, d, f);
          break;
        case I.Lh:
          c = this.cl(e, m, a, g, d, f);
          break;
        case I.pi:
          c = this.Zk(e, m, k, d, f);
          break;
        case I.ri:
          c = this.nk(e, m, g, d, f);
          break;
        case I.$e:
          c = this.jl(e, m, a, d, f);
          break;
        case I.af:
          c = this.ml(e, m, a, k, g, d, f);
      }
      return c;
    };
    ra.prototype.vl = function (a, b) {
      var c = 31415962, d = a.F, f = a.G, e = a.J - d + 1;
      a = a.K - f + 1;
      var k = e - 1, g = a - 1, m = a, p, n, q = 0, l = 0, r = 0, u = 0, t = this.m, v = this.Ca, B = I.Wa, w = G.yb[6] + 128;
      (this.i || this.s || this.l || this.A) && 0 !== (this.counter & 1) && (t = this.W);
      if (b === I.Mh || b === I.Lh || b === I.$e || b === I.af) {
        var y = e;
        e = m;
        m = y;
      }
      for (n = 0; n < m; n += 1) for (p = 0; p < e; p += 1) {
        switch (b) {
          case I.Lh:
            q = r;
            l = g - u;
            break;
          case I.si:
            q = k - p;
            l = g - n;
            break;
          case I.Mh:
            q = k - r;
            l = u;
            break;
          case I.pi:
            q = k - p;
            l = n;
            break;
          case I.ri:
            q = p;
            l = g - n;
            break;
          case I.$e:
            q = r;
            l = u;
            break;
          case I.af:
            q = k - r, l = g - u;
        }
        if (this.H) {
          if (t[l + f][q + d] >= B || v[l + f][q + d] === w) c = 1000003 * c ^ n, c = 1000003 * c ^ p, v[l + f][q + d] === w && (c = 1000003 * c ^ 6);
        } else if (this.l) {
          if (y = t[l + f][q + d], y & 1 || 6 === y) c = 1000003 * c ^ n, c = 1000003 * c ^ p, 6 === y && (c = 1000003 * c ^ y);
        } else if (y = t[l + f][q + d], y > this.v) {
          y -= this.v;
          if (this.i) switch (b) {
            case I.Lh:
              y = y << 1 & 15 | (y & 8) >> 3;
              break;
            case I.si:
              y = (y & 3) << 2 | (y & 12) >> 2;
              break;
            case I.Mh:
              y = y >> 1 & 15 | (y & 1) << 3;
              break;
            case I.pi:
              y = y & 5 | (y & 2) << 2 | (y & 8) >> 2;
              break;
            case I.ri:
              y = y & 10 | (y & 1) << 2 | (y & 4) >> 2;
              break;
            case I.$e:
              y = (y & 8) >> 3 | (y & 4) >> 1 | (y & 2) << 1 | (y & 1) << 3;
              break;
            case I.af:
              y = (y & 4) << 1 | (y & 8) >> 1 | (y & 1) << 1 | (y & 2) >> 1;
          } else this.s || (y = this.h - y);
          c = 1000003 * c ^ n;
          c = 1000003 * c ^ p;
          c = 1000003 * c ^ y;
        }
        u += 1;
        u === a && (u = 0, r += 1);
      }
      return c | 0;
    };
    ra.prototype.ol = function (a, b, c) {
      return c ? this.ql(a, b) : this.vl(a, b);
    };
    ra.prototype.il = function (a, b, c, d, f, e) {
      var k = 0 !== d && 0 !== f, g = -1;
      a = this.Pi(a, b, d, f);
      if (a &= c) a & 1 << I.pi && (g = I.pi, a & 1 << I.ri ? (g = I.nz, a & 1 << I.Mh ? a & 1 << I.Lh && (g = I.eq) : a & 1 << I.$e && a & 1 << I.af && (g = I.mz)) : a & 1 << I.si && (g = I.GE), g === I.pi && 2 !== e && (g = -1)), -1 === g && a & 1 << I.ri && (g = I.ri, a & 1 << I.pi ? (g = I.nz, a & 1 << I.Mh ? a & 1 << I.Lh && (g = I.eq) : a & 1 << I.$e && a & 1 << I.af && (g = I.mz)) : a & 1 << I.si && (g = I.HE), g === I.ri && 2 !== e && (g = -1)), -1 === g && a & 1 << I.Mh && (g = I.Mh, a & 1 << I.Lh && (g = I.oz, a & 1 << I.pi && a & 1 << I.ri && (g = I.eq), a & 1 << I.$e && a & 1 << I.af && (g = I.lz)), g === I.Mh && 4 !== e && (g = -1)), -1 === g && a & 1 << I.Lh && (g = I.Lh, a & 1 << I.Mh && (g = I.oz, a & 1 << I.pi && a & 1 << I.ri && (g = I.eq), a & 1 << I.$e && a & 1 << I.af && (g = I.lz)), g === I.Lh && 4 !== e && (g = -1)), -1 === g && a & 1 << I.$e && (g = I.$e, a & 1 << I.af ? g = I.Mt : !k && a & 1 << I.si && (g = I.jz)), -1 === g && a & 1 << I.af && (g = I.af, a & 1 << I.$e ? g = I.Mt : !k && a & 1 << I.si && (g = I.kz)), -1 === g && a & 1 << I.si && (g = I.si, a & 1 << I.$e ? g = I.jz : a & 1 << I.af && (g = I.kz), g === I.si && 2 !== e && (g = -1));
      k && (g === I.Mt ? (d === f && (g = I.$e), d === -f && (g = I.af)) : (a & 1 << I.af && d === f && (g = -1), a & 1 << I.$e && d === -f && (g = -1)));
      this.ha || this.X ? 1 !== e && 2 !== e && 3 !== e && 6 !== e && (g = -1) : 1 !== e && 2 !== e && 4 !== e && (g = -1);
      return g;
    };
    ra.prototype.Pi = function (a, b, c, d) {
      var f = 2 >= this.h && !this.s && !this.H, e, k = 0;
      var g = 0 === c && 0 === d ? I.IE : I.JE;
      for (e = 0; e < g.length; e += 1) {
        var m = g[e];
        var p = this.ol(a, m, f);
        if (p === b) {
          p = true;
          if (0 !== c || 0 !== d) 0 !== c || m !== I.ri && m !== I.$e && m !== I.af || (p = false), 0 !== d || m !== I.pi && m !== I.$e && m !== I.af || (p = false);
          p && (k |= 1 << m);
        }
      }
      return k;
    };
    ra.prototype.bh = function (a) {
      var b = 31415962, c = a.F, d = a.G, f = a.J;
      a = a.K;
      var e, k, g = 2 >= this.h && !this.s, m = this.m, p = this.Ca, n = I.Wa, q = G.yb[6] + 128;
      (this.i || this.s || this.l || this.A) && 0 !== (this.counter & 1) && (m = this.W);
      for (k = d; k <= a; k += 1) {
        var l = k - d;
        var r = m[k];
        if (this.H) {
          var u = p[k];
          for (e = c; e <= f; e += 1) if (r[e] >= n || u[e] === q) b = 1000003 * b ^ l, b = 1000003 * b ^ e - c, u[e] === q && (b = 1000003 * b ^ 6);
        } else if (g) for (e = c; e <= f; e += 1) r[e] >= n && (b = 1000003 * b ^ l, b = 1000003 * b ^ e - c); else if (this.l) for (e = c; e <= f; e += 1) {
          if (r[e] & 1 || 6 === r[e]) b = 1000003 * b ^ l, b = 1000003 * b ^ e - c, 6 === r[e] && (b = 1000003 * b ^ 6);
        } else if (this.s) for (e = c; e <= f; e += 1) u = r[e], u > this.v && (u -= this.v, b = 1000003 * b ^ l, b = 1000003 * b ^ e - c, b = 1000003 * b ^ u); else for (e = c; e <= f; e += 1) u = r[e], u > this.v && (u -= this.v, this.i || (u = this.h - u), b = 1000003 * b ^ l, b = 1000003 * b ^ e - c, b = 1000003 * b ^ u);
      }
      return b | 0;
    };
    ra.prototype.Nf = function (a, b) {
      for (var c; 0 !== b;) c = b, b = a % b, a = c;
      return a;
    };
    ra.prototype.Xk = function (a, b) {
      var c = "Oblique";
      if (a > b) {
        var d = a;
        a = b;
        b = d;
      }
      d = this.Nf(a, b);
      a /= d;
      b /= d;
      switch (10 * a + b) {
        case 12:
          c += " Knightwise";
          break;
        case 13:
          c += " Camelwise";
          break;
        case 14:
          c += " Giraffewise";
          break;
        case 15:
          c += " Ibiswise";
          break;
        case 16:
          c += " Flamingowise";
          break;
        case 23:
          c += " Zebrawise";
          break;
        case 34:
          c += " Antelopewise";
      }
      return c;
    };
    ra.prototype.xl = function (a, b) {
      var c = new Ma(0, 0, 0, 0), d, f, e = 16384, k = -16384, g = 16384, m = -16384;
      for (d = f = 0; d < a; d += 1) {
        var p = this.Yb[b + f << 1];
        var n = p >> 16;
        var q = p & 65535;
        p = this.Yb[(b + f << 1) + 1];
        var l = p >> 16;
        p &= 65535;
        l < e && (e = l);
        p < g && (g = p);
        l + n - 1 > k && (k = l + n - 1);
        p + q - 1 > m && (m = p + q - 1);
        f += 1;
      }
      c.F = e;
      c.G = g;
      c.J = k;
      c.K = m;
      return c;
    };
    ra.prototype.Od = function (a, b) {
      return a === Math.floor(a) ? String(a) : a.toFixed(b);
    };
    ra.prototype.Yi = function (a, b) {
      var c, d, f = 4283453520, e = 4286611584, k = 0;
      var g = [];
      var m = false;
      var p = this.view.h.s;
      var n = this.displayWidth - 120 * p;
      var q = this.displayHeight - 90 * p;
      this.zc || (f = 1347440895, e = 2155905279);
      p = this.Wg = 8;
      n /= (this.gd + 2) * p;
      q /= (this.Pd + 2) * p;
      1 <= (n > q ? q : n) ? (m = true, k = 1) : p = this.Wg = 1;
      var l = 0;
      for (n = 2; n < this.Ma.length - 1; n += 1) 0 < this.Ma[n] && (l += 1);
      this.Oi = l;
      q = 0;
      for (n = 2; n < this.Ma.length - 1; n += 1) if (0 < this.Ma[n]) {
        var r = Math.floor(q / l * 360);
        g[n] = "hsl(" + r + ",100%," + (70 - 12 * (q & 3)) + "%)";
        q += 1;
      }
      g[0] = "black";
      g[1] = "rgb(168,168,168)";
      g[this.Ma.length - 1] = "rgb(238,238,238)";
      this.cc ? (g[-1] = "rgb(96,96,96)", n = -1) : n = 0;
      for (; n < this.Ma.length;) {
        if (-1 === n || 0 === n || 0 < this.Ma[n]) this.Af.fillStyle = g[n], l = this.Af.fillStyle, q = parseInt(l.substring(1, 3), 16), r = parseInt(l.substring(3, 5), 16), l = parseInt(l.substring(5, 7), 16), this.Jc[n] = this.zc ? -16777216 | l << 16 | r << 8 | q : q << 24 | r << 16 | l << 8 | 255;
        n += 1;
      }
      g = p * (this.gd + 2) + k;
      r = p * (this.Pd + 2) + k;
      this.Ic.width = g;
      this.Ic.height = r;
      this.Af.fillStyle = "black";
      this.Af.fillRect(0, 0, this.Ic.width, this.Ic.height);
      k = this.Af.getImageData(0, 0, this.Ic.width, this.Ic.height);
      var u = new Uint32Array(k.data.buffer);
      for (q = 0; q < this.Pd; q += 1) for (n = 0; n < this.gd; n += 1) for (l = this.ie[q * this.gd + n], l = this.Jc[l], d = 0; d < p; d += 1) {
        var t = ((q + 1) * p + d) * g + (n + 1) * p;
        for (c = 0; c < p; c += 1) u[t + c] = l;
      }
      if (-1 !== this.C) {
        for (d = 0; d < p; d += 1) {
          t = d * g;
          for (n = 0; n < (this.gd + 2) * p; n += 1) u[t + n] = e;
          t += (this.Pd + 1) * p * g;
          for (n = 0; n < (this.gd + 2) * p; n += 1) u[t + n] = e;
        }
        for (q = 0; q < this.Pd; q += 1) for (d = 0; d < p; d += 1) for (t = ((q + 1) * p + d) * g, n = t + p * (this.gd + 1), c = 0; c < p; c += 1) u[t + c] = e, u[n + c] = e;
      }
      if (m) {
        for (q = -1; q <= this.Pd + 1; q += 1) for (t = (q + 1) * p * g, n = 0; n < (this.gd + 2) * p + 1; n += 1) u[t + n] = f;
        for (n = -1; n <= this.gd + 1; n += 1) for (q = 0; q < (this.Pd + 2) * p; q += 1) u[q * g + (n + 1) * p] = f;
      } else {
        t = g * (r - 1);
        for (n = 0; n < g; n += 1) u[n] = f, u[n + t] = f;
        for (q = 0; q < r; q += 1) u[q * g] = f, u[q * g + g - 1] = f;
      }
      for (n = this.cc ? -1 : 0; n < this.Ma.length;) {
        if (-1 === n || 0 < this.Ma[n]) l = this.Jc[n], this.zc ? (q = l & 255, r = l >> 8 & 255, l = l >> 16 & 255) : (q = l >> 24, r = l >> 16 & 255, l = l >> 8 & 255), this.Jc[n] = q << 16 | r << 8 | l;
        n += 1;
      }
      this.Af.putImageData(k, 0, 0);
      b.Py();
      this.zk(a);
    };
    ra.prototype.Ae = function (a, b, c, d, f) {
      var e = this.ka;
      var k = e.measureText(a).width;
      e.fillText(a, c + b - k + f, d + f);
      return c + b;
    };
    ra.prototype.zk = function (a) {
      var b = this.view.h.s, c = 24 * b, d = a.R + a.height, f = 0;
      for (a = this.Ma.length - 1; 0 < a; --a) {
        var e = this.Ma[a];
        0 < e && (f += 1);
      }
      this.Uc = d + (c >> 1) + (f + 1) * c > this.displayHeight - 80 * b ? f - 1 : 0;
    };
    ra.prototype.Wk = function () {
      0 !== this.Uc && (this.cb = 0);
    };
    ra.prototype.Uk = function () {
      0 !== this.Uc && (this.cb = this.Uc);
    };
    ra.prototype.mk = function () {
      0 < this.cb && (this.cb -= this.Zh, 0 > this.cb && (this.cb = 0));
    };
    ra.prototype.Yk = function () {
      this.cb < this.Uc && (this.cb += this.Zh, this.cb > this.Uc && (this.cb = this.Uc));
    };
    ra.prototype.Hk = function (a) {
      var b = 0, c = 2, d = this.view.h.s;
      var f = a.y + a.height;
      var e = a.width;
      var k = a.v;
      var g = a.oc;
      var m = a.A;
      a = 24 * d;
      var p = 16 * d, n = (e >> 2) - 1, q = this.displayWidth - e >> 1, l = this.ka;
      l.fillStyle = g;
      l.globalAlpha = k;
      var r = a;
      for (k = this.Ma.length - 1; 0 < k; --k) {
        var u = this.Ma[k];
        0 < u && r + f < this.displayHeight - 80 * d && (r += a);
      }
      l.fillRect(q, f, e, r);
      l.font = (20 * d | 0) + "px Arial";
      l.globalAlpha = 1;
      l.fillStyle = g;
      r = f + (a >> 1);
      for (e = 0; 2 > e; e += 1) {
        g = q;
        g = this.Ae("Period", n, g, r, c);
        g = this.Ae("Count", n, g, r, c);
        g = this.Ae("% Total", n, g, r, c);
        this.Ae("% Rotor", n, g, r, c);
        r += a;
        b = 0;
        for (k = this.Ma.length - 1; 0 < k; --k) u = this.Ma[k], 0 < u && r < this.displayHeight - 80 * d && (b >= (this.cb | 0) && (g = q, g = this.Ae(String(k), n, g, r, c), g = this.Ae(String(u), n, g, r, c), g = this.Ae((Math.floor(1e4 * u / this.If) / 100).toFixed(2) + "%", n, g, r, c), 1 < k && this.Ae((Math.floor(1e4 * u / this.Gi) / 100).toFixed(2) + "%", n, g, r, c), r += a), b += 1);
        r = f + (a >> 1);
        c = 0;
        l.fillStyle = m;
      }
      f = b;
      b = 0;
      c = 28 * d >> 1;
      for (k = this.Ma.length - 1; 0 < k; --k) u = this.Ma[k], 0 < u && b < f && (b >= (this.cb | 0) && (l.fillStyle = this.view.D.oc, l.fillRect(q + (p >> 1) + 2, r + c + 2, p, p), l.fillStyle = "#" + ("000000" + this.Jc[k].toString(16)).slice(-6), l.fillRect(q + (p >> 1), r + c, p, p), r += a), b += 1);
      0 === this.cb && (this.Zh = f - 1);
    };
    ra.prototype.Fk = function (a) {
      var b = this.view.h.s, c = 50 * b, d = 15 * b, f = 16 * b, e = 0.7 * d | 0;
      var k = this.displayHeight - 90 * b;
      var g = this.Oi;
      var m = this.Wg;
      var p = a.v, n = a.A;
      a = a.oc;
      var q = this.ka;
      var l = (this.displayWidth - b * (c + c + 20)) / ((this.gd + 2) * m);
      k /= (this.Pd + 2) * m;
      l = l > k ? k : l;
      1 <= l && (l |= 0);
      q.save();
      q.translate(this.displayWidth >> 1, this.displayHeight >> 1);
      q.scale(l, l);
      q.imageSmoothingEnabled = 1 > l ? true : false;
      q.drawImage(this.Ic, -(this.Ic.width >> 1), -(this.Ic.height >> 1));
      q.imageSmoothingEnabled = false;
      q.restore();
      var r = 55 * b;
      q.font = (11 * b | 0) + "px Arial";
      0 === this.Ma[this.Ma.length - 1] && --g;
      0 === this.Ma[1] && --g;
      this.cc && (g += 1);
      k = 0;
      for (l = this.Ma.length - 1; 0 < l; --l) m = this.Ma[l], 0 < m && l > k && (k = l);
      l = q.measureText(String(k)).width;
      this.cc && (k = this.A ? q.measureText(I.Av).width : q.measureText(I.Bv).width, k > l && (l = k));
      var u = (this.displayHeight - (g + 2) * d) / 2;
      q.globalAlpha = p;
      q.fillStyle = a;
      q.fillRect(r - c - 2, u - 2, e + e + l + 3, (g + 2) * d + 3);
      q.globalAlpha = 1;
      k = 0;
      this.cc && (q.fillStyle = this.view.D.oc, q.fillRect(r - c + 2, u + k * d + 2, e, e), q.fillStyle = "#" + ("000000" + this.Jc[-1].toString(16)).slice(-6), q.fillRect(r - c, u + k * d, e, e), this.A ? (q.fillStyle = a, q.fillText(I.Av, r - c + f + 2, u + k * d + 2 + 7 * b), q.fillStyle = n, q.fillText(I.Av, r - c + f, u + k * d + 7 * b)) : (q.fillStyle = a, q.fillText(I.Bv, r - c + f + 2, u + k * d + 2 + 7 * b), q.fillStyle = n, q.fillText(I.Bv, r - c + f, u + k * d + 7 * b)), k += 1);
      for (l = this.Ma.length - 1; 0 < l; --l) m = this.Ma[l], 0 < m && (q.fillStyle = this.view.D.oc, q.fillRect(r - c + 2, u + k * d + 2 + b, e, e), q.fillStyle = "#" + ("000000" + this.Jc[l].toString(16)).slice(-6), q.fillRect(r - c, u + k * d + b, e, e), q.fillStyle = a, q.fillText(String(l), r - c + f + 2, u + k * d + 2 + 7 * b), q.fillStyle = n, q.fillText(String(l), r - c + f, u + k * d + 7 * b), k += 1);
    };
    ra.prototype.Sm = function (a, b) {
      var c, d = this.m, f = this.Kg, e, k, g, m, p = I.Wa, n = this.Zd;
      var q = this.ba;
      var l = this.Y >> 4;
      var r = 0;
      var u = q, t = I.dl;
      0 > r && (r = 0);
      u > q && (u = q);
      q = r << 4;
      var v = q + 16;
      for (e = r; e < u; e += 1) {
        var B = 0;
        var w = b[e];
        for (k = 0; k < l; k += 1) if (m = w[k]) for (g = 15; 0 <= g; --g) {
          if (0 !== (m & 1 << g)) for (r = q; r < v;) {
            var y = d[r];
            var D = f[r];
            if (0 === a) for (c = B; c < B + 16;) y[c] >= p && (D[c] = t), c += 1, y[c] >= p && (D[c] = t), c += 1, y[c] >= p && (D[c] = t), c += 1, y[c] >= p && (D[c] = t), c += 1; else c = B, D[c] = n[(y[c] & 64) + D[c]], c += 1, D[c] = n[(y[c] & 64) + D[c]], c += 1, D[c] = n[(y[c] & 64) + D[c]], c += 1, D[c] = n[(y[c] & 64) + D[c]], c += 1, D[c] = n[(y[c] & 64) + D[c]], c += 1, D[c] = n[(y[c] & 64) + D[c]], c += 1, D[c] = n[(y[c] & 64) + D[c]], c += 1, D[c] = n[(y[c] & 64) + D[c]], c += 1, D[c] = n[(y[c] & 64) + D[c]], c += 1, D[c] = n[(y[c] & 64) + D[c]], c += 1, D[c] = n[(y[c] & 64) + D[c]], c += 1, D[c] = n[(y[c] & 64) + D[c]], c += 1, D[c] = n[(y[c] & 64) + D[c]], c += 1, D[c] = n[(y[c] & 64) + D[c]], c += 1, D[c] = n[(y[c] & 64) + D[c]], c += 1, D[c] = n[(y[c] & 64) + D[c]];
            r += 1;
          }
          B += 16;
        } else B += 256;
        q += 16;
        v += 16;
      }
    };
    ra.prototype.Qm = function (a, b) {
      var c = a.F, d = a.G, f = a.J;
      a = a.K;
      var e, k = this.m, g = this.Kg, m = this.Ce, p = I.Wa, n = 2 >= this.h && !this.s, q = I.dl, l = I.en, r = I.ai;
      (this.i || this.s || this.l || this.A) && 0 !== (this.counter & 1) && (k = this.W);
      for (e = d; e <= a; e += 1) {
        var u = k[e];
        var t = g[e];
        if (n) if (0 === b) for (d = c; d <= f; d += 1) u[d] >= p && (t[d] = q); else for (d = c; d <= f; d += 1) u[d] >= p ? t[d] === l && (t[d] = r) : t[d] === q && (t[d] = r); else if (this.i) if (0 === b) for (d = c; d <= f; d += 1) {
          var v = u[d];
          v = v > this.v ? v - this.v : 0;
          var B = 0;
          0 !== (v & 1) && (B = q);
          var w = 0;
          0 !== (v & 2) && (w = q);
          var y = 0;
          0 !== (v & 4) && (y = q);
          var D = 0;
          0 !== (v & 8) && (D = q);
          t[d] = B | w << 2 | y << 4 | D << 6;
        } else for (d = c; d <= f; d += 1) D = t[d], v = u[d], v = v > this.v ? v - this.v : 0, B = D & 3, 0 !== (v & 1) ? B === l && (B = r) : B === q && (B = r), w = D >> 2 & 3, 0 !== (v & 2) ? w === l && (w = r) : w === q && (w = r), y = D >> 4 & 3, 0 !== (v & 4) ? y === l && (y = r) : y === q && (y = r), D = D >> 6 & 3, 0 !== (v & 8) ? D === l && (D = r) : D === q && (D = r), t[d] = B | w << 2 | y << 4 | D << 6; else if (this.l) for (v = m[e], d = c; d <= f; d += 1) 0 === b ? (v[d] = u[d] & 1, u[d] & 1 && (t[d] = q)) : u[d] & 1 ? t[d] === l ? t[d] = r : (u[d] & 1) !== v[d] && (t[d] = r) : t[d] === q && (t[d] = r); else if (this.A) for (v = m[e], d = c; d <= f; d += 1) B = 0 < u[c], 0 === b ? B ? (v[d] = 1, t[d] = q) : v[d] = 0 : B ? t[d] === l ? t[d] = r : 0 === v[d] && (t[d] = r) : t[d] === q && (t[d] = r); else for (v = m[e], d = c; d <= f; d += 1) 0 === b ? (v[d] = u[d], u[d] > this.v && (t[d] = q)) : u[d] > this.v ? t[d] === l ? t[d] = r : u[d] !== v[d] && (t[d] = r) : t[d] === q && (t[d] = r);
      }
    };
    ra.prototype.Om = function (a, b) {
      var c = this.jf.ca, d = this.qa.ca, f = this.Wf.ca;
      if (-1 === this.h || this.Ea && 2 === this.h) {
        for (a = 0; a < c.length; a += 1) c[a] = d[a] | f[a];
        this.Sm(b, this.jf);
        for (a = 0; a < f.length; a += 1) f[a] = d[a];
      } else this.Qm(a, b);
    };
    ra.prototype.Km = function (a, b, c) {
      var d, f, e = 0, k, g = I.Wa;
      if (this.l || this.A || this.s) b = this.m, 0 !== (this.counter & 1) && (b = this.W);
      for (f = a.G; f <= a.K; f += 1) {
        var m = b[f];
        if (this.l || this.s) for (d = a.F; d <= a.J; d += 1) m[d] & 1 && (c[e] += 1), e += 1; else if (this.A) for (d = a.F; d <= a.J; d += 1) {
          if (k = m[d]) switch (k) {
            case 3:
              --this.o;
              break;
            case 6:
              this.ma += 1;
              c[e] += 1;
              break;
            case 7:
              --this.o;
              this.aa += 1;
              break;
            case 10:
              this.ma += 1;
              c[e] += 1;
              break;
            case 11:
              --this.o;
              this.aa += 1;
              break;
            case 12:
              this.ma += 1;
              c[e] += 1;
              break;
            case 13:
              --this.o;
              this.aa += 1;
              break;
            case 19:
              this.ma += 1;
              c[e] += 1;
              break;
            case 20:
              --this.o;
              this.aa += 1;
              break;
            default:
              c[e] += 1;
          }
          e += 1;
        } else for (d = a.F; d <= a.J; d += 1) m[d] >= g && (c[e] += 1), e += 1;
      }
    };
    ra.prototype.Um = function (a, b, c, d, f, e, k) {
      var g, m = I.Wa;
      if (this.l || this.A || this.s) b = this.m, 0 !== (this.counter & 1) && (b = this.W);
      var p = d * e;
      for (e = a.G; e <= a.K; e += 1) {
        var n = b[e];
        var q = (e - a.G) * f + p;
        var l = k;
        if (this.l || this.s) {
          d = a.F;
          for (g = 0; d <= a.J - 16;) n[d] & 1 && (g |= l), l >>= 1, d += 1, n[d] & 1 && (g |= l), l >>= 1, d += 1, n[d] & 1 && (g |= l), l >>= 1, d += 1, n[d] & 1 && (g |= l), l >>= 1, d += 1, n[d] & 1 && (g |= l), l >>= 1, d += 1, n[d] & 1 && (g |= l), l >>= 1, d += 1, n[d] & 1 && (g |= l), l >>= 1, d += 1, n[d] & 1 && (g |= l), l >>= 1, d += 1, n[d] & 1 && (g |= l), l >>= 1, d += 1, n[d] & 1 && (g |= l), l >>= 1, d += 1, n[d] & 1 && (g |= l), l >>= 1, d += 1, n[d] & 1 && (g |= l), l >>= 1, d += 1, n[d] & 1 && (g |= l), l >>= 1, d += 1, n[d] & 1 && (g |= l), l >>= 1, d += 1, n[d] & 1 && (g |= l), l >>= 1, d += 1, n[d] & 1 && (g |= l), d += 1, 0 !== g && (c[q] = g, g = 0), l = k, q += 1;
          for (; d <= a.J;) n[d] & 1 && (g |= l), l >>= 1, d += 1;
        } else if (this.A) {
          d = a.F;
          for (g = 0; d <= a.J - 16;) n[d] && (g |= l), l >>= 1, d += 1, n[d] && (g |= l), l >>= 1, d += 1, n[d] && (g |= l), l >>= 1, d += 1, n[d] && (g |= l), l >>= 1, d += 1, n[d] && (g |= l), l >>= 1, d += 1, n[d] && (g |= l), l >>= 1, d += 1, n[d] && (g |= l), l >>= 1, d += 1, n[d] && (g |= l), l >>= 1, d += 1, n[d] && (g |= l), l >>= 1, d += 1, n[d] && (g |= l), l >>= 1, d += 1, n[d] && (g |= l), l >>= 1, d += 1, n[d] && (g |= l), l >>= 1, d += 1, n[d] && (g |= l), l >>= 1, d += 1, n[d] && (g |= l), l >>= 1, d += 1, n[d] && (g |= l), l >>= 1, d += 1, n[d] && (g |= l), d += 1, 0 !== g && (c[q] = g, g = 0), l = k, q += 1;
          for (; d <= a.J;) n[d] && (g |= l), l >>= 1, d += 1;
        } else {
          d = a.F;
          for (g = 0; d <= a.J - 16;) n[d] >= m && (g |= l), l >>= 1, d += 1, n[d] >= m && (g |= l), l >>= 1, d += 1, n[d] >= m && (g |= l), l >>= 1, d += 1, n[d] >= m && (g |= l), l >>= 1, d += 1, n[d] >= m && (g |= l), l >>= 1, d += 1, n[d] >= m && (g |= l), l >>= 1, d += 1, n[d] >= m && (g |= l), l >>= 1, d += 1, n[d] >= m && (g |= l), l >>= 1, d += 1, n[d] >= m && (g |= l), l >>= 1, d += 1, n[d] >= m && (g |= l), l >>= 1, d += 1, n[d] >= m && (g |= l), l >>= 1, d += 1, n[d] >= m && (g |= l), l >>= 1, d += 1, n[d] >= m && (g |= l), l >>= 1, d += 1, n[d] >= m && (g |= l), l >>= 1, d += 1, n[d] >= m && (g |= l), l >>= 1, d += 1, n[d] >= m && (g |= l), d += 1, 0 !== g && (c[q] = g, g = 0), l = k, q += 1;
          for (; d <= a.J;) n[d] >= m && (g |= l), l >>= 1, d += 1;
        }
        0 !== g && (c[q] = g);
      }
    };
    ra.prototype.Vl = function (a, b, c, d, f, e, k, g, m) {
      var p, n, q, l;
      for (p = 1; p <= b / 2; p += 1) if (0 === b % p) {
        var r = b - p;
        var u = r * k;
        var t = p * k;
        var v = b / p;
        for (q = 0; q < e; q += 1) {
          var B = q * f;
          r = q * g;
          var w = m;
          for (n = 0; n < f; n += 1) {
            if (a[B + n] === b && !(d[B + n] % v)) {
              var y = (n >> 4) + r;
              for (l = y + u; y < l;) {
                var D = c[y];
                var F = c[y + t];
                (D ^ F) & w && (y = l);
                y += k;
              }
              y === l && (a[B + n] = p);
            }
            w = (w >> 1 | w << 15) & 65535;
          }
        }
      }
    };
    ra.prototype.Kk = function (a, b, c) {
      var d = a.F, f = a.G, e = a.J;
      a = a.K;
      var k, g, m = G.yb[6] + 128;
      this.cc = 0;
      for (g = f; g <= a; g += 1) {
        var p = c[g];
        var n = (g - f) * (e - d + 1);
        for (k = d; k <= e; k += 1) p[k] === m && (b[n + k - d] = -1, this.cc += 1);
      }
    };
    ra.prototype.Ok = function (a, b, c) {
      var d = a.F, f = a.G, e = a.J;
      a = a.K;
      var k, g;
      this.cc = 0;
      for (g = f; g <= a; g += 1) {
        var m = c[g];
        var p = (g - f) * (e - d + 1);
        for (k = d; k <= e; k += 1) 6 === m[k] && (b[p + k - d] = -1, this.cc += 1);
      }
    };
    ra.prototype.Ik = function (a, b, c) {
      var d = a.F, f = a.G, e = a.J;
      a = a.K;
      var k, g;
      this.cc = 0;
      for (g = f; g <= a; g += 1) {
        var m = c[g];
        var p = (g - f) * (e - d + 1);
        for (k = d; k <= e; k += 1) 3 === m[k] && (b[p + k - d] = -1, this.cc += 1);
      }
    };
    ra.prototype.Qj = function () {
      var a = this.Ea ? this.na : this.u, b = this.Xh, c = this.yi, d = this.Z ? -1 : 0;
      this.l && (a = this.qg);
      -1 !== this.C ? (c.F = Math.round((this.width - this.R) / 2) + d, c.G = Math.round((this.height - this.M) / 2) + d, c.J = c.F + this.R - 1, c.K = c.G + this.M - 1) : (c.set(a), (this.l || this.H) && c.h(b));
      return this.yi;
    };
    ra.prototype.Si = function (a, b, c, d, f, e) {
      var k, g = 0, m = 0, p = false, n = null, q = null, l = this.m, r = new Uint32Array(a + 1), u = null, t = 0, v = 0, B = 0, w, y, D = w = y = 0, F = 0, N = 0, O = 0, M = 0, U = 0, W = 0, H = 0, P = [];
      this.mj = (performance.now() - this.zi) / 1e3;
      (this.i || this.s || this.l || this.A) && 0 !== (this.counter & 1) && (l = this.W);
      b = this.xl(a, b);
      d && (2 >= this.h || this.l || this.A) && (t = b.J - b.F + 1, v = b.K - b.G + 1, g = (t - 1 >> 4) + 1, m = g * v, m * a <= I.BE && (n = new Uint16Array(a * m), u = new Int32Array(t * v), q = new Uint32Array(t * v), y = 8 * n.BYTES_PER_ELEMENT - 1, y = 1 << y, p = true));
      p || (this.Kg.ca.fill(I.en), this.Wf = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.occTileMap"), this.jf = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.occMergedTileMap"));
      this.Hf = 268435456;
      for (k = this.eh = this.Sf = 0; k <= a + 1; k += 1) {
        c.vi();
        d || (b = this.Qj());
        if (c.Rl) {
          -1 === c.Ab && (c.Ab = this.counter);
          return;
        }
        this.counter && 0 < this.o && !d && (c.Rb.F = b.F, c.Rb.G = b.G, c.Rb.J = b.J, c.Rb.K = b.K, c.Gj(c, c.Rb));
        p ? (k < a && this.Km(b, l, q), this.Um(b, l, n, k, g, m, y)) : this.Om(b, k);
        0 === k ? (w = this.bh(b), D = b.J - b.F + 1, F = b.K - b.G + 1) : 1 === k ? (N = this.bh(b), O = b.J - b.F + 1, M = b.K - b.G + 1) : 2 === k && this.Z && w === N && (U = this.bh(b), W = b.J - b.F + 1, H = b.K - b.G + 1);
        if (!this.ha && !this.X && -1 === this.Lc) {
          for (; -1 === this.Lc && 0 < P.length && P[0].i === k;) {
            if (this.Z && w === N) {
              var Q = W;
              var T = H;
              var Z = 2;
              var na = U;
            } else Q = O, T = M, Z = 1, na = N;
            if (b.J - b.F + 1 === Q && b.K - b.G + 1 === T || b.J - b.F + 1 === T && b.K - b.G + 1 === Q) this.Jf = this.il(b, na, P[0].h, f, e, a / (k - Z)), this.Lc = -1 !== this.Jf ? k - Z : -1;
            P.shift();
          }
          -1 === this.Lc && 0 < k && 0 === a % k && (b.J - b.F + 1 === D && b.K - b.G + 1 === F || b.J - b.F + 1 === F && b.K - b.G + 1 === D) && (Q = this.Pi(b, w, f, e), 0 === Q || this.Z && w === N && 2 > k || (P[P.length] = this.Z && w === N ? new ic(k + 2, Q) : new ic(k + 1, Q)));
        }
        k < a && (Q = this.ma + this.aa, Q < this.Hf && (this.Hf = Q), Q > this.Sf && (this.Sf = Q), this.eh += Q, this.kf[k] = this.o, this.Yb[k << 1] = b.J - b.F + 1 << 16 | b.K - b.G + 1, this.Yb[(k << 1) + 1] = b.F << 16 | b.G);
      }
      if (p) {
        for (e = 0; e < v; e += 1) for (w = e * t, f = 0; f < t; f += 1) q[w + f] && (u[w + f] = a, B += 1);
        this.Vl(u, a, n, q, t, v, m, g, y);
        for (e = 0; e < v; e += 1) for (w = e * t, f = 0; f < t; f += 1) (k = u[w + f]) && (r[k] += 1);
        d && (this.cc = 0, this.H && this.Kk(b, u, this.Ca), this.l && this.Ok(b, u, l), this.A && this.Ik(b, u, l));
        k = r[a] / B;
        this.Yh = this.Od(k, 2);
        this.Ma = r;
        this.If = B;
        this.ie = u;
        this.gd = t;
        this.Pd = v;
        this.Yi(c.Fe, c);
      } else this.Ma = null;
      this.nj = (performance.now() - this.zi) / 1e3;
    };
    ra.prototype.Tn = function (a, b, c, d, f, e, k, g) {
      var m = "", p = String(this.counter - d), n = "", q = "", l = 268435457, r = 0, u = 16384, t = 0, v = 16384, B = 0, w = 276627456, y = 0, D = 0, F = 0, N = 0, O = 0, M = 0, U = "", W = "", H = "", P = this.Kg, Q = 0, T = 0, Z = "", na = "", ia = "";
      0 < d && (p += " and " + this.counter);
      var ba = f;
      var ja = e;
      f = Math.abs(f);
      e = Math.abs(e);
      if (0 < f || 0 < e) {
        var la = "Spaceship";
        0 === f || 0 === e ? q = "0" : (f > e ? (q = f, n = e) : (q = e, n = f), m = this.Nf(q, n), q = String(q / m), 1 !== n / m && (q += "/" + String(n / m)));
        if (f === e || 0 === f || 0 === e) if (n = f === e && 0 !== f ? "Diagonal" : "Orthogonal", 0 === f && (f = e), 1 < f) if (1 === d) m = f + "c"; else {
          m = this.Nf(f, d);
          var fa = f / m;
          var V = d / m;
          1 !== m ? (m = 1 === fa ? "c" : fa + "c", 1 < V && (m += "/" + V), m += " | " + f + "c/" + d) : m = f + "c/" + d;
        } else m = "c", 1 < d && (m += "/" + d); else m = this.Nf(f, this.Nf(e, d)), fa = f / m, n = e / m, V = d / m, 1 !== m ? (m = fa > n ? "(" + fa + "," + n + ")c" : "(" + n + "," + fa + ")c", 1 < V && (m += "/" + V), m = f > e ? m + (" | (" + f + "," + e + ")c") : m + (" | (" + e + "," + f + ")c")) : m = f > e ? "(" + f + "," + e + ")c" : "(" + e + "," + f + ")c", 1 < d && (m += "/" + d), n = this.Xk(f, e);
        this.Si(d, b, a, false, ba, ja);
      } else 1 === d || 2 === d && this.Z && this.Ud[0] === this.Ud[1] ? la = "Still Life" : (la = "Oscillator", this.Si(d, b, a, true, 0, 0));
      if (0 === this.o) return this.i || this.Z ? ["Life ended at generation " + (this.Hb + a.Ia), "Empty"] : ["Life ended at generation " + (this.counter + a.Ia), "Empty"];
      e = f = 0;
      this.gh = "";
      if ("Still Life" === la) a = String(this.o); else {
        for (b = ja = 0; b < d; b += 1) ba = this.kf[b], ja += ba, ba < l && (l = ba, f = (b + 1) % d), ba > r && (r = ba, e = (b + 1) % d);
        l === r ? a = String(r) : (a = String(l) + " | " + String(r) + " | " + this.Od(ja / d, 1), this.gh = String(l) + " @ T" + f + " | " + String(r) + " @ T" + e);
      }
      e = f = 0;
      this.fh = "";
      if ("Still Life" !== la) if ("Spaceship" === la) for (b = 0; b < d; b += 1) ba = this.Yb[b << 1], l = ba >> 16, r = ba & 65535, l > k && (k = l), r > g && (g = r), l * r < w && (w = l * r, D = l, F = r, f = (b + 1) % d), l * r > y && (y = l * r, N = l, O = r, e = (b + 1) % d); else {
        for (b = 0; b < d; b += 1) ba = this.Yb[b << 1], l = ba >> 16, r = ba & 65535, ba = this.Yb[(b << 1) + 1], k = ba >> 16, g = ba & 65535, k < u && (u = k), g < v && (v = g), k + l - 1 > t && (t = k + l - 1), g + r - 1 > B && (B = g + r - 1), l * r < w && (w = l * r, D = l, F = r, f = (b + 1) % d), l * r > y && (y = l * r, N = l, O = r, e = (b + 1) % d);
        k = t - u + 1;
        g = B - v + 1;
      }
      b = String(k + " x " + g + " = " + k * g);
      if (D !== N || F !== O) this.fh = String(D + " x " + F + " = " + w + " @ T" + f + " | " + N + " x " + O + " = " + y + " @ T" + e);
      0 < d && (this.Hf === this.Sf ? (M = this.Hf, U = String(M.toFixed(1))) : (M = this.eh / d, U = this.Od(this.Hf, 1) + " | " + this.Od(this.Sf, 1) + " | " + this.Od(M, 1)));
      if ("Oscillator" === la) {
        if (this.Ma) Q = this.If - this.Ma[1], T = this.Ma[1]; else for (w = v; w <= B; w += 1) if (W = P[w], this.i) for (v = u; v <= t; v += 1) H = W[v], (H & 3) === I.ai ? Q += 1 : (H & 3) === I.dl && (T += 1), H >>= 2, (H & 3) === I.ai ? Q += 1 : (H & 3) === I.dl && (T += 1), H >>= 2, (H & 3) === I.ai ? Q += 1 : (H & 3) === I.dl && (T += 1), H >>= 2, (H & 3) === I.ai ? Q += 1 : (H & 3) === I.dl && (T += 1); else for (v = u; v <= t; v += 1) W[v] === I.ai ? Q += 1 : W[v] === I.dl && (T += 1);
        W = this.Od(Q / (Q + T), 2);
        H = this.Yh;
        this.Gi = Q;
      }
      this.lj = Q === k * g ? true : false;
      "Oscillator" === la && (na = 0 === Q ? this.Od(M / (Q + T), 2) + " | " + this.Od(0, 2) : this.Od(M / (Q + T), 2) + " | " + this.Od(M / Q, 2));
      u = String(Q + " | " + T + " | " + (Q + T));
      this.ha || this.X || (0 >= this.Lc ? (this.Lc = d, Z = String(this.Lc)) : Z = 0 === d % this.Lc && d !== this.Lc ? String(this.Lc) + " (" + I.KE[this.Jf] + ")" : String(this.Lc));
      "Still Life" === la && (ja = this.o / (k * g), this.i && (ja /= 4), ia = 1 === ja ? String(ja) : ja.toFixed(3));
      return [c, la, n, m, b, p, a, q, d, U, W, H, Z, u, na, ia];
    };
    ra.prototype.Cm = function (a, b, c, d, f, e) {
      var k = false;
      a === b / 2 && (k = 0 === c ? 0 === d && a / b === f / e : 0 === f ? 0 === e && a / b === c / d : a / b === c / d && a / b === f / e);
      return k;
    };
    ra.prototype.Mk = function (a, b, c, d, f) {
      this.Ud[this.ec] = a;
      this.fi[this.ec] = this.counter;
      this.kf[this.ec] = this.o;
      this.Yb[this.ec << 1] = b;
      this.Yb[(this.ec << 1) + 1] = c << 16 | d;
      this.De[this.ec] = -1;
      -1 === this.sf ? this.sf = 0 : -1 === f ? this.sf = this.ec : this.De[f] = this.ec;
    };
    ra.prototype.Wm = function (a) {
      var b = this.Qj(), c = b.F, d = b.G, f = b.J - c + 1, e = b.K - d + 1, k = false, g = -1, m = -1, p = -1, n = f << 16 | e, q = c << 16 | d, l = false, r, u = 0, t = 0, v = "", B = [];
      if (-1 !== this.Be) return --this.Be, -1 === this.Be && (B = this.Tn(a, this.Vd[1], this.Vd[0], this.Vd[2], this.Vd[3], this.Vd[4], this.Vd[5], this.Vd[6])), B;
      if (this.ec < I.Gl) if (0 === this.o) B = ["Empty pattern", "Empty"]; else {
        b = this.bh(b);
        var w = false;
        var y = this.sf;
        for (r = -1; -1 !== y && !w;) {
          var D = this.Ud[y];
          if (b > D) r = y, y = this.De[y]; else if (b < D) w = true; else if (b === D) {
            var F = y << 1;
            if (this.o === this.kf[y] && n === this.Yb[F]) {
              D = true;
              var N = this.counter - this.fi[y];
              this.Yb[F + 1] === q ? 1 === (N & 1) && this.Z ? D = false : v = 1 === N || 2 === N && this.Z && this.Ud[0] === this.Ud[1] ? "Still Life" : "Oscillator period " + N : (u = c - (this.Yb[F + 1] >> 16), t = d - (this.Yb[F + 1] & 65535), k ? this.Cm(N, g, u, m, t, p) ? (v = this.Em(N, u, t), k = false) : D = false : (k = true, g = N, m = u, p = t, D = false));
              D ? (l = w = true, k && (t = u = 0), this.Vd = [v, y, N, u, t, f, e], this.Be = I.cE, a.D.notification.notify(v, 15, 40, 15, true), a.D.notification.notify("Calculating...", 15, 40, 15, false)) : (r = y, y = this.De[y]);
            } else r = y, y = this.De[y];
          }
        }
        l || (this.Mk(b, n, c, d, r), this.ec += 1, this.ec === I.Gl && (this.ec = 0, B = [I.Ex]));
      }
      return B;
    };
    ra.prototype.Pk = function (a, b, c, d, f, e, k) {
      var g = this.displayWidth / 2, m = this.displayHeight / 2, p = 0, n = this.width / 2, q = this.height / 2, l = this.coords, r = this.Tb, u = this.height / 2 - this.da - this.pa + 0.5, t = this.width / 2 - this.ea - this.Ba + 0.5, v = this.zoom * this.Ga;
      if (a > c) {
        var B = c;
        c = a;
        a = B;
      }
      b > d && (B = d, d = b, b = B);
      a += f;
      c += f;
      b += e;
      d += e;
      r.length !== I.Hc && (this.coords = this.N.h(oa.Yc, 12 * I.Hc, "Life.coords"), this.Tb = this.N.h(oa.fc, I.Hc, "Life.cellColours"), l = this.coords, r = this.Tb);
      this.ka.lineWidth = I.ew;
      this.ka.lineCap = "butt";
      this.ka.lineJoin = "bevel";
      for (e = f = 0; b <= d; b += 1) if (B = (b - q + u) * v + m, B >= -v && B < this.displayHeight + v) {
        var w = b - q;
        var y = t - n;
        for (B = a; B <= c; B += 1) {
          if (0 < k[p]) {
            var D = (B + y) * v + g;
            if (D >= -v && D < this.displayWidth + 2 * v) {
              r[f] = (0 << I.ag) + e;
              D = B - n + 0.5;
              var F = B + b & 1;
              l[e] = D - 1;
              l[e + 1] = w + F;
              l[e + 2] = D + 1;
              l[e + 3] = w + F;
              l[e + 4] = D;
              l[e + 5] = w + 1 - F;
              e += 6;
              f += 1;
              f === I.Hc && (this.ub = f, this.Bc(true, false, true), e = f = 0);
            }
          }
          p += 1;
        }
      } else p += c - a + 1;
      this.ub = f;
      0 < f && this.Bc(true, false, true);
    };
    ra.prototype.fj = function (a, b, c, d, f, e) {
      var k = this.displayWidth / 2, g = this.displayHeight / 2, m = this.width / 2, p = this.height / 2, n = this.coords, q = this.Tb, l = this.height / 2 - this.da - this.pa + 0.5, r = this.width / 2 - this.ea - this.Ba + 0.5, u = this.zoom * this.Ga;
      if (a > c) {
        var t = c;
        c = a;
        a = t;
      }
      b > d && (t = d, d = b, b = t);
      a += f;
      c += f;
      b += e;
      d += e;
      q.length !== I.Hc && (this.coords = this.N.h(oa.Yc, 12 * I.Hc, "Life.coords"), this.Tb = this.N.h(oa.fc, I.Hc, "Life.cellColours"), n = this.coords, q = this.Tb);
      this.ka.lineWidth = I.ew;
      this.ka.lineCap = "butt";
      this.ka.lineJoin = "bevel";
      for (e = f = 0; b <= d; b += 1) if (t = (b - p + l) * u + g, t >= -u && t < this.displayHeight + u) {
        var v = b - p;
        var B = r - m;
        for (t = a; t <= c; t += 1) {
          var w = (t + B) * u + k;
          if (w >= -u && w < this.displayWidth + 2 * u) {
            q[f] = (0 << I.ag) + e;
            w = t - m + 0.5;
            var y = t + b & 1;
            n[e] = w - 1;
            n[e + 1] = v + y;
            n[e + 2] = w + 1;
            n[e + 3] = v + y;
            n[e + 4] = w;
            n[e + 5] = v + 1 - y;
            e += 6;
            f += 1;
            f === I.Hc && (this.ub = f, this.Bc(true, false, true), e = f = 0);
          }
        }
      }
      this.ub = f;
      0 < f && this.Bc(true, false, true);
    };
    ra.prototype.hj = function () {
      var a = this.m, b = this.Ca, c = null, d = this.Oa, f = this.displayWidth / 2, e = this.displayHeight / 2, k, g, m = this.width / 2, p = this.height / 2, n = G.yb[3] + 128, q = G.yb[4] + 128, l = G.yb[5] + 128, r = G.yb[6] + 128, u = this.Wa, t = this.coords, v = this.Tb, B = d.F, w = d.J;
      var y = d.G;
      var D = d.K, F = this.height / 2 - this.da - this.pa + 0.5, N = this.width / 2 - this.ea - this.Ba + 0.5, O = this.zoom * this.Ga, M = !this.Ia && !this.Va, U = this.width, W = this.height, H = 0, P = 0, Q = this.T;
      (this.l || this.A || this.s) && 0 !== (this.counter & 1) && (a = this.W);
      v.length !== I.Hc && (this.coords = this.N.h(oa.Yc, 12 * I.Hc, "Life.coords"), this.Tb = this.N.h(oa.fc, I.Hc, "Life.cellColours"), t = this.coords, v = this.Tb);
      -1 !== this.C && (0 !== this.R ? (B = Math.round((this.width - this.R) / 2) - 1, w = B + this.R - 1 + 2) : (B = 0, w = this.width - 1), 0 !== this.M ? (y = Math.round((this.height - this.M) / 2) - 1, D = y + this.M - 1 + 2) : (y = 0, D = this.height - 1));
      this.ka.lineWidth = I.ew;
      this.ka.lineCap = "butt";
      this.ka.lineJoin = "bevel";
      for (g = d = 0; y <= D; y += 1) {
        var T = (y - p + F) * O + e;
        if (T >= -O && T < this.displayHeight + O) {
          T = a[y];
          b && (c = b[y]);
          var Z = y - p;
          var na = N - m;
          for (k = B - 1; k <= w + 1; k += 1) {
            var ia = (k + na) * O + f;
            if (ia >= -O && ia <= this.displayWidth + 2 * O) {
              ia = T[k];
              if (c) {
                var ba = c[k];
                if (ba === q || ba === r) ia = ia >= u ? n : ba; else if (ba === n || ba === l) ia = ia < u ? q : ba;
              }
              0 < ia && (v[d] = (ia << I.ag) + g, ia = k - m + 0.5, ba = k + y & 1, t[g] = ia - 1, t[g + 1] = Z + ba, t[g + 2] = ia + 1, t[g + 3] = Z + ba, t[g + 4] = ia, t[g + 5] = Z + 1 - ba, g += 6, d += 1);
              d === I.Hc && (this.ub = d, this.Bc(true, M, false), this.Va && !this.Ia && (this.ka.strokeStyle = "rgb(" + this.ja[0] + "," + this.ga[0] + "," + this.ia[0] + ")", this.Bc(false, false, false)), g = d = 0);
            }
          }
        }
      }
      this.ub = d;
      0 < d && (this.Bc(true, M, false), this.Va && !this.Ia && (this.ka.strokeStyle = "rgb(" + this.ja[0] + "," + this.ga[0] + "," + this.ia[0] + ")", this.Bc(false, false, false)));
      for (g = d = 0; U < Q;) H += U >> 1, U <<= 1;
      for (; W < Q;) P += W >> 1, W <<= 1;
      D = e / O - F + p | 0;
      for (y = -e / O - F + p | 0; y <= D; y += 1) if (T = (y - p + F) * O + e, T >= -O && T < this.displayHeight + O) for (Z = y - p, na = N - m, B = -f / O - na - O | 0, w = f / O - na + O | 0, k = B - 1; k <= w + 1; k += 1) if (ia = (k + na) * O + f, ia >= -O && ia <= this.displayWidth + 2 * O) {
        if (0 > k + H || k + H >= Q || 0 > y + P || y + P >= Q) v[d] = (256 << I.ag) + g, ia = k - m + 0.5, ba = k + y & 1, t[g] = ia - 1, t[g + 1] = Z + ba, t[g + 2] = ia + 1, t[g + 3] = Z + ba, t[g + 4] = ia, t[g + 5] = Z + 1 - ba, g += 6, d += 1;
        d === I.Hc && (this.ub = d, this.Bc(true, M, false), this.Va && !this.Ia && (this.ka.strokeStyle = "rgb(" + this.ja[0] + "," + this.ga[0] + "," + this.ia[0] + ")", this.Bc(false, false, false)), g = d = 0);
      }
      this.ub = d;
      0 < d && (this.Bc(true, M, false), this.Va && !this.Ia && (this.ka.strokeStyle = "rgb(" + this.ja[0] + "," + this.ga[0] + "," + this.ia[0] + ")", this.Bc(false, false, false)), g = 0);
      if (this.Ia) {
        this.ka.strokeStyle = "rgb(" + (this.mb >> 16) + "," + (this.mb >> 8 & 255) + "," + (this.mb & 255) + ")";
        this.ka.lineWidth = 1;
        D = e / O - F + p | 0;
        d = 0;
        for (y = -e / O - F + p | 0; y <= D; y += 1) if (T = (y - p + F) * O + e, T >= -O && T < this.displayHeight + O) for (Z = y - p, na = N - m, B = -f / O - na - O | 0, w = f / O - na + O | 0, k = B - 1; k <= w + 1; k += 1) ia = (k + na) * O + f, ia >= -O && ia < this.displayWidth + 2 * O && (ia = k - m + 0.5, ba = k + y & 1, t[g] = ia - 1, t[g + 1] = Z + ba, t[g + 2] = ia + 1, t[g + 3] = Z + ba, t[g + 4] = ia, t[g + 5] = Z + 1 - ba, g += 6, d += 1), d === I.Hc && (this.ub = d, this.Bc(false, false, false), g = d = 0);
        this.ub = d;
        0 < d && this.Bc(false, false, false);
      }
    };
    ra.prototype.Bc = function (a, b, c) {
      var d, f = this.ka, e = this.width / 2 - this.ea - this.Ba, k = this.height / 2 - this.da - this.pa, g = this.zoom * this.Ga, m = this.tc(this.zoom) * this.Ga, p = this.displayWidth / 2, n = this.displayHeight / 2, q = 0, l = 0, r = -1, u = this.coords, t = this.ub, v = this.Tb, B = (1 << I.ag) - 1;
      if (a && !c && v.sort) {
        l = (I.Hc << I.ag) + 256;
        for (d = t; d < I.Hc; d += 1) v[d] = l;
        v.sort();
      }
      f.beginPath();
      a || (r = l = q = 0);
      for (d = 0; d < t; d += 1) {
        a && (l = v[d], q = l & B, l >>= I.ag);
        var w = u[q];
        var y = u[q + 1];
        q += 2;
        var D = (y + k) * m + n;
        var F = (w + e) * g + p;
        var N = (u[q + 1] - y) * m;
        var O = (u[q] - w) * g;
        q += 2;
        l !== r && (r = l, 0 < d && (a ? (b && f.stroke(), f.fill()) : f.stroke(), f.beginPath()), a && !c && (f.fillStyle = this.ff[l], b && (f.strokeStyle = this.ff[l])));
        f.moveTo(F | 0, D | 0);
        f.lineTo(O + F | 0, N + D | 0);
        f.lineTo(O + F | 0, D | 0);
        N = (u[q + 1] - y) * m;
        O = (u[q] - w) * g;
        f.lineTo(O + F | 0, N + D | 0);
        q += 2;
      }
      a ? (b && f.stroke(), f.fill()) : f.stroke();
    };
    ra.prototype.Lk = function (a, b, c, d, f, e, k) {
      var g = 0, m = this.width / 2 - G.Yn / 4, p = this.height / 2, n = Math.PI / 3, q = 1 / G.Yn, l = [], r = [], u = this.coords, t = this.Tb, v = this.displayWidth / 2, B = this.displayHeight / 2, w = this.width / 2 - this.ea - this.Ba, y = this.height / 2 - this.da - this.pa, D = this.zoom * this.Ga, F = this.tc(this.zoom) * this.Ga;
      w = w + y / 2 + -(this.height >> 2) + 0.5;
      y += 0.5;
      if (a > c) {
        var N = c;
        c = a;
        a = N;
      }
      b > d && (N = d, d = b, b = N);
      a += f;
      c += f;
      b += e;
      d += e;
      t.length !== I.Hc && (this.coords = this.N.h(oa.Yc, 12 * I.Hc, "Life.coords"), this.Tb = this.N.h(oa.fc, I.Hc, "Life.cellColours"), u = this.coords, t = this.Tb);
      e = n / 2;
      for (f = 0; 5 >= f; f += 1) l[f] = Math.cos(e) * q, r[f] = Math.sin(e) * q * 1.16, e += n;
      n = l[0];
      q = r[0];
      N = l[1];
      var O = r[1];
      var M = l[2];
      var U = r[2];
      var W = l[3];
      var H = r[3];
      var P = l[4];
      var Q = r[4];
      l = l[5];
      r = r[5];
      this.ka.lineWidth = 1;
      this.ka.lineCap = "round";
      this.ka.lineJoin = "round";
      for (e = f = 0; b <= d; b += 1) {
        var T = b - p;
        var Z = (T + y) * F + B;
        if (Z >= -F && Z < this.displayHeight + F) for (Z = a; Z <= c; Z += 1) {
          if (0 < k[g]) {
            var na = Z - m;
            var ia = (na + w - (T + y) / 2) * D + v;
            ia >= -D && ia < this.displayWidth + D && (t[f] = (0 << I.ag) + e, u[e] = n + na, u[e + 1] = q + T, u[e + 2] = N + na, u[e + 3] = O + T, u[e + 4] = M + na, u[e + 5] = U + T, u[e + 6] = W + na, u[e + 7] = H + T, u[e + 8] = P + na, u[e + 9] = Q + T, u[e + 10] = l + na, u[e + 11] = r + T, e += 12, f += 1, f === I.Hc && (this.ub = f, this.Ac(true, false, false, true), e = f = 0));
          }
          g += 1;
        } else g += c - a + 1;
      }
      this.ub = f;
      0 < f && this.Ac(true, false, false, true);
    };
    ra.prototype.bj = function (a, b, c, d, f, e) {
      var k = this.width / 2 - G.Yn / 4, g = this.height / 2, m = Math.PI / 3, p = 1 / G.Yn, n = [], q = [], l = this.coords, r = this.Tb, u = this.displayWidth / 2, t = this.displayHeight / 2, v = this.width / 2 - this.ea - this.Ba, B = this.height / 2 - this.da - this.pa, w = this.zoom * this.Ga, y = this.tc(this.zoom) * this.Ga;
      v = v + B / 2 + -(this.height >> 2) + 0.5;
      B += 0.5;
      if (a > c) {
        var D = c;
        c = a;
        a = D;
      }
      b > d && (D = d, d = b, b = D);
      a += f;
      c += f;
      b += e;
      d += e;
      r.length !== I.Hc && (this.coords = this.N.h(oa.Yc, 12 * I.Hc, "Life.coords"), this.Tb = this.N.h(oa.fc, I.Hc, "Life.cellColours"), l = this.coords, r = this.Tb);
      e = m / 2;
      for (f = 0; 5 >= f; f += 1) n[f] = Math.cos(e) * p, q[f] = Math.sin(e) * p * 1.16, e += m;
      m = n[0];
      p = q[0];
      D = n[1];
      var F = q[1];
      var N = n[2];
      var O = q[2];
      var M = n[3];
      var U = q[3];
      var W = n[4];
      var H = q[4];
      n = n[5];
      q = q[5];
      this.ka.lineWidth = 1;
      this.ka.lineCap = "round";
      this.ka.lineJoin = "round";
      for (e = f = 0; b <= d; b += 1) {
        var P = b - g;
        var Q = (P + B) * y + t;
        if (Q >= -y && Q < this.displayHeight + y) for (Q = a; Q <= c; Q += 1) {
          var T = Q - k;
          var Z = (T + v - (P + B) / 2) * w + u;
          Z >= -w && Z < this.displayWidth + w && (r[f] = (0 << I.ag) + e, l[e] = m + T, l[e + 1] = p + P, l[e + 2] = D + T, l[e + 3] = F + P, l[e + 4] = N + T, l[e + 5] = O + P, l[e + 6] = M + T, l[e + 7] = U + P, l[e + 8] = W + T, l[e + 9] = H + P, l[e + 10] = n + T, l[e + 11] = q + P, e += 12, f += 1, f === I.Hc && (this.ub = f, this.Ac(true, false, false, true), e = f = 0));
        }
      }
      this.ub = f;
      0 < f && this.Ac(true, false, false, true);
    };
    ra.prototype.cj = function () {
      var a = this.m, b = this.Ca, c = null, d = this.Oa, f = this.displayWidth / 2, e = this.displayHeight / 2, k, g = this.width / 2 - G.Yn / 4, m = this.height / 2, p = Math.PI / 3, n = 1 / G.Yn, q = [], l = [], r = G.yb[3] + 128, u = G.yb[4] + 128, t = G.yb[5] + 128, v = G.yb[6] + 128, B = this.Wa, w = this.coords, y = this.Tb, D = d.F, F = d.J;
      var N = d.G;
      var O = d.K, M = this.height / 2 - this.da - this.pa + 0.5, U = this.width / 2 - this.ea - this.Ba + 0.5 - (this.height >> 2) + M / 2, W = this.zoom * this.Ga, H = this.tc(this.zoom) * this.Ga, P = !this.Ia && !this.Va, Q = this.width, T = this.height, Z = 0, na = 0, ia = this.T;
      (this.l || this.A || this.s) && 0 !== (this.counter & 1) && (a = this.W);
      y.length !== I.Hc && (this.coords = this.N.h(oa.Yc, 12 * I.Hc, "Life.coords"), this.Tb = this.N.h(oa.fc, I.Hc, "Life.cellColours"), w = this.coords, y = this.Tb);
      -1 !== this.C && (0 !== this.R ? (D = Math.round((this.width - this.R) / 2) - 1, F = D + this.R - 1 + 2) : (D = 0, F = this.width - 1), 0 !== this.M ? (N = Math.round((this.height - this.M) / 2) - 1, O = N + this.M - 1 + 2) : (N = 0, O = this.height - 1));
      var ba = p / 2;
      for (d = 0; 5 >= d; d += 1) q[d] = Math.cos(ba) * n, l[d] = Math.sin(ba) * n * 1.16, ba += p;
      p = q[0];
      n = l[0];
      var ja = q[1];
      var la = l[1];
      var fa = q[2];
      var V = l[2];
      var ma = q[3];
      var ca = l[3];
      var aa = q[4];
      var X = l[4];
      q = q[5];
      l = l[5];
      this.ka.lineWidth = 1;
      this.ka.lineCap = "round";
      this.ka.lineJoin = "round";
      ba = d = 0;
      0 < N && --N;
      for (O < this.height - 1 && (O += 1); N <= O; N += 1) {
        var pa = (N + M - m) * H + e;
        if (pa >= -H && pa < this.displayHeight + H) {
          pa = a[N];
          b && (c = b[N]);
          var R = N - m;
          var E = U - g - (R + M) / 2;
          for (k = D; k <= F; k += 1) {
            var z = (k + E) * W + f;
            if (z >= -W && z < this.displayWidth + W) {
              z = pa[k];
              if (c) {
                var K = c[k];
                if (K === u || K === v) z = z >= B ? r : K; else if (K === r || K === t) z = z < B ? u : K;
              }
              0 < z && (y[d] = (z << I.ag) + ba, z = k - g, w[ba] = p + z, w[ba + 1] = n + R, w[ba + 2] = ja + z, w[ba + 3] = la + R, w[ba + 4] = fa + z, w[ba + 5] = V + R, w[ba + 6] = ma + z, w[ba + 7] = ca + R, w[ba + 8] = aa + z, w[ba + 9] = X + R, w[ba + 10] = q + z, w[ba + 11] = l + R, ba += 12, d += 1);
              d === I.Hc && (this.ub = d, this.Ac(true, P, false, false), this.Va && !this.Ia && (this.ka.strokeStyle = "rgb(" + this.ja[0] + "," + this.ga[0] + "," + this.ia[0] + ")", this.Ac(false, false, false, false)), ba = d = 0);
            }
          }
        }
      }
      this.ub = d;
      0 < d && (this.Ac(true, P, false, false), this.Va && !this.Ia && (this.ka.strokeStyle = "rgb(" + this.ja[0] + "," + this.ga[0] + "," + this.ia[0] + ")", this.Ac(false, false, false, false)));
      for (ba = d = 0; Q < ia;) Z += Q >> 1, Q <<= 1;
      for (; T < ia;) na += T >> 1, T <<= 1;
      O = (e / H - M + m | 0) + 1;
      for (N = (-e / H - M + m | 0) - 1; N <= O; N += 1) if (pa = (N + M - m) * H + e, pa >= -H && pa < this.displayHeight + H) for (R = N - m, E = U - g - (R + M) / 2, D = -f / W - E - W | 0, F = f / W - E + W | 0, k = D; k <= F; k += 1) if (z = (k + E) * W + f, z >= -W && z < this.displayWidth + W) {
        if (0 > k + Z || k + Z >= ia || 0 > N + na || N + na >= ia) y[d] = (256 << I.ag) + ba, z = k - g, w[ba] = p + z, w[ba + 1] = n + R, w[ba + 2] = ja + z, w[ba + 3] = la + R, w[ba + 4] = fa + z, w[ba + 5] = V + R, w[ba + 6] = ma + z, w[ba + 7] = ca + R, w[ba + 8] = aa + z, w[ba + 9] = X + R, w[ba + 10] = q + z, w[ba + 11] = l + R, ba += 12, d += 1;
        d === I.Hc && (this.ub = d, this.Ac(true, P, false, false), this.Va && !this.Ia && (this.ka.strokeStyle = "rgb(" + this.ja[0] + "," + this.ga[0] + "," + this.ia[0] + ")", this.Ac(false, false, false, false)), ba = d = 0);
      }
      this.ub = d;
      0 < d && (this.Ac(true, P, false, false), this.Va && !this.Ia && (this.ka.strokeStyle = "rgb(" + this.ja[0] + "," + this.ga[0] + "," + this.ia[0] + ")", this.Ac(false, false, false, false)), ba = 0);
      if (this.Ia) {
        this.ka.strokeStyle = "rgb(" + (this.mb >> 16) + "," + (this.mb >> 8 & 255) + "," + (this.mb & 255) + ")";
        this.ka.lineWidth = 1;
        d = 0;
        O = e / H - M + m | 0;
        for (N = -e / H - M + m | 0; N <= O; N += 1) if (pa = (N + M - m) * H + e, pa >= -H && pa < this.displayHeight + H) for (R = N - m, E = U - g - (R + M) / 2, D = -f / W - E - W | 0, F = f / W - E + W | 0, k = D; k <= F; k += 1) z = (k + E) * W + f, z >= -W && z < this.displayWidth + W && (z = k - g, w[ba] = p + z, w[ba + 1] = n + R, w[ba + 2] = ja + z, w[ba + 3] = la + R, w[ba + 4] = fa + z, w[ba + 5] = V + R, w[ba + 6] = ma + z, w[ba + 7] = ca + R, ba += 8, d += 1), d === I.Hc && (this.ub = d, this.Ac(false, false, true, false), ba = d = 0);
        this.ub = d;
        0 < d && this.Ac(false, false, true, false);
      }
    };
    ra.prototype.Ac = function (a, b, c, d) {
      var f = this.ka, e = this.width / 2 - this.ea - this.Ba, k = this.height / 2 - this.da - this.pa, g = this.zoom * this.Ga, m = this.tc(this.zoom) * this.Ga, p = this.displayWidth / 2, n = this.displayHeight / 2, q = 0, l = 0, r = 12, u = 0, t = -1, v = this.coords, B = this.ub, w = this.Tb, y = (1 << I.ag) - 1;
      e = e + k / 2 + -(this.height >> 2) + 0.5;
      k += 0.5;
      a && !d && w.sort && (u = (I.Hc << I.ag) + 256, w.fill(u, B), w.sort());
      f.beginPath();
      a || (l = r = c ? 8 : 12, t = u = q = 0);
      for (c = 0; c < B; c += 1) {
        a && (u = w[c], q = u & y, l = q + r, u >>= I.ag);
        var D = v[q];
        var F = v[q + 1];
        var N = F + k;
        var O = D + e - N / 2;
        q += 2;
        N = N * m + n;
        O = O * g + p;
        var M = (v[q + 1] - F) * m;
        var U = (v[q] - D) * g;
        q += 2;
        u !== t && (t = u, 0 < c && (a ? (b && f.stroke(), f.fill()) : f.stroke(), f.beginPath()), a && !d && (f.fillStyle = this.ff[u], b && (f.strokeStyle = this.ff[u])));
        f.moveTo(O, N);
        for (f.lineTo(U + O, M + N); q < l;) M = (v[q + 1] - F) * m, U = (v[q] - D) * g, q += 2, f.lineTo(U + O, M + N);
        l += r;
      }
      a ? (b && f.stroke(), f.fill()) : f.stroke();
    };
    ra.prototype.rg = function (a, b, c, d, f, e, k) {
      var g = "", m = b.H ? b.Oa : b.Ea ? b.na : b.u, p = m.F, n = m.J, q = m.K, l = m.G, r = n - p + 1, u = q - l + 1;
      m = 0;
      var t = [], v = this.m, B = null;
      var w = a.da - a.V;
      var y = a.Z - a.$, D = a.ba;
      2 > d && (d = 2);
      2 > f && (f = 2);
      d === f && b.H && (f = d = 7);
      a.R && (p = D.F + w, l = D.G + y, n = D.J + w, q = D.K + y, p > n && (w = p, p = n, n = w), l > q && (w = l, l = q, q = w), r = n - p + 1, u = q - l + 1, a.kc && (-1 !== b.C ? (p -= Math.floor(a.ra / 2) - 2 * a.dc, n -= Math.floor(a.ra / 2) - 2 * a.dc, l -= Math.floor(a.qa / 2) - 2 * a.wc, q -= Math.floor(a.qa / 2) - 2 * a.wc) : (p += 2 * a.dc, n += 2 * a.dc, l += 2 * a.wc, q += 2 * a.wc)));
      b.X && (0 < p && 0 !== (p & 1) && (--p, r += 1), 0 < l && 0 !== (l & 1) && (--l, u += 1));
      b.Z && (0 < p && 0 === (p & 1) && (--p, r += 1), 0 < l && 0 === (l & 1) && (--l, u += 1));
      if (0 === e.length) for (w = 0; w < d; w += 1) e[w] = w;
      if (2 >= f) t[0] = "b", t[1] = "o"; else for (t[0] = ".", w = 0; w < f - 1; w += 1) t[w + 1] = 24 <= w ? String.fromCharCode(112 + (w / 24 | 0) - 1) + String.fromCharCode(65 + w % 24) : String.fromCharCode(65 + w);
      c && (g += b.mh);
      w = k && "" !== a.ya ? a.ya : a.T;
      "Conway's Life" === w && (w = "Life");
      "B3/S23History" === w && (w = "LifeHistory");
      g = g + ("x = " + r + ", y = " + u + ", rule = " + w) + a.Rf;
      g += "\n";
      for (a = g.length; l <= q;) {
        w = p;
        2 >= d && !this.s ? (B = v[l], r = B[w], f = r <= this.me || r === this.ic ? 0 : 1) : f = b.Ra(w, l, false);
        k = 1;
        for (w += 1; w <= n + 1;) w > n ? r = -1 : 2 >= d && !this.s ? (r = B[w], r = r <= this.me || r === this.ic ? 0 : 1) : r = b.Ra(w, l, false), r !== f ? ((-1 !== r || 0 !== f) && 0 < m && (1 < m && (g += m), g += "$", 69 <= g.length - a && (g += "\n", a = g.length), m = 0), 0 < f ? (1 < k && (g += k), g += t[e[f]]) : w <= n && (1 < k && (g += k), g += t[e[f]]), 69 <= g.length - a && (g += "\n", a = g.length), k = 1, f = r) : k += 1, w += 1;
        m += 1;
        l += 1;
      }
      g += "!\n";
      c && (g += b.lh);
      return g;
    };
    ra.prototype.qm = function (a, b, c, d) {
      var f = this.wa, e = this.L, k = this.m, g = this.qa, m = this.B, p = this.u, n = this.Oa, q, l = true, r = this.X ? 1 : 0, u = this.X ? 14 : 15;
      if (a !== (a & this.za) || b !== (b & this.ya)) {
        l = false;
        var t = this.width < this.T && a !== (a & this.za);
        for (q = this.height < this.T && b !== (b & this.ya); t || q;) (t || q) && this.Ff(t, q, true), t && (a += this.width >> 2), q && (b += this.height >> 2), t = this.width < this.T && a !== (a & this.za), q = this.height < this.T && b !== (b & this.ya);
        a === (a & this.za) && b === (b & this.ya) && (l = true, f = this.wa, e = this.L, k = this.m, g = this.qa, m = this.B);
      }
      if (l) if (0 !== (this.counter & 1) && (f = this.Qa, e = this.V), t = 1 << (~a & 15), q = 1 << (~(a >> 4) & 15), 1 === (c & 1) ? (0 === (f[b][a >> 4] & t) && (this.o += 1), k[b][a] = this.Vb ? (a + b & 127) + 64 : this.Wa, g[b >> 4][a >> 8] |= q, m[b >> 4][a >> 8] |= q, f[b][a >> 4] |= t, e[b >> 4][a >> 8] |= q, d = a & 15, 0 < a && d <= r ? (a -= d + 1, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a += d + 1) : a < this.width - 1 && d >= u && (a += 16 - d, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a -= 16 - d), 0 < b && 0 === (b & 15) ? (--b, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), 0 < a && d <= r ? (a -= d + 1, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a += d + 1) : a < this.width - 1 && d >= u && (a += 16 - d, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a -= 16 - d), b += 1) : b < this.height - 1 && 15 === (b & 15) && (b += 1, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), 0 < a && d <= r ? (a -= d + 1, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a += d + 1) : a < this.width - 1 && d >= u && (a += 16 - d, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a -= 16 - d), --b)) : (0 !== (f[b][a >> 4] & t) && --this.o, k[b][a] = d ? 0 : this.me, g[b >> 4][a >> 8] |= q, m[b >> 4][a >> 8] |= q, f[b][a >> 4] &= ~t), 0 < c) 1 === this.o ? (p.F = a, p.J = a, p.G = b, p.K = b) : (a < p.F && (p.F = a), a > p.J && (p.J = a), b < p.G && (p.G = b), b > p.K && (p.K = b)), a < n.F && (n.F = a), a > n.J && (n.J = a), b < n.G && (n.G = b), b > n.K && (n.K = b); else if (a === p.F || a === p.J || b === p.K || b === p.G) this.Wb = true;
      return 0;
    };
    ra.prototype.sm = function (a, b, c, d) {
      var f = this.wa, e = this.L, k = this.m, g = this.qa, m = this.B, p = this.Ca, n = this.u, q = this.Oa, l, r = true, u = 0, t = this.X ? 1 : 0, v = this.X ? 14 : 15;
      if (a !== (a & this.za) || b !== (b & this.ya)) {
        r = false;
        var B = this.width < this.T && a !== (a & this.za);
        for (l = this.height < this.T && b !== (b & this.ya); B || l;) (B || l) && this.Ff(B, l, true), B && (a += this.width >> 2), l && (b += this.height >> 2), B = this.width < this.T && a !== (a & this.za), l = this.height < this.T && b !== (b & this.ya);
        a === (a & this.za) && b === (b & this.ya) && (r = true, f = this.wa, e = this.L, k = this.m, g = this.qa, m = this.B, p = this.Ca);
      }
      if (r) {
        0 !== (this.counter & 1) && (f = this.Qa, e = this.V);
        B = 1 << (~a & 15);
        l = 1 << (~(a >> 4) & 15);
        1 === (c & 1) ? (0 === (f[b][a >> 4] & B) && (this.o += 1), k[b][a] = this.Wa, g[b >> 4][a >> 8] |= l, m[b >> 4][a >> 8] |= l, f[b][a >> 4] |= B, e[b >> 4][a >> 8] |= l, d = a & 15, 0 < a && d <= t ? (a -= d + 1, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a += d + 1) : a < this.width - 1 && d >= v && (a += 16 - d, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a -= 16 - d), 0 < b && 0 === (b & 15) ? (--b, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), 0 < a && d <= t ? (a -= d + 1, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a += d + 1) : a < this.width - 1 && d >= v && (a += 16 - d, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a -= 16 - d), b += 1) : b < this.height - 1 && 15 === (b & 15) && (b += 1, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), 0 < a && d <= t ? (a -= d + 1, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a += d + 1) : a < this.width - 1 && d >= v && (a += 16 - d, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a -= 16 - d), --b)) : (0 !== (f[b][a >> 4] & B) && --this.o, k[b][a] = d ? 0 : this.me, g[b >> 4][a >> 8] |= l, m[b >> 4][a >> 8] |= l, f[b][a >> 4] &= ~B);
        if (p) {
          e = p[b][a];
          0 < e && (e = G.yb.indexOf(e - 128));
          if (6 === c && 6 !== e || 6 !== c && 6 === e) u = 1;
          2 === c && (k[b][a] = I.Gh);
          p[b][a] = 0 === c ? 0 : G.yb[c] + 128;
        }
        if (0 < c) 1 === this.o ? (n.F = a, n.J = a, n.G = b, n.K = b) : (a < n.F && (n.F = a), a > n.J && (n.J = a), b < n.G && (n.G = b), b > n.K && (n.K = b)), a < q.F && (q.F = a), a > q.J && (q.J = a), b < q.G && (q.G = b), b > q.K && (q.K = b); else if (a === n.F || a === n.J || b === n.K || b === n.G) this.Wb = true;
      }
      return u;
    };
    ra.prototype.Nj = function (a, b, c, d) {
      var f = this.wa, e = this.L, k = this.m, g = this.qa, m = this.B, p = this.Ca, n = this.u, q = this.na, l = this.Oa, r = 0, u = c, t = 0, v = 0, B = this.X ? 1 : 0, w = this.X ? 14 : 15;
      (this.i || this.s || this.l || this.A) && 0 !== (this.counter & 1) && (k = this.W);
      if (this.i || this.s) t = k[b][a], k[b][a] = d && 0 === c ? 0 : this.v + c, m[b >> 4][a >> 8] = 65535, this.s && (0 !== (this.counter & 1) && (e = this.V), r = 1 << (~(a >> 4) & 15), e[b >> 4][a >> 8] |= r), 0 === c ? t > this.v && (this.i ? this.o -= this.hc[t - this.v] : --this.o) : this.i ? t <= this.v ? this.o += this.hc[c] : (this.o -= this.hc[t - this.v], this.o += this.hc[c]) : (e[b >> 4][a >> 8] |= r, 0 === t && (this.o += 1), d = a & 15, 0 < a && d <= B ? (a -= d + 1, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a += d + 1) : a < this.width - 1 && d >= w && (a += 16 - d, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a -= 16 - d), 0 < b && 0 === (b & 15) ? (--b, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), 0 < a && d <= B ? (a -= d + 1, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a += d + 1) : a < this.width - 1 && d >= w && (a += 16 - d, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a -= 16 - d), b += 1) : b < this.height - 1 && 15 === (b & 15) && (b += 1, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), 0 < a && d <= B ? (a -= d + 1, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a += d + 1) : a < this.width - 1 && d >= w && (a += 16 - d, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a -= 16 - d), --b)); else {
        0 !== (this.counter & 1) && (f = this.Qa, e = this.V);
        var y = 1 << (~a & 15);
        r = 1 << (~(a >> 4) & 15);
        if (this.Ea) t = k[b][a], 2 === this.h ? (e = this.Wa, 1 === c && (c = this.Wa), 0 === c && t >= e && (c = d ? 0 : this.v)) : (e = this.h - 1 + this.v, 0 < c && (c = this.v + c)), k[b][a] = c, g[b >> 4][a >> 8] |= r, m[b >> 4][a >> 8] |= r, t < e && c >= e ? this.o += 1 : t >= e && c < e && --this.o; else {
          if (this.A) {
            var D = 0 < c;
            t = k[b][a];
          } else D = 2 >= this.h || this.l ? 1 === (c & 1) : c === this.h - 1;
          this.l && (t = k[b][a], 6 === c && 6 !== t || 6 !== c && 6 === t) && (v = 1);
          D ? (this.A ? t || (this.o += 1) : 0 === (f[b][a >> 4] & y) && (this.o += 1), k[b][a] = this.Vb ? (a + b & 127) + 64 : this.A || this.l ? c : this.Wa, g[b >> 4][a >> 8] |= r, m[b >> 4][a >> 8] |= r, f[b][a >> 4] |= y, e[b >> 4][a >> 8] |= r, d = a & 15, 0 < a && d <= B ? (a -= d + 1, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a += d + 1) : a < this.width - 1 && d >= w && (a += 16 - d, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a -= 16 - d), 0 < b && 0 === (b & 15) ? (--b, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), 0 < a && d <= B ? (a -= d + 1, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a += d + 1) : a < this.width - 1 && d >= w && (a += 16 - d, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a -= 16 - d), b += 1) : b < this.height - 1 && 15 === (b & 15) && (b += 1, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), 0 < a && d <= B ? (a -= d + 1, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a += d + 1) : a < this.width - 1 && d >= w && (a += 16 - d, e[b >> 4][a >> 8] |= 1 << (~(a >> 4) & 15), a -= 16 - d), --b)) : (this.A ? 0 < t && --this.o : 0 !== (f[b][a >> 4] & y) && --this.o, k[b][a] = this.A || this.l ? c : d ? 0 : this.me, g[b >> 4][a >> 8] |= r, m[b >> 4][a >> 8] |= r, f[b][a >> 4] &= ~y);
          if (this.H && p) {
            t = p[b][a];
            0 < t && (t = G.yb.indexOf(t - 128));
            if (6 === c && 6 !== t || 6 !== c && 6 === t) v = 1;
            2 === c ? k[b][a] = I.Gh : p[b][a] = 0 === c ? 0 : G.yb[c] + 128;
          }
          2 < this.h && !this.l && !this.A && (0 < c && (c = this.v + c), k[b][a] = c);
        }
      }
      if (0 < u) 1 === this.o && (this.Wb = true), a < n.F && (n.F = a), a > n.J && (n.J = a), b < n.G && (n.G = b), b > n.K && (n.K = b), a < l.F && (l.F = a), a > l.J && (l.J = a), b < l.G && (l.G = b), b > l.K && (l.K = b), this.Ea && c === this.h - 1 + this.v && (1 === this.o ? (q.F = a, q.J = a, q.G = b, q.K = b) : (a < q.F && (q.F = a), a > q.J && (q.J = a), b < q.G && (q.G = b), b > q.K && (q.K = b))); else if (a === n.F || a === n.J || b === n.K || b === n.G) this.Wb = true;
      return v;
    };
    ra.prototype.Ra = function (a, b, c) {
      switch (this.Pj) {
        case I.Nt:
          return this.jj(a, b, c);
        case I.Pt:
          return this.jj(a, b, true);
        case I.Ot:
          return this.Al(a, b, c);
        default:
          return this.Cl(a, b, c);
      }
    };
    ra.prototype.rd = function (a, b, c, d) {
      switch (this.Pj) {
        case I.Nt:
          return this.qm(a, b, c, d);
        case I.Pt:
          return this.Nj(a, b, c, d);
        case I.Ot:
          return this.sm(a, b, c, d);
        default:
          return this.Nj(a, b, c, d);
      }
    };
    ra.prototype.wm = function () {
      this.Pj = -1 !== this.h || -1 !== this.C || this.fa ? this.s && 2 === this.h ? I.Pt : I.LE : this.H ? I.Ot : I.Nt;
    };
    ra.prototype.Qk = function (a) {
      var b = 1 << I.tj;
      a ? (this.Fc = Array.matrix(oa.fc, 1, b, 0, this.N, "Life.popGraphData"), this.df = Array.matrix(oa.fc, 1, b, 0, this.N, "Life.birthGraphData"), this.Ef = Array.matrix(oa.fc, 1, b, 0, this.N, "Life.deathGraphData"), this.Xf = b) : (this.Fc = Array.matrix(oa.fc, 0, 0, 0, this.N, "Life.popGraphData"), this.df = Array.matrix(oa.fc, 0, 0, 0, this.N, "Life.birthGraphData"), this.Ef = Array.matrix(oa.fc, 0, 0, 0, this.N, "Life.deathGraphData"), this.Xf = 0);
    };
    ra.prototype.jj = function (a, b, c) {
      var d = 0, f = this.m;
      a === (a & this.za) && b === (b & this.ya) && (this.s && 0 !== (this.counter & 1) && (f = this.W), a = f[b][a], d = c ? a : a <= this.me ? 0 : 1);
      return d;
    };
    ra.prototype.Al = function (a, b, c) {
      var d = 0, f = G.yb[3] + 128, e = G.yb[4] + 128, k = G.yb[5] + 128, g = G.yb[6] + 128;
      a === (a & this.za) && b === (b & this.ya) && (d = this.m[b][a], c || (this.Ca ? (a = this.Ca[b][a], a === e || a === g ? (d >= this.Wa && (a = f), d = G.yb.indexOf(a - 128)) : a === f || a === k ? (d < this.Wa && (a = e), d = G.yb.indexOf(a - 128)) : d = 0 === d ? 0 : d <= this.me ? 2 : 1) : d = d <= this.me ? 0 : 1));
      return d;
    };
    ra.prototype.Cl = function (a, b, c) {
      var d = 0, f = G.yb[3] + 128, e = G.yb[4] + 128, k = G.yb[5] + 128, g = G.yb[6] + 128, m = this.Z ? -1 : 0, p = Math.round((this.width - this.R) / 2) + m;
      m = Math.round((this.height - this.M) / 2) + m;
      var n = p + this.R - 1, q = m + this.M - 1, l = this.m;
      (this.i || this.s || this.l || this.A) && 0 !== (this.counter & 1) && (l = this.W);
      a === (a & this.za) && b === (b & this.ya) && (d = l[b][a], c || 2 < this.h ? 2 < this.h && 0 < d && !this.fa && (d <= this.v ? d = 0 : (-1 !== this.C && (0 === this.R && (p = 0, n = this.width - 1), 0 === this.M && (m = 0, q = this.height - 1)), d = -1 === this.C || d !== this.ic || a >= p && a <= n && b >= m && b <= q ? this.i || this.s || this.l || this.A ? d - this.v : this.h + this.v - d : 0)) : this.Ca ? -1 === this.C || d !== this.ic || a >= p && a <= n && b >= m && b <= q ? (a = this.Ca[b][a], a === e || a === g ? (d >= this.Wa && (a = f), d = G.yb.indexOf(a - 128)) : a === f || a === k ? (d < this.Wa && (a = e), d = G.yb.indexOf(a - 128)) : d = 0 === d ? 0 : d <= this.me ? 2 : 1) : d = 0 : d = d <= this.me || d === this.ic ? 0 : 1);
      return d;
    };
    ra.prototype.td = function (a) {
      var b, c, d, f = a.length, e = a[0].length, k = this.hc, g = 0;
      for (b = 0; b < f; b += 1) {
        var m = a[b];
        for (c = 0; c < e; c += 1) (d = m[c]) && (g += k[d]);
      }
      return g;
    };
    ra.prototype.nl = function (a, b) {
      var c = a.Zb, d = c.length, f = false;
      if (this.Z || this.i) for (this.Xa = this.zb = false, a = 0; !f && a < d;) {
        var e = c[a];
        e.cg < b ? ("reverse playback" === e.action && (this.Xa = !this.Xa), a += 1) : e.cg > b ? f = true : "reverse playback" === e.action ? f = this.zb = true : a += 1;
      }
    };
    ra.prototype.Gk = function (a, b) {
      var c = this.Gc.h.length, d = null;
      a < this.counter && (d = this.Gc.Y(a), c !== this.Gc.h.length && (this.We -= I.ap * (c - this.Gc.h.length)));
      d && (this.Jj(d, b), b.tk());
      for (; this.counter < a;) this.nl(b, this.counter), this.i && (1 === (this.counter & 1) ? this.m.ca.fill(0) : this.W.ca.fill(0)), this.hf(true), b.ia += b.M, this.te(), this.Jg(), this.rf(b), b.tk();
    };
    ra.prototype.Jj = function (a, b) {
      var c = this.m, d = this.Ca;
      this.counter = a.counter;
      b.ia = a.M;
      this.Hb = a.A;
      this.fe = a.C;
      if (0 !== (this.counter & 1)) {
        b = this.Ec;
        var f = this.grid;
        var e = this.V;
        var k = this.L;
      } else b = this.grid, f = this.Ec, e = this.L, k = this.V;
      b.ca.fill(0);
      f.ca.fill(0);
      this.m.ca.fill(0);
      (this.i || this.s || this.l || this.A) && this.W.ca.fill(0);
      this.Da.ca.fill(0);
      a.V(b, e);
      a.R(c, this.qa, a.L);
      (this.i || this.s || this.l || this.A) && Array.jg(c, this.W);
      this.sc ? (d.ca.fill(0), this.Ya.ca.fill(0), a.R(d, this.B, a.u), this.gb()) : (this.l && this.gb(), Array.jg(this.B, this.qa));
      Array.jg(e, k);
      Array.jg(b, f);
      this.u.F = a.i.F;
      this.u.G = a.i.G;
      this.u.J = a.i.J;
      this.u.K = a.i.K;
      this.na.F = a.h.F;
      this.na.G = a.h.G;
      this.na.J = a.h.J;
      this.na.K = a.h.K;
      this.o = a.H;
      this.ma = a.v;
      this.aa = a.B;
    };
    ra.prototype.ph = function (a) {
      if (0 !== (this.counter & 1)) {
        var b = this.Ec;
        var c = this.V;
      } else b = this.grid, c = this.L;
      this.Mj(false, b, c, a);
    };
    ra.prototype.Yf = function (a, b) {
      this.Jj(this.Li, a);
      this.Gc.reset();
      this.We = I.ap;
      b || this.ph(a);
    };
    ra.prototype.Mj = function (a, b, c, d) {
      var f = this.m;
      (this.i || this.s || this.l || this.A) && 0 !== (this.counter & 1) && (f = this.W);
      this.Gc.W(b, c, f, this.B, this.Ca, this.B, this.u, this.na, this.o, this.ma, this.aa, this.counter, d.ia, this.Hb, this.fe, (this.Y - 1 >> 4) + 1, this.ba, this, a);
    };
    ra.prototype.mm = function (a, b) {
      this.Gc.reset();
      this.Li = this.Gc.L((this.Y - 1 >> 4) + 1, this.ba, true, this.sc);
      this.Mj(true, this.grid, this.L, b);
      a || this.ph(b);
    };
    ra.prototype.no = function () {
      var a = this.Ca, b = this.wc;
      this.width = 512;
      this.height = 256;
      this.Ea && this.O.resize(this.width, this.height);
      this.grid = Array.matrix(oa.Ka, this.height, (this.width - 1 >> 3) + 1, 0, this.N, "Life.grid");
      this.Ec = Array.matrix(oa.Ka, this.height, (this.width - 1 >> 3) + 1, 0, this.N, "Life.nextGrid");
      this.wa = Array.Wc(oa.xa, this.grid, "Life.grid16");
      this.Qa = Array.Wc(oa.xa, this.Ec, "Life.nextGrid16");
      b && (this.wc = Array.matrix(oa.xa, this.height, (this.width - 1 >> 4) + 1, 0, this.N, "Life.state6Mask"), this.sd = Array.matrix(oa.xa, this.height, (this.width - 1 >> 4) + 1, 0, this.N, "Life.state6Alive"), this.Tc = Array.matrix(oa.xa, this.height, (this.width - 1 >> 4) + 1, 0, this.N, "Life.state6Cells"));
      this.Y = this.width >> 4;
      this.ba = this.height >> 4;
      b && (this.yc = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.state6TileGrid"));
      this.L = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.tileGrid");
      this.V = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.nextTileGrid");
      this.qa = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.colourTileGrid");
      this.B = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.colourTileHistoryGrid");
      this.Na = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.diedGrid");
      this.ef = this.N.h(oa.Ka, (this.width - 1 >> 3) + 1, "Life.blankRow");
      this.ed = this.N.h(oa.xa, (this.width - 1 >> 4) + 1, "Life.blankRow16");
      this.Ja = this.N.h(oa.xa, this.Y >> 4, "Life.blankTileRow");
      this.oa = this.N.h(oa.Ka, this.width, "Life.blankColourRow");
      this.Ha = this.N.h(oa.xa, (this.width - 1 >> 4) + 1, "Life.columnOccupied16");
      this.Ta = this.N.h(oa.xa, (this.height - 1 >> 4) + 1, "Life.rowOccupied16");
      this.Cf = this.N.h(oa.xa, (this.width - 1 >> 4) + 1, "Life.columnAliveOccupied16");
      this.pf = this.N.h(oa.xa, (this.height - 1 >> 4) + 1, "Life.rowAliveOccupied16");
      this.m = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.colourGrid");
      this.i || this.s || this.l || this.A ? (this.W = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.nextColourGrid"), this.Yd = Array.Wc(oa.xa, this.W, "Life.nextColourGrid16"), this.ta = Array.Wc(oa.fc, this.W, "Life.nextColourGrid32")) : this.ta = this.Yd = this.W = null;
      this.Da = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.smallColourGrid");
      this.jd = Array.Wc(oa.xa, this.m, "Life.colourGrid16");
      this.sa = Array.Wc(oa.fc, this.m, "Life.colourGrid32");
      a && (this.Ca = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.overlayGrid"), this.Ya = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.smallOverlayGrid"), this.Xe = Array.Wc(oa.xa, this.Ca, "Life.overlayGrid16"), this.Ed = Array.Wc(oa.fc, this.Ca, "Life.overlayGrid32"));
      this.za = this.width - 1;
      this.ya = this.height - 1;
      this.Gc.T((this.Y - 1 >> 4) + 1, this.ba, 0, 0, 0, 0, this.sc);
    };
    ra.prototype.Sk = function () {
      this.height = this.width = 1024;
      this.grid = Array.matrix(oa.Ka, this.height, (this.width - 1 >> 3) + 1, 0, this.N, "Life.grid");
      this.Ec = Array.matrix(oa.Ka, this.height, (this.width - 1 >> 3) + 1, 0, this.N, "Life.nextGrid");
      this.wa = Array.Wc(oa.xa, this.grid, "Life.grid16");
      this.Qa = Array.Wc(oa.xa, this.Ec, "Life.nextGrid16");
      this.Y = this.width >> 4;
      this.ba = this.height >> 4;
      this.yc && this.aj();
      this.L = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.tileGrid");
      this.V = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.nextTileGrid");
      this.qa = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.colourTileGrid");
      this.B = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.colourTileHistoryGrid");
      this.Na = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.diedGrid");
      this.ef = this.N.h(oa.Ka, (this.width - 1 >> 3) + 1, "Life.blankRow");
      this.ed = this.N.h(oa.xa, (this.width - 1 >> 4) + 1, "Life.blankRow16");
      this.Ja = this.N.h(oa.xa, this.Y >> 4, "Life.blankTileRow");
      this.oa = this.N.h(oa.Ka, this.width, "Life.blankColourRow");
      this.Ha = this.N.h(oa.xa, (this.width - 1 >> 4) + 1, "Life.columnOccupied16");
      this.Ta = this.N.h(oa.xa, (this.height - 1 >> 4) + 1, "Life.rowOccupied16");
      this.Cf = this.N.h(oa.xa, (this.width - 1 >> 4) + 1, "Life.columnAliveOccupied16");
      this.pf = this.N.h(oa.xa, (this.height - 1 >> 4) + 1, "Life.rowAliveOccupied16");
      this.m = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.colourGrid");
      this.jd = Array.Wc(oa.xa, this.m, "Life.colourGrid16");
      this.sa = Array.Wc(oa.fc, this.m, "Life.colourGrid32");
      this.i || this.s || this.l || this.A ? (this.W = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.nextColourGrid"), this.Yd = Array.Wc(oa.xa, this.W, "Life.nextColourGrid16"), this.ta = Array.Wc(oa.fc, this.W, "Life.nextColourGrid32")) : this.ta = this.Yd = this.W = null;
      this.Da = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.smallColourGrid");
      this.Ca && this.Ki();
      this.za = this.width - 1;
      this.ya = this.height - 1;
    };
    ra.prototype.mc = function (a, b, c, d, f) {
      var e;
      for (e = 0; e < a; e += 1) d[e + b].set(f[e], c);
    };
    ra.prototype.Ff = function (a, b, c) {
      var d = this.height, f = this.grid, e = this.Ec, k = this.m, g = this.W, m = this.Ca, p = this.Ya, n = this.wc, q = this.sd, l = this.Tc, r = this.Kg, u = this.Ce, t = this.yc, v = this.L, B = this.V, w = this.qa, y = this.B, D = this.Na, F = this.Wf, N = this.jf, O = this.ba, M = 0, U = 0, W = 0, H = 0;
      if (this.width < this.T || d < this.T || !c) if (a && (M = this.width >> 1, this.width *= 2), b && (U = this.height >> 1, this.height *= 2), this.Ea && this.O.resize(this.width, this.height), this.grid = Array.matrix(oa.Ka, this.height, (this.width - 1 >> 3) + 1, 0, this.N, "Life.grid"), this.Ec = Array.matrix(oa.Ka, this.height, (this.width - 1 >> 3) + 1, 0, this.N, "Life.nextGrid"), this.wa = Array.Wc(oa.xa, this.grid, "Life.grid16"), this.Qa = Array.Wc(oa.xa, this.Ec, "Life.nextGrid16"), n && (this.wc = Array.matrix(oa.xa, this.height, (this.width - 1 >> 4) + 1, 0, this.N, "Life.state6Mask"), this.sd = Array.matrix(oa.xa, this.height, (this.width - 1 >> 4) + 1, 0, this.N, "Life.state6Alive"), this.Tc = Array.matrix(oa.xa, this.height, (this.width - 1 >> 4) + 1, 0, this.N, "Life.state6Cells")), this.Y = this.width >> 4, this.ba = this.height >> 4, n && (this.yc = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.state6TileGrid")), this.L = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.tileGrid"), this.V = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.nextTileGrid"), this.qa = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.colourTileGrid"), this.B = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.colourTileHistoryGrid"), this.Na = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.diedGrid"), F && (this.Wf = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.occTileMap")), N && (this.jf = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.occMergedTileMap")), this.ef = this.N.h(oa.Ka, (this.width - 1 >> 3) + 1, "Life.blankRow"), this.ed = this.N.h(oa.xa, (this.width - 1 >> 4) + 1, "Life.blankRow16"), this.Ja = this.N.h(oa.xa, this.Y >> 4, "Life.blankTileRow"), this.oa = this.N.h(oa.Ka, this.width, "Life.blankColourRow"), this.Ha = this.N.h(oa.xa, (this.width - 1 >> 4) + 1, "Life.columnOccupied16"), this.Ta = this.N.h(oa.xa, (this.height - 1 >> 4) + 1, "Life.rowOccupied16"), this.Cf = this.N.h(oa.xa, (this.width - 1 >> 4) + 1, "Life.columnAliveOccupied16"), this.pf = this.N.h(oa.xa, (this.height - 1 >> 4) + 1, "Life.rowAliveOccupied16"), r && (this.Kg = Array.matrix(oa.Ka, this.height, this.width, I.en, this.N, "Life.countList")), u && (this.Ce = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.initList")), this.m = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.colourGrid"), this.Da = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.smallColourGrid"), this.jd = Array.Wc(oa.xa, this.m, "Life.colourGrid16"), this.sa = Array.Wc(oa.fc, this.m, "Life.colourGrid32"), this.i || this.s || this.l || this.A ? (this.W = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.nextColourGrid"), this.Yd = Array.Wc(oa.xa, this.W, "Life.nextColourGrid16"), this.ta = Array.Wc(oa.fc, this.W, "Life.nextColourGrid32")) : this.ta = this.Yd = this.W = null, m && (this.Ca = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.overlayGrid"), this.Ya = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.smallOverlayGrid"), this.Xe = Array.Wc(oa.xa, this.Ca, "Life.overlayGrid16"), this.Ed = Array.Wc(oa.fc, this.Ca, "Life.overlayGrid32")), this.za = this.width - 1, this.ya = this.height - 1, c && (this.mc(d, U, M >> 3, this.grid, f), this.mc(d, U, M >> 3, this.Ec, e), this.mc(d, U, M, this.m, k), (this.i || this.s || this.l || this.A) && this.mc(d, U, M, this.W, g), this.Kg && this.mc(d, U, M, this.Kg, r), this.Ce && this.mc(d, U, M, this.Ce, u), m && p && this.mc(d, U, M, this.Ca, m), n && q && l && (this.mc(d, U, M >> 4, this.wc, n), this.mc(d, U, M >> 4, this.sd, q), this.mc(d, U, M >> 4, this.Tc, l)), b && (H = O >> 1), a && (W = this.L[0].length >> 2), t && this.mc(O, H, W, this.yc, t), this.mc(O, H, W, this.L, v), this.mc(O, H, W, this.V, B), this.mc(O, H, W, this.qa, w), this.mc(O, H, W, this.B, y), this.mc(O, H, W, this.Na, D)), this.Gc.T((this.Y - 1 >> 4) + 1, this.ba, W, H, M, U, this.sc), this.ea += M, this.da += U, this.ha && (this.ea -= U / 2 | 0), this.u.F += M, this.u.J += M, this.u.K += U, this.u.G += U, this.na.F += M, this.na.J += M, this.na.K += U, this.na.G += U, this.$a.F += M, this.$a.J += M, this.$a.K += U, this.$a.G += U, this.Oa.F += M, this.Oa.J += M, this.Oa.K += U, this.Oa.G += U, 0 < this.ec) for (b = 0; b < this.ec; b += 1) c = this.Yb[(b << 1) + 1], a = (c >> 16) + M, c = (c & 65535) + U, this.Yb[(b << 1) + 1] = a << 16 | c;
    };
    ra.prototype.bl = function (a, b, c) {
      var d = this.width, f = this.height, e = false, k = false, g = false;
      if (d < this.T || f < this.T) if (d < this.T && (b.F <= c || b.J >= d - c) && (e = true), f < this.T && (b.G <= c || b.K >= f - c) && (k = true), e || k) this.Ff(e, k, true), g = true, e && (a.ta += this.width >> 2, a.za += this.width >> 2), k && (a.zb += this.height >> 2, a.Jb += this.height >> 2), a.g.ha && k && (a.ta -= this.height >> 3, a.za -= this.height >> 3), e && (a.da += this.width >> 2), k && (a.Z += this.height >> 2), e && (b.F += this.width >> 2, b.J += this.width >> 2), k && (b.G += this.height >> 2, b.K += this.height >> 2);
      return g;
    };
    ra.prototype.$k = function (a, b, c) {
      for (c = c + 1 >> 1; this.bl(a, b, c);) ;
    };
    ra.prototype.Vn = function () {
      var a, b, c = this.hc;
      for (a = 0; 65536 > a; a += 1) {
        var d = a;
        for (b = 0; d; b += 1) d &= d - 1;
        c[a] = b;
      }
    };
    ra.prototype.ho = function () {
      var a, b, c = this.Ri, d = this.Wa;
      for (a = 0; 256 > a; a += 1) for (b = 0; 8 > b; b += 1) c[(a << 3) + b] = a & 1 << 7 - b ? d : 0;
    };
    ra.prototype.qo = function (a, b) {
      var c, d = 0, f = this.hc;
      var e = 0;
      var k = this.u;
      var g = k.F, m = k.J, p = k.K;
      k = k.G;
      this.Ea && (e = 2 < this.h ? this.v + this.h - 1 : I.Wa);
      if (this.Ea || this.i || this.s || this.A || this.fa) for (; k <= p; k += 1) for (a = b[k], c = g; c <= m; c += 1) {
        var n = a[c];
        0 < n && (this.i ? d += f[n - this.v] : this.Ea ? n === e && (d += 1) : this.A ? 0 < n && (d += 1) : d += 1);
      } else for (g >>= 4, m >>= 4; k <= p; k += 1) for (b = a[k], c = g; c <= m; c += 1) e = f[b[c]], d += e;
      this.o = d;
      this.aa = this.ma = 0;
    };
    ra.prototype.Ij = function (a, b) {
      var c = this.ka, d = false;
      var f = this.zc ? 4278190080 : 255;
      if (this.displayWidth !== a || this.displayHeight !== b) d = true;
      this.displayWidth = a;
      this.displayHeight = b;
      this.Uf = this.jn = this.Oc = this.Sc = null;
      this.Sc = c.createImageData(c.canvas.width, c.canvas.height);
      this.N.u(oa.fc, c.canvas.width * c.canvas.height, "Life.imageData");
      this.Sc.data.buffer ? this.Oc = new Uint32Array(this.Sc.data.buffer) : (this.Oc = new Uint32Array(this.Sc.data.length >> 2), this.jn = new Uint8Array(this.Oc.buffer));
      if (d) {
        this.qh = this.N.h(oa.fc, a, "Life.blankPixelRow");
        for (b = 0; b < a; b += 1) this.qh[b] = f;
        this.Ol(f);
        this.Bi();
      }
    };
    ra.prototype.em = function (a, b, c) {
      var d, f, e = this.m, k = a.width, g = a.height, m = this.za, p = this.ya, n = this.Gh, q = G.yb[2];
      for (f = 0; f < g; f += 1) {
        var l = a.ka[f];
        var r = e[f + c & p];
        for (d = 0; d < k; d += 1) l[d] === q && (r[d + b & m] = n);
      }
    };
    ra.prototype.Rk = function () {
      this.Ed = this.Xe = this.Ya = this.Ca = null;
    };
    ra.prototype.Ki = function () {
      this.Ca = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.overlayGrid");
      this.Ya = Array.matrix(oa.Ka, this.height, this.width, 0, this.N, "Life.smallOverlayGrid");
      Array.Dt(this.Ya, 1, "Life.smallOverlayGrid4");
      Array.Dt(this.Ya, 3, "Life.smallOverlayGrid8");
      Array.Dt(this.Ya, 7, "Life.smallOverlayGrid16");
      this.Xe = Array.Wc(oa.xa, this.Ca, "Life.overlayGrid16");
      this.Ed = Array.Wc(oa.fc, this.Ca, "Life.overlayGrid32");
    };
    ra.prototype.Tk = function () {
      this.yc = this.Tc = this.sd = this.wc = null;
    };
    ra.prototype.aj = function () {
      this.wc = Array.matrix(oa.xa, this.height, (this.width - 1 >> 4) + 1, 0, this.N, "Life.state6Mask");
      this.sd = Array.matrix(oa.xa, this.height, (this.width - 1 >> 4) + 1, 0, this.N, "Life.state6Alive");
      this.Tc = Array.matrix(oa.xa, this.height, (this.width - 1 >> 4) + 1, 0, this.N, "Life.state6Cells");
      this.yc = Array.matrix(oa.xa, this.ba, (this.Y - 1 >> 4) + 1, 0, this.N, "Life.state6TileGrid");
    };
    ra.prototype.gb = function () {
      var a, b, c = this.za, d = this.ya, f = this.yc, e = this.l ? 6 : G.yb[6] + 128, k = this.l ? this.m : this.Ca, g = this.Xh, m = this.width, p = -1, n = this.height, q = -1;
      if (this.H) for (this.wc.ca.fill(0), this.Tc.ca.fill(0), this.sd.ca.fill(0), this.yc.ca.fill(0), b = 0; b < this.height; b += 1) {
        var l = k[b];
        if (0 < b) {
          var r = this.wc[b - 1 & d];
          var u = f[(b - 1 & d) >> 4];
        } else u = r = null;
        var t = this.wc[b & d];
        var v = f[(b & d) >> 4];
        var B = this.Tc[b & d];
        if (b < this.height - 1) {
          var w = this.wc[b + 1 & d];
          var y = f[(b + 1 & d) >> 4];
        } else y = w = null;
        for (a = 0; a < this.width; a += 1) if (l[a] === e) {
          a < m && (m = a);
          a > p && (p = a);
          b < n && (n = b);
          b > q && (q = b);
          var D = a & c;
          B[D >> 4] |= 1 << (~D & 15);
          r && (r[D >> 4] |= 1 << (~D & 15), u[D >> 8] |= 1 << (~(D >> 4) & 15));
          t[D >> 4] |= 1 << (~D & 15);
          v[D >> 8] |= 1 << (~(D >> 4) & 15);
          w && (w[D >> 4] |= 1 << (~D & 15), y[D >> 8] |= 1 << (~(D >> 4) & 15));
          0 < a && (D = a - 1 & c, !this.Zc && r && (r[D >> 4] |= 1 << (~D & 15), u[D >> 8] |= 1 << (~(D >> 4) & 15)), t[D >> 4] |= 1 << (~D & 15), v[D >> 8] |= 1 << (~(D >> 4) & 15), this.ha || this.Zc || !w || (w[D >> 4] |= 1 << (~D & 15), y[D >> 8] |= 1 << (~(D >> 4) & 15)));
          a < this.width - 1 && (D = a + 1 & c, this.ha || this.Zc || !r || (r[D >> 4] |= 1 << (~D & 15), u[D >> 8] |= 1 << (~(D >> 4) & 15)), t[D >> 4] |= 1 << (~D & 15), v[D >> 8] |= 1 << (~(D >> 4) & 15), !this.Zc && w && (w[D >> 4] |= 1 << (~D & 15), y[D >> 8] |= 1 << (~(D >> 4) & 15)));
        }
      } else for (b = 0; b < this.height; b += 1) for (l = k[b], a = 0; a < this.width; a += 1) 6 === l[a] && (a < m && (m = a), a > p && (p = a), b < n && (n = b), b > q && (q = b));
      g.F = m;
      g.G = n;
      g.J = p;
      g.K = q;
    };
    ra.prototype.nf = function (a) {
      this.Vb ? this.lo(a) : this.jo(a);
    };
    ra.prototype.lo = function (a) {
      var b, c = this.m;
      var d = this.u;
      var f = d.F >> 4, e = d.J >> 4, k = d.K;
      for (b = d.G; b <= k; b += 1) {
        var g = a[b];
        var m = c[b];
        var p = f << 4;
        for (d = f; d <= e; d += 1) {
          var n = g[d] >> 8;
          m[p] = n & 128 ? (b + p & 127) + 64 : 0;
          p += 1;
          m[p] = n & 64 ? (b + p & 127) + 64 : 0;
          p += 1;
          m[p] = n & 32 ? (b + p & 127) + 64 : 0;
          p += 1;
          m[p] = n & 16 ? (b + p & 127) + 64 : 0;
          p += 1;
          m[p] = n & 8 ? (b + p & 127) + 64 : 0;
          p += 1;
          m[p] = n & 4 ? (b + p & 127) + 64 : 0;
          p += 1;
          m[p] = n & 2 ? (b + p & 127) + 64 : 0;
          p += 1;
          m[p] = n & 1 ? (b + p & 127) + 64 : 0;
          p += 1;
          n = g[d] & 255;
          m[p] = n & 128 ? (b + p & 127) + 64 : 0;
          p += 1;
          m[p] = n & 64 ? (b + p & 127) + 64 : 0;
          p += 1;
          m[p] = n & 32 ? (b + p & 127) + 64 : 0;
          p += 1;
          m[p] = n & 16 ? (b + p & 127) + 64 : 0;
          p += 1;
          m[p] = n & 8 ? (b + p & 127) + 64 : 0;
          p += 1;
          m[p] = n & 4 ? (b + p & 127) + 64 : 0;
          p += 1;
          m[p] = n & 2 ? (b + p & 127) + 64 : 0;
          p += 1;
          m[p] = n & 1 ? (b + p & 127) + 64 : 0;
          p += 1;
        }
      }
    };
    ra.prototype.jo = function (a) {
      var b, c = this.sa, d = new Uint32Array(this.Ri.buffer);
      var f = this.u;
      var e = f.F >> 4, k = f.J >> 4, g = f.K;
      f = f.G;
      if (!(this.i || this.s || this.Ea)) for (b = f; b <= g; b += 1) {
        var m = a[b];
        var p = c[b];
        var n = e << 2;
        for (f = e; f <= k; f += 1) {
          var q = m[f] >> 8 << 1;
          p[n] = d[q];
          n += 1;
          p[n] = d[q + 1];
          n += 1;
          q = (m[f] & 255) << 1;
          p[n] = d[q];
          n += 1;
          p[n] = d[q + 1];
          n += 1;
        }
      }
    };
    ra.prototype.nc = function (a) {
      var b = [], c, d;
      for (d = 0; 7 > d; d += 1) {
        var f = [];
        for (c = 0; 7 > c; c += 1) f[c] = 0;
        b[d] = f;
      }
      for (d = 0; 3 > d; d += 1) for (c = 0; 3 > c; c += 1) b[d + 2][c + 2] = a[d][c];
      return b;
    };
    ra.prototype.jm = function () {
      this.bi = this.nc(I.CD);
      this.ci = this.nc(I.DD);
      this.di = this.nc(I.ED);
      this.ei = this.nc(I.FD);
      this.Ch = this.nc(I.yD);
      this.kh = this.nc(I.zD);
      this.Dh = this.nc(I.AD);
      this.Fh = this.nc(I.BD);
      this.mi = this.nc(I.KD);
      this.oi = this.nc(I.LD);
      this.vi = this.nc(I.MD);
      this.xi = this.nc(I.ND);
      this.gi = this.nc(I.GD);
      this.ji = this.nc(I.HD);
      this.ki = this.nc(I.ID);
      this.li = this.nc(I.JD);
    };
    ra.prototype.ko = function (a, b, c) {
      var d = this.ef, f = this.oa, e = this.qh, k = this.Ja;
      var g = this.zc ? 4278190080 : 255;
      this.sc = false;
      this.za = this.width - 1;
      this.ya = this.height - 1;
      this.u = new Ma(0, 0, this.width - 1, this.height - 1);
      this.$a = new Ma(0, 0, this.width - 1, this.height - 1);
      this.na = new Ma(0, 0, this.width - 1, this.height - 1);
      this.yi = new Ma(0, 0, this.width - 1, this.height - 1);
      this.Xh = new Ma(this.width, this.height, -1, -1);
      this.Oa = new Ma(0, 0, this.width - 1, this.height - 1);
      this.ka = a;
      this.ho();
      this.Ij(b, c);
      d.fill(0);
      f.fill(0);
      k.fill(0);
      e.fill(g);
      this.jm();
    };
    ra.prototype.sk = function () {
      var a = 0;
      this.la[a] = new Na("Mono", new ua(new S(0, 0, 0), new S(0, 0, 0)), new ua(new S(255, 255, 255), new S(255, 255, 255)), new S(0, 0, 0), new S(255, 255, 255), new ua(new S(64, 64, 64), new S(-1, -1, -1)), new ua(new S(0, 0, 0), new S(0, 0, 0)), new S(0, 0, 0), [new S(64, 64, 64), new S(64, 64, 64), new S(128, 128, 128), new S(64, 64, 64), new S(128, 128, 128), new S(128, 128, 128), new S(192, 192, 192), new S(64, 64, 64), new S(128, 128, 128), new S(128, 128, 128), new S(192, 192, 192), new S(128, 128, 128), new S(192, 192, 192), new S(192, 192, 192), new S(255, 255, 255)]);
      a += 1;
      this.la[a] = new Na("Blues", new ua(new S(0, 0, 47), new S(0, 0, 255)), new ua(new S(0, 255, 255), new S(255, 255, 255)), new S(0, 0, 0), new S(0, 255, 255), new ua(new S(0, 0, 255), new S(-1, -1, -1)), new ua(new S(0, 0, 47), new S(0, 0, 128)), new S(0, 0, 0), [new S(0, 128, 255), new S(0, 255, 128), new S(0, 192, 192), new S(128, 0, 255), new S(0, 0, 255), new S(96, 128, 192), new S(128, 255, 224), new S(255, 0, 128), new S(96, 96, 192), new S(128, 128, 255), new S(128, 224, 255), new S(192, 0, 192), new S(255, 128, 224), new S(224, 128, 225), new S(224, 224, 255)]);
      a += 1;
      this.la[a] = new Na("Fire", new ua(new S(32, 0, 0), new S(160, 0, 0)), new ua(new S(255, 144, 0), new S(255, 255, 0)), new S(0, 0, 0), new S(255, 144, 0), new ua(new S(240, 0, 0), new S(-1, -1, -1)), new ua(new S(32, 0, 0), new S(160, 0, 0)), new S(0, 0, 0), [new S(128, 0, 0), new S(128, 0, 48), new S(192, 0, 48), new S(128, 48, 48), new S(192, 64, 0), new S(192, 48, 64), new S(224, 48, 64), new S(128, 48, 0), new S(192, 48, 0), new S(192, 0, 64), new S(224, 48, 64), new S(192, 64, 48), new S(224, 64, 48), new S(224, 64, 64), new S(255, 192, 0)]);
      a += 1;
      this.la[a] = new Na("Poison", new ua(new S(0, 24, 0), new S(0, 128, 0)), new ua(new S(0, 255, 255), new S(255, 255, 255)), new S(0, 0, 0), new S(0, 255, 255), new ua(new S(0, 192, 0), new S(-1, -1, -1)), new ua(new S(0, 24, 0), new S(0, 128, 0)), new S(0, 0, 0), [new S(0, 128, 255), new S(0, 255, 128), new S(0, 192, 192), new S(64, 0, 255), new S(0, 0, 255), new S(48, 128, 192), new S(64, 255, 224), new S(0, 128, 128), new S(48, 128, 192), new S(64, 128, 255), new S(64, 224, 255), new S(0, 96, 192), new S(64, 128, 224), new S(56, 128, 255), new S(224, 255, 224)]);
      a += 1;
      this.la[a] = new Na("Yellow", new ua(new S(0, 47, 0), new S(128, 0, 128)), new ua(new S(255, 255, 0), new S(255, 255, 255)), new S(0, 32, 128), new S(255, 255, 0), new ua(new S(192, 64, 64), new S(-1, -1, -1)), new ua(new S(0, 47, 0), new S(128, 0, 128)), new S(0, 32, 128), [new S(0, 150, 0), new S(50, 100, 0), new S(50, 200, 0), new S(150, 0, 0), new S(75, 25, 0), new S(200, 100, 0), new S(200, 225, 0), new S(100, 50, 0), new S(100, 200, 0), new S(25, 75, 0), new S(150, 255, 0), new S(200, 50, 0), new S(225, 200, 0), new S(255, 225, 0), new S(255, 255, 0)]);
      a += 1;
      this.la[a] = new Na("Gray", new ua(new S(16, 16, 16), new S(104, 104, 104)), new ua(new S(176, 176, 176), new S(240, 240, 240)), new S(0, 0, 0), new S(240, 240, 240), new ua(new S(160, 160, 160), new S(-1, -1, -1)), new ua(new S(16, 16, 16), new S(104, 104, 104)), new S(0, 0, 0), [new S(128, 128, 128), new S(128, 128, 128), new S(144, 144, 144), new S(128, 128, 128), new S(144, 144, 144), new S(144, 144, 144), new S(160, 160, 160), new S(128, 128, 128), new S(144, 144, 144), new S(144, 144, 144), new S(160, 160, 160), new S(144, 144, 144), new S(160, 160, 160), new S(160, 160, 160), new S(192, 192, 192)]);
      a += 1;
      this.la[a] = new Na("Inverse", new ua(new S(255, 255, 255), new S(255, 255, 255)), new ua(new S(0, 0, 0), new S(0, 0, 0)), new S(255, 255, 255), new S(0, 0, 0), new ua(new S(192, 192, 192), new S(-1, -1, -1)), new ua(new S(255, 255, 255), new S(255, 255, 255)), new S(255, 255, 255), [new S(192, 192, 192), new S(192, 192, 192), new S(128, 128, 128), new S(192, 192, 192), new S(128, 128, 128), new S(128, 128, 128), new S(64, 64, 64), new S(192, 192, 192), new S(128, 128, 128), new S(128, 128, 128), new S(64, 64, 64), new S(128, 128, 128), new S(64, 64, 64), new S(64, 64, 64), new S(0, 0, 0)]);
      a += 1;
      this.la[a] = new Na("Day", new ua(new S(240, 240, 240), new S(0, 255, 255)), new ua(new S(0, 0, 255), new S(0, 0, 0)), new S(255, 255, 255), new S(0, 0, 255), new ua(new S(0, 255, 255), new S(-1, -1, -1)), new ua(new S(240, 240, 240), new S(0, 192, 192)), new S(255, 255, 255), [new S(192, 224, 255), new S(192, 255, 224), new S(192, 0, 192), new S(224, 192, 255), new S(128, 128, 255), new S(96, 96, 192), new S(0, 128, 32), new S(255, 192, 224), new S(96, 128, 192), new S(0, 0, 255), new S(0, 32, 128), new S(0, 192, 192), new S(128, 0, 32), new S(32, 0, 128), new S(0, 0, 32)]);
      a += 1;
      this.la[a] = new Na("Occupied", new ua(new S(240, 240, 240), new S(240, 240, 240)), new ua(new S(240, 240, 240), new S(240, 240, 240)), new S(0, 0, 0), new S(240, 240, 240), new ua(new S(240, 240, 240), new S(240, 240, 240)), new ua(new S(240, 240, 240), new S(240, 240, 240)), new S(0, 0, 0), [new S(240, 240, 240), new S(240, 240, 240), new S(240, 240, 240), new S(240, 240, 240), new S(240, 240, 240), new S(240, 240, 240), new S(240, 240, 240), new S(240, 240, 240), new S(240, 240, 240), new S(240, 240, 240), new S(240, 240, 240), new S(240, 240, 240), new S(240, 240, 240), new S(240, 240, 240), new S(240, 240, 240)]);
      a += 1;
      this.la[a] = new Na("Red", new ua(new S(160, 0, 0), new S(160, 0, 0)), new ua(new S(240, 240, 240), new S(240, 240, 240)), new S(0, 0, 0), new S(255, 255, 255), new ua(new S(160, 160, 160), new S(160, 160, 160)), new ua(new S(160, 0, 0), new S(160, 0, 0)), new S(0, 0, 0), [new S(255, 255, 255), new S(255, 255, 255), new S(255, 255, 255), new S(255, 255, 255), new S(255, 255, 255), new S(255, 255, 255), new S(255, 255, 255), new S(255, 255, 255), new S(255, 255, 255), new S(255, 255, 255), new S(255, 255, 255), new S(255, 255, 255), new S(255, 255, 255), new S(255, 255, 255), new S(255, 255, 255)]);
      a += 1;
      this.la[a] = new Na("LifeHistory", new ua(new S(0, 0, 96), new S(0, 0, 160)), new ua(new S(0, 240, 0), new S(16, 255, 16)), new S(0, 0, 0), new S(16, 255, 16), new ua(new S(0, 128, 160), new S(-1, -1, -1)), new ua(new S(0, 0, 96), new S(0, 0, 160)), new S(0, 0, 0), [new S(255, 0, 0), new S(192, 192, 0), new S(224, 144, 0), new S(0, 192, 192), new S(192, 144, 144), new S(144, 192, 144), new S(255, 224, 192), new S(0, 0, 255), new S(192, 0, 192), new S(144, 144, 192), new S(255, 192, 255), new S(0, 144, 224), new S(128, 96, 224), new S(144, 192, 224), new S(224, 224, 224)]);
      a += 1;
      this.la[a] = new Na("Generations", new ua(new S(64, 0, 0), new S(255, 0, 0)), new ua(new S(255, 255, 0), new S(255, 255, 255)), new S(0, 0, 0), new S(255, 255, 0), new ua(new S(255, 0, 0), new S(-1, -1, -1)), new ua(new S(64, 0, 0), new S(128, 0, 0)), new S(0, 0, 0), [new S(255, 128, 0), new S(224, 128, 64), new S(192, 192, 0), new S(255, 16, 32), new S(255, 0, 0), new S(192, 128, 48), new S(255, 224, 64), new S(128, 32, 64), new S(192, 96, 48), new S(255, 128, 64), new S(255, 224, 64), new S(192, 24, 48), new S(224, 128, 128), new S(255, 218, 112), new S(255, 255, 224)]);
      a += 1;
      this.la[a] = new Na("Golly", new ua(new S(48, 48, 48), new S(48, 48, 48)), new ua(new S(255, 255, 255), new S(255, 255, 255)), new S(48, 48, 48), new S(255, 0, 0), new ua(new S(255, 255, 0), new S(-1, -1, -1)), new ua(new S(48, 48, 48), new S(48, 48, 48)), new S(48, 48, 48), [new S(0, 255, 127), new S(127, 0, 255), new S(148, 148, 148), new S(128, 255, 9), new S(255, 0, 128), new S(0, 128, 255), new S(1, 159, 0), new S(159, 0, 1), new S(255, 254, 96), new S(0, 1, 159), new S(96, 255, 254), new S(254, 96, 255), new S(126, 125, 21), new S(21, 126, 125), new S(125, 21, 126)]);
      this.la[a].L(10, new S(80, 80, 80), new S(112, 112, 112));
      a += 1;
      this.la[a] = new Na("MCell", new ua(new S(0, 0, 0), new S(0, 0, 0)), new ua(new S(255, 255, 0), new S(255, 255, 0)), new S(0, 0, 0), new S(255, 255, 0), new ua(new S(0, 255, 0), new S(-1, -1, -1)), new ua(new S(0, 0, 0), new S(0, 0, 0)), new S(0, 0, 0), [new S(255, 255, 0), new S(255, 219, 0), new S(255, 183, 0), new S(255, 147, 0), new S(255, 111, 0), new S(255, 75, 0), new S(255, 39, 0), new S(255, 0, 0), new S(240, 0, 0), new S(225, 0, 0), new S(210, 0, 0), new S(195, 0, 0), new S(180, 0, 0), new S(165, 0, 0), new S(150, 0, 0)]);
      this.la[a].L(5, new S(64, 0, 0), new S(99, 3, 1));
      a += 1;
      this.la[a] = new Na("Catagolue", new ua(new S(160, 221, 204), new S(160, 221, 204)), new ua(new S(0, 0, 0), new S(0, 0, 0)), new S(192, 255, 238), new S(0, 0, 0), new ua(new S(96, 192, 139), new S(2, 129, 2)), new ua(new S(160, 221, 204), new S(160, 221, 204)), new S(192, 255, 238), [new S(0, 0, 0), new S(0, 128, 0), new S(0, 64, 0), new S(255, 0, 0), new S(128, 0, 0), new S(128, 64, 0), new S(85, 43, 0), new S(0, 0, 255), new S(0, 0, 128), new S(0, 64, 128), new S(0, 43, 85), new S(128, 0, 128), new S(85, 0, 85), new S(85, 43, 85), new S(64, 32, 64)]);
      this.la[a].L(0, new S(160, 221, 204), new S(160, 221, 204));
      a += 1;
      this.la[a] = new Na("Caterer", new ua(new S(54, 57, 62), new S(54, 57, 62)), new ua(new S(255, 255, 255), new S(255, 255, 255)), new S(54, 57, 62), new S(255, 170, 0), new ua(new S(255, 85, 0), new S(-1, -1, -1)), new ua(new S(54, 57, 62), new S(54, 57, 62)), new S(54, 57, 62), [new S(48, 93, 148), new S(58, 73, 148), new S(144, 137, 188), new S(78, 72, 128), new S(134, 137, 218), new S(124, 147, 228), new S(130, 151, 242), new S(78, 93, 118), new S(114, 107, 218), new S(114, 137, 238), new S(120, 171, 242), new S(84, 137, 188), new S(150, 171, 212), new S(150, 151, 222), new S(186, 205, 255)]);
      this.la[a].L(0, new S(0, 0, 0), new S(0, 0, 0));
      a += 1;
      this.la[a] = new Na("Life32", new ua(new S(255, 255, 255), new S(255, 255, 255)), new ua(new S(0, 0, 128), new S(0, 0, 128)), new S(255, 255, 255), new S(0, 0, 128), new ua(new S(0, 0, 64), new S(-1, -1, -1)), new ua(new S(255, 255, 255), new S(255, 255, 255)), new S(255, 255, 255), [new S(255, 128, 128), new S(192, 192, 128), new S(224, 144, 96), new S(128, 192, 192), new S(192, 112, 112), new S(144, 192, 144), new S(128, 96, 64), new S(128, 128, 255), new S(192, 96, 192), new S(112, 112, 192), new S(128, 64, 128), new S(96, 144, 224), new S(64, 32, 160), new S(32, 96, 128), new S(32, 32, 32)]);
      this.la[a].L(5, new S(192, 192, 192), new S(128, 128, 128));
      a += 1;
      this.la[a] = new Na("Margolus", new ua(new S(0, 0, 47), new S(0, 0, 128)), new ua(new S(255, 255, 0), new S(255, 255, 255)), new S(0, 0, 0), new S(255, 255, 0), new ua(new S(64, 64, 128), new S(-1, -1, -1)), new ua(new S(0, 0, 47), new S(0, 0, 128)), new S(0, 0, 0), [new S(255, 128, 0), new S(224, 128, 64), new S(192, 192, 0), new S(255, 16, 32), new S(255, 0, 0), new S(192, 128, 48), new S(224, 255, 64), new S(128, 32, 64), new S(192, 96, 48), new S(255, 128, 64), new S(255, 224, 64), new S(192, 24, 48), new S(224, 128, 128), new S(255, 128, 112), new S(255, 255, 224)]);
      this.la[a].L(2, new S(64, 64, 128), new S(32, 32, 255));
      a += 1;
      this.la[a] = new Na("PCA", new ua(new S(24, 24, 24), new S(64, 64, 64)), new ua(new S(176, 176, 176), new S(240, 240, 240)), new S(0, 0, 0), new S(240, 240, 240), new ua(new S(160, 160, 160), new S(-1, -1, -1)), new ua(new S(24, 24, 24), new S(64, 64, 64)), new S(0, 0, 0), [new S(255, 0, 0), new S(0, 255, 0), new S(128, 128, 0), new S(16, 16, 255), new S(128, 0, 128), new S(0, 128, 128), new S(96, 96, 96), new S(255, 255, 0), new S(255, 128, 0), new S(128, 255, 0), new S(170, 170, 0), new S(144, 144, 144), new S(170, 85, 85), new S(85, 128, 43), new S(128, 128, 64)]);
      a += 1;
      this.la[a] = new Na("Book", new ua(new S(255, 220, 192), new S(192, 220, 255)), new ua(new S(0, 0, 0), new S(0, 0, 0)), new S(255, 255, 255), new S(0, 0, 0), new ua(new S(128, 128, 128), new S(48, 48, 48)), new ua(new S(255, 220, 192), new S(192, 220, 255)), new S(255, 255, 255), [new S(255, 128, 128), new S(192, 192, 128), new S(224, 144, 96), new S(128, 192, 192), new S(192, 112, 112), new S(144, 192, 144), new S(128, 96, 64), new S(128, 128, 255), new S(192, 96, 192), new S(112, 112, 192), new S(128, 64, 128), new S(96, 144, 224), new S(64, 32, 160), new S(32, 96, 128), new S(32, 32, 32)]);
      this.la[a].L(0, new S(192, 192, 192), new S(209, 209, 209));
      this.la[a + 1] = new Na(C.co, new ua(new S(0, 0, 0), new S(0, 0, 0)), new ua(new S(0, 0, 0), new S(0, 0, 0)), new S(0, 0, 0), new S(0, 0, 0), new ua(new S(0, 0, 0), new S(0, 0, 0)), new ua(new S(0, 0, 0), new S(0, 0, 0)), new S(0, 0, 0), [new S(255, 0, 0), new S(0, 255, 0), new S(128, 128, 0), new S(16, 16, 255), new S(128, 0, 128), new S(0, 128, 128), new S(96, 96, 96), new S(255, 255, 0), new S(255, 128, 0), new S(128, 255, 0), new S(170, 170, 0), new S(144, 144, 144), new S(170, 85, 85), new S(85, 128, 43), new S(128, 128, 64)]);
      this.ib = this.la.length - 1;
      this.Jd = new ua(new S(0, 0, 0), new S(0, 0, 0));
      this.Qc = new ua(new S(0, 0, 0), new S(0, 0, 0));
      this.be = new S(0, 0, 0);
      this.cf = new S(0, 0, 0);
      this.Sd = new ua(new S(0, 0, 0), new S(0, 0, 0));
      this.ye = new ua(new S(0, 0, 0), new S(0, 0, 0));
      this.tf = new S(0, 0, 0);
      this.Ee = [new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0)];
      this.$c = new ua(new S(0, 0, 0), new S(0, 0, 0));
      this.Kc = new ua(new S(0, 0, 0), new S(0, 0, 0));
      this.Fd = new S(0, 0, 0);
      this.Se = new S(0, 0, 0);
      this.Cd = new ua(new S(0, 0, 0), new S(0, 0, 0));
      this.Rd = new ua(new S(0, 0, 0), new S(0, 0, 0));
      this.Ze = new S(0, 0, 0);
      this.pd = [new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0), new S(0, 0, 0)];
    };
    ra.prototype.um = function (a, b, c) {
      var d = this.la[a], f;
      this.Lb = a;
      this.Jd.set(this.$c);
      this.Qc.set(this.Kc);
      this.be.set(this.Fd);
      this.cf.set(this.Se);
      this.ye.set(this.Rd);
      this.Sd.set(this.Cd);
      this.tf.set(this.Ze);
      for (f = 0; f < this.pd.length; f += 1) this.Ee[f] = this.pd[f];
      12 === a && this.Ea ? this.$c.set(this.la[11].i) : this.$c.set(d.i);
      this.Kc.set(d.h);
      this.Fd.set(d.u);
      this.Ze.set(d.C);
      for (f = 0; f < this.pd.length; f += 1) this.pd[f] = d.B[f];
      this.Rd.set(d.l);
      12 === a && this.Ea && (d = this.la[11]);
      this.Se.set(d.v);
      this.Cd.set(d.m);
      this.re = b;
      this.mb = d.o;
      this.uc = d.s;
      this.Sa = a !== this.ib && this.Z && 0 !== d.A ? 2 : d.A;
      this.zc ? (this.Dd = -16777216 | (this.mb & 255) << 16 | (this.mb >> 8 & 255) << 8 | this.mb >> 16, this.Td = -16777216 | (this.uc & 255) << 16 | (this.uc >> 8 & 255) << 8 | this.uc >> 16) : (this.Dd = this.mb >> 16 << 24 | (this.mb >> 8 & 255) << 16 | (this.mb & 255) << 8 | 255, this.Td = this.uc >> 16 << 24 | (this.uc >> 8 & 255) << 16 | (this.uc & 255) << 8 | 255);
      this.H && (a === this.ib ? this.uh(c.Oe, c.O) : this.uh(c.Oe, null));
      c.iy();
    };
    ra.prototype.sh = function () {
      this.Vb ? this.qk() : this.rk();
    };
    ra.prototype.qk = function () {
      var a = this.Bf, b;
      for (b = 0; 512 > b; b += 1) {
        var c = b & 128;
        var d = b & 256;
        var f = b & 127;
        var e = 0;
        0 !== c && (e = (f + 1 & 127) + 64 << 8);
        0 !== d && (e |= (f & 127) + 64);
        a[b] = e;
      }
    };
    ra.prototype.rk = function () {
      var a = this.Bf, b = this.Qi, c = this.vf, d = this.Wa, f = this.Gh, e = this.me, k, g = new Uint8Array(256);
      g[0] = 0;
      g[c + 1] = d;
      for (k = 1; k < c + 1; k += 1) g[k] = Math.min(Math.max(k - 1, f), e), g[k + c + 1] = Math.max(Math.min(k + 1, c), d);
      if (0 === this.v) for (k = d; k <= c; k += 1) g[k] = 0; else this.v < e && (g[e - this.v] = 1);
      for (k = 0; 65536 > k; k += 1) a[k] = g[k >> 8] << 8 | g[k & 255];
      for (k = 0; 131072 > k; k += 1) c = k & 65407 | (k & 65536) >> 9, b[k] = a[c];
    };
    ra.prototype.fn = function () {
      var a;
      for (a = 0; a < this.la.length; a += 1) {
        var b = this.la[a];
        if (b.H) if (2 >= this.h) b.m.i.set(b.v); else {
          var c = 1 / (this.h - 2);
          b.m.i.h = b.m.h.h * c + b.v.h * (1 - c) | 0;
          b.m.i.l = b.m.h.l * c + b.v.l * (1 - c) | 0;
          b.m.i.i = b.m.h.i * c + b.v.i * (1 - c) | 0;
        }
      }
    };
    ra.prototype.th = function () {
      var a;
      var b = (this.re - 1) / this.se;
      if (!this.fa) if (this.A) for (a = 0; a < I.Bp.length; a += 1) {
        if (this.ja[a + this.v] = I.Bp[a][0], this.ia[a + this.v] = I.Bp[a][1], this.ga[a + this.v] = I.Bp[a][2], this.bc && this.bc.length >= a) {
          var c = this.bc[a];
          -1 !== c && (this.ja[a + this.v] = c >> 16, this.ia[a + this.v] = c >> 8 & 255, this.ga[a + this.v] = c & 255);
        }
      } else if (this.l) for (a = 0; a < I.Cp.length; a += 1) this.ja[a + this.v] = I.Cp[a][0], this.ia[a + this.v] = I.Cp[a][1], this.ga[a + this.v] = I.Cp[a][2], this.bc && this.bc.length >= a && (c = this.bc[a], -1 !== c && (this.ja[a + this.v] = c >> 16, this.ia[a + this.v] = c >> 8 & 255, this.ga[a + this.v] = c & 255)); else if (2 < this.h || this.s) {
        a = 0;
        this.s ? (this.ja[a] = this.Nc[a] >> 16, this.ia[a] = this.Nc[a] >> 8 & 255, this.ga[a] = this.Nc[a] & 255) : (this.ja[a] = Math.round(this.tf.h * b + this.Ze.h * (1 - b)), this.ia[a] = Math.round(this.tf.l * b + this.Ze.l * (1 - b)), this.ga[a] = Math.round(this.tf.i * b + this.Ze.i * (1 - b)));
        for (a = 1; a < this.h - 1; a += 1) {
          c = 3 >= this.h ? 0 : (a - 1) / (this.h - 3);
          if (this.i) this.ja[a + this.v] = Math.round(this.Ee[a - 1].h * b + this.pd[a - 1].h * (1 - b)), this.ia[a + this.v] = Math.round(this.Ee[a - 1].l * b + this.pd[a - 1].l * (1 - b)), this.ga[a + this.v] = Math.round(this.Ee[a - 1].i * b + this.pd[a - 1].i * (1 - b)); else if (this.s) this.ja[a] = this.Nc[a] >> 16, this.ia[a] = this.Nc[a] >> 8 & 255, this.ga[a] = this.Nc[a] & 255; else {
            var d = Math.round(this.Sd.i.h * c + this.Sd.h.h * (1 - c));
            var f = Math.round(this.Cd.i.h * c + this.Cd.h.h * (1 - c));
            this.ja[a + this.v] = Math.round(d * b + f * (1 - b));
            d = Math.round(this.Sd.i.l * c + this.Sd.h.l * (1 - c));
            f = Math.round(this.Cd.i.l * c + this.Cd.h.l * (1 - c));
            this.ia[a + this.v] = Math.round(d * b + f * (1 - b));
            d = Math.round(this.Sd.i.i * c + this.Sd.h.i * (1 - c));
            f = Math.round(this.Cd.i.i * c + this.Cd.h.i * (1 - c));
            this.ga[a + this.v] = Math.round(d * b + f * (1 - b));
          }
          this.bc && this.bc.length > a && this.Lb === this.ib && (c = this.i || this.s ? this.bc[a] : this.bc[this.h - a], -1 !== c && (this.ja[a + this.v] = c >> 16, this.ia[a + this.v] = c >> 8 & 255, this.ga[a + this.v] = c & 255));
        }
        a = this.h - 1;
        this.i ? (this.ja[a + this.v] = Math.round(this.Ee[a - 1].h * b + this.pd[a - 1].h * (1 - b)), this.ia[a + this.v] = Math.round(this.Ee[a - 1].l * b + this.pd[a - 1].l * (1 - b)), this.ga[a + this.v] = Math.round(this.Ee[a - 1].i * b + this.pd[a - 1].i * (1 - b))) : this.s ? (this.ja[a] = this.Nc[a] >> 16, this.ia[a] = this.Nc[a] >> 8 & 255, this.ga[a] = this.Nc[a] & 255) : (this.ja[a + this.v] = Math.round(this.cf.h * b + this.Se.h * (1 - b)), this.ia[a + this.v] = Math.round(this.cf.l * b + this.Se.l * (1 - b)), this.ga[a + this.v] = Math.round(this.cf.i * b + this.Se.i * (1 - b)));
        this.bc && this.bc.length > a && this.Lb === this.ib && (c = this.i || this.s ? this.bc[a] : this.bc[this.h - a], -1 !== c && (this.ja[a + this.v] = c >> 16, this.ia[a + this.v] = c >> 8 & 255, this.ga[a + this.v] = c & 255));
        for (a = 0; a < this.v; a += 1) c = 1 < this.v ? 1 - a / (this.v - 1) : 1, d = Math.round(this.ye.h.h * c + this.ye.i.h * (1 - c)), f = Math.round(this.Rd.h.h * c + this.Rd.i.h * (1 - c)), this.ja[a + 1] = Math.round(d * b + f * (1 - b)), d = Math.round(this.ye.h.l * c + this.ye.i.l * (1 - c)), f = Math.round(this.Rd.h.l * c + this.Rd.i.l * (1 - c)), this.ia[a + 1] = Math.round(d * b + f * (1 - b)), d = Math.round(this.ye.h.i * c + this.ye.i.i * (1 - c)), f = Math.round(this.Rd.h.i * c + this.Rd.i.i * (1 - c)), this.ga[a + 1] = Math.round(d * b + f * (1 - b));
        this.bc && 0 < this.bc.length && this.Lb === this.ib && (c = this.bc[0], -1 !== c && (this.ja[0] = c >> 16, this.ia[0] = c >> 8 & 255, this.ga[0] = c & 255));
      } else {
        a = 0;
        this.ja[a] = Math.round(this.be.h * b + this.Fd.h * (1 - b));
        this.ia[a] = Math.round(this.be.l * b + this.Fd.l * (1 - b));
        this.ga[a] = Math.round(this.be.i * b + this.Fd.i * (1 - b));
        if (0 === this.v) for (a = 1; a <= this.me; a += 1) this.ja[a] = Math.round(this.be.h * b + this.Fd.h * (1 - b)), this.ia[a] = Math.round(this.be.l * b + this.Fd.l * (1 - b)), this.ga[a] = Math.round(this.be.i * b + this.Fd.i * (1 - b)); else {
          var e = this.me - this.v + 1;
          for (a = 1; a < e; a += 1) this.ja[a] = Math.round(this.Qc.h.h * b + this.Kc.h.h * (1 - b)), this.ia[a] = Math.round(this.Qc.h.l * b + this.Kc.h.l * (1 - b)), this.ga[a] = Math.round(this.Qc.h.i * b + this.Kc.h.i * (1 - b));
          for (a = e; a <= this.me; a += 1) c = this.me === e ? 1 : 1 - (a - e) / (this.me - e), d = Math.round(this.Qc.h.h * c + this.Qc.i.h * (1 - c)), f = Math.round(this.Kc.h.h * c + this.Kc.i.h * (1 - c)), this.ja[a] = Math.round(d * b + f * (1 - b)), d = Math.round(this.Qc.h.l * c + this.Qc.i.l * (1 - c)), f = Math.round(this.Kc.h.l * c + this.Kc.i.l * (1 - c)), this.ia[a] = Math.round(d * b + f * (1 - b)), d = Math.round(this.Qc.h.i * c + this.Qc.i.i * (1 - c)), f = Math.round(this.Kc.h.i * c + this.Kc.i.i * (1 - c)), this.ga[a] = Math.round(d * b + f * (1 - b));
        }
        for (a = this.Wa; a <= this.vf; a += 1) c = 0 === this.kg ? 1 : a < this.Wa + this.kg ? 1 - (a - this.Wa) / this.kg : 0, d = Math.round(this.Jd.h.h * c + this.Jd.i.h * (1 - c)), f = Math.round(this.$c.h.h * c + this.$c.i.h * (1 - c)), this.ja[a] = Math.round(d * b + f * (1 - b)), d = Math.round(this.Jd.h.l * c + this.Jd.i.l * (1 - c)), f = Math.round(this.$c.h.l * c + this.$c.i.l * (1 - c)), this.ia[a] = Math.round(d * b + f * (1 - b)), d = Math.round(this.Jd.h.i * c + this.Jd.i.i * (1 - c)), f = Math.round(this.$c.h.i * c + this.$c.i.i * (1 - c)), this.ga[a] = Math.round(d * b + f * (1 - b));
      }
    };
    ra.prototype.Zi = function (a, b) {
      var c = this.ja, d = this.ia, f = this.ga, e;
      for (e = 0; e < a.length; e += 1) {
        var k = b && -1 !== b[e] ? b[e] : a[e];
        c[e] = k >> 16;
        d[e] = k >> 8 & 255;
        f[e] = k & 255;
      }
      this.re = 0;
    };
    ra.prototype.uh = function (a, b) {
      var c = this.ja, d = this.ia, f = this.ga, e = G.yb, k;
      for (k = 0; k < a.length; k += 1) b && -1 !== b[k] ? (c[128 + e[k]] = b[k] >> 16, d[128 + e[k]] = b[k] >> 8 & 255, f[128 + e[k]] = b[k] & 255) : (c[128 + e[k]] = a[k] >> 16, d[128 + e[k]] = a[k] >> 8 & 255, f[128 + e[k]] = a[k] & 255);
    };
    ra.prototype.kb = function (a) {
      this.fb.fill(4294967295);
      this.Vb ? this.vk(a) : this.uk(a);
    };
    ra.prototype.vk = function (a) {
      var b = this.fb, c, d = 255, f = 15, e = 15, k = 0, g = 0, m = [[0, 1, 0], [-1, 0, 0], [0, 0, 1], [0, -1, 0], [1, 0, 0], [0, 0, -1]], p = this.ja, n = this.ia, q = this.ga, l = this.ff, r = this.ha && !this.va || this.X && !this.va, u = this.mb, t = this.uc;
      for (c = 1; 240 >= c; c += 1) b[c] = this.zc ? -16777216 | e * a << 16 | f * a << 8 | d * a : d * a << 24 | f * a << 16 | e * a << 8 | 255, d += 6 * m[g][0], f += 6 * m[g][1], e += 6 * m[g][2], k += 1, 40 === k && (k = 0, g += 1);
      for (c = 0; 128 > c; c += 1) k = 240 * (c + 1) / 128 | 0, b[c] = b[k];
      for (c = 127; 0 <= c; --c) b[c + 64] = b[c], r && (this.zc ? (d = b[c] & 255, f = b[c] >> 8 & 255, e = b[c] >> 16 & 255) : (d = b[c] >> 24, f = b[c] >> 16 & 255, e = b[c] >> 8 & 255), l[c + 64] = "#" + (16777216 + ((d << 16) + (f << 8) + e)).toString(16).substring(1));
      b[0] = this.zc ? -16777216 | q[0] * a << 16 | n[0] * a << 8 | p[0] * a : p[0] * a << 24 | n[0] * a << 16 | q[0] * a << 8 | 255;
      this.zc ? (this.Dd = -16777216 | (u & 255) << 16 | (u >> 8 & 255) << 8 | u >> 16, this.Td = -16777216 | (t & 255) << 16 | (t >> 8 & 255) << 8 | t >> 16) : (this.Dd = u >> 16 << 24 | (u >> 8 & 255) << 16 | (u & 255) << 8 | 255, this.Td = t >> 16 << 24 | (t >> 8 & 255) << 16 | (t & 255) << 8 | 255);
      -1 !== this.C && (c = this.ic, b[c] = this.zc ? -16777216 | q[c] * a << 16 | n[c] * a << 8 | p[c] * a : p[c] * a << 24 | n[c] * a << 16 | q[c] * a << 8 | 255, r && (l[c] = "#" + (16777216 + ((p[c] << 16) + (n[c] << 8) + q[c])).toString(16).substring(1)));
      l[256] = this.Rg;
    };
    ra.prototype.uk = function (a) {
      var b = this.ja, c = this.ia, d = this.ga, f = this.fb, e = this.mb, k = this.uc, g = this.ff, m = this.ha && !this.va || this.X && !this.va, p = 0;
      if (2 < this.h) if (this.zc) {
        f[0] = -16777216 | d[0] << 16 | c[0] << 8 | b[0];
        m && (g[p] = "#" + (16777216 + ((b[p] << 16) + (c[p] << 8) + d[p])).toString(16).substring(1));
        if (this.l || this.A || this.Ea || this.i) p = 1; else {
          for (p = 1; p <= this.v; p += 1) f[p] = -16777216 | d[p] << 16 | c[p] << 8 | b[p], m && (g[p] = "#" + (16777216 + ((b[p] << 16) + (c[p] << 8) + d[p])).toString(16).substring(1));
          p = this.v + 1;
        }
        for (; p <= this.h + this.v; p += 1) f[p] = -16777216 | d[p] * a << 16 | c[p] * a << 8 | b[p] * a, m && (g[p] = "#" + (16777216 + ((b[p] << 16) + (c[p] << 8) + d[p])).toString(16).substring(1));
      } else if (f[0] = b[0] << 24 | c[p] << 16 | d[p] << 8 | 255, m && (g[p] = "#" + (16777216 + ((b[p] << 16) + (c[p] << 8) + d[p])).toString(16).substring(1)), this.l || this.A || this.Ea || this.i) for (p = 1; p <= this.h + this.v; p += 1) f[p] = b[p] * a << 24 | c[p] * a << 16 | d[p] * a << 8 | 255, m && (g[p] = "#" + (16777216 + ((b[p] << 16) + (c[p] << 8) + d[p])).toString(16).substring(1)); else for (p = 1; p <= this.v; p += 1) for (f[p] = b[p] << 24 | c[p] << 16 | d[p] << 8 | 255, m && (g[p] = "#" + (16777216 + ((b[p] << 16) + (c[p] << 8) + d[p])).toString(16).substring(1)), p = this.v + 1; p <= this.h + this.v; p += 1) f[p] = b[p] * a << 24 | c[p] * a << 16 | d[p] * a << 8 | 255, m && (g[p] = "#" + (16777216 + ((b[p] << 16) + (c[p] << 8) + d[p])).toString(16).substring(1)); else if (this.s) this.zc ? (f[0] = -16777216 | d[0] << 16 | c[0] << 8 | b[0], f[1] = -16777216 | d[1] * a << 16 | c[1] * a << 8 | b[1] * a) : (f[0] = b[0] << 24 | c[0] << 16 | d[0] << 8 | 255, f[1] = b[1] * a << 24 | c[1] * a << 16 | d[1] * a << 8 | 255); else if (this.zc) {
        for (p = 0; p < this.Wa; p += 1) f[p] = -16777216 | d[p] << 16 | c[p] << 8 | b[p], m && (g[p] = "#" + (16777216 + ((b[p] << 16) + (c[p] << 8) + d[p])).toString(16).substring(1));
        for (p = this.Wa; p <= this.vf; p += 1) f[p] = -16777216 | d[p] * a << 16 | c[p] * a << 8 | b[p] * a, m && (g[p] = "#" + (16777216 + ((b[p] << 16) + (c[p] << 8) + d[p])).toString(16).substring(1));
        for (p = this.vf + 1; 256 > p; p += 1) f[p] = -16777216 | d[p] * a << 16 | c[p] * a << 8 | b[p] * a, m && (g[p] = "#" + (16777216 + ((b[p] << 16) + (c[p] << 8) + d[p])).toString(16).substring(1));
      } else {
        for (p = 0; p < this.Wa; p += 1) f[p] = b[p] << 24 | c[p] << 16 | d[p] << 8 | 255, m && (g[p] = "#" + (16777216 + ((b[p] << 16) + (c[p] << 8) + d[p])).toString(16).substring(1));
        for (p = this.Wa; p <= this.vf; p += 1) f[p] = b[p] * a << 24 | c[p] * a << 16 | d[p] * a << 8 | 255, m && (g[p] = "#" + (16777216 + ((b[p] << 16) + (c[p] << 8) + d[p])).toString(16).substring(1));
        for (p = this.vf + 1; 256 > p; p += 1) f[p] = b[p] * a << 24 | c[p] * a << 16 | d[p] * a << 8 | 255, m && (g[p] = "#" + (16777216 + ((b[p] << 16) + (c[p] << 8) + d[p])).toString(16).substring(1));
      }
      this.zc ? (this.Dd = -16777216 | (e & 255) << 16 | (e >> 8 & 255) << 8 | e >> 16, this.Td = -16777216 | (k & 255) << 16 | (k >> 8 & 255) << 8 | k >> 16) : (this.Dd = e >> 16 << 24 | (e >> 8 & 255) << 16 | (e & 255) << 8 | 255, this.Td = k >> 16 << 24 | (k >> 8 & 255) << 16 | (k & 255) << 8 | 255);
      -1 !== this.C && (p = this.ic, f[p] = this.zc ? -16777216 | d[p] * a << 16 | c[p] * a << 8 | b[p] * a : b[p] * a << 24 | c[p] * a << 16 | d[p] * a << 8 | 255, m && (g[p] = "#" + (16777216 + ((b[p] << 16) + (c[p] << 8) + d[p])).toString(16).substring(1)), this.l || this.A) && (f[31] = f[p]);
      g[256] = this.Rg;
    };
    ra.prototype.om = function () {
      var a = this.ja, b = this.ia, c = this.ga;
      this.ic = -1 !== this.C && 256 === this.h + this.v ? 2 : 255;
      -1 !== this.C && 256 > this.h + this.v && (this.zc ? (a[this.ic] = this.ge & 255, b[this.ic] = this.ge >> 8 & 255, c[this.ic] = this.ge >> 16 & 255) : (a[this.ic] = this.ge >> 24, b[this.ic] = this.ge >> 16 & 255, c[this.ic] = this.ge >> 8 & 255));
    };
    ra.prototype.rh = function () {
      var a = this.Ec, b = this.m, c = this.W, d = this.Da, f = this.Ca, e = this.Ya, k = this.L, g = this.qa, m = this.B, p = this.V;
      this.grid.ca.fill(0);
      a.ca.fill(0);
      b.ca.fill(0);
      c && c.ca.fill(0);
      d.ca.fill(0);
      f && (f.ca.fill(0), e.ca.fill(0));
      k.ca.fill(0);
      p.ca.fill(0);
      g.ca.fill(0);
      m.ca.fill(0);
    };
    ra.prototype.wh = function (a, b) {
      var c = I.Cy, d;
      for (d = 0; d < c; d += 1) a[d] = b[d];
    };
    ra.prototype.Xg = function (a, b) {
      var c = I.Qp, d;
      for (d = 0; d < c; d += 1) {
        var f = b[d >> 9 & 448 | d >> 6 & 56 | d >> 3 & 7] << 3;
        f |= b[d >> 8 & 448 | d >> 5 & 56 | d >> 2 & 7] << 2;
        f |= b[d >> 7 & 448 | d >> 4 & 56 | d >> 1 & 7] << 1;
        f |= b[d >> 6 & 448 | d >> 3 & 56 | d & 7];
        a[d] = f;
      }
    };
    ra.prototype.Df = function (a, b, c) {
      if (c) {
        var d = new Uint8Array(16);
        for (c = 0; 16 > c; c += 1) {
          var f = b[c];
          d[f] = c;
        }
        for (c = 0; c < I.sl; c += 1) f = (d[c >> 12] & 1) << 2, f |= (d[c >> 8 & 15] & 2) << 2, f |= (d[c >> 4 & 15] & 4) >> 2, f |= (d[c & 15] & 8) >> 2, a[c] = f;
      } else for (c = 0; c < I.sl; c += 1) f = (c >> 12 & 1) << 2, f |= (c >> 8 & 2) << 2, f |= (c >> 4 & 4) >> 2, f |= (c & 8) >> 2, a[c] = b[f];
    };
    ra.prototype.xe = function (a, b) {
      var c, d, f, e;
      for (c = 0; c < I.Yj; c += 1) {
        var k = c >> 8;
        var g = c & 255;
        var m = 192;
        var p = 6;
        for (d = e = f = 0; 4 > d; d += 1) {
          var n = 0 === p ? (g & m) << 2 | k & m : (g & m) >> p - 2 | (k & m) >> p;
          n = (n & 8) >> 1 | (n & 4) << 1 | (n & 2) >> 1 | (n & 1) << 1;
          n = b[n];
          n = (n & 8) >> 1 | (n & 4) << 1 | (n & 2) >> 1 | (n & 1) << 1;
          f <<= 2;
          e <<= 2;
          f |= n >> 2 & 3;
          e |= n & 3;
          m >>= 2;
          p -= 2;
        }
        a[c] = e << 8 | f;
      }
    };
    ra.prototype.fd = function (a, b) {
      var c, d = 0, f = true, e = new Uint8Array(16);
      for (c = 0; f && 16 > c;) {
        var k = 1 << a[c];
        0 !== (d & k) ? f = false : (d |= k, c += 1);
      }
      if (f) {
        for (c = 0; 16 > c; c += 1) d = a[c], e[d] = c;
        if (b) for (c = 0; c < e.length; c += 1) a[c] = e[c];
      }
      return f;
    };
    ra.prototype.$i = function (a, b) {
      var c;
      for (c = 0; 16 > c; c += 1) b[c] = a[15 - c];
      for (c = 0; 16 > c; c += 1) a[c] = 15 - a[c];
    };
    ra.prototype.xk = function () {
      var a = this.h, b, c = this.yd, d = this.Pb, f = this.vd, e, k;
      var g = a * a;
      var m = g * a;
      var p = m * a;
      var n = p * a;
      for (b = 0; 1 << b < a;) b += 1;
      switch (this.Mc) {
        case Ba.vg:
          var q = 9 * b;
          break;
        default:
          q = I.Hl + 1;
      }
      if (q <= I.Hl) {
        if (null === this.Fa && (this.Fa = this.N.h(oa.Ka, 1 << q, "Life.ruleTreeLookup"), this.ae = b), this.Mc === Ba.vg) {
          var l = b;
          var r = l + b;
          var u = r + b;
          var t = u + b;
          var v = t + b;
          var B = v + b;
          q = B + b;
          var w = c[0];
          var y = c[1];
          var D = c[2];
          var F = c[3];
          var N = c[4];
          var O = c[5];
          var M = c[6];
          var U = c[7];
          c = c[8];
          var W = this.hb / p | 0;
          c = c[W];
          p = this.hb % p / m | 0;
          D = D[p];
          m = this.hb % m / g | 0;
          M = M[m];
          g = this.hb % g / a | 0;
          B = W << 0 | p << B | m << r | g << q + b;
          b = N[g];
          N = this.hb % a;
          u = B | N << u;
          m = y[N];
          for (B = 0; B < a; B += 1) for (g = u | B << l, p = U[B], y = 0; y < a; y += 1) {
            W = g | y << q;
            var H = F[y];
            for (r = 0; r < a; r += 1) {
              var P = O[r];
              var Q = W | r << v;
              for (N = 0; N < a; N += 1) {
                var T = w[N];
                var Z = N;
                for (k = 0; k < f; k += 1) if (e = T[k] & m[k]) if (e &= D[k] & H[k]) if (e &= b[k] & P[k]) if (e &= M[k] & p[k] & c[k]) {
                  Z = 0;
                  for (T = 1; !(e & T);) Z += 1, T <<= 1;
                  Z = d[(k << 5) + Z];
                  break;
                }
                this.Fa[Q + (N << t)] = Z;
              }
            }
          }
          this.hb += 1;
          this.hb === n && (this.hb = -1);
        }
      } else this.Fa = null;
    };
    ra.prototype.wk = function () {
      var a = this.h, b, c, d, f, e, k, g, m, p;
      var n = this.yd;
      var q = this.Pb, l = this.vd, r, u;
      for (b = 0; 1 << b < a;) b += 1;
      switch (this.Mc) {
        case Ba.Ai:
          var t = 5 * b;
          break;
        case Ba.ug:
          t = 7 * b;
          break;
        case Ba.vg:
          t = 9 * b;
          break;
        case Ba.wj:
          t = 3 * b;
          break;
        default:
          t = I.Hl + 1;
      }
      if (t <= I.Hl) switch (this.Fa = this.N.h(oa.Ka, 1 << t, "Life.ruleTreeLookup"), this.ae = b, this.Mc) {
        case Ba.Ai:
          var v = 0;
          var B = v + b;
          var w = B + b;
          var y = w + b;
          var D = y + b;
          b = n[0];
          var F = n[1];
          var N = n[2];
          var O = n[3];
          var M = n[4];
          for (k = 0; k < a; k += 1) {
            var U = M[k];
            for (f = 0; f < a; f += 1) {
              var W = N[f];
              for (c = 0; c < a; c += 1) {
                var H = F[c];
                for (m = 0; m < a; m += 1) {
                  var P = O[m];
                  var Q = k << D | f << w | c << B | m << v;
                  for (e = 0; e < a; e += 1) {
                    var T = b[e];
                    var Z = e;
                    for (u = 0; u < l; u += 1) if (r = T[u] & H[u]) if (r &= W[u] & P[u] & U[u]) {
                      Z = 0;
                      for (T = 1; !(r & T);) Z += 1, T <<= 1;
                      Z = q[(u << 5) + Z];
                      break;
                    }
                    this.Fa[Q + (e << y)] = Z;
                  }
                }
              }
            }
          }
          break;
        case Ba.vg:
          t = 0;
          D = t + b;
          var na = D + b;
          B = na + b;
          y = B + b;
          v = y + b;
          var ia = v + b;
          w = ia + b;
          var ba = w + b;
          b = n[0];
          F = n[1];
          N = n[2];
          O = n[3];
          M = n[4];
          var ja = n[5];
          var la = n[6];
          var fa = n[7];
          var V = n[8];
          for (n = 0; n < a; n += 1) {
            var ma = n << t;
            var ca = V[n];
            for (d = 0; d < a; d += 1) {
              var aa = ma | d << ia;
              var X = N[d];
              for (p = 0; p < a; p += 1) {
                var pa = aa | p << na;
                var R = la[p];
                for (g = 0; g < a; g += 1) {
                  var E = pa | g << ba;
                  var z = M[g];
                  for (c = 0; c < a; c += 1) {
                    var K = E | c << B;
                    H = F[c];
                    for (k = 0; k < a; k += 1) {
                      var L = K | k << D;
                      U = fa[k];
                      for (f = 0; f < a; f += 1) {
                        var J = L | f << w;
                        W = O[f];
                        for (m = 0; m < a; m += 1) for (P = ja[m], Q = J | m << v, e = 0; e < a; e += 1) {
                          T = b[e];
                          Z = e;
                          for (u = 0; u < l; u += 1) if (r = T[u] & H[u]) if (r &= X[u] & W[u]) if (r &= z[u] & P[u]) if (r &= R[u] & U[u] & ca[u]) {
                            Z = 0;
                            for (T = 1; !(r & T);) Z += 1, T <<= 1;
                            Z = q[(u << 5) + Z];
                            break;
                          }
                          this.Fa[Q + (e << y)] = Z;
                        }
                      }
                    }
                  }
                }
              }
            }
          }
          break;
        case Ba.ug:
          y = 0;
          v = y + b;
          w = v + b;
          D = w + b;
          B = D + b;
          ba = B + b;
          t = ba + b;
          b = n[0];
          F = n[1];
          N = n[2];
          O = n[3];
          M = n[4];
          ja = n[5];
          la = n[6];
          for (n = 0; n < a; n += 1) for (ma = n << t, ca = la[n], g = 0; g < a; g += 1) for (E = ma | g << ba, z = O[g], c = 0; c < a; c += 1) for (K = E | c << B, H = F[c], k = 0; k < a; k += 1) for (L = K | k << D, U = ja[k], f = 0; f < a; f += 1) for (J = L | f << w, W = N[f], m = 0; m < a; m += 1) for (Q = J | m << v, P = M[m], e = 0; e < a; e += 1) {
            T = b[e];
            Z = e;
            for (u = 0; u < l; u += 1) if (r = T[u] & H[u]) if (r &= W[u] & z[u]) if (r &= P[u] & U[u] & ca[u]) {
              Z = 0;
              for (T = 1; !(r & T);) Z += 1, T <<= 1;
              Z = q[(u << 5) + Z];
              break;
            }
            this.Fa[Q + (e << y)] = Z;
          }
          break;
        case Ba.wj:
          w = 0;
          y = w + b;
          D = y + b;
          b = n[0];
          F = n[1];
          N = n[2];
          for (k = 0; k < a; k += 1) for (U = F[k], f = 0; f < a; f += 1) for (W = N[f], Q = k << D | f << w, e = 0; e < a; e += 1) {
            T = b[e];
            Z = e;
            for (u = 0; u < l; u += 1) if (r = T[u] & U[u] & W[u]) {
              Z = 0;
              for (T = 1; !(r & T);) Z += 1, T <<= 1;
              Z = q[(u << 5) + Z];
              break;
            }
            this.Fa[Q + (e << y)] = Z;
          }
          break;
        default:
          this.Fa = null;
      } else this.Fa = null;
    };
    ra.prototype.yk = function () {
      var a = this.oh, b, c, d, f, e, k, g, m, p, n = this.Kf, q = this.Pe;
      var l = this.Re;
      this.He = null;
      for (b = 0; 1 << b < a;) b += 1;
      var r = (this.zd + 1) * b;
      if (r <= I.Hl) if (this.Fa = this.N.h(oa.Ka, 1 << r, "Life.ruleTreeLookup"), this.ae = b, 4 === this.zd) {
        var u = 0;
        var t = u + b;
        var v = t + b;
        var B = v + b;
        var w = B + b;
        for (k = 0; k < a; k += 1) for (f = 0; f < a; f += 1) for (c = 0; c < a; c += 1) for (m = 0; m < a; m += 1) {
          var y = q[q[q[q[n + c] + k] + f] + m];
          var D = c << t | f << v | k << w | m << u;
          for (e = 0; e < a; e += 1) this.Fa[D + (e << B)] = l[y + e];
        }
      } else if (8 === this.zd) {
        r = 0;
        w = r + b;
        var F = w + b;
        t = F + b;
        B = t + b;
        u = B + b;
        var N = u + b;
        v = N + b;
        var O = v + b;
        for (b = 0; b < a; b += 1) {
          var M = b << r;
          var U = q[n + b];
          for (d = 0; d < a; d += 1) {
            var W = M | d << N;
            var H = q[U + d];
            for (p = 0; p < a; p += 1) {
              var P = W | p << F;
              var Q = q[H + p];
              for (g = 0; g < a; g += 1) {
                f = P | g << O;
                var T = q[Q + g];
                for (c = 0; c < a; c += 1) {
                  var Z = q[T + c];
                  for (k = 0; k < a; k += 1) {
                    var na = q[Z + k];
                    for (f = 0; f < a; f += 1) {
                      var ia = q[na + f];
                      for (m = 0; m < a; m += 1) for (y = q[ia + m], e = 0; e < a; e += 1) D = b << r | k << w | p << F | c << t | e << B | m << u | d << N | f << v | g << O, this.Fa[D] = l[y + e];
                    }
                  }
                }
              }
            }
          }
        }
      } else this.Fa = null; else if (this.Fa = null, 8 === this.zd && r <= I.Zy) for (this.He = this.N.h(oa.fc, 16777216, "Life.ruleTreePartialLookup"), this.ae = 24, w = 0, t = w + b, O = t + b, F = O + b, N = F + b, r = N + b, b = 0; b < a; b += 1) for (M = b << r, U = q[n + b], d = 0; d < a; d += 1) for (W = M | d << N, H = q[U + d], p = 0; p < a; p += 1) for (P = W | p << F, Q = q[H + p], g = 0; g < a; g += 1) for (f = P | g << O, T = q[Q + g], c = 0; c < a; c += 1) for (l = f | c << t, Z = q[T + c], k = 0; k < a; k += 1) v = l | k << w, na = q[Z + k], this.He[v] = na;
    };
    ra.prototype.Ek = function () {
      this.Zb && (this.Ye = performance.now(), null === this.Pb ? this.yk() : this.wk(), this.Ye = performance.now() - this.Ye);
    };
    ra.prototype.qf = function () {
      var a = false, b;
      if (this.s) {
        if (null === this.Pb) {
          var c = this.oh;
          for (b = 0; 1 << b < c;) b += 1;
          c = (this.zd + 1) * b;
        } else {
          c = this.h;
          for (b = 0; 1 << b < c;) b += 1;
          switch (this.Mc) {
            case Ba.Ai:
              c = 5 * b;
              break;
            case Ba.vg:
              c = 9 * b;
              break;
            case Ba.ug:
              c = 7 * b;
              break;
            default:
              c = I.Hl + 1;
          }
        }
        c <= I.Hl ? a = true : c <= I.Zy && null === this.Pb && 8 === this.zd && (a = true);
      }
      return a;
    };
    ra.prototype.Mm = function (a) {
      var b = this.X ? this.U.Jb : this.U.o, c = this.X ? this.U.Ib : this.U.qa, d = this.U.$, f = this.X ? I.Cy : I.UD, e = false, k = null, g = b.length;
      this.eb = d;
      if (this.s) this.Fa = null, this.hb = -1; else if (this.eb && this.Ea) {
        var m = 0;
        var p = true;
        for (g = this.O.B.length; m < g && p;) this.O.B[m] !== this.O.aa[m] ? p = false : m += 1;
        if (p) {
          m = 0;
          for (g = this.O.v.length; m < g && p;) this.O.v[m] !== this.O.ba[m] ? p = false : m += 1;
          p && (this.eb = false, m = a.T.indexOf("|"), -1 !== m && (a.T = a.T.substring(0, m)), m = a.ya.indexOf("|"), -1 !== m && (a.ya = a.ya.substring(0, m)));
        }
      } else {
        if (this.eb) {
          if (this.Z || this.i) g = 16;
          m = 0;
          for (p = true; m < g && p;) b[m] !== c[m] ? p = false : m += 1;
          p && (this.eb = false, m = a.T.indexOf("|"), -1 !== m && (a.T = a.T.substring(0, m)), m = a.ya.indexOf("|"), -1 !== m && (a.ya = a.ya.substring(0, m)));
          if (this.eb && (this.Z || this.i)) for (m = 0; m < g; m += 1) a = b[m], b[m] = c[m], c[m] = a;
        }
        this.Xd = this.bb = this.Ve = this.Wd = this.hh = this.Pf = this.Gf = this.Of = null;
        if (this.i) this.Wd = this.N.h(oa.xa, I.sl, "Life.PCALookup1"), d ? (this.Ve = this.N.h(oa.xa, I.sl, "Life.PCALookup2"), this.Df(this.Ve, b, false), this.Df(this.Wd, c, false), this.fd(b, false) && this.fd(c, false) && (this.bb = this.N.h(oa.xa, I.sl, "Life.PCAReverseLookup1"), this.Xd = this.N.h(oa.xa, I.sl, "Life.PCAReverseLookup2"), this.fd(c, false), this.Df(this.bb, c, true), this.fd(b, false), this.Df(this.Xd, b, true))) : (this.Df(this.Wd, b, false), this.fd(b, false) && (this.bb = this.N.h(oa.xa, I.sl, "Life.PCAsReverseLookup1"), this.Df(this.bb, b, true))); else if (this.Z) {
          this.Wd = this.N.h(oa.xa, I.Yj, "Life.margolusLookup1");
          if (15 === b[0] && 0 === b[15]) {
            d = this.eb = true;
            k = new Uint8Array(16);
            for (m = 0; 16 > m; m += 1) k[m] = b[m];
            this.$i(b, c);
          }
          d ? (this.Ve = this.N.h(oa.xa, I.Yj, "Life.margolusLookup2"), this.xe(this.Ve, b), this.xe(this.Wd, c), k && this.fd(k, true) ? (this.bb = this.N.h(oa.xa, I.Yj, "Life.margolusReverseLookup1"), this.Xd = this.N.h(oa.xa, I.Yj, "Life.margolusReverseLookup2"), this.$i(k, c), this.xe(this.bb, c), this.xe(this.Xd, k)) : this.fd(b, false) && this.fd(c, false) && (this.bb = this.N.h(oa.xa, I.Yj, "Life.margolusReverseLookup1"), this.Xd = this.N.h(oa.xa, I.Yj, "Life.margolusReverseLookup2"), this.fd(b, true), this.xe(this.bb, b), this.fd(c, true), this.xe(this.Xd, c))) : (this.xe(this.Wd, b), this.fd(b, true) && (this.bb = this.N.h(oa.xa, I.Yj, "Life.margolusReverseLookup1"), this.xe(this.bb, b)));
        } else if (this.X) this.Pf = this.N.h(oa.Ka, I.By, "Life.indexLookupTri1"), d ? (this.hh = this.N.h(oa.Ka, I.By, "Life.indexLookupTri2"), this.wh(this.hh, b), this.wh(this.Pf, c)) : this.wh(this.Pf, b); else {
          this.Of = this.N.h(oa.Ka, I.Qp, "Life.indexLookup63");
          if (-1 === this.Id && b[0]) if (b[f - 1]) for (m = 0; m < f / 2; m += 1) a = b[m], b[m] = 1 - b[f - m - 1], b[f - m - 1] = 1 - a; else {
            for (m = 0; m < f / 2; m += 1) a = b[m], b[m] = b[f - m - 1], b[f - m - 1] = a;
            e = true;
            this.Gf = this.N.h(oa.Ka, I.Qp, "Life.indexLookup632");
            this.Xg(this.Gf, b);
            if (this.A) for (c.set(b), m = 0; m < f / 2; m += 1) a = c[m], c[m] = 1 - c[f - m - 1], c[f - m - 1] = 1 - a; else for (m = 0; m < f / 2; m += 1) a = b[m], b[m] = 1 - b[f - m - 1], b[f - m - 1] = 1 - a;
          }
          this.eb ? (this.Gf = this.N.h(oa.Ka, I.Qp, "Life.indexLookup632"), this.Xg(this.Gf, b), this.Xg(this.Of, c)) : (this.Xg(this.Of, b), e && (this.eb = true));
        }
      }
    };
    ra.prototype.nb = function (a) {
      var b = 0;
      0 !== (a & 32768) ? b = 0 : 0 !== (a & 16384) ? b = 1 : 0 !== (a & 8192) ? b = 2 : 0 !== (a & 4096) ? b = 3 : 0 !== (a & 2048) ? b = 4 : 0 !== (a & 1024) ? b = 5 : 0 !== (a & 512) ? b = 6 : 0 !== (a & 256) ? b = 7 : 0 !== (a & 128) ? b = 8 : 0 !== (a & 64) ? b = 9 : 0 !== (a & 32) ? b = 10 : 0 !== (a & 16) ? b = 11 : 0 !== (a & 8) ? b = 12 : 0 !== (a & 4) ? b = 13 : 0 !== (a & 2) ? b = 14 : 0 !== (a & 1) && (b = 15);
      return b;
    };
    ra.prototype.Ab = function (a) {
      var b = 0;
      0 !== (a & 1) ? b = 15 : 0 !== (a & 2) ? b = 14 : 0 !== (a & 4) ? b = 13 : 0 !== (a & 8) ? b = 12 : 0 !== (a & 16) ? b = 11 : 0 !== (a & 32) ? b = 10 : 0 !== (a & 64) ? b = 9 : 0 !== (a & 128) ? b = 8 : 0 !== (a & 256) ? b = 7 : 0 !== (a & 512) ? b = 6 : 0 !== (a & 1024) ? b = 5 : 0 !== (a & 2048) ? b = 4 : 0 !== (a & 4096) ? b = 3 : 0 !== (a & 8192) ? b = 2 : 0 !== (a & 16384) && (b = 1);
      return b;
    };
    ra.prototype.tk = function (a) {
      var b = this.Ca, c = this.L, d = this.width, f = this.height, e, k = this.u.K, g = this.u.G, m = this.u.F, p = this.u.J, n, q;
      for (n = 0; n < f; n += 1) {
        var l = b[n];
        var r = c[n >> 4];
        for (q = e = 0; q < d; q += 1) 0 !== l[q] && (r[q >> 8] |= 1 << (~(q >> 4) & 15), e |= l[q], q < m && (m = q), q > p && (p = q));
        e && (n < g && (g = n), n > k && (k = n));
      }
      a || (this.u.K = k, this.u.G = g, this.u.F = m, this.u.J = p);
    };
    ra.prototype.ym = function () {
      var a, b, c, d = this.wa, f = this.V, e = this.L, k, g = this.X ? 49152 : 32768, m = this.X ? 3 : 1, p = this.ba, n = this.Y >> 4, q = this.Ja;
      var l = 0;
      var r = l + 16;
      e.ca.fill(0);
      for (b = 0; b < p; b += 1) {
        var u = 0;
        var t = f[b];
        var v = e[b];
        var B = 0 < b ? e[b - 1] : q;
        var w = b < p - 1 ? e[b + 1] : q;
        for (c = 0; c < n; c += 1) if (k = t[c]) {
          var y = v[c];
          var D = B[c];
          var F = w[c];
          for (a = 15; 0 <= a; --a) {
            if (0 !== (k & 1 << a)) {
              var N = false;
              var O = 0;
              var M = l;
              var U = d[M];
              if (U = U[u]) N = true, 0 !== (U & g) && (O |= I.qb, O |= I.Bb), 0 !== (U & m) && (O |= I.jb, O |= I.Cb), O |= I.xb;
              for (M += 1; M < r - 1;) {
                U = d[M];
                if (U = U[u]) N = true, 0 !== (U & g) && (O |= I.qb), 0 !== (U & m) && (O |= I.jb);
                M += 1;
              }
              U = d[M];
              if (U = U[u]) N = true, 0 !== (U & g) && (O |= I.qb, O |= I.Eb), 0 !== (U & m) && (O |= I.jb, O |= I.sb), O |= I.tb;
              N && (y |= 1 << a, O && (0 !== (O & I.qb) && (15 > a ? y |= 1 << a + 1 : 0 < c && (v[c - 1] |= 1)), 0 !== (O & I.jb) && (0 < a ? y |= 1 << a - 1 : c < n - 1 && (v[c + 1] |= 32768)), 0 !== (O & I.xb) && (D |= 1 << a), 0 !== (O & I.tb) && (F |= 1 << a), 0 !== (O & I.Bb) && (15 > a ? D |= 1 << a + 1 : 0 < c && (B[c - 1] |= 1)), 0 !== (O & I.Cb) && (0 < a ? D |= 1 << a - 1 : c < n - 1 && (B[c + 1] |= 32768)), 0 !== (O & I.Eb) && (15 > a ? F |= 1 << a + 1 : 0 < c && (w[c - 1] |= 1)), 0 !== (O & I.sb) && (0 < a ? F |= 1 << a - 1 : c < n - 1 && (w[c + 1] |= 32768))));
            }
            u += 1;
          }
          v[c] |= y;
          0 < b && (B[c] |= D);
          b < p - 1 && (w[c] |= F);
        } else u += 16;
        l += 16;
        r += 16;
      }
      q.fill(0);
    };
    ra.prototype.Am = function () {
      var a, b, c, d = this.wa, f = this.V, e = this.m, k = this.L, g, m = this.ba, p = this.Y >> 4, n = this.Ja;
      var q = 0;
      var l = q + 16;
      k.ca.fill(0);
      for (b = 0; b < m; b += 1) {
        var r = 0;
        var u = f[b];
        var t = k[b];
        var v = 0 < b ? k[b - 1] : n;
        var B = b < m - 1 ? k[b + 1] : n;
        for (c = 0; c < p; c += 1) if (g = u[c]) {
          var w = t[c];
          var y = v[c];
          var D = B[c];
          for (a = 15; 0 <= a; --a) {
            if (0 !== (g & 1 << a)) {
              var F = false;
              var N = 0;
              var O = q;
              var M = d[O];
              var U = e[O];
              M = M[r];
              var W = r << 4;
              0 < U[W] && (M |= 32768);
              W += 1;
              0 < U[W] && (M |= 16384);
              W += 1;
              0 < U[W] && (M |= 8192);
              W += 1;
              0 < U[W] && (M |= 4096);
              W += 1;
              0 < U[W] && (M |= 2048);
              W += 1;
              0 < U[W] && (M |= 1024);
              W += 1;
              0 < U[W] && (M |= 512);
              W += 1;
              0 < U[W] && (M |= 256);
              W += 1;
              0 < U[W] && (M |= 128);
              W += 1;
              0 < U[W] && (M |= 64);
              W += 1;
              0 < U[W] && (M |= 32);
              W += 1;
              0 < U[W] && (M |= 16);
              W += 1;
              0 < U[W] && (M |= 8);
              W += 1;
              0 < U[W] && (M |= 4);
              W += 1;
              0 < U[W] && (M |= 2);
              W += 1;
              0 < U[W] && (M |= 1);
              M && (F = true, 0 !== (M & 32768) && (N |= I.qb, N |= I.Bb), 0 !== (M & 1) && (N |= I.jb, N |= I.Cb), N |= I.xb);
              for (O += 1; O < l - 1;) M = d[O], U = e[O], M = M[r], W = r << 4, 0 < U[W] && (M |= 32768), W += 1, 0 < U[W] && (M |= 16384), W += 1, 0 < U[W] && (M |= 8192), W += 1, 0 < U[W] && (M |= 4096), W += 1, 0 < U[W] && (M |= 2048), W += 1, 0 < U[W] && (M |= 1024), W += 1, 0 < U[W] && (M |= 512), W += 1, 0 < U[W] && (M |= 256), W += 1, 0 < U[W] && (M |= 128), W += 1, 0 < U[W] && (M |= 64), W += 1, 0 < U[W] && (M |= 32), W += 1, 0 < U[W] && (M |= 16), W += 1, 0 < U[W] && (M |= 8), W += 1, 0 < U[W] && (M |= 4), W += 1, 0 < U[W] && (M |= 2), W += 1, 0 < U[W] && (M |= 1), M && (F = true, 0 !== (M & 32768) && (N |= I.qb), 0 !== (M & 1) && (N |= I.jb)), O += 1;
              M = d[O];
              U = e[O];
              M = M[r];
              W = r << 4;
              0 < U[W] && (M |= 32768);
              W += 1;
              0 < U[W] && (M |= 16384);
              W += 1;
              0 < U[W] && (M |= 8192);
              W += 1;
              0 < U[W] && (M |= 4096);
              W += 1;
              0 < U[W] && (M |= 2048);
              W += 1;
              0 < U[W] && (M |= 1024);
              W += 1;
              0 < U[W] && (M |= 512);
              W += 1;
              0 < U[W] && (M |= 256);
              W += 1;
              0 < U[W] && (M |= 128);
              W += 1;
              0 < U[W] && (M |= 64);
              W += 1;
              0 < U[W] && (M |= 32);
              W += 1;
              0 < U[W] && (M |= 16);
              W += 1;
              0 < U[W] && (M |= 8);
              W += 1;
              0 < U[W] && (M |= 4);
              W += 1;
              0 < U[W] && (M |= 2);
              W += 1;
              0 < U[W] && (M |= 1);
              M && (F = true, 0 !== (M & 32768) && (N |= I.qb, N |= I.Eb), 0 !== (M & 1) && (N |= I.jb, N |= I.sb), N |= I.tb);
              F && (w |= 1 << a, N && (0 !== (N & I.qb) && (15 > a ? w |= 1 << a + 1 : 0 < c && (t[c - 1] |= 1)), 0 !== (N & I.jb) && (0 < a ? w |= 1 << a - 1 : c < p - 1 && (t[c + 1] |= 32768)), 0 !== (N & I.xb) && (y |= 1 << a), 0 !== (N & I.tb) && (D |= 1 << a), 0 !== (N & I.Bb) && (15 > a ? y |= 1 << a + 1 : 0 < c && (v[c - 1] |= 1)), 0 !== (N & I.Cb) && (0 < a ? y |= 1 << a - 1 : c < p - 1 && (v[c + 1] |= 32768)), 0 !== (N & I.Eb) && (15 > a ? D |= 1 << a + 1 : 0 < c && (B[c - 1] |= 1)), 0 !== (N & I.sb) && (0 < a ? D |= 1 << a - 1 : c < p - 1 && (B[c + 1] |= 32768))));
            }
            r += 1;
          }
          t[c] |= w;
          0 < b && (v[c] |= y);
          b < m - 1 && (B[c] |= D);
        } else r += 16;
        q += 16;
        l += 16;
      }
      n.fill(0);
    };
    ra.prototype.Vk = function (a) {
      var b, c = this.v + 1, d = this.height, f = this.width, e = this.m, k = this.height, g = -1, m = this.width, p = -1;
      var n = this.Z ? -1 : 0;
      this.i && 0 !== (this.counter & 1) && (e = this.W);
      if (-1 === this.C) {
        var q = 0;
        var l = f - 1;
        var r = 0;
        var u = d - 1;
      } else 0 === this.R ? (q = 0, l = f - 1) : (q = Math.round((this.width - this.R) / 2) + n, l = q + this.R), 0 === this.M ? (r = 0, u = d - 1) : (r = Math.round((this.height - this.M) / 2) + n, u = r + this.M);
      for (b = r; b < u; b += 1) {
        var t = e[b];
        var v = false;
        for (n = q; n < l; n += 1) {
          var B = t[n];
          B >= c && 255 >= B && (v = true, n < m && (m = n), n > p && (p = n));
        }
        v && (b < k && (k = b), b > g && (g = b));
      }
      if (0 > g || k >= d || m >= f || 0 > p) k = g = u - r >> 1, p = m = l - q >> 1;
      g > d - 1 && (g = d - 1);
      0 > k && (k = 0);
      0 > m && (m = 0);
      p > f - 1 && (p = f - 1);
      a.K = g;
      a.G = k;
      a.F = m;
      a.J = p;
    };
    ra.prototype.dc = function () {
      var a, b, c = this.width >> 4, d = this.height, f = this.width, e = this.Ca, k = this.m, g = this.u, m = this.na, p = this.$a, n = this.height, q = -1, l = this.width, r = -1, u = this.height, t = -1, v = this.width, B = -1, w, y = I.Gh, D = I.me, F = this.Ea ? this.view.Ji() >> 1 : 0, N = this.Ha;
      if (this.Wb) {
        this.Wb = false;
        (this.i || this.s || this.l || this.A) && 0 !== (this.counter & 1) && (k = this.W);
        var O = 0 !== (this.counter & 1) ? this.Qa : this.wa;
        -1 !== this.C && this.Te(k, 0);
        if (e) for (b = 0; b < d; b += 1) {
          var M = e[b];
          var U = k[b];
          for (a = w = 0; a < f; a += 1) {
            var W = M[a] || U[a] >= y && U[a] <= D ? 1 : 0;
            w |= W;
            W && (a < v && (v = a), a > B && (B = a));
          }
          w && (b < u && (u = b), b > t && (t = b));
        }
        N.fill(0);
        if (-1 !== this.h) for (b = 0; b < d; b += 1) {
          U = k[b];
          for (a = w = 0; a < f; a += 1) W = U[a], w |= W, W && (a < l && (l = a), a > r && (r = a));
          w && (b < n && (n = b), b > q && (q = b));
        } else {
          for (b = 0; b < d; b += 1) {
            M = O[b];
            for (a = w = 0; a < c; a += 1) W = M[a], w |= W, N[a] |= W;
            w && (b < n && (n = b), b > q && (q = b));
          }
          for (a = 0; a < c; a += 1) N[a] && (a < l && (l = a), a > r && (r = a));
          l = (l << 4) + this.nb(N[l]);
          r = (r << 4) + this.Ab(N[r]);
        }
        if (0 > q || n >= d || l >= f || 0 > r) n = q = d >> 1, r = l = f >> 1;
        e && (t > q && (q = t), u < n && (n = u), v < l && (l = v), B > r && (r = B));
        q > this.height - 1 - F && (q = this.height - 1 - F);
        n < F && (n = F);
        l < F && (l = F);
        r > this.width - 1 - F && (r = this.width - 1 - F);
        g.K = q;
        g.G = n;
        g.F = l;
        g.J = r;
        m.K = q;
        m.G = n;
        m.F = l;
        m.J = r;
        p.K = q;
        p.G = n;
        p.F = l;
        p.J = r;
      }
    };
    ra.prototype.Qh = function (a) {
      var b, c, d = this.width >> 4, f = this.height, e = this.width, k = this.Ca;
      var g = this.m;
      var m = this.u, p = this.na, n = this.$a, q = this.height, l = -1, r = this.width, u = -1, t = this.height, v = -1, B = this.width, w = -1, y, D = this.Ha, F = this.qa, N = this.B;
      if (0 !== (this.counter & 1)) {
        var O = this.Qa;
        var M = this.V;
        var U = this.L;
      } else O = this.wa, M = this.L, U = this.V;
      if (k && !a) for (c = 0; c < f; c += 1) {
        var W = k[c];
        for (b = y = 0; b < e; b += 1) {
          var H = W[b];
          y |= H;
          H && (b < B && (B = b), b > w && (w = b));
        }
        y && (c < t && (t = c), c > v && (v = c));
      }
      D.fill(0);
      U.ca.fill(0);
      if (-1 !== this.h) for (c = 0; c < f; c += 1) {
        d = g[c];
        for (b = y = 0; b < e; b += 1) H = d[b], y |= H, H && (b < r && (r = b), b > u && (u = b));
        y && (c < q && (q = c), c > l && (l = c));
      } else {
        for (c = 0; c < f; c += 1) {
          g = O[c];
          for (b = y = 0; b < d; b += 1) H = g[b], y |= H, D[b] |= H;
          y && (c < q && (q = c), c > l && (l = c));
        }
        for (b = 0; b < d; b += 1) D[b] && (b < r && (r = b), b > u && (u = b));
        r = (r << 4) + this.nb(D[r]);
        u = (u << 4) + this.Ab(D[u]);
      }
      if (0 > l || q >= f || r >= e || 0 > u) q = l = f >> 1, u = r = e >> 1, v = l, t = q, B = r, w = u;
      k && !a && -1 !== v && (v < l && (l = v), t > q && (q = t), B < r && (r = B), w > u && (u = w));
      l > this.height - 1 && (l = this.height - 1);
      0 > q && (q = 0);
      0 > r && (r = 0);
      u > this.width - 1 && (u = this.width - 1);
      m.K = l;
      m.G = q;
      m.F = r;
      m.J = u;
      p.K = l;
      p.G = q;
      p.F = r;
      p.J = u;
      n.K = l;
      n.G = q;
      n.F = r;
      n.J = u;
      0 < r && --r;
      0 < q && --q;
      u < this.width - 1 && (u += 1);
      l < this.height - 1 && (l += 1);
      H = l >> 4;
      r >>= 8;
      u >>= 8;
      for (c = q >> 4; c <= H; c += 1) for (q = U[c], b = r; b <= u; b += 1) q[b] = -1;
      -1 !== this.h ? this.Am() : this.ym();
      k && (this.tk(a), n.K = m.K, n.G = m.G, n.F = m.F, n.J = m.J);
      Array.jg(M, U);
      Array.jg(M, F);
      Array.jg(M, N);
    };
    ra.prototype.ul = function () {
      var a = Math.round((this.width - this.R) / 2), b = Math.round((this.height - this.M) / 2), c = a + this.R - 1, d = b + this.M - 1, f = this.Ca, e = false, k;
      --a;
      c += 1;
      d += 1;
      --b;
      var g = f[d];
      var m = f[b];
      if (0 === this.R) for (k = a; k <= c; k += 1) 129 === m[k] && (e = true, m[k] = 0), 129 === g[k] && (e = true, g[k] = 0); else if (0 === this.M) for (b = 0; b < this.height; b += 1) 129 === f[b][a] && (e = true, f[b][a] = 0), 129 === f[b][c] && (e = true, f[b][c] = 0); else {
        for (k = a; k <= c; k += 1) 129 === m[k] && (e = true, m[k] = 0), 129 === g[k] && (e = true, g[k] = 0);
        for (b += 1; b <= d - 1; b += 1) 129 === f[b][a] && (e = true, f[b][a] = 0), 129 === f[b][c] && (e = true, f[b][c] = 0);
      }
      e && this.gb();
    };
    ra.prototype.Ll = function () {
      var a = Math.round((this.width - this.R) / 2), b = Math.round((this.height - this.M) / 2), c = a + this.R - 1, d = b + this.M - 1, f = a - 16, e = b - 16, k = c + 16, g = d + 16, m, p = this.m;
      0 !== (this.counter & 1) && (p = this.W);
      0 > f && (f = 0);
      k >= this.width && (k = this.width - 1);
      0 > e && (e = 0);
      e >= this.height && (e = this.height - 1);
      for (m = e; m <= g; m += 1) {
        var n = p[m];
        if (m < b || m > d) for (e = f; e <= k; e += 1) 0 !== n[e] && (n[e] = 0); else for (e = f; e <= k; e += 1) (e < a || e > c) && 0 !== n[e] && (n[e] = 0);
      }
      this.L.ca.fill(0);
      this.V.ca.fill(0);
      this.qa.ca.fill(0);
      this.B.ca.fill(0);
      this.bg();
      this.o = 0;
      for (m = b; m <= d; m += 1) for (n = p[m], e = a; e <= c; e += 1) 0 !== n[e] && (this.o += 1);
    };
    ra.prototype.pl = function (a) {
      var b = this.Z ? -1 : 0, c = Math.round((this.width - this.R) / 2) + b;
      b = Math.round((this.height - this.M) / 2) + b;
      var d = c + this.R - 1, f = b + this.M - 1, e = d + a >> 4;
      var k = c - a >> 4;
      var g = d + a >> 4;
      var m = ~(1 << (~(c - a) & 15)), p = ~(1 << (~(d + a) & 15)), n, q = this.hc, l = 0;
      if (!(this.i || this.s || this.A)) {
        var r = 0 !== (this.counter & 1) ? this.Qa : this.wa;
        var u = r[f + a];
        var t = r[b - a];
        if (0 === this.R) for (e = this.width >> 4, n = 0; n < e; n += 1) l += q[t[n]], t[n] = 0, l += q[u[n]], u[n] = 0; else if (0 === this.M) for (b = 0, f = this.height, n = 0; n < f; n += 1) e = r[n], e[k] & ~m && (l += 1), e[k] &= m, e[g] & ~p && (l += 1), e[g] &= p; else {
          for (n = c - a >> 4; n <= e; n += 1) l += q[t[n]], t[n] = 0, l += q[u[n]], u[n] = 0;
          for (n = b - a + 1; n <= f + a - 1; n += 1) e = r[n], e[k] & ~m && (l += 1), e[k] &= m, e[g] & ~p && (l += 1), e[g] &= p;
        }
        this.o -= l;
      }
      if (-1 !== this.h) {
        r = this.m;
        (this.i || this.s || this.l || this.A) && 0 !== (this.counter & 1) && (r = this.W);
        c -= a;
        d += a;
        f += a;
        b -= a;
        k = r[f];
        g = r[b];
        if (0 === this.R) for (n = 0; n < this.width; n += 1) a = g[n], 0 !== a && (g[n] = 0, l += 1), a = k[n], 0 !== a && (k[n] = 0, l += 1); else if (0 === this.M) for (n = 0; n < this.height; n += 1) a = r[n][c], 0 !== a && (r[n][c] = 0, l += 1), a = r[n][d], 0 !== a && (r[n][d] = 0, l += 1); else {
          for (n = 0; n < this.width; n += 1) a = g[n], 0 !== a && (g[n] = 0, l += 1), a = k[n], 0 !== a && (k[n] = 0, l += 1);
          for (n = b + 1; n <= f - 1; n += 1) a = r[n][c], 0 !== a && (r[n][c] = 0, l += 1), a = r[n][d], 0 !== a && (r[n][d] = 0, l += 1);
        }
        if (this.s || this.A) this.o -= l;
      }
    };
    ra.prototype.xh = function (a, b, c, d, f) {
      if (!this.ro(b, c, d, f)) for (this.Vf += 1, f = 0; f < a.length; f += 1) {
        var e = a[f];
        if (this.H) for (d = 0; d < e.length; d += 1) {
          if (1 === e[d]) {
            var k = this.Ra(b + d, c + f, false);
            3 === k || 5 === k ? this.rd(b + d, c + f, 4, false) : this.rd(b + d, c + f, 0, false);
            this.aa += 1;
          }
        } else for (d = 0; d < e.length; d += 1) 1 === e[d] && (this.rd(b + d, c + f, 0, false), this.aa += 1);
      }
    };
    ra.prototype.La = function (a, b, c, d, f, e, k, g) {
      var m, p = 0, n = 0, q = d + d, l = f + f, r = q + d, u = l + f, t = r + d, v = u + f, B = this.m;
      var w = this.Ea ? this.na : this.u;
      var y = w.F;
      var D = w.J;
      var F = w.G;
      var N = w.K, O = this.Wa;
      b -= 2;
      c -= 2;
      var M = 0;
      for (w = true; w && M < a.length;) {
        var U = 0;
        for (m = a[M]; w && U < m.length;) {
          var W = m[U];
          var H = B[c + M][b + U];
          H < O && 0 === W || H >= O && 1 === W || (w = false);
          U += 1;
        }
        M += 1;
      }
      if (w) {
        U = b + 3 + d + d;
        M = c + 3 + f + f;
        y = 0 > d ? y - 1 : D + 1;
        F = 0 > f ? F - 1 : N + 1;
        for (w = false; !w && U !== y && M !== F;) D = B[M], H = D[U], H & 64 && (p = U, n = M, w = true), H = B[M + f][U], H & 64 && (p = U, n = M + f, w = true), H = D[U + d], H & 64 && (p = U + d, n = M, w = true), H = B[M + l][U], H & 64 && (p = U, n = M + l, w = true), H = D[U + q], H & 64 && (p = U + q, n = M, w = true), H = B[M + u][U], H & 64 && (p = U, n = M + u, w = true), H = D[U + r], H & 64 && (p = U + r, n = M, w = true), H = B[M + v][U], H & 64 && (p = U, n = M + v, w = true), H = D[U + t], H & 64 && (p = U + t, n = M, w = true), H = B[M + v + f][U], H & 64 && (p = U, n = M + v + f, w = true), H = D[U + t + d], H & 64 && (p = U + t + d, n = M + f, w = true), H = B[M + v + f][U], H & 64 && (p = U, n = M + v + f, w = true), H = D[U + t + d], H & 64 && (p = U + t + d, n = M, w = true), H = B[M + v + l][U], H & 64 && (p = U, n = M + v + l, w = true), H = D[U + t + q], H & 64 && (p = U + t + q, n = M, w = true), H = B[M + v + u][U], H & 64 && (p = U, n = M + v + u, w = true), H = D[U + t + r], H & 64 && (p = U + t + r, n = M, w = true), H = B[M - v][U], H & 64 && (p = U, n = M - v, w = true), H = D[U - t], H & 64 && (p = U - t, n = M, w = true), H = B[M - v - f][U], H & 64 && (p = U, n = M - v - f, w = true), H = D[U - t - d], H & 64 && (p = U - t - d, n = M, w = true), H = B[M - v - l][U], H & 64 && (p = U, n = M - v - l, w = true), D = D[U - t - q], D & 64 && (p = U - t - q, n = M, w = true), U += d, M += f;
        this.Fe[this.Fe.length] = {Ks: a, x: b, y: c, BG: p, GG: n, orientation: e, hy: w, offset: k, ys: g};
      }
      return w;
    };
    ra.prototype.ro = function (a, b, c, d) {
      var f = false, e = this.Ea ? this.na : this.u, k = e.F, g = e.J, m = e.G;
      e = e.K;
      var p = this.m, n = this.Wa;
      switch (c) {
        case I.Mg:
          if (d === I.hi) for (b += 1, a += 1; b >= m && !f;) {
            if (p[b][a] >= n || p[b][a + 1] >= n || p[b][a + 2] >= n) f = true;
            --b;
          } else for (b += 5, a += 5; a <= g && !f;) {
            if (p[b][a] >= n || p[b - 1][a] >= n || p[b - 2][a] >= n) f = true;
            a += 1;
          }
          break;
        case I.Og:
          if (d === I.hi) for (b += 5, a += 1; b <= e && !f;) {
            if (p[b][a] >= n || p[b][a + 1] >= n || p[b][a + 2] >= n) f = true;
            b += 1;
          } else for (b += 1, a += 5; a <= g && !f;) {
            if (p[b][a] >= n || p[b + 1][a] >= n || p[b + 2][a] >= n) f = true;
            a += 1;
          }
          break;
        case I.Pg:
          if (d === I.ii) for (b += 5, a += 5; b <= e && !f;) {
            if (p[b][a] >= n || p[b][a - 1] >= n || p[b][a - 2] >= n) f = true;
            b += 1;
          } else for (b += 1, a += 1; a >= k && !f;) {
            if (p[b][a] >= n || p[b + 1][a] >= n || p[b + 2][a] >= n) f = true;
            --a;
          }
          break;
        case I.Ng:
          if (d === I.ii) for (b += 1, a += 5; b >= m && !f;) {
            if (p[b][a] >= n || p[b][a - 1] >= n || p[b][a - 2] >= n) f = true;
            --b;
          } else for (b += 5, a += 1; a >= k && !f;) {
            if (p[b][a] >= n || p[b - 1][a] >= n || p[b - 2][a] >= n) f = true;
            --a;
          }
      }
      return f;
    };
    ra.prototype.ll = function () {
      var a, b = this.Fe.length, c;
      if (1 < b) for (a = 0; a < b; a += 1) {
        var d = this.Fe[a];
        if (d.hy) {
          var f = d.BG;
          var e = d.GG;
          var k = d.orientation;
          var g = 0;
          for (c = false; !c && g < b;) {
            if (g !== a) {
              var m = this.Fe[g];
              var p = m.x + 3;
              var n = m.y + 3;
              f >= p - 1 && f <= p + 1 && e >= n - 1 && e <= n + 1 && m.orientation === k && 0 === d.offset && (this.xh(d.Ks, d.x, d.y, d.orientation, d.ys), c = true);
            }
            g += 1;
          }
        } else {
          f = d.x + 3;
          e = d.y + 3;
          k = d.orientation;
          g = 0;
          for (c = false; !c && g < b;) {
            if (g !== a) switch (m = this.Fe[g], p = m.x + 3, n = m.y + 3, m = m.orientation, k) {
              case I.Ng:
                m === I.Mg && e >= n - 6 && e <= n + 6 && f >= p && (c = true);
                m === I.Pg && f >= p - 6 && f <= p + 6 && e >= n && (c = true);
                break;
              case I.Mg:
                m === I.Ng && e >= n - 6 && e <= n + 6 && f <= p && (c = true);
                m === I.Og && f >= p - 6 && f <= p + 6 && e >= n && (c = true);
                break;
              case I.Pg:
                m === I.Og && e >= n - 6 && e <= n + 6 && f >= p && (c = true);
                m === I.Ng && f >= p - 6 && f <= p + 6 && e <= n && (c = true);
                break;
              case I.Og:
                m === I.Pg && e >= n - 6 && e <= n + 6 && f <= p && (c = true), m === I.Mg && f >= p - 6 && f <= p + 6 && e <= n && (c = true);
            }
            g += 1;
          }
          c || 0 !== d.offset || this.xh(d.Ks, d.x, d.y, d.orientation, d.ys);
        }
      } else 1 === b && (d = this.Fe[0], d.hy || 0 !== d.offset || this.xh(d.Ks, d.x, d.y, d.orientation, d.ys));
    };
    ra.prototype.wl = function () {
      var a = this.Ea ? this.na : this.u;
      var b = a.F;
      var c = a.J;
      var d = a.G;
      var f = a.K, e = new Ma(0, 0, 0, 0), k = this.m, g = this.Wa;
      if (0 !== this.o && !(-1 !== this.C || this.Ea && 1 < this.O.o)) {
        this.Fe = [];
        64 > b && (b = 64);
        c >= this.width - 64 && (c = this.width - 64 - 1);
        64 > d && (d = 64);
        f >= this.height - 64 && (f = this.height - 64 - 1);
        e.F = b;
        e.G = d;
        e.J = c;
        e.K = f;
        for (b -= 6; b <= c + 6; b += 1) for (a = 0; 5 >= a; a += 1) {
          d = e.G + a;
          f = k[d];
          f[b] >= g && (this.La(this.bi, b, d, -1, 1, I.Ng, a, I.Wj) || this.La(this.ci, b - 1, d, -1, 1, I.Ng, a, I.Wj) || this.La(this.di, b, d, -1, 1, I.Ng, a, I.Wj) || this.La(this.ei, b - 1, d, -1, 1, I.Ng, a, I.Wj) || this.La(this.Ch, b, d, 1, 1, I.Mg, a, I.Wj) || this.La(this.kh, b - 1, d, 1, 1, I.Mg, a, I.Wj) || this.La(this.Dh, b - 1, d, 1, 1, I.Mg, a, I.Wj) || this.La(this.Fh, b, d, 1, 1, I.Mg, a, I.Wj));
          f = e.K - a;
          var m = k[f];
          m[b] >= g && (this.La(this.mi, b, f - 2, -1, -1, I.Pg, a, I.Vj) || this.La(this.oi, b - 1, f - 2, -1, -1, I.Pg, a, I.Vj) || this.La(this.vi, b, f - 2, -1, -1, I.Pg, a, I.Vj) || this.La(this.xi, b - 1, f - 2, -1, -1, I.Pg, a, I.Vj) || this.La(this.gi, b, f - 2, 1, -1, I.Og, a, I.Vj) || this.La(this.ji, b - 1, f - 2, 1, -1, I.Og, a, I.Vj) || this.La(this.ki, b - 1, f - 2, 1, -1, I.Og, a, I.Vj) || this.La(this.li, b, f - 2, 1, -1, I.Og, a, I.Vj));
        }
        for (d -= 6; d <= f + 6; d += 1) for (a = 0; 5 >= a; a += 1) m = k[d], b = e.F + a, m[b] >= g && (this.La(this.bi, b, d, 1, -1, I.Ng, a, I.ii) || this.La(this.ci, b, d - 1, 1, -1, I.Ng, a, I.ii) || this.La(this.di, b, d, 1, -1, I.Ng, a, I.ii) || this.La(this.ei, b, d - 1, 1, -1, I.Ng, a, I.ii) || this.La(this.mi, b, d - 1, 1, 1, I.Pg, a, I.ii) || this.La(this.oi, b, d, 1, 1, I.Pg, a, I.ii) || this.La(this.vi, b, d, 1, 1, I.Pg, a, I.ii) || this.La(this.xi, b, d - 1, 1, 1, I.Pg, a, I.ii)), c = e.J - a, m[c] >= g && (this.La(this.Ch, c - 2, d, -1, -1, I.Mg, a, I.hi) || this.La(this.kh, c - 2, d - 1, -1, -1, I.Mg, a, I.hi) || this.La(this.Dh, c - 2, d, -1, -1, I.Mg, a, I.hi) || this.La(this.Fh, c - 2, d - 1, -1, -1, I.Mg, a, I.hi) || this.La(this.gi, c - 2, d - 1, -1, 1, I.Og, a, I.hi) || this.La(this.ji, c - 2, d, -1, 1, I.Og, a, I.hi) || this.La(this.ki, c - 2, d, -1, 1, I.Og, a, I.hi) || this.La(this.li, c - 2, d - 1, -1, 1, I.Og, a, I.hi));
        this.ll();
        this.dc();
      }
    };
    ra.prototype.bg = function () {
      var a, b, c = this.Z ? -1 : 0, d = this.R, f = this.M;
      for (b = 0; 1 >= b; b += 1) {
        var e = Math.round((this.width - d) / 2 - 1) + c + b >> 4;
        var k = Math.round((this.width + d) / 2) + c - b >> 4;
        var g = Math.round((this.height - f) / 2 - 1 + b) + c >> 4;
        var m = Math.round((this.height + f) / 2) + c - b >> 4;
        0 === f && (g = 0, m = (this.height >> 4) - 1);
        0 === d && (e = 0, k = (this.width >> 4) - 1);
        0 > e && (e = 0);
        0 > g && (g = 0);
        k >= this.width >> 4 && (k = (this.width >> 4) - 1);
        m >= this.height >> 4 && (m = (this.height >> 4) - 1);
        if (this.Ne) for (; g <= m; g += 1) {
          var p = this.L[g];
          var n = this.V[g];
          var q = this.qa[g];
          var l = this.B[g];
          for (a = e; a <= k; a += 1) {
            var r = 1 << (~a & 15);
            p[a >> 4] |= r;
            n[a >> 4] |= r;
            q[a >> 4] |= r;
            l[a >> 4] |= r;
          }
        } else {
          for (a = e; a <= k; a += 1) r = 1 << (~a & 15), this.L[g][a >> 4] |= r, this.V[g][a >> 4] |= r, this.qa[g][a >> 4] |= r, this.B[g][a >> 4] |= r, this.L[m][a >> 4] |= r, this.V[m][a >> 4] |= r, this.qa[m][a >> 4] |= r, this.B[m][a >> 4] |= r;
          for (; g <= m; g += 1) r = 1 << (~e & 15), this.L[g][e >> 4] |= r, this.V[g][e >> 4] |= r, this.qa[g][e >> 4] |= r, this.B[g][e >> 4] |= r, r = 1 << (~k & 15), this.L[g][k >> 4] |= r, this.V[g][k >> 4] |= r, this.qa[g][k >> 4] |= r, this.B[g][k >> 4] |= r;
        }
      }
    };
    ra.prototype.on = function (a) {
      var b = this.R, c = this.M, d = Math.round((this.width - b) / 2), f = Math.round((this.height - c) / 2), e = d + b - 1, k = f + c - 1, g = this.Ld, m = this.Md, p = this.B, n = false, q;
      0 === this.R && (d = 0, e = this.width - 1, b = this.width);
      0 === this.M && (f = 0, k = this.height - 1, c = this.height);
      if (0 !== this.M) for (q = 0; q < b; q += 1) {
        var l = d + q;
        var r = d + ((q + g) % b + b) % b;
        var u = a[k][l];
        129 === u && (n = true, a[f - 1][r] = u, p[f - 1 >> 4][r >> 8] |= 1 << (~(r >> 4) & 15), 15 === (f - 1 & 15) && (p[(f - 1 >> 4) + 1][r >> 8] |= 1 << (~(r >> 4) & 15)));
        r = d + ((q - g) % b + b) % b;
        u = a[f][l];
        129 === u && (n = true, a[k + 1][r] = u, p[k + 1 >> 4][r >> 8] |= 1 << (~(r >> 4) & 15), 0 === (k + 1 & 15) && (p[(k + 1 >> 4) - 1][r >> 8] |= 1 << (~(r >> 4) & 15)));
      }
      if (0 !== this.R) for (q = 0; q < c; q += 1) l = f + q, r = f + ((q - m) % c + c) % c, u = a[l][d], 129 === u && (n = true, a[r][e + 1] = u, p[r >> 4][e + 1 >> 8] |= 1 << (~(e + 1 >> 4) & 15), 0 === (e + 1 & 15) && (p[r >> 4][e - 15 >> 8] |= 1 << (~(e - 15 >> 4) & 15))), r = f + ((q + m) % c + c) % c, u = a[l][e], 129 === u && (n = true, a[r][d - 1] = u, p[r >> 4][d - 1 >> 8] |= 1 << (~(d - 1 >> 4) & 15), 15 === (d - 1 & 15) && (p[r >> 4][d + 15 >> 8] |= 1 << (~(d + 15 >> 4) & 15)));
      0 !== this.R && 0 !== this.M && (u = a[f + (c - 1 + m + c) % c][d + (-g + b) % b], 129 === u && (a[f - 1][e + 1] = u, n = true), u = a[f + (c - 1 - m + c) % c][d + (b - 1 - g + b) % b], 129 === u && (a[f - 1][d - 1] = u, n = true), u = a[f + (m + c) % c][d + (g + b) % b], 129 === u && (a[k + 1][e + 1] = u, n = true), u = a[f + (-m + c) % c][d + (b - 1 + g + b) % b], 129 === u && (a[k + 1][d - 1] = u, n = true));
      n && this.gb();
    };
    ra.prototype.cn = function (a) {
      var b = this.B, c = this.R, d = this.M, f = Math.round((this.width - c) / 2), e = Math.round((this.height - d) / 2), k = f + c - 1, g = e + d - 1, m = this.Ld, p = this.Md, n = this.Lf, q = this.Sg, l = false, r;
      for (r = 0; r < c; r += 1) {
        var u = f + r;
        var t = n ? k - (r + m + c) % c : f + (r + m + c) % c;
        var v = a[g][u];
        129 === v && (l = true, a[e - 1][t] = v, b[e - 1 >> 4][t >> 8] |= 1 << (~(t >> 4) & 15), 15 === (e - 1 & 15) && (b[(e - 1 >> 4) + 1][t >> 8] |= 1 << (~(t >> 4) & 15)));
        t = n ? k - (r + m + c) % c : f + (r + m + c) % c;
        v = a[e][u];
        129 === v && (l = true, a[g + 1][t] = v, b[g + 1 >> 4][t >> 8] |= 1 << (~(t >> 4) & 15), 0 === (g + 1 & 15) && (b[(g + 1 >> 4) - 1][t >> 8] |= 1 << (~(t >> 4) & 15)));
      }
      for (r = 0; r < d; r += 1) c = e + r, u = q ? g - (r + p + d) % d : e + (r + p + d) % d, v = a[c][f], 129 === v && (l = true, a[u][k + 1] = v, b[u >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), 0 === (k + 1 & 15) && (b[u >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15))), u = q ? g - (r + p + d) % d : e + (r + p + d) % d, v = a[c][k], 129 === v && (l = true, a[u][f - 1] = v, b[u >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), 15 === (f - 1 & 15) && (b[u >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15)));
      0 !== this.R && 0 !== this.M && this.bn(n, f, e, k, g, m, p, a, b) && (l = true);
      l && this.gb();
    };
    ra.prototype.Zm = function (a) {
      var b = this.qa, c = this.R, d = this.M, f = Math.round((this.width - c) / 2), e = Math.round((this.height - d) / 2), k = f + c - 1, g = e + d - 1, m = false, p;
      for (p = 0; p < c; p += 1) {
        var n = f + p;
        var q = k - p;
        var l = a[g][n];
        129 === l && (m = true, a[e - 1][q] = l, b[e - 1 >> 4][q >> 8] |= 1 << (~(q >> 4) & 15), 15 === (e - 1 & 15) && (b[(e - 1 >> 4) + 1][q >> 8] |= 1 << (~(q >> 4) & 15)));
        l = a[e][n];
        129 === l && (m = true, a[g + 1][q] = l, b[g + 1 >> 4][q >> 8] |= 1 << (~(q >> 4) & 15), 0 === (g + 1 & 15) && (b[(g + 1 >> 4) - 1][q >> 8] |= 1 << (~(q >> 4) & 15)));
      }
      for (p = 0; p <= d; p += 1) n = e + p, q = g - p, l = a[n][f], 129 === l && (m = true, a[q][k + 1] = l, b[q >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), 0 === (k + 1 & 15) && (b[q >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15))), l = a[n][k], 129 === l && (m = true, a[q][f - 1] = l, b[q >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), 15 === (f - 1 & 15) && (b[q >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15)));
      l = a[g][f];
      129 === l && (a[g + 1][f - 1] = l, m = true);
      l = a[g][k];
      129 === l && (a[g + 1][k + 1] = l, m = true);
      l = a[e][f];
      129 === l && (a[e - 1][f - 1] = l, m = true);
      l = a[e][k];
      129 === l && (a[e - 1][k + 1] = l, m = true);
      m && this.gb();
    };
    ra.prototype.mn = function (a) {
      var b = this.qa, c = this.R, d = this.M, f = Math.round((this.width - c) / 2), e = Math.round((this.height - d) / 2), k = f + c - 1;
      d = e + d - 1;
      var g = false, m;
      if (this.Mf) for (m = 0; m < c; m += 1) {
        var p = e + m;
        var n = f + m;
        var q = a[p][f];
        129 === q && (g = true, a[e - 1][n] = q, b[e - 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 15 === (e - 1 & 15) && (b[(e - 1 >> 4) + 1][n >> 8] |= 1 << (~(n >> 4) & 15)));
        q = a[p][k];
        129 === q && (g = true, a[d + 1][n] = q, b[d + 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 0 === (d + 1 & 15) && (b[(d + 1 >> 4) - 1][n >> 8] |= 1 << (~(n >> 4) & 15)));
        q = a[e][n];
        129 === q && (g = true, a[p][f - 1] = q, b[p >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), 15 === (f - 1 & 15) && (b[p >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15)));
        q = a[d][n];
        129 === q && (g = true, a[p][k + 1] = q, b[p >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), 0 === (k + 1 & 15) && (b[p >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15)));
      } else for (m = 0; m < c; m += 1) p = e + m, n = f + (c - m - 1), q = a[p][k], 129 === q && (g = true, a[e - 1][n] = q, b[e - 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 15 === (e - 1 & 15) && (b[(e - 1 >> 4) + 1][n >> 8] |= 1 << (~(n >> 4) & 15))), q = a[p][f], 129 === q && (g = true, a[d + 1][n] = q, b[d + 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 0 === (d + 1 & 15) && (b[(d + 1 >> 4) - 1][n >> 8] |= 1 << (~(n >> 4) & 15))), q = a[e][n], 129 === q && (g = true, a[p][k + 1] = q, b[p >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), 0 === (k + 1 & 15) && (b[p >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15), b[p >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15))), q = a[d][n], 129 === q && (g = true, a[p][f - 1] = q, b[p >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), 15 === (f + 15 & 15) && (b[p >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15)));
      q = a[d][f];
      129 === q && (g = true, a[d + 1][f - 1] = q);
      q = a[d][k];
      129 === q && (g = true, a[d + 1][k + 1] = q);
      q = a[e][f];
      129 === q && (g = true, a[e - 1][f - 1] = q);
      q = a[e][k];
      129 === q && (g = true, a[e - 1][k + 1] = q);
      g && this.gb();
    };
    ra.prototype.rn = function (a) {
      var b = this.R, c = this.M, d = this.Z ? -1 : 0, f = Math.round((this.width - b) / 2) + d;
      d = Math.round((this.height - c) / 2) + d;
      var e = f + b - 1, k = d + c - 1, g = this.Ld, m = this.Md, p = this.B, n;
      0 === this.R && (f = 0, e = this.width - 1, b = this.width);
      0 === this.M && (d = 0, k = this.height - 1, c = this.height);
      if (0 !== this.M) for (n = 0; n < b; n += 1) {
        var q = f + n;
        var l = f + ((n + g) % b + b) % b;
        var r = a[k][q];
        0 !== r && (a[d - 1][l] = r, p[d - 1 >> 4][l >> 8] |= 1 << (~(l >> 4) & 15), 15 === (d - 1 & 15) && (p[(d - 1 >> 4) + 1][l >> 8] |= 1 << (~(l >> 4) & 15)));
        l = f + ((n - g) % b + b) % b;
        r = a[d][q];
        0 !== r && (a[k + 1][l] = r, p[k + 1 >> 4][l >> 8] |= 1 << (~(l >> 4) & 15), 0 === (k + 1 & 15) && (p[(k + 1 >> 4) - 1][l >> 8] |= 1 << (~(l >> 4) & 15)));
      }
      if (0 !== this.R) for (n = 0; n < c; n += 1) q = d + n, l = d + ((n + m) % c + c) % c, r = a[q][f], 0 !== r && (a[l][e + 1] = r, p[l >> 4][e + 1 >> 8] |= 1 << (~(e + 1 >> 4) & 15), 0 === (e + 1 & 15) && (p[l >> 4][e - 15 >> 8] |= 1 << (~(e - 15 >> 4) & 15))), l = d + ((n + m) % c + c) % c, r = a[q][e], 0 !== r && (a[l][f - 1] = r, p[l >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), 15 === (f - 1 & 15) && (p[l >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15)));
      0 !== this.R && 0 !== this.M && (r = a[d + (c - 1 + m + c) % c][f + (-g + b) % b], a[d - 1][e + 1] = r, r = a[d + (c - 1 - m + c) % c][f + (b - 1 - g + b) % b], a[d - 1][f - 1] = r, r = a[d + (m + c) % c][f + (g + b) % b], a[k + 1][e + 1] = r, r = a[d + (-m + c) % c][f + (b - 1 + g + b) % b], a[k + 1][f - 1] = r);
    };
    ra.prototype.dn = function (a) {
      var b = this.B, c = this.R, d = this.M, f = this.Z ? -1 : 0, e = Math.round((this.width - c) / 2) + f;
      f = Math.round((this.height - d) / 2) + f;
      var k = e + c - 1, g = f + d - 1, m = this.Ld, p = this.Md, n = this.Lf, q = this.Sg, l;
      for (l = 0; l < c; l += 1) {
        var r = e + l;
        var u = n ? k - (l + m + c) % c : e + (l + m + c) % c;
        var t = a[g][r];
        0 !== t && (a[f - 1][u] = t, b[f - 1 >> 4][u >> 8] |= 1 << (~(u >> 4) & 15), 15 === (f - 1 & 15) && (b[(f - 1 >> 4) + 1][u >> 8] |= 1 << (~(u >> 4) & 15)));
        u = n ? k - (l + m + c) % c : e + (l + m + c) % c;
        t = a[f][r];
        0 !== t && (a[g + 1][u] = t, b[g + 1 >> 4][u >> 8] |= 1 << (~(u >> 4) & 15), 0 === (g + 1 & 15) && (b[(g + 1 >> 4) - 1][u >> 8] |= 1 << (~(u >> 4) & 15)));
      }
      for (l = 0; l < d; l += 1) c = f + l, r = q ? g - (l + p + d) % d : f + (l + p + d) % d, t = a[c][e], 0 !== t && (a[r][k + 1] = t, b[r >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), 0 === (k + 1 & 15) && (b[r >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15))), r = q ? g - (l + p + d) % d : f + (l + p + d) % d, t = a[c][k], 0 !== t && (a[r][e - 1] = t, b[r >> 4][e - 1 >> 8] |= 1 << (~(e - 1 >> 4) & 15), 15 === (e - 1 & 15) && (b[r >> 4][e + 15 >> 8] |= 1 << (~(e + 15 >> 4) & 15)));
      0 !== this.R && 0 !== this.M && this.km(n, e, f, k, g, m, p, a, b);
    };
    ra.prototype.$m = function (a) {
      var b = this.qa, c = this.R, d = this.M, f = this.Z ? -1 : 0, e = Math.round((this.width - c) / 2) + f;
      f = Math.round((this.height - d) / 2) + f;
      var k = e + c - 1, g = f + d - 1, m;
      for (m = 0; m < c; m += 1) {
        var p = e + m;
        var n = k - m;
        var q = a[g][p];
        0 !== q && (a[f - 1][n] = q, b[f - 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 15 === (f - 1 & 15) && (b[(f - 1 >> 4) + 1][n >> 8] |= 1 << (~(n >> 4) & 15)));
        q = a[f][p];
        0 !== q && (a[g + 1][n] = q, b[g + 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 0 === (g + 1 & 15) && (b[(g + 1 >> 4) - 1][n >> 8] |= 1 << (~(n >> 4) & 15)));
      }
      for (m = 0; m <= d; m += 1) p = f + m, n = g - m, q = a[p][e], 0 !== q && (a[n][k + 1] = q, b[n >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), 0 === (k + 1 & 15) && (b[n >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15))), q = a[p][k], 0 !== q && (a[n][e - 1] = q, b[n >> 4][e - 1 >> 8] |= 1 << (~(e - 1 >> 4) & 15), 15 === (e - 1 & 15) && (b[n >> 4][e + 15 >> 8] |= 1 << (~(e + 15 >> 4) & 15)));
      q = a[g][e];
      a[g + 1][e - 1] = q;
      q = a[g][k];
      a[g + 1][k + 1] = q;
      q = a[f][e];
      a[f - 1][e - 1] = q;
      q = a[f][k];
      a[f - 1][k + 1] = q;
    };
    ra.prototype.nn = function (a) {
      var b = this.qa, c = this.R, d = this.M, f = this.Z ? -1 : 0, e = Math.round((this.width - c) / 2) + f;
      f = Math.round((this.height - d) / 2) + f;
      var k = e + c - 1;
      d = f + d - 1;
      var g = this.v, m;
      if (this.Mf) for (m = 0; m < c; m += 1) {
        var p = f + m;
        var n = e + m;
        var q = a[p][e];
        q > g && (this.i && (q -= g, q = (q >> 1 & 15 | (q & 1) << 3) + g), a[f - 1][n] = q, b[f - 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 15 === (f - 1 & 15) && (b[(f - 1 >> 4) + 1][n >> 8] |= 1 << (~(n >> 4) & 15)));
        q = a[p][k];
        q > g && (this.i && (q -= g, q = (q >> 1 & 15 | (q & 1) << 3) + g), a[d + 1][n] = q, b[d + 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 0 === (d + 1 & 15) && (b[(d + 1 >> 4) - 1][n >> 8] |= 1 << (~(n >> 4) & 15)));
        q = a[f][n];
        q > g && (this.i && (q -= g, q = (q << 1 & 15 | (q & 8) >> 3) + g), a[p][e - 1] = q, b[p >> 4][e - 1 >> 8] |= 1 << (~(e - 1 >> 4) & 15), 15 === (e - 1 & 15) && (b[p >> 4][e + 15 >> 8] |= 1 << (~(e + 15 >> 4) & 15)));
        q = a[d][n];
        q > g && (this.i && (q -= g, q = (q << 1 & 15 | (q & 8) >> 3) + g), a[p][k + 1] = q, b[p >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), 0 === (k + 1 & 15) && (b[p >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15)));
      } else for (m = 0; m < c; m += 1) p = f + m, n = e + (c - m - 1), q = a[p][k], q > g && (this.i && (q -= g, q = (q << 1 & 15 | (q & 8) >> 3) + g), a[f - 1][n] = q, b[f - 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 15 === (f - 1 & 15) && (b[(f - 1 >> 4) + 1][n >> 8] |= 1 << (~(n >> 4) & 15))), q = a[p][e], q > g && (this.i && (q -= g, q = (q << 1 & 15 | (q & 8) >> 3) + g), a[d + 1][n] = q, b[d + 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 0 === (d + 1 & 15) && (b[(d + 1 >> 4) - 1][n >> 8] |= 1 << (~(n >> 4) & 15))), q = a[f][n], q > g && (this.i && (q -= g, q = (q >> 1 & 15 | (q & 1) << 3) + g), a[p][k + 1] = q, b[p >> 4][e - 1 >> 8] |= 1 << (~(e - 1 >> 4) & 15), 0 === (k + 1 & 15) && (b[p >> 4][e + 15 >> 8] |= 1 << (~(e + 15 >> 4) & 15), b[p >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15))), q = a[d][n], q > g && (this.i && (q -= g, q = (q >> 1 & 15 | (q & 1) << 3) + g), a[p][e - 1] = q, b[p >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), 15 === (e + 15 & 15) && (b[p >> 4][e + 15 >> 8] |= 1 << (~(e + 15 >> 4) & 15)));
      q = a[d][e];
      a[d + 1][e - 1] = q;
      q = a[d][k];
      a[d + 1][k + 1] = q;
      q = a[f][e];
      a[f - 1][e - 1] = q;
      q = a[f][k];
      a[f - 1][k + 1] = q;
    };
    ra.prototype.Ej = function () {
      var a = this.qa, b = this.R, c = this.M;
      var d = this.Z ? -1 : 0;
      var f = Math.round((this.width - b) / 2) + d, e = Math.round((this.height - c) / 2) + d, k = f + b - 1, g = e + c - 1, m = this.Ld, p = this.Md, n = this.X && 0 < f && k < this.width - 1, q;
      if (0 !== (this.counter & 1)) {
        d = this.Qa;
        var l = this.V;
      } else d = this.wa, l = this.L;
      0 === this.R && (f = 0, k = this.width - 1, b = this.width);
      0 === this.M && (e = 0, g = this.height - 1, c = this.height);
      if (0 !== this.M) for (q = 0; q < b; q += 1) {
        var r = f + q;
        var u = f + ((q + m) % b + b) % b;
        0 !== (d[g][r >> 4] & 1 << (~r & 15)) && (d[e - 1][u >> 4] |= 1 << (~u & 15), l[e - 1 >> 4][u >> 8] |= 1 << (~(u >> 4) & 15), a[e - 1 >> 4][u >> 8] |= 1 << (~(u >> 4) & 15), 15 === (e - 1 & 15) && (l[(e - 1 >> 4) + 1][u >> 8] |= 1 << (~(u >> 4) & 15), a[(e - 1 >> 4) + 1][u >> 8] |= 1 << (~(u >> 4) & 15)));
        u = f + ((q - m) % b + b) % b;
        0 !== (d[e][r >> 4] & 1 << (~r & 15)) && (d[g + 1][u >> 4] |= 1 << (~u & 15), l[g + 1 >> 4][u >> 8] |= 1 << (~(u >> 4) & 15), a[g + 1 >> 4][u >> 8] |= 1 << (~(u >> 4) & 15), 0 === (g + 1 & 15) && (l[(g + 1 >> 4) - 1][u >> 8] |= 1 << (~(u >> 4) & 15), a[(g + 1 >> 4) - 1][u >> 8] |= 1 << (~(u >> 4) & 15)));
      }
      if (0 !== this.R) for (q = 0; q < c; q += 1) r = e + q, u = e + ((q - p) % c + c) % c, 0 !== (d[r][f >> 4] & 1 << (~f & 15)) && (d[u][k + 1 >> 4] |= 1 << (~(k + 1) & 15), l[u >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), a[u >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), 0 === (k + 1 & 15) && (l[u >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15), a[u >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15))), n && (f += 1, k += 1, 0 !== (d[r][f >> 4] & 1 << (~f & 15)) && (d[u][k + 1 >> 4] |= 1 << (~(k + 1) & 15), l[u >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), a[u >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), 0 === (k + 1 & 15) && (l[u >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15), a[u >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15))), --f, --k), u = e + ((q + p) % c + c) % c, 0 !== (d[r][k >> 4] & 1 << (~k & 15)) && (d[u][f - 1 >> 4] |= 1 << (~(f - 1) & 15), l[u >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), a[u >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), 15 === (f - 1 & 15) && (l[u >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15), a[u >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15))), n && (--f, --k, 0 !== (d[r][k >> 4] & 1 << (~k & 15)) && (d[u][f - 1 >> 4] |= 1 << (~(f - 1) & 15), l[u >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), a[u >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), 15 === (f - 1 & 15) && (l[u >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15), a[u >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15))), f += 1, k += 1);
      0 !== this.R && 0 !== this.M && (r = f + (-m + b) % b, d[e - 1][k + 1 >> 4] = 0 !== (d[e + (c - 1 + p + c) % c][r >> 4] & 1 << (~r & 15)) ? d[e - 1][k + 1 >> 4] | 1 << (~(k + 1) & 15) : d[e - 1][k + 1 >> 4] & ~(1 << (~(k + 1) & 15)), r = f + (b - 1 - m + b) % b, d[e - 1][f - 1 >> 4] = 0 !== (d[e + (c - 1 - p + c) % c][r >> 4] & 1 << (~r & 15)) ? d[e - 1][f - 1 >> 4] | 1 << (~(f - 1) & 15) : d[e - 1][f - 1 >> 4] & ~(1 << (~(f - 1) & 15)), r = f + (m + b) % b, d[g + 1][k + 1 >> 4] = 0 !== (d[e + (p + c) % c][r >> 4] & 1 << (~r & 15)) ? d[g + 1][k + 1 >> 4] | 1 << (~(k + 1) & 15) : d[g + 1][k + 1 >> 4] & ~(1 << (~(k + 1) & 15)), r = f + (b - 1 + m + b) % b, d[g + 1][f - 1 >> 4] = 0 !== (d[e + (-p + c) % c][r >> 4] & 1 << (~r & 15)) ? d[g + 1][f - 1 >> 4] | 1 << (~(f - 1) & 15) : d[g + 1][f - 1 >> 4] & ~(1 << (~(f - 1) & 15)), n && (f += 1, k += 1, r = f + (-m + b) % b, d[e - 1][k + 1 >> 4] = 0 !== (d[e + (c - 1 + p + c) % c][r >> 4] & 1 << (~r & 15)) ? d[e - 1][k + 1 >> 4] | 1 << (~(k + 1) & 15) : d[e - 1][k + 1 >> 4] & ~(1 << (~(k + 1) & 15)), r = f + (b - 1 - m + b) % b, d[e - 1][f - 1 >> 4] = 0 !== (d[e + (c - 1 - p + c) % c][r >> 4] & 1 << (~r & 15)) ? d[e - 1][f - 1 >> 4] | 1 << (~(f - 1) & 15) : d[e - 1][f - 1 >> 4] & ~(1 << (~(f - 1) & 15)), r = f + (m + b) % b, d[g + 1][k + 1 >> 4] = 0 !== (d[e + (p + c) % c][r >> 4] & 1 << (~r & 15)) ? d[g + 1][k + 1 >> 4] | 1 << (~(k + 1) & 15) : d[g + 1][k + 1 >> 4] & ~(1 << (~(k + 1) & 15)), r = f + (b - 1 + m + b) % b, d[g + 1][f - 1 >> 4] = 0 !== (d[e + (-p + c) % c][r >> 4] & 1 << (~r & 15)) ? d[g + 1][f - 1 >> 4] | 1 << (~(f - 1) & 15) : d[g + 1][f - 1 >> 4] & ~(1 << (~(f - 1) & 15)), f -= 2, k -= 2, r = f + (-m + b) % b, d[e - 1][k + 1 >> 4] = 0 !== (d[e + (c - 1 + p + c) % c][r >> 4] & 1 << (~r & 15)) ? d[e - 1][k + 1 >> 4] | 1 << (~(k + 1) & 15) : d[e - 1][k + 1 >> 4] & ~(1 << (~(k + 1) & 15)), r = f + (b - 1 - m + b) % b, d[e - 1][f - 1 >> 4] = 0 !== (d[e + (c - 1 - p + c) % c][r >> 4] & 1 << (~r & 15)) ? d[e - 1][f - 1 >> 4] | 1 << (~(f - 1) & 15) : d[e - 1][f - 1 >> 4] & ~(1 << (~(f - 1) & 15)), r = f + (m + b) % b, d[g + 1][k + 1 >> 4] = 0 !== (d[e + (p + c) % c][r >> 4] & 1 << (~r & 15)) ? d[g + 1][k + 1 >> 4] | 1 << (~(k + 1) & 15) : d[g + 1][k + 1 >> 4] & ~(1 << (~(k + 1) & 15)), r = f + (b - 1 + m + b) % b, d[g + 1][f - 1 >> 4] = 0 !== (d[e + (-p + c) % c][r >> 4] & 1 << (~r & 15)) ? d[g + 1][f - 1 >> 4] | 1 << (~(f - 1) & 15) : d[g + 1][f - 1 >> 4] & ~(1 << (~(f - 1) & 15))));
    };
    ra.prototype.bn = function (a, b, c, d, f, e, k, g, m) {
      var p = false;
      if (a) {
        k = d - e;
        k < b && (k = d);
        var n = d + 1;
        var q = c - 1;
        a = g[f][k];
        129 === a && (p = true, g[q][n] = a, m[q >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 15 === (q & 15) && (m[(q >> 4) + 1][n >> 8] |= 1 << (~(n >> 4) & 15)));
        k = b - e;
        k < b && (k = d);
        var l = f;
        n = b - 1;
        q = c - 1;
        a = g[l][k];
        129 === a && (p = true, g[q][n] = a, m[q >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 15 === (q & 15) && (m[(q >> 4) + 1][n >> 8] |= 1 << (~(n >> 4) & 15)));
        0 !== (g[l][k >> 4] & 1 << (~k & 15)) && (g[c - 1][b - 1 >> 4] |= 1 << (~(b - 1) & 15));
        k = d - e;
        k < b && (k = d);
        n = d + 1;
        q = f + 1;
        a = g[c][k];
        129 === a && (p = true, g[q][n] = a, m[q >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 15 === (q & 15) && (m[(q >> 4) - 1][n >> 8] |= 1 << (~(n >> 4) & 15)));
        k = b - e;
        k < b && (k = d);
        n = b - 1;
        q = f + 1;
        a = g[c][k];
        129 === a && (p = true, g[q][n] = a, m[q >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 15 === (q & 15) && (m[(q >> 4) - 1][n >> 8] |= 1 << (~(n >> 4) & 15)));
      } else l = c - k, l < c && (l = f), n = d + 1, q = c - 1, a = g[l][b], 129 === a && (p = true, g[q][n] = a, m[q >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 15 === (q & 15) && (m[(q >> 4) + 1][n >> 8] |= 1 << (~(n >> 4) & 15))), l = c - k, l < c && (l = f), n = b - 1, q = c - 1, a = g[l][d], 129 === a && (p = true, g[q][n] = a, m[q >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 15 === (q & 15) && (m[(q >> 4) + 1][n >> 8] |= 1 << (~(n >> 4) & 15))), l = f - k, l < c && (l = f), n = d + 1, q = f + 1, a = g[l][b], 129 === a && (p = true, g[q][n] = a, m[q >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 15 === (q & 15) && (m[(q >> 4) + 1][n >> 8] |= 1 << (~(n >> 4) & 15))), l = f - k, l < c && (l = f), n = b - 1, q = f + 1, a = g[l][d], 129 === a && (p = true, g[q][n] = a, m[q >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 15 === (q & 15) && (m[(q >> 4) + 1][n >> 8] |= 1 << (~(n >> 4) & 15)));
      return p;
    };
    ra.prototype.km = function (a, b, c, d, f, e, k, g, m) {
      if (a) {
        k = d - e;
        k < b && (k = d);
        a = c - 1;
        var p = g[f][k];
        0 !== p && (g[a][d + 1] = p, m[a >> 4][b - 1 >> 8] |= 1 << (~(b - 1 >> 4) & 15));
        k = b - e;
        k < b && (k = d);
        a = c - 1;
        p = g[f][k];
        0 !== p && (g[a][b - 1] = p, m[a >> 4][b - 1 >> 8] |= 1 << (~(b - 1 >> 4) & 15));
        k = d - e;
        k < b && (k = d);
        a = f + 1;
        p = g[c][k];
        0 !== p && (g[a][d + 1] = p, m[a >> 4][b - 1 >> 8] |= 1 << (~(b - 1 >> 4) & 15));
        k = b - e;
        k < b && (k = d);
        e = b - 1;
        a = f + 1;
        p = g[c][k];
      } else p = c - k, p < c && (p = f), a = c - 1, p = g[p][b], 0 !== p && (g[a][d + 1] = p, m[a >> 4][b - 1 >> 8] |= 1 << (~(b - 1 >> 4) & 15)), p = c - k, p < c && (p = f), a = c - 1, p = g[p][d], 0 !== p && (g[a][b - 1] = p, m[a >> 4][b - 1 >> 8] |= 1 << (~(b - 1 >> 4) & 15)), p = f - k, p < c && (p = f), a = f + 1, p = g[p][b], 0 !== p && (g[a][d + 1] = p, m[a >> 4][b - 1 >> 8] |= 1 << (~(b - 1 >> 4) & 15)), p = f - k, p < c && (p = f), e = b - 1, a = f + 1, p = g[p][d];
      0 !== p && (g[a][e] = p, m[a >> 4][b - 1 >> 8] |= 1 << (~(b - 1 >> 4) & 15));
    };
    ra.prototype.Hi = function (a, b, c, d, f, e, k, g) {
      a ? (a = d - e, a < b && (a = d), 0 !== (g[f][a >> 4] & 1 << (~a & 15)) && (g[c - 1][d + 1 >> 4] |= 1 << (~(d + 1) & 15)), a = b - e, a < b && (a = d), 0 !== (g[f][a >> 4] & 1 << (~a & 15)) && (g[c - 1][b - 1 >> 4] |= 1 << (~(b - 1) & 15)), a = d - e, a < b && (a = d), 0 !== (g[c][a >> 4] & 1 << (~a & 15)) && (g[f + 1][d + 1 >> 4] |= 1 << (~(d + 1) & 15)), a = b - e, a < b && (a = d), 0 !== (g[c][a >> 4] & 1 << (~a & 15)) && (g[f + 1][b - 1 >> 4] |= 1 << (~(b - 1) & 15))) : (a = b, e = c - k, e < c && (e = f), 0 !== (g[e][a >> 4] & 1 << (~a & 15)) && (g[c - 1][d + 1 >> 4] |= 1 << (~(d + 1) & 15)), a = d, e = c - k, e < c && (e = f), 0 !== (g[e][a >> 4] & 1 << (~a & 15)) && (g[c - 1][b - 1 >> 4] |= 1 << (~(b - 1) & 15)), a = b, e = f - k, e < c && (e = f), 0 !== (g[e][a >> 4] & 1 << (~a & 15)) && (g[f + 1][d + 1 >> 4] |= 1 << (~(d + 1) & 15)), a = d, e = f - k, e < c && (e = f), 0 !== (g[e][a >> 4] & 1 << (~a & 15)) && (g[f + 1][b - 1 >> 4] |= 1 << (~(b - 1) & 15)));
    };
    ra.prototype.lk = function () {
      var a = this.qa, b = this.R, c = this.M;
      var d = this.Z ? -1 : 0;
      var f = Math.round((this.width - b) / 2) + d, e = Math.round((this.height - c) / 2) + d, k = f + b - 1, g = e + c - 1, m = this.Ld, p = this.Md, n = this.Lf, q = this.Sg, l = this.X && 0 < f && k < this.width - 1, r;
      if (0 !== (this.counter & 1)) {
        d = this.Qa;
        var u = this.V;
      } else d = this.wa, u = this.L;
      for (r = 0; r < b; r += 1) {
        var t = f + r;
        var v = n ? k - (r + m) % b : t;
        0 !== (d[g][v >> 4] & 1 << (~v & 15)) && (d[e - 1][t >> 4] |= 1 << (~t & 15), u[e - 1 >> 4][t >> 8] |= 1 << (~(t >> 4) & 15), a[e - 1 >> 4][t >> 8] |= 1 << (~(t >> 4) & 15), 15 === (e - 1 & 15) && (u[(e - 1 >> 4) + 1][t >> 8] |= 1 << (~(t >> 4) & 15), a[(e - 1 >> 4) + 1][t >> 8] |= 1 << (~(t >> 4) & 15)));
        0 !== (d[e][v >> 4] & 1 << (~v & 15)) && (d[g + 1][t >> 4] |= 1 << (~t & 15), u[g + 1 >> 4][t >> 8] |= 1 << (~(t >> 4) & 15), a[g + 1 >> 4][t >> 8] |= 1 << (~(t >> 4) & 15), 0 === (g + 1 & 15) && (u[(g + 1 >> 4) - 1][t >> 8] |= 1 << (~(t >> 4) & 15), a[(g + 1 >> 4) - 1][t >> 8] |= 1 << (~(t >> 4) & 15)));
      }
      for (r = 0; r < c; r += 1) v = e + r, b = q ? g - (r + p) % c : v, 0 !== (d[b][f >> 4] & 1 << (~f & 15)) && (d[v][k + 1 >> 4] |= 1 << (~(k + 1) & 15), u[v >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), a[v >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), 0 === (k + 1 & 15) && (u[v >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15), a[v >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15))), l && (f += 1, k += 1, 0 !== (d[b][f >> 4] & 1 << (~f & 15)) && (d[v][k + 1 >> 4] |= 1 << (~(k + 1) & 15), u[v >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), a[v >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), 0 === (k + 1 & 15) && (u[v >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15), a[v >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15))), --f, --k), 0 !== (d[b][k >> 4] & 1 << (~k & 15)) && (d[v][f - 1 >> 4] |= 1 << (~(f - 1) & 15), u[v >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), a[v >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), 15 === (f - 1 & 15) && (u[v >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15), a[v >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15))), l && (--f, --k, 0 !== (d[b][k >> 4] & 1 << (~k & 15)) && (d[v][f - 1 >> 4] |= 1 << (~(f - 1) & 15), u[v >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), a[v >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), 15 === (f - 1 & 15) && (u[v >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15), a[v >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15))), f += 1, k += 1);
      0 !== this.R && 0 !== this.M && (this.Hi(n, f, e, k, g, m, p, d), l && (f += 1, k += 1, this.Hi(n, f, e, k, g, m, p, d), this.Hi(n, f - 2, e, k - 2, g, m, p, d)));
    };
    ra.prototype.kk = function () {
      var a = this.qa, b = this.R, c = this.M;
      var d = this.Z ? -1 : 0;
      var f = Math.round((this.width - b) / 2) + d, e = Math.round((this.height - c) / 2) + d, k = f + b - 1, g = e + c - 1, m = this.X && 0 < f && k < this.width - 1, p;
      if (0 !== (this.counter & 1)) {
        d = this.Qa;
        var n = this.V;
      } else d = this.wa, n = this.L;
      for (p = 0; p < b; p += 1) {
        var q = f + p;
        var l = k - p;
        0 !== (d[g][q >> 4] & 1 << (~q & 15)) && (d[e - 1][l >> 4] |= 1 << (~l & 15), n[e - 1 >> 4][l >> 8] |= 1 << (~(l >> 4) & 15), a[e - 1 >> 4][l >> 8] |= 1 << (~(l >> 4) & 15), 15 === (e - 1 & 15) && (n[(e - 1 >> 4) + 1][l >> 8] |= 1 << (~(l >> 4) & 15), a[(e - 1 >> 4) + 1][l >> 8] |= 1 << (~(l >> 4) & 15)));
        0 !== (d[e][q >> 4] & 1 << (~q & 15)) && (d[g + 1][l >> 4] |= 1 << (~l & 15), n[g + 1 >> 4][l >> 8] |= 1 << (~(l >> 4) & 15), a[g + 1 >> 4][l >> 8] |= 1 << (~(l >> 4) & 15), 0 === (g + 1 & 15) && (n[(g + 1 >> 4) - 1][l >> 8] |= 1 << (~(l >> 4) & 15), a[(g + 1 >> 4) - 1][l >> 8] |= 1 << (~(l >> 4) & 15)));
      }
      for (p = 0; p < c; p += 1) q = e + p, l = g - p, 0 !== (d[q][f >> 4] & 1 << (~f & 15)) && (d[l][k + 1 >> 4] |= 1 << (~(k + 1) & 15), n[l >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), a[l >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), 0 === (k + 1 & 15) && (n[l >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15), a[l >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15))), m && (f += 1, k += 1, 0 !== (d[q][f >> 4] & 1 << (~f & 15)) && (d[l][k + 1 >> 4] |= 1 << (~(k + 1) & 15), n[l >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), a[l >> 4][k + 1 >> 8] |= 1 << (~(k + 1 >> 4) & 15), 0 === (k + 1 & 15) && (n[l >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15), a[l >> 4][k - 15 >> 8] |= 1 << (~(k - 15 >> 4) & 15))), --f, --k), 0 !== (d[q][k >> 4] & 1 << (~k & 15)) && (d[l][f - 1 >> 4] |= 1 << (~(f - 1) & 15), n[l >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), a[l >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), 15 === (f - 1 & 15) && (n[l >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15), a[l >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15))), m && (--f, --k, 0 !== (d[q][k >> 4] & 1 << (~k & 15)) && (d[l][f - 1 >> 4] |= 1 << (~(f - 1) & 15), n[l >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), a[l >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), 15 === (f - 1 & 15) && (n[l >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15), a[l >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15))), f += 1, k += 1);
      0 !== this.R && 0 !== this.M && (0 !== (d[g][f >> 4] & 1 << (~f & 15)) && (d[g + 1][f - 1 >> 4] |= 1 << (~(f - 1) & 15)), 0 !== (d[g][k >> 4] & 1 << (~k & 15)) && (d[g + 1][k + 1 >> 4] |= 1 << (~(k + 1) & 15)), 0 !== (d[e][f >> 4] & 1 << (~f & 15)) && (d[e - 1][f - 1 >> 4] |= 1 << (~(f - 1) & 15)), 0 !== (d[e][k >> 4] & 1 << (~k & 15)) && (d[e - 1][k + 1 >> 4] |= 1 << (~(k + 1) & 15)), m && (f += 1, k += 1, 0 !== (d[g][f >> 4] & 1 << (~f & 15)) && (d[g + 1][f - 1 >> 4] |= 1 << (~(f - 1) & 15)), 0 !== (d[g][k >> 4] & 1 << (~k & 15)) && (d[g + 1][k + 1 >> 4] |= 1 << (~(k + 1) & 15)), 0 !== (d[e][f >> 4] & 1 << (~f & 15)) && (d[e - 1][f - 1 >> 4] |= 1 << (~(f - 1) & 15)), 0 !== (d[e][k >> 4] & 1 << (~k & 15)) && (d[e - 1][k + 1 >> 4] |= 1 << (~(k + 1) & 15)), f -= 2, k -= 2, 0 !== (d[g][f >> 4] & 1 << (~f & 15)) && (d[g + 1][f - 1 >> 4] |= 1 << (~(f - 1) & 15)), 0 !== (d[g][k >> 4] & 1 << (~k & 15)) && (d[g + 1][k + 1 >> 4] |= 1 << (~(k + 1) & 15)), 0 !== (d[e][f >> 4] & 1 << (~f & 15)) && (d[e - 1][f - 1 >> 4] |= 1 << (~(f - 1) & 15)), 0 !== (d[e][k >> 4] & 1 << (~k & 15)) && (d[e - 1][k + 1 >> 4] |= 1 << (~(k + 1) & 15))));
    };
    ra.prototype.Dj = function () {
      var a = this.qa, b = this.R;
      var c = this.M;
      var d = this.Z ? -1 : 0, f = Math.round((this.width - b) / 2) + d;
      d = Math.round((this.height - c) / 2) + d;
      var e = f + b - 1, k = d + c - 1, g;
      if (0 !== (this.counter & 1)) {
        c = this.Qa;
        var m = this.V;
      } else c = this.wa, m = this.L;
      if (this.Mf) for (g = 0; g < b; g += 1) {
        var p = d + g;
        var n = f + g;
        0 !== (c[p][f >> 4] & 1 << (~f & 15)) && (c[d - 1][n >> 4] |= 1 << (~n & 15), m[d - 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), a[d - 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 15 === (d - 1 & 15) && (m[(d - 1 >> 4) + 1][n >> 8] |= 1 << (~(n >> 4) & 15), a[(d - 1 >> 4) + 1][n >> 8] |= 1 << (~(n >> 4) & 15)));
        0 !== (c[p][e >> 4] & 1 << (~e & 15)) && (c[k + 1][n >> 4] |= 1 << (~n & 15), m[k + 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), a[k + 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 0 === (k + 1 & 15) && (m[(k + 1 >> 4) - 1][n >> 8] |= 1 << (~(n >> 4) & 15), a[(k + 1 >> 4) - 1][n >> 8] |= 1 << (~(n >> 4) & 15)));
        0 !== (c[d][n >> 4] & 1 << (~n & 15)) && (c[p][f - 1 >> 4] |= 1 << (~(f - 1) & 15), m[p >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), a[p >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), 15 === (f - 1 & 15) && (m[p >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15), a[p >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15)));
        0 !== (c[k][n >> 4] & 1 << (~n & 15)) && (c[p][e + 1 >> 4] |= 1 << (~(e + 1) & 15), m[p >> 4][e + 1 >> 8] |= 1 << (~(e + 1 >> 4) & 15), a[p >> 4][e + 1 >> 8] |= 1 << (~(e + 1 >> 4) & 15), 0 === (e + 1 & 15) && (m[p >> 4][e - 15 >> 8] |= 1 << (~(e - 15 >> 4) & 15), a[p >> 4][e - 15 >> 8] |= 1 << (~(e - 15 >> 4) & 15)));
      } else for (g = 0; g < b; g += 1) p = d + g, n = f + (b - g - 1), 0 !== (c[p][e >> 4] & 1 << (~e & 15)) && (c[d - 1][n >> 4] |= 1 << (~n & 15), m[d - 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), a[d - 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 15 === (d - 1 & 15) && (m[(d - 1 >> 4) + 1][n >> 8] |= 1 << (~(n >> 4) & 15), a[(d - 1 >> 4) + 1][n >> 8] |= 1 << (~(n >> 4) & 15))), 0 !== (c[p][f >> 4] & 1 << (~f & 15)) && (c[k + 1][n >> 4] |= 1 << (~n & 15), m[k + 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), a[k + 1 >> 4][n >> 8] |= 1 << (~(n >> 4) & 15), 0 === (k + 1 & 15) && (m[(k + 1 >> 4) - 1][n >> 8] |= 1 << (~(n >> 4) & 15), a[(k + 1 >> 4) - 1][n >> 8] |= 1 << (~(n >> 4) & 15))), 0 !== (c[d][n >> 4] & 1 << (~n & 15)) && (c[p][e + 1 >> 4] |= 1 << (~(e + 1) & 15), m[p >> 4][e + 1 >> 8] |= 1 << (~(e + 1 >> 4) & 15), a[p >> 4][e + 1 >> 8] |= 1 << (~(e + 1 >> 4) & 15), 15 === (e + 1 & 15) && (m[p >> 4][e - 15 >> 8] |= 1 << (~(e - 15 >> 4) & 15), a[p >> 4][e - 15 >> 8] |= 1 << (~(e - 15 >> 4) & 15))), 0 !== (c[k][n >> 4] & 1 << (~n & 15)) && (c[p][f - 1 >> 4] |= 1 << (~(f - 1) & 15), m[p >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), a[p >> 4][f - 1 >> 8] |= 1 << (~(f - 1 >> 4) & 15), 0 === (f - 1 & 15) && (m[p >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15), a[p >> 4][f + 15 >> 8] |= 1 << (~(f + 15 >> 4) & 15)));
      0 !== (c[k][f >> 4] & 1 << (~f & 15)) && (c[k + 1][f - 1 >> 4] |= 1 << (~(f - 1) & 15));
      0 !== (c[k][e >> 4] & 1 << (~e & 15)) && (c[k + 1][e + 1 >> 4] |= 1 << (~(e + 1) & 15));
      0 !== (c[d][f >> 4] & 1 << (~f & 15)) && (c[d - 1][f - 1 >> 4] |= 1 << (~(f - 1) & 15));
      0 !== (c[d][e >> 4] & 1 << (~e & 15)) && (c[d - 1][e + 1 >> 4] |= 1 << (~(e + 1) & 15));
    };
    ra.prototype.Xm = function () {
      var a, b = 1;
      0 !== this.C && (b = 2);
      this.X && (b += 1);
      for (a = 1; a <= b + 1; a += 1) this.pl(a);
      this.H && this.ul();
      this.Ne && this.Ll();
    };
    ra.prototype.Ym = function () {
      var a = this.m, b = this.Ca;
      (this.i || this.s || this.l || this.A) && 0 !== (this.counter & 1) && (a = this.W);
      this.Te(a, 0);
      this.bg();
      switch (this.C) {
        case 1:
          this.i || this.s || this.l || this.A ? (this.rn(a), (this.l || this.A) && this.Ej()) : (this.Ej(), this.H && this.on(b));
          break;
        case 2:
          this.i || this.s || this.l || this.A ? (this.dn(a), (this.l || this.A) && this.lk()) : (this.lk(), this.H && this.cn(b));
          break;
        case 3:
          this.i || this.s || this.l || this.A ? (this.$m(a), (this.l || this.A) && this.kk()) : (this.kk(), this.H && this.Zm(b));
          break;
        case 4:
          this.i || this.s || this.l || this.A ? (this.nn(a), (this.l || this.A) && this.Dj()) : (this.Dj(), this.H && this.mn(b));
      }
      this.bg();
    };
    ra.prototype.rf = function (a) {
      this.Th && (this.We += I.ap, this.ph(a), this.Th = false);
    };
    ra.prototype.hf = function (a) {
      this.fa ? this.counter += 1 : this.ln(a);
    };
    ra.prototype.ln = function (a) {
      var b = this.u, c = this.Oa;
      this.Th = this.counter !== this.We - 1 || a ? false : true;
      -1 === this.C || this.Ea || this.Ym();
      this.wc && this.Im();
      this.s ? null === this.Pb ? this.Hm() : this.Bm() : this.i ? this.tm() : this.Ea ? this.O.Ia(this.counter) : this.Z ? this.rm() : this.X ? this.Vm() : this.A || this.Tm();
      this.counter += 1;
      if (this.Z || this.i) this.Xa ? --this.Hb : this.Hb += 1, this.Hb > this.fe && (this.fe = this.Hb);
      -1 === this.h || this.Ea || this.i || this.s || this.l || this.A || this.pm();
      this.l && this.Lm();
      this.A && this.to();
      this.wc && this.Gm();
      -1 === this.C || this.Ea || this.Xm();
      if (this.width === this.T || this.height === this.T) if (a = this.Ea ? 2 * this.O.o : this.A || this.s ? 1 : 16, b.F < a || b.J >= this.T - a || b.G < a || b.K >= this.T - a) a = this.o, this.Ea ? this.El() : this.s ? this.Ql() : this.A ? this.zl() : this.Bl(), a !== this.o && (this.Wb = true, this.dc());
      0 < this.o && (b.F < c.F && (c.F = b.F), b.J > c.J && (c.J = b.J), b.G < c.G && (c.G = b.G), b.K > c.K && (c.K = b.K));
    };
    ra.prototype.Jg = function () {
      var a = this.counter >> I.tj, b = this.counter & (1 << I.tj) - 1;
      this.counter < I.Vp && (this.o > this.Tf && (this.Tf = this.o), this.ma > this.ih && (this.ih = this.ma), this.aa > this.Rf && (this.Rf = this.aa), this.Fc && 0 < this.Fc.length && (this.counter >= this.Xf && (Array.yo(this.Fc, "Life.popGraphData"), Array.yo(this.df, "Life.birthGraphData"), Array.yo(this.Ef, "Life.deathGraphData"), this.Xf += 1 << I.tj), this.Fc[a][b] = this.o, this.df[a][b] = this.ma, this.Ef[a][b] = this.aa));
    };
    ra.prototype.Ji = function (a, b, c, d, f, e, k, g) {
      var m = 1, p, n = (1 << I.tj) - 1, q = I.Vp;
      var l = this.counter;
      l > q && (l = q);
      l > c && (m = c / l);
      if (g) {
        a.strokeStyle = b;
        a.beginPath();
        var r = d - k[0][0] / this.dd * d | 0;
        a.moveTo(e + 0.5, r + f + e + 0.5);
      } else a.fillStyle = b;
      k.length << I.tj < q && (q = k.length << I.tj);
      var u = 0;
      for (b = l = 1; b < c; b += 1) {
        if (l < q) {
          var t = l >> I.tj;
          r = l & n;
          var v = p = k[t][r];
          u += m;
          for (l += 1; 0 === (u | 0) && l < q;) t = l >> I.tj, r = l & n, t = k[t][r], l += 1, t > v && (v = t), t < p && (p = t), u += m;
          --u;
        } else v = p = 0;
        b <= this.counter && (t = e + 1 + b, r = d - p / this.dd * d | 0, g ? (a.lineTo(t + 0.5, r + f + e + 0.5), p !== v && (r = d - v / this.dd * d | 0, a.lineTo(t + 0.5, r + f + e + 0.5))) : 0 < p && 0 < v && (p !== v && (r = d - v / this.dd * d | 0), a.fillRect(t + 0.5, r + f + e + 0.5, 1, 1)));
      }
      g && a.stroke();
    };
    ra.prototype.ej = function (a, b, c, d, f) {
      var e = this.ka, k = f.h.s, g = 40 * f.h.C, m = 40 * k, p = this.displayWidth - m, n = this.displayHeight - g - m, q = this.counter, l = "rgb(" + this.md[0] + "," + this.md[1] + "," + this.md[2] + ")", r = "rgb(" + this.ld[0] + "," + this.ld[1] + "," + this.ld[2] + ")", u = "rgb(" + this.kd[0] + "," + this.kd[1] + "," + this.kd[2] + ")", t = "rgb(" + this.nd[0] + "," + this.nd[1] + "," + this.nd[2] + ")", v = "rgb(" + this.od[0] + "," + this.od[1] + "," + this.od[2] + ")";
      this.Jg();
      if (this.Fc && 0 < this.Fc.length) {
        c ? (n = this.displayHeight, g = 0) : d && (n = this.displayHeight, g = 0, p = this.displayWidth, m = 0);
        var B = p - m;
        q > I.Vp && (q = I.Vp);
        this.dd = 0;
        -1 === this.C && (f.fh && (this.dd = this.ih), f.gh && this.Rf > this.dd && (this.dd = this.Rf));
        f.hh && this.Tf > this.dd && (this.dd = this.Tf);
        e.save();
        e.fillStyle = l;
        e.globalAlpha = b;
        e.fillRect(0, g, p + m, n);
        e.globalAlpha = 1;
        c && (n -= m);
        if (!d) {
          e.font = (16 * k | 0) + "px Arial";
          e.textAlign = "center";
          e.fillStyle = f.D.oc;
          for (b = 2; 0 <= b; b -= 2) e.save(), e.translate(this.displayWidth / 2, n + m / 2 - (6 * k | 0)), e.fillText("Generation", b, b), e.restore(), e.save(), e.translate(m / 2 + (6 * k | 0), this.displayHeight / 2), e.rotate(-90 * Math.PI / 180), 320 > this.displayHeight ? e.fillText("Pop", b, b) : e.fillText("Population", b, b), e.restore(), e.fillStyle = r;
          e.fillStyle = f.D.oc;
          for (b = 2; 0 <= b; b -= 2) e.save(), e.translate(m - m / 2 + (6 * k | 0), g + m), e.rotate(-90 * Math.PI / 180), e.fillText(String(this.dd), b, b), e.restore(), e.save(), e.translate(m - m / 2 + (6 * k | 0), n), e.rotate(-90 * Math.PI / 180), e.fillText("0", b, b), e.restore(), e.save(), e.translate(m, n + m / 2 - (6 * k | 0)), e.fillText("0", b, b), e.restore(), e.save(), e.translate(p, n + m / 2 - (6 * k | 0)), e.fillText(String(q > B ? q : B | 0), b, b), e.restore(), e.fillStyle = r;
        }
        -1 === this.C && (f.gh && this.Ji(e, v, B, n - g - m, g, m, this.Ef, a), f.fh && this.Ji(e, t, B, n - g - m, g, m, this.df, a));
        (-1 !== this.C || f.hh) && this.Ji(e, u, B, n - g - m, g, m, this.Fc, a);
        -1 !== this.C || f.gh || f.fh || f.hh || (e.save(), e.font = (24 * k | 0) + "px Arial", e.translate(this.displayWidth / 2, this.displayHeight / 2), e.fillStyle = f.D.oc, e.fillText("Select Data", 2, 2), e.fillStyle = r, e.fillText("Select Data", 0, 0), e.restore());
        e.strokeStyle = r;
        e.lineWidth = 1;
        e.beginPath();
        e.moveTo(m + 0.5, g + m + 0.5);
        e.lineTo(m + 0.5, n + 0.5);
        e.lineTo(p + 0.5, n + 0.5);
        e.lineTo(p + 0.5, n + 2.5);
        e.moveTo(m + 0.5, n + 0.5);
        e.lineTo(m + 0.5, n + 2.5);
        e.moveTo(m + 0.5, n + 0.5);
        e.lineTo(m + 0.5 - 2, n + 0.5);
        e.moveTo(m + 0.5, g + m + 0.5);
        e.lineTo(m + 0.5 - 2, g + m + 0.5);
        e.stroke();
        e.restore();
      }
    };
    ra.prototype.Hg = function () {
      var a;
      if (this.Fc && 0 < this.Fc.length) {
        if (0 < this.counter) for (a = 0; a < this.Fc.length; a += 1) this.Fc[a].fill(0), this.df[a].fill(0), this.Ef[a].fill(0);
        this.Fc[0][0] = this.o;
      }
      this.Tf = this.o;
      this.ih = this.ma;
      this.Rf = this.aa;
    };
    ra.prototype.Gg = function () {
      var a = this.u, b = this.Oa;
      b.F = a.F;
      b.J = a.J;
      b.K = a.K;
      b.G = a.G;
    };
    ra.prototype.Im = function () {
      var a, b, c, d, f = this.wc, e = this.sd, k = this.Tc, g = this.yc, m = this.ba, p = this.Y >> 4, n;
      var q = 0;
      var l = 0 !== (this.counter & 1) ? this.Qa : this.wa;
      for (a = 0; a < m; a += 1) {
        var r = 0;
        var u = g[a];
        for (b = 0; b < p; b += 1) if (n = u[b]) for (c = 15; 0 <= c; --c) {
          if (0 !== (n & 1 << c)) for (d = q; d < q + 16; d += 1) e[d][r] = (l[d][r] | k[d][r]) & f[d][r];
          r += 1;
        } else r += 16;
        q += 16;
      }
    };
    ra.prototype.Gm = function () {
      var a, b, c, d, f, e = this.hc, k = this.sd, g = this.Tc, m = this.yc, p = this.ba, n = this.Y >> 4, q;
      var l = 0 !== (this.counter & 1) ? this.Qa : this.wa;
      for (a = f = 0; a < p; a += 1) {
        var r = 0;
        var u = m[a];
        for (b = 0; b < n; b += 1) if (q = u[b]) for (c = 15; 0 <= c; --c) {
          if (0 !== (q & 1 << c)) for (d = f; d < f + 16; d += 1) {
            var t = l[d][r];
            var v = t & ~k[d][r];
            var B = t & ~g[d][r];
            v !== t && (l[d][r] = v, v = e[t] - e[v], t = e[t] - e[B], this.o -= v, this.ma -= t, this.aa += v - t);
          }
          r += 1;
        } else r += 16;
        f += 16;
      }
    };
    ra.prototype.Ii = function (a, b, c, d) {
      var f, e, k = this.Bd, g = 0, m = this.Ib[g], p = this.Jb[g], n = 0, q = I.Tl, l = q - 1, r = 0, u = q, t = this.Ge, v = this.za, B = this.ya, w = this.h + this.v - 2, y = 0;
      m[n] = a;
      p[n] = b;
      n += 1;
      -1 === this.h && (w = this.Wa);
      if (c[b][a >> 4] & 1 << (~a & 15)) {
        c[b][a >> 4] &= ~(1 << (~a & 15));
        y += 1;
        if (this.l) switch (d[b][a]) {
          case 3:
          case 4:
            w = 4;
            break;
          case 7:
          case 8:
            w = 8;
            break;
          case 9:
            w = 10;
            break;
          case 11:
            w = 12;
            break;
          case 13:
          case 15:
          case 17:
          case 19:
          case 21:
          case 23:
          case 25:
            w = 0;
            break;
          default:
            w = 2;
        }
        d[b][a] = w;
      }
      for (; 0 < n;) for (--n, n < r && (--g, r -= q, u -= q, m = this.Ib[g], p = this.Jb[g]), a = m[n & l], b = p[n & l], e = b - t; e <= b + t;) {
        for (f = a - t; f <= a + t;) {
          if (f === (f & v) && e === (e & B) && 0 !== (c[e][f >> 4] & 1 << (~f & 15))) {
            c[e][f >> 4] &= ~(1 << (~f & 15));
            y += 1;
            if (this.l) switch (d[e][f]) {
              case 3:
              case 4:
                w = 4;
                break;
              case 7:
              case 8:
                w = 8;
                break;
              case 9:
                w = 10;
                break;
              case 11:
                w = 12;
                break;
              case 13:
              case 15:
              case 17:
              case 19:
              case 21:
              case 23:
              case 25:
                w = 0;
                break;
              default:
                w = 2;
            }
            d[e][f] = w;
            n === u && (g += 1, r += q, u += q, g > k && (this.Ib[g] = this.N.h(oa.Gd, q, "Life.boundaryX" + g), this.Jb[g] = this.N.h(oa.Gd, q, "Life.boundaryY" + g), this.Bd = k += 1), m = this.Ib[g], p = this.Jb[g]);
            m[n & l] = f;
            p[n & l] = e;
            n += 1;
          }
          f += 1;
        }
        e += 1;
      }
      this.o -= y;
      this.aa += y;
    };
    ra.prototype.Fj = function (a, b, c, d) {
      for (var f = c[b][a], e = 15; 0 <= e;) 0 !== (f & 1 << e) && this.Ii((a << 4) + (~e & 15), b, c, d), --e;
    };
    ra.prototype.sn = function (a, b, c) {
      this.Ii(0, a, b, c);
    };
    ra.prototype.un = function (a, b, c, d) {
      this.Ii((a << 4) + 15, b, c, d);
    };
    ra.prototype.Bl = function () {
      var a = this.m, b;
      (this.i || this.s || this.l || this.A) && 0 !== (this.counter & 1) && (a = this.W);
      var c = 0 !== (this.counter & 1) ? this.Qa : this.wa;
      var d = c.length;
      var f = c[0].length;
      var e = c[0];
      var k = c[d - 1];
      for (b = 0; b < f;) e[b] && this.Fj(b, 0, c, a), k[b] && this.Fj(b, d - 1, c, a), b += 1;
      for (b = 0; b < d;) 0 !== (c[b][0] & 32768) && this.sn(b, c, a), 0 !== (c[b][f - 1] & 1) && this.un(f - 1, b, c, a), b += 1;
    };
    ra.prototype.Fg = function (a, b) {
      var c, d = this.m, f, e = this.Bd, k = 0, g = this.Ib[k], m = this.Jb[k], p = 0, n = I.Tl, q = n - 1, l = 0, r = n, u = this.za, t = this.ya, v = this.Ge, B = 0;
      0 !== (this.counter & 1) && (d = this.W);
      g[p] = a;
      m[p] = b;
      p += 1;
      0 < d[b][a] && (d[b][a] = 0, B += 1);
      for (; 0 < p;) for (--p, p < l && (--k, l -= n, r -= n, g = this.Ib[k], m = this.Jb[k]), a = g[p & q], b = m[p & q], c = b - v; c <= b + v;) {
        var w = a - v;
        for (f = d[c]; w <= a + v;) w === (w & u) && c === (c & t) && 0 < f[w] && (f[w] = 0, B += 1, p === r && (k += 1, l += n, r += n, k > e && (this.Ib[k] = this.N.h(oa.Gd, n, "Life.boundaryX" + k), this.Jb[k] = this.N.h(oa.Gd, n, "Life.boundaryY" + k), this.Bd = e += 1), g = this.Ib[k], m = this.Jb[k]), g[p & q] = w, m[p & q] = c, p += 1), w += 1;
        c += 1;
      }
      this.o -= B;
      this.aa += B;
    };
    ra.prototype.Cg = function (a, b) {
      var c, d = this.m, f, e = this.Bd, k = 0, g = this.Ib[k], m = this.Jb[k], p = 0, n = I.Tl, q = n - 1, l = 0, r = n, u = this.za, t = this.ya, v = this.Ge, B = 0;
      0 !== (this.counter & 1) && (d = this.W);
      g[p] = a;
      m[p] = b;
      p += 1;
      1 === d[b][a] && (d[b][a] = 0, B += 1);
      for (; 0 < p;) for (--p, p < l && (--k, l -= n, r -= n, g = this.Ib[k], m = this.Jb[k]), a = g[p & q], b = m[p & q], c = b - v; c <= b + v;) {
        var w = a - v;
        for (f = d[c]; w <= a + v;) w === (w & u) && c === (c & t) && 1 === f[w] && (f[w] = 0, B += 1, p === r && (k += 1, l += n, r += n, k > e && (this.Ib[k] = this.N.h(oa.Gd, n, "Life.boundaryX" + k), this.Jb[k] = this.N.h(oa.Gd, n, "Life.boundaryY" + k), this.Bd = e += 1), g = this.Ib[k], m = this.Jb[k]), g[p & q] = w, m[p & q] = c, p += 1), w += 1;
        c += 1;
      }
      this.o -= B;
      this.aa += B;
    };
    ra.prototype.Dg = function (a, b) {
      var c, d = this.m, f, e = this.Bd, k = 0, g = this.Ib[k], m = this.Jb[k], p = 0, n = I.Tl, q = n - 1, l = 0, r = n, u = this.za, t = this.ya, v = I.Wa, B = I.me, w = this.Ge, y = 0;
      g[p] = a;
      m[p] = b;
      p += 1;
      d[b][a] >= v && (d[b][a] = B, y += 1);
      for (; 0 < p;) for (--p, p < l && (--k, l -= n, r -= n, g = this.Ib[k], m = this.Jb[k]), a = g[p & q], b = m[p & q], c = b - w; c <= b + w;) {
        var D = a - w;
        for (f = d[c]; D <= a + w;) D === (D & u) && c === (c & t) && f[D] >= v && (f[D] = B, y += 1, p === r && (k += 1, l += n, r += n, k > e && (this.Ib[k] = this.N.h(oa.Gd, n, "Life.boundaryX" + k), this.Jb[k] = this.N.h(oa.Gd, n, "Life.boundaryY" + k), this.Bd = e += 1), g = this.Ib[k], m = this.Jb[k]), g[p & q] = D, m[p & q] = c, p += 1), D += 1;
        c += 1;
      }
      this.o -= y;
      this.aa += y;
    };
    ra.prototype.Eg = function (a, b) {
      var c, d = this.m, f, e = this.Bd, k = 0, g = this.Ib[k], m = this.Jb[k], p = 0, n = I.Tl, q = n - 1, l = 0, r = n, u = this.za, t = this.ya, v = this.h + this.v, B = this.Ge, w = 0;
      g[p] = a;
      m[p] = b;
      p += 1;
      d[b][a] === v && (d[b][a] = 0, w += 1);
      for (; 0 < p;) for (--p, p < l && (--k, l -= n, r -= n, g = this.Ib[k], m = this.Jb[k]), a = g[p & q], b = m[p & q], c = b - B; c <= b + B;) {
        var y = a - B;
        for (f = d[c]; y <= a + B;) y === (y & u) && c === (c & t) && f[y] === v && (f[y] = 0, w += 1, p === r && (k += 1, l += n, r += n, k > e && (this.Ib[k] = this.N.h(oa.Gd, n, "Life.boundaryX" + k), this.Jb[k] = this.N.h(oa.Gd, n, "Life.boundaryY" + k), this.Bd = e += 1), g = this.Ib[k], m = this.Jb[k]), g[p & q] = y, m[p & q] = c, p += 1), y += 1;
        c += 1;
      }
      this.o -= w;
      this.aa += w;
    };
    ra.prototype.Ql = function () {
      var a = this.m, b = a.length, c = a[0].length, d = this.u, f = d.F, e = d.J, k = d.G, g = d.K, m, p;
      0 !== (this.counter & 1) && (a = this.W);
      if (1 >= b - g - 1) {
        for (p = b - 1 - 1; p <= g; p += 1) {
          var n = a[p];
          for (m = f; m <= e; m += 1) 0 < n[m] && this.Fg(m, p);
        }
        d.K = b - 1;
      }
      if (1 >= k) {
        for (p = k; 1 >= p; p += 1) for (n = a[p], m = f; m <= e; m += 1) 0 < n[m] && this.Fg(m, p);
        d.G = 1;
      }
      if (1 >= f) {
        for (p = k; p <= g; p += 1) for (n = a[p], m = f; 1 >= m; m += 1) 0 < n[m] && this.Fg(m, p);
        d.F = 1;
      }
      if (1 >= c - e - 1) {
        for (p = k; p <= g; p += 1) for (n = a[p], m = c - 1 - 1; m <= e; m += 1) 0 < n[m] && this.Fg(m, p);
        d.J = c - 1;
      }
    };
    ra.prototype.zl = function () {
      var a = this.m, b = a.length, c = a[0].length, d = this.u, f = d.F, e = d.J, k = d.G, g = d.K, m, p;
      0 !== (this.counter & 1) && (a = this.W);
      if (1 >= b - g - 1) {
        for (p = b - 1 - 1; p <= g; p += 1) {
          var n = a[p];
          for (m = f; m <= e; m += 1) 0 < n[m] && this.Cg(m, p);
        }
        d.K = b - 1;
      }
      if (1 >= k) {
        for (p = k; 1 >= p; p += 1) for (n = a[p], m = f; m <= e; m += 1) 0 < n[m] && this.Cg(m, p);
        d.G = 1;
      }
      if (1 >= f) {
        for (p = k; p <= g; p += 1) for (n = a[p], m = f; 1 >= m; m += 1) 0 < n[m] && this.Cg(m, p);
        d.F = 1;
      }
      if (1 >= c - e - 1) {
        for (p = k; p <= g; p += 1) for (n = a[p], m = c - 1 - 1; m <= e; m += 1) 0 < n[m] && this.Cg(m, p);
        d.J = c - 1;
      }
    };
    ra.prototype.El = function () {
      var a = this.m, b = a.length, c = a[0].length, d = this.u, f = d.F, e = d.J, k = d.G, g = d.K, m = 2 * this.O.o + 1, p = 2 * this.O.l + 1, n = 2 < this.h ? 1 : I.Wa, q, l;
      if (b - g - 1 <= p) {
        for (l = b - p - 1; l <= g; l += 1) {
          var r = a[l];
          for (q = f; q <= e; q += 1) r[q] >= n && (2 === this.h ? this.Dg(q, l) : this.Eg(q, l));
        }
        d.K = b - p;
      }
      if (k <= p) {
        for (l = k; l <= p; l += 1) for (r = a[l], q = f; q <= e; q += 1) r[q] >= n && (2 === this.h ? this.Dg(q, l) : this.Eg(q, l));
        d.G = p;
      }
      if (f <= m) {
        for (l = k; l <= g; l += 1) for (r = a[l], q = f; q <= m; q += 1) r[q] >= n && (2 === this.h ? this.Dg(q, l) : this.Eg(q, l));
        d.F = m;
      }
      if (c - e - 1 <= m) {
        for (l = k; l <= g; l += 1) for (r = a[l], q = c - m - 1; q <= e; q += 1) r[q] >= n && (2 === this.h ? this.Dg(q, l) : this.Eg(q, l));
        d.J = c - m;
      }
    };
    ra.prototype.Vm = function () {
      var a = this.Pf, b, c, d, f, e, k = this.Ha, g, m = this.height, p = this.width, n = p >> 4, q = this.u, l = m, r = -1, u = p, t = -1, v = this.ba, B = this.Y >> 4, w = this.Ja;
      var y = 0;
      var D = v, F = this.hc, N = 0, O = 0, M = 0;
      if (0 !== (this.counter & 1)) {
        var U = this.Qa;
        var W = this.wa;
        var H = this.V;
        var P = this.L;
        this.eb && (a = this.hh);
      } else U = this.wa, W = this.Qa, H = this.L, P = this.V;
      k.fill(0);
      0 > y && (y = 0);
      D > v && (D = v);
      var Q = y << 4;
      var T = Q + 16;
      P.ca.fill(0);
      for (c = y; c < D; c += 1) {
        var Z = 0;
        var na = H[c];
        var ia = P[c];
        var ba = 0 < c ? P[c - 1] : w;
        var ja = c < v - 1 ? P[c + 1] : w;
        for (d = 0; d < B; d += 1) if (f = na[d]) {
          var la = ia[d];
          var fa = ba[d];
          var V = ja[d];
          for (b = 15; 0 <= b; --b) {
            if (0 !== (f & 1 << b)) {
              var ma = g = 0;
              var ca = Q;
              var aa = 0 === ca ? this.ed : U[ca - 1];
              var X = U[ca];
              y = U[ca + 1];
              var pa = e = X[Z];
              aa = aa[Z - 1] << 18 | aa[Z] << 2 | aa[Z + 1] >> 14;
              var R = X[Z - 1] << 18 | e << 2 | X[Z + 1] >> 14;
              var E = y[Z - 1] << 18 | y[Z] << 2 | y[Z + 1] >> 14;
              var z = a[aa >> 7 & 7936 | E >> 11 & 224 | R >> 15 & 31] << 15;
              z |= a[E >> 6 & 7936 | aa >> 10 & 224 | R >> 14 & 31] << 14;
              z |= a[aa >> 5 & 7936 | E >> 9 & 224 | R >> 13 & 31] << 13;
              z |= a[E >> 4 & 7936 | aa >> 8 & 224 | R >> 12 & 31] << 12;
              z |= a[aa >> 3 & 7936 | E >> 7 & 224 | R >> 11 & 31] << 11;
              z |= a[E >> 2 & 7936 | aa >> 6 & 224 | R >> 10 & 31] << 10;
              z |= a[aa >> 1 & 7936 | E >> 5 & 224 | R >> 9 & 31] << 9;
              z |= a[E >> 0 & 7936 | aa >> 4 & 224 | R >> 8 & 31] << 8;
              z |= a[aa << 1 & 7936 | E >> 3 & 224 | R >> 7 & 31] << 7;
              z |= a[E << 2 & 7936 | aa >> 2 & 224 | R >> 6 & 31] << 6;
              z |= a[aa << 3 & 7936 | E >> 1 & 224 | R >> 5 & 31] << 5;
              z |= a[E << 4 & 7936 | aa >> 0 & 224 | R >> 4 & 31] << 4;
              z |= a[aa << 5 & 7936 | E << 1 & 224 | R >> 3 & 31] << 3;
              z |= a[E << 6 & 7936 | aa << 2 & 224 | R >> 2 & 31] << 2;
              z |= a[aa << 7 & 7936 | E << 3 & 224 | R >> 1 & 31] << 1;
              z |= a[E << 8 & 7936 | aa << 4 & 224 | R >> 0 & 31] << 0;
              W[ca][Z] = z;
              N += F[z];
              O += F[z & ~e];
              M += F[e & ~z];
              z && (g |= z, ca < l && (l = ca), ca > r && (r = ca), 0 !== (z & 49152) && (ma |= I.Bb), 0 !== (z & 3) && (ma |= I.Cb), ma |= I.xb);
              for (ca += 1; ca < T - 1;) {
                e = y[Z];
                pa |= e;
                y = U[ca + 1];
                aa = R;
                R = E;
                E = y[Z - 1] << 18 | y[Z] << 2 | y[Z + 1] >> 14;
                0 !== (ca & 1) && (X = aa, aa = E, E = X);
                z = a[aa >> 7 & 7936 | E >> 11 & 224 | R >> 15 & 31] << 15;
                z |= a[E >> 6 & 7936 | aa >> 10 & 224 | R >> 14 & 31] << 14;
                z |= a[aa >> 5 & 7936 | E >> 9 & 224 | R >> 13 & 31] << 13;
                z |= a[E >> 4 & 7936 | aa >> 8 & 224 | R >> 12 & 31] << 12;
                z |= a[aa >> 3 & 7936 | E >> 7 & 224 | R >> 11 & 31] << 11;
                z |= a[E >> 2 & 7936 | aa >> 6 & 224 | R >> 10 & 31] << 10;
                z |= a[aa >> 1 & 7936 | E >> 5 & 224 | R >> 9 & 31] << 9;
                z |= a[E >> 0 & 7936 | aa >> 4 & 224 | R >> 8 & 31] << 8;
                z |= a[aa << 1 & 7936 | E >> 3 & 224 | R >> 7 & 31] << 7;
                z |= a[E << 2 & 7936 | aa >> 2 & 224 | R >> 6 & 31] << 6;
                z |= a[aa << 3 & 7936 | E >> 1 & 224 | R >> 5 & 31] << 5;
                z |= a[E << 4 & 7936 | aa >> 0 & 224 | R >> 4 & 31] << 4;
                z |= a[aa << 5 & 7936 | E << 1 & 224 | R >> 3 & 31] << 3;
                z |= a[E << 6 & 7936 | aa << 2 & 224 | R >> 2 & 31] << 2;
                z |= a[aa << 7 & 7936 | E << 3 & 224 | R >> 1 & 31] << 1;
                z |= a[E << 8 & 7936 | aa << 4 & 224 | R >> 0 & 31] << 0;
                N += F[z];
                O += F[z & ~e];
                M += F[e & ~z];
                0 !== (ca & 1) && (E = X = aa);
                if (W[ca][Z] = z) g |= z, ca < l && (l = ca), ca > r && (r = ca);
                ca += 1;
              }
              e = y[Z];
              pa |= e;
              y = ca === this.height - 1 ? this.ed : U[ca + 1];
              aa = R;
              R = E;
              E = y[Z - 1] << 18 | y[Z] << 2 | y[Z + 1] >> 14;
              0 !== (ca & 1) && (X = aa, aa = E, E = X);
              z = a[aa >> 7 & 7936 | E >> 11 & 224 | R >> 15 & 31] << 15;
              z |= a[E >> 6 & 7936 | aa >> 10 & 224 | R >> 14 & 31] << 14;
              z |= a[aa >> 5 & 7936 | E >> 9 & 224 | R >> 13 & 31] << 13;
              z |= a[E >> 4 & 7936 | aa >> 8 & 224 | R >> 12 & 31] << 12;
              z |= a[aa >> 3 & 7936 | E >> 7 & 224 | R >> 11 & 31] << 11;
              z |= a[E >> 2 & 7936 | aa >> 6 & 224 | R >> 10 & 31] << 10;
              z |= a[aa >> 1 & 7936 | E >> 5 & 224 | R >> 9 & 31] << 9;
              z |= a[E >> 0 & 7936 | aa >> 4 & 224 | R >> 8 & 31] << 8;
              z |= a[aa << 1 & 7936 | E >> 3 & 224 | R >> 7 & 31] << 7;
              z |= a[E << 2 & 7936 | aa >> 2 & 224 | R >> 6 & 31] << 6;
              z |= a[aa << 3 & 7936 | E >> 1 & 224 | R >> 5 & 31] << 5;
              z |= a[E << 4 & 7936 | aa >> 0 & 224 | R >> 4 & 31] << 4;
              z |= a[aa << 5 & 7936 | E << 1 & 224 | R >> 3 & 31] << 3;
              z |= a[E << 6 & 7936 | aa << 2 & 224 | R >> 2 & 31] << 2;
              z |= a[aa << 7 & 7936 | E << 3 & 224 | R >> 1 & 31] << 1;
              z |= a[E << 8 & 7936 | aa << 4 & 224 | R >> 0 & 31] << 0;
              N += F[z];
              O += F[z & ~e];
              M += F[e & ~z];
              if (W[ca][Z] = z) g |= z, ca < l && (l = ca), ca > r && (r = ca), 0 !== (z & 49152) && (ma |= I.Eb), 0 !== (z & 3) && (ma |= I.sb), ma |= I.tb;
              g && (0 !== (g & 49152) && (ma |= I.qb), 0 !== (g & 3) && (ma |= I.jb));
              k[Z] |= g;
              if (g || pa) la |= 1 << b, ma && (0 !== (ma & I.qb) && (15 > b ? la |= 1 << b + 1 : 0 < d && 0 < Z && (ia[d - 1] |= 1)), 0 !== (ma & I.jb) && (0 < b ? la |= 1 << b - 1 : d < B - 1 && Z < n - 1 && (ia[d + 1] |= 32768)), 0 !== (ma & I.xb) && (fa |= 1 << b), 0 !== (ma & I.tb) && (V |= 1 << b), 0 !== (ma & I.Bb) && (15 > b ? fa |= 1 << b + 1 : 0 < d && 0 < Z && (ba[d - 1] |= 1)), 0 !== (ma & I.Cb) && (0 < b ? fa |= 1 << b - 1 : d < B - 1 && Z < n - 1 && (ba[d + 1] |= 32768)), 0 !== (ma & I.Eb) && (15 > b ? V |= 1 << b + 1 : 0 < d && 0 < Z && (ja[d - 1] |= 1)), 0 !== (ma & I.sb) && (0 < b ? V |= 1 << b - 1 : d < B - 1 && Z < n - 1 && (ja[d + 1] |= 32768)));
            }
            Z += 1;
          }
          ia[d] |= la;
          0 < c && (ba[d] |= fa);
          c < v - 1 && (ja[d] |= V);
        } else Z += 16;
        Q += 16;
        T += 16;
      }
      for (d = 0; d < n; d += 1) k[d] && (d < u && (u = d), d > t && (t = d));
      u = (u << 4) + this.nb(k[u]);
      t = (t << 4) + this.Ab(k[t]);
      0 > r && (r = m - 1);
      l >= m && (l = 0);
      u >= p && (u = 0);
      0 > t && (t = p - 1);
      r > m - 1 && (r = m - 1);
      0 > l && (l = 0);
      0 > u && (u = 0);
      t > p - 1 && (t = p - 1);
      q.K = r;
      q.G = l;
      q.F = u;
      q.J = t;
      w.fill(0);
      this.o = N;
      this.ma = O;
      this.aa = M;
    };
    ra.prototype.rm = function () {
      var a = this.Wd, b, c, d, f = this.Na, e = this.Ha, k, g = this.height, m = this.width, p = m >> 4, n = this.u, q = g, l = -1, r = m, u = -1, t = this.ba, v = this.Y >> 4, B = this.Ja, w = this.hc, y = 0, D = 0, F = 0, N = this.counter & 1;
      this.zb && (this.Xa = !this.Xa, this.zb = false);
      if (0 !== N) {
        var O = this.Qa;
        var M = this.wa;
        var U = this.V;
        var W = this.L;
        this.Xa && (a = this.bb);
      } else O = this.wa, M = this.Qa, U = this.L, W = this.V, this.eb && (a = this.Ve), this.Xa && (a = this.eb ? this.Xd : this.bb);
      this.Xa && (N = 1 - N);
      e.fill(0);
      var H = 1 - N;
      var P = H + 16;
      W.ca.fill(0);
      for (c = 0; c < U.length; c += 1) {
        var Q = 0;
        var T = U[c];
        var Z = W[c];
        var na = f[c];
        var ia = 0 < c ? W[c - 1] : B;
        var ba = c < t - 1 ? W[c + 1] : B;
        for (d = 0; d < v; d += 1) {
          var ja = T[d];
          var la = 0;
          if (ja) {
            var fa = Z[d];
            var V = ia[d];
            var ma = ba[d];
            for (b = 15; 0 <= b; --b) {
              var ca = 0 === b && d === v - 1 ? true : false;
              if (0 !== (ja & 1 << b)) {
                var aa = k = 0;
                if (0 !== N) {
                  var X = H;
                  var pa = O[X][Q];
                  var R = O[X + 1][Q];
                  var E = pa | R;
                  var z = a[pa & 65280 | R >> 8];
                  var K = z & 65280;
                  var L = (z & 255) << 8;
                  z = a[(pa & 255) << 8 | R & 255];
                  K |= z >> 8;
                  L |= z & 255;
                  M[X][Q] = K;
                  M[X + 1][Q] = L;
                  y += w[K];
                  D += w[K & ~pa];
                  F += w[pa & ~K];
                  y += w[L];
                  D += w[L & ~R];
                  F += w[R & ~L];
                  if (z = K | L) k |= z, K && (X < q && (q = X), X > l && (l = X)), L && (X + 1 < q && (q = X + 1), X + 1 > l && (l = X + 1)), 0 !== (z & 49152) && (aa |= I.Bb), 0 !== (z & 3) && (aa |= I.Cb), aa |= I.xb;
                  for (X += 2; X < P - 2;) {
                    pa = O[X][Q];
                    R = O[X + 1][Q];
                    E |= pa | R;
                    z = a[pa & 65280 | R >> 8];
                    K = z & 65280;
                    L = (z & 255) << 8;
                    z = a[(pa & 255) << 8 | R & 255];
                    K |= z >> 8;
                    L |= z & 255;
                    M[X][Q] = K;
                    M[X + 1][Q] = L;
                    y += w[K];
                    D += w[K & ~pa];
                    F += w[pa & ~K];
                    y += w[L];
                    D += w[L & ~R];
                    F += w[R & ~L];
                    if (z = K | L) k |= z, K && (X < q && (q = X), X > l && (l = X)), L && (X + 1 < q && (q = X + 1), X + 1 > l && (l = X + 1));
                    X += 2;
                  }
                  pa = O[X][Q];
                  R = O[X + 1][Q];
                  E |= pa | R;
                  z = a[pa & 65280 | R >> 8];
                  K = z & 65280;
                  L = (z & 255) << 8;
                  z = a[(pa & 255) << 8 | R & 255];
                  K |= z >> 8;
                  L |= z & 255;
                  M[X][Q] = K;
                  M[X + 1][Q] = L;
                  y += w[K];
                  D += w[K & ~pa];
                  F += w[pa & ~K];
                  y += w[L];
                  D += w[L & ~R];
                  F += w[R & ~L];
                  if (z = K | L) k |= z, K && (X < q && (q = X), X > l && (l = X)), L && (X + 1 < q && (q = X + 1), X + 1 > l && (l = X + 1)), z && (0 !== (z & 49152) && (aa |= I.Eb), 0 !== (z & 3) && (aa |= I.sb), aa |= I.tb);
                  k && (0 !== (k & 49152) && (aa |= I.qb), 0 !== (k & 3) && (aa |= I.jb), e[Q] |= k);
                  if (k || E) aa |= I.sb, aa |= I.jb;
                } else {
                  X = H;
                  ca ? (pa = O[X][Q] << 1 & 65535, R = O[X + 1][Q] << 1 & 65535) : (pa = (O[X][Q] << 1 | O[X][Q + 1] >> 15) & 65535, R = (O[X + 1][Q] << 1 | O[X + 1][Q + 1] >> 15) & 65535);
                  E = pa | R;
                  z = a[pa & 65280 | R >> 8];
                  K = z & 65280;
                  L = (z & 255) << 8;
                  z = a[(pa & 255) << 8 | R & 255];
                  K |= z >> 8;
                  L |= z & 255;
                  ca ? (M[X][Q] = M[X][Q] & 32768 | K >> 1, M[X + 1][Q] = M[X + 1][Q] & 32768 | L >> 1) : (M[X][Q] = M[X][Q] & 32768 | K >> 1, M[X][Q + 1] = M[X][Q + 1] & 32767 | (K & 1) << 15, M[X + 1][Q] = M[X + 1][Q] & 32768 | L >> 1, M[X + 1][Q + 1] = M[X + 1][Q + 1] & 32767 | (L & 1) << 15);
                  y += w[K];
                  D += w[K & ~pa];
                  F += w[pa & ~K];
                  y += w[L];
                  D += w[L & ~R];
                  F += w[R & ~L];
                  if (z = K | L) k |= z, K && (X < q && (q = X), X > l && (l = X)), L && (X + 1 < q && (q = X + 1), X + 1 > l && (l = X + 1));
                  for (X += 2; X < P - 2;) {
                    ca ? (pa = O[X][Q] << 1 & 65535, R = O[X + 1][Q] << 1 & 65535) : (pa = (O[X][Q] << 1 | O[X][Q + 1] >> 15) & 65535, R = (O[X + 1][Q] << 1 | O[X + 1][Q + 1] >> 15) & 65535);
                    E |= pa | R;
                    z = a[pa & 65280 | R >> 8];
                    K = z & 65280;
                    L = (z & 255) << 8;
                    z = a[(pa & 255) << 8 | R & 255];
                    K |= z >> 8;
                    L |= z & 255;
                    ca ? (M[X][Q] = M[X][Q] & 32768 | K >> 1, M[X + 1][Q] = M[X + 1][Q] & 32768 | L >> 1) : (M[X][Q] = M[X][Q] & 32768 | K >> 1, M[X][Q + 1] = M[X][Q + 1] & 32767 | (K & 1) << 15, M[X + 1][Q] = M[X + 1][Q] & 32768 | L >> 1, M[X + 1][Q + 1] = M[X + 1][Q + 1] & 32767 | (L & 1) << 15);
                    y += w[K];
                    D += w[K & ~pa];
                    F += w[pa & ~K];
                    y += w[L];
                    D += w[L & ~R];
                    F += w[R & ~L];
                    if (z = K | L) k |= z, K && (X < q && (q = X), X > l && (l = X)), L && (X + 1 < q && (q = X + 1), X + 1 > l && (l = X + 1));
                    X += 2;
                  }
                  ca ? (pa = O[X][Q] << 1 & 65535, R = O[X + 1][Q] << 1 & 65535) : (pa = (O[X][Q] << 1 | O[X][Q + 1] >> 15) & 65535, R = (O[X + 1][Q] << 1 | O[X + 1][Q + 1] >> 15) & 65535);
                  E |= pa | R;
                  z = a[pa & 65280 | R >> 8];
                  K = z & 65280;
                  L = (z & 255) << 8;
                  z = a[(pa & 255) << 8 | R & 255];
                  K |= z >> 8;
                  L |= z & 255;
                  ca ? (M[X][Q] = M[X][Q] & 32768 | K >> 1, M[X + 1][Q] = M[X + 1][Q] & 32768 | L >> 1) : (M[X][Q] = M[X][Q] & 32768 | K >> 1, M[X][Q + 1] = M[X][Q + 1] & 32767 | (K & 1) << 15, M[X + 1][Q] = M[X + 1][Q] & 32768 | L >> 1, M[X + 1][Q + 1] = M[X + 1][Q + 1] & 32767 | (L & 1) << 15);
                  y += w[K];
                  D += w[K & ~pa];
                  F += w[pa & ~K];
                  y += w[L];
                  D += w[L & ~R];
                  F += w[R & ~L];
                  if (z = K | L) k |= z, K && (X < q && (q = X), X > l && (l = X)), L && (X + 1 < q && (q = X + 1), X + 1 > l && (l = X + 1)), 0 !== (z & 3) && (aa |= I.sb), aa |= I.tb;
                  pa | R && (0 !== ((pa | R) & 3) && (aa |= I.sb), aa |= I.tb);
                  k && (0 !== (k & 3) && (aa |= I.jb), e[Q] |= k >> 1, e[Q + 1] |= (k & 1) << 15);
                  0 !== (E & 3) && (aa |= I.jb);
                }
                if (k || E) fa |= 1 << b, aa && (0 !== (aa & I.qb) && (15 > b ? fa |= 1 << b + 1 : 0 < d && 0 < Q && (Z[d - 1] |= 1)), 0 !== (aa & I.jb) && (0 < b ? fa |= 1 << b - 1 : d < v - 1 && Q < p - 1 && (Z[d + 1] |= 32768)), 0 !== (aa & I.xb) && (V |= 1 << b), 0 !== (aa & I.tb) && (ma |= 1 << b), 0 !== (aa & I.Bb) && (15 > b ? V |= 1 << b + 1 : 0 < d && 0 < Q && (ia[d - 1] |= 1)), 0 !== (aa & I.Cb) && (0 < b ? V |= 1 << b - 1 : d < v - 1 && Q < p - 1 && (ia[d + 1] |= 32768)), 0 !== (aa & I.Eb) && (15 > b ? ma |= 1 << b + 1 : 0 < d && 0 < Q && (ba[d - 1] |= 1)), 0 !== (aa & I.sb) && (0 < b ? ma |= 1 << b - 1 : d < v - 1 && Q < p - 1 && (ba[d + 1] |= 32768)));
                0 === k && E && (la |= 1 << b);
              }
              Q += 1;
            }
            Z[d] |= fa;
            0 < c && (ia[d] |= V);
            c < t - 1 && (ba[d] |= ma);
          } else Q += 16;
          na[d] = la;
        }
        H += 16;
        P += 16;
        P >= g && (P = g - 1);
      }
      for (d = 0; d < p; d += 1) e[d] && (d < r && (r = d), d > u && (u = d));
      r = (r << 4) + this.nb(e[r]);
      u = (u << 4) + this.Ab(e[u]);
      0 > l && (l = g - 1);
      q >= g && (q = 0);
      r >= m && (r = 0);
      0 > u && (u = m - 1);
      l > g - 1 && (l = g - 1);
      0 > q && (q = 0);
      0 > r && (r = 0);
      u > m - 1 && (u = m - 1);
      n.K = l;
      n.G = q;
      n.F = r;
      n.J = u;
      B.fill(0);
      this.Rl(O);
      this.o = y;
      this.ma = D;
      this.aa = F;
    };
    ra.prototype.Tm = function () {
      var a = this.Of, b, c, d, f, e, k, g = this.Ha, m, p = this.Ta, n, q = this.hc, l = 0, r = 0, u = 0, t = this.height, v = this.width, B = v >> 4, w = this.u, y = t, D = -1, F = v, N = -1, O = this.ba, M = this.Y >> 4, U = this.Ja, W = this.R, H = this.M, P = Math.round((this.width - W) / 2), Q = Math.round((this.height - H) / 2), T = P + W - 1, Z = Q + H - 1;
      if (0 !== (this.counter & 1)) {
        var na = this.Qa;
        var ia = this.wa;
        var ba = this.V;
        var ja = this.L;
        this.eb && (a = this.Gf);
      } else na = this.wa, ia = this.Qa, ba = this.L, ja = this.V;
      g.fill(0);
      p.fill(0);
      var la = 0;
      var fa = la + 16;
      ja.ca.fill(0);
      for (d = 0; d < ba.length; d += 1) {
        var V = 0;
        var ma = ba[d];
        var ca = ja[d];
        var aa = 0 < d ? ja[d - 1] : U;
        var X = d < O - 1 ? ja[d + 1] : U;
        for (f = 0; f < M; f += 1) if (e = ma[f]) {
          var pa = ca[f];
          var R = aa[f];
          var E = X[f];
          for (b = 15; 0 <= b; --b) {
            if (0 !== (e & 1 << b)) {
              var z = n = m = 0;
              var K = la;
              var L = 32768;
              var J = 0 === K ? this.ed : na[K - 1];
              var x = na[K];
              var A = na[K + 1];
              var ka = k = x[V];
              if (V) if (V >= B - 1) {
                J = (J[V - 1] & 1) << 17 | J[V] << 1;
                x = (x[V - 1] & 1) << 17 | k << 1;
                var Y = (A[V - 1] & 1) << 17 | A[V] << 1;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c], 0 !== (c & 32768) && (z |= I.Bb), z |= I.xb;
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                for (L >>= 1; K < fa - 1;) {
                  k = A[V];
                  ka |= k;
                  A = na[K + 1];
                  J = x;
                  x = Y;
                  Y = (A[V - 1] & 1) << 17 | A[V] << 1;
                  if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c];
                  ia[K][V] = c;
                  c | k && (r += q[c & ~k], u += q[k & ~c]);
                  K += 1;
                  L >>= 1;
                }
                k = A[V];
                ka |= k;
                A = K === this.height - 1 ? this.ed : na[K + 1];
                J = x;
                x = Y;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c], 0 !== (c & 32768) && (z |= I.Eb), z |= I.tb;
              } else {
                J = (J[V - 1] & 1) << 17 | J[V] << 1 | J[V + 1] >> 15;
                x = (x[V - 1] & 1) << 17 | k << 1 | x[V + 1] >> 15;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c], 0 !== (c & 32768) && (z |= I.Bb), 0 !== (c & 1) && (z |= I.Cb), z |= I.xb;
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                L >>= 1;
                k = A[V];
                ka |= k;
                A = na[K + 1];
                J = x;
                x = Y;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c];
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                L >>= 1;
                k = A[V];
                ka |= k;
                A = na[K + 1];
                J = x;
                x = Y;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c];
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                L >>= 1;
                k = A[V];
                ka |= k;
                A = na[K + 1];
                J = x;
                x = Y;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c];
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                L >>= 1;
                k = A[V];
                ka |= k;
                A = na[K + 1];
                J = x;
                x = Y;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c];
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                L >>= 1;
                k = A[V];
                ka |= k;
                A = na[K + 1];
                J = x;
                x = Y;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c];
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                L >>= 1;
                k = A[V];
                ka |= k;
                A = na[K + 1];
                J = x;
                x = Y;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c];
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                L >>= 1;
                k = A[V];
                ka |= k;
                A = na[K + 1];
                J = x;
                x = Y;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c];
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                L >>= 1;
                k = A[V];
                ka |= k;
                A = na[K + 1];
                J = x;
                x = Y;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c];
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                L >>= 1;
                k = A[V];
                ka |= k;
                A = na[K + 1];
                J = x;
                x = Y;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c];
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                L >>= 1;
                k = A[V];
                ka |= k;
                A = na[K + 1];
                J = x;
                x = Y;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c];
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                L >>= 1;
                k = A[V];
                ka |= k;
                A = na[K + 1];
                J = x;
                x = Y;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c];
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                L >>= 1;
                k = A[V];
                ka |= k;
                A = na[K + 1];
                J = x;
                x = Y;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c];
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                L >>= 1;
                k = A[V];
                ka |= k;
                A = na[K + 1];
                J = x;
                x = Y;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c];
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                L >>= 1;
                k = A[V];
                ka |= k;
                A = na[K + 1];
                J = x;
                x = Y;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c];
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                L >>= 1;
                k = A[V];
                ka |= k;
                A = K === this.height - 1 ? this.ed : na[K + 1];
                J = x;
                x = Y;
                Y = (A[V - 1] & 1) << 17 | A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c], 0 !== (c & 32768) && (z |= I.Eb), 0 !== (c & 1) && (z |= I.sb), z |= I.tb;
              } else {
                J = J[V] << 1 | J[V + 1] >> 15;
                x = k << 1 | x[V + 1] >> 15;
                Y = A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, 0 !== (c & 1) && (z |= I.Cb), z |= I.xb, l += q[c];
                ia[K][V] = c;
                c | k && (r += q[c & ~k], u += q[k & ~c]);
                K += 1;
                for (L >>= 1; K < fa - 1;) {
                  k = A[V];
                  ka |= k;
                  A = na[K + 1];
                  J = x;
                  x = Y;
                  Y = A[V] << 1 | A[V + 1] >> 15;
                  if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c];
                  ia[K][V] = c;
                  c | k && (r += q[c & ~k], u += q[k & ~c]);
                  K += 1;
                  L >>= 1;
                }
                k = A[V];
                ka |= k;
                A = K === this.height - 1 ? this.ed : na[K + 1];
                J = x;
                x = Y;
                Y = A[V] << 1 | A[V + 1] >> 15;
                if (c = J | x | Y) if (c = a[J >> 12 | x >> 12 << 6 | Y & 258048] << 12, c |= a[J >> 8 & 63 | x >> 2 & 4032 | Y << 4 & 258048] << 8, c |= a[J >> 4 & 63 | x << 2 & 4032 | Y << 8 & 258048] << 4, c |= a[J & 63 | (x & 63) << 6 | (Y & 63) << 12]) m |= c, n |= L, l += q[c], 0 !== (c & 1) && (z |= I.sb), z |= I.tb;
              }
              ia[K][V] = c;
              c | k && (r += q[c & ~k], u += q[k & ~c]);
              m && (0 !== (m & 32768) && (z |= I.qb), 0 !== (m & 1) && (z |= I.jb));
              g[V] |= m;
              if (m || ka) pa |= 1 << b, z && (0 !== (z & I.qb) && (15 > b ? pa |= 1 << b + 1 : 0 < f && 0 < V && (ca[f - 1] |= 1)), 0 !== (z & I.jb) && (0 < b ? pa |= 1 << b - 1 : f < M - 1 && V < B - 1 && (ca[f + 1] |= 32768)), 0 !== (z & I.xb) && (R |= 1 << b), 0 !== (z & I.tb) && (E |= 1 << b), 0 !== (z & I.Bb) && (15 > b ? R |= 1 << b + 1 : 0 < f && 0 < V && (aa[f - 1] |= 1)), 0 !== (z & I.Cb) && (0 < b ? R |= 1 << b - 1 : f < M - 1 && V < B - 1 && (aa[f + 1] |= 32768)), 0 !== (z & I.Eb) && (15 > b ? E |= 1 << b + 1 : 0 < f && 0 < V && (X[f - 1] |= 1)), 0 !== (z & I.sb) && (0 < b ? E |= 1 << b - 1 : f < M - 1 && V < B - 1 && (X[f + 1] |= 32768)));
              p[d] |= n;
            }
            V += 1;
          }
          ca[f] |= pa;
          0 < d && (aa[f] |= R);
          d < O - 1 && (X[f] |= E);
        } else V += 16;
        la += 16;
        fa += 16;
      }
      -1 !== this.C && (0 !== W && (g[P - 1 >> 4] &= ~(1 << (~(P - 1) & 15)), g[T + 1 >> 4] &= ~(1 << (~(T + 1) & 15)), g[P - 2 >> 4] &= ~(1 << (~(P - 2) & 15)), g[T + 2 >> 4] &= ~(1 << (~(T + 2) & 15))), 0 !== H && (p[Q - 1 >> 4] &= ~(1 << (~(Q - 1) & 15)), p[Z + 1 >> 4] &= ~(1 << (~(Z + 1) & 15)), p[Q - 2 >> 4] &= ~(1 << (~(Q - 2) & 15)), p[Z + 2 >> 4] &= ~(1 << (~(Z + 2) & 15))));
      for (f = 0; f < B; f += 1) g[f] && (f < F && (F = f), f > N && (N = f));
      for (d = 0; d < p.length; d += 1) p[d] && (d < y && (y = d), d > D && (D = d));
      F = (F << 4) + this.nb(g[F]);
      N = (N << 4) + this.Ab(g[N]);
      y = (y << 4) + this.nb(p[y]);
      D = (D << 4) + this.Ab(p[D]);
      0 > D && (D = t - 1);
      y >= t && (y = 0);
      F >= v && (F = 0);
      0 > N && (N = v - 1);
      D > t - 1 && (D = t - 1);
      0 > y && (y = 0);
      0 > F && (F = 0);
      N > v - 1 && (N = v - 1);
      w.K = D;
      w.G = y;
      w.F = F;
      w.J = N;
      U.fill(0);
      this.o = l;
      this.ma = r;
      this.aa = u;
    };
    ra.prototype.gm = function (a, b) {
      var c, d = this.B, f, e, k, g, m = this.ba, p = this.Y >> 4;
      var n = 0;
      var q = n + 16;
      for (f = 0; f < m; f += 1) {
        var l = 0;
        var r = d[f];
        for (e = 0; e < p; e += 1) if (g = r[e]) for (k = 15; 0 <= k; --k) {
          if (0 !== (g & 1 << k)) for (c = n; c < q; c += 2) {
            var u = b[c];
            var t = a[c];
            var v = a[c + 1];
            var B = l << 3;
            var w = t[B];
            var y = w & 255 | (w & 1) << 5;
            var D = y - (w >> 8 | w & 32);
            y -= D & D >> 255;
            w = v[B];
            D = y - (w & 255 | (w & 1) << 5);
            y -= D & D >> 255;
            D = y - (w >> 8 | w & 32);
            u[B + B] = y - (D & D >> 255) & 31;
            B += 1;
            w = t[B];
            y = w & 255 | (w & 1) << 5;
            D = y - (w >> 8 | w & 32);
            y -= D & D >> 255;
            w = v[B];
            D = y - (w & 255 | (w & 1) << 5);
            y -= D & D >> 255;
            D = y - (w >> 8 | w & 32);
            u[B + B] = y - (D & D >> 255) & 31;
            B += 1;
            w = t[B];
            y = w & 255 | (w & 1) << 5;
            D = y - (w >> 8 | w & 32);
            y -= D & D >> 255;
            w = v[B];
            D = y - (w & 255 | (w & 1) << 5);
            y -= D & D >> 255;
            D = y - (w >> 8 | w & 32);
            u[B + B] = y - (D & D >> 255) & 31;
            B += 1;
            w = t[B];
            y = w & 255 | (w & 1) << 5;
            D = y - (w >> 8 | w & 32);
            y -= D & D >> 255;
            w = v[B];
            D = y - (w & 255 | (w & 1) << 5);
            y -= D & D >> 255;
            D = y - (w >> 8 | w & 32);
            u[B + B] = y - (D & D >> 255) & 31;
            B += 1;
            w = t[B];
            y = w & 255 | (w & 1) << 5;
            D = y - (w >> 8 | w & 32);
            y -= D & D >> 255;
            w = v[B];
            D = y - (w & 255 | (w & 1) << 5);
            y -= D & D >> 255;
            D = y - (w >> 8 | w & 32);
            u[B + B] = y - (D & D >> 255) & 31;
            B += 1;
            w = t[B];
            y = w & 255 | (w & 1) << 5;
            D = y - (w >> 8 | w & 32);
            y -= D & D >> 255;
            w = v[B];
            D = y - (w & 255 | (w & 1) << 5);
            y -= D & D >> 255;
            D = y - (w >> 8 | w & 32);
            u[B + B] = y - (D & D >> 255) & 31;
            B += 1;
            w = t[B];
            y = w & 255 | (w & 1) << 5;
            D = y - (w >> 8 | w & 32);
            y -= D & D >> 255;
            w = v[B];
            D = y - (w & 255 | (w & 1) << 5);
            y -= D & D >> 255;
            D = y - (w >> 8 | w & 32);
            u[B + B] = y - (D & D >> 255) & 31;
            B += 1;
            w = t[B];
            y = w & 255 | (w & 1) << 5;
            D = y - (w >> 8 | w & 32);
            y -= D & D >> 255;
            w = v[B];
            D = y - (w & 255 | (w & 1) << 5);
            y -= D & D >> 255;
            D = y - (w >> 8 | w & 32);
            u[B + B] = y - (D & D >> 255) & 31;
          }
          l += 1;
        } else l += 16;
        n += 16;
        q += 16;
      }
    };
    ra.prototype.Ui = function (a, b) {
      var c, d = this.B, f, e, k, g, m = this.ba, p = this.Y >> 4;
      var n = 0;
      var q = n + 16;
      for (f = 0; f < m; f += 1) {
        var l = 0;
        var r = d[f];
        for (e = 0; e < p; e += 1) if (g = r[e]) for (k = 15; 0 <= k; --k) {
          if (0 !== (g & 1 << k)) for (c = n; c < q; c += 2) {
            var u = b[c];
            var t = a[c];
            var v = a[c + 1];
            var B = l << 3;
            var w = t[B];
            var y = w & 255;
            var D = y - (w >> 8);
            y -= D & D >> 255;
            w = v[B];
            D = y - (w & 255);
            y -= D & D >> 255;
            D = y - (w >> 8);
            u[B + B] = y - (D & D >> 255);
            B += 1;
            w = t[B];
            y = w & 255;
            D = y - (w >> 8);
            y -= D & D >> 255;
            w = v[B];
            D = y - (w & 255);
            y -= D & D >> 255;
            D = y - (w >> 8);
            u[B + B] = y - (D & D >> 255);
            B += 1;
            w = t[B];
            y = w & 255;
            D = y - (w >> 8);
            y -= D & D >> 255;
            w = v[B];
            D = y - (w & 255);
            y -= D & D >> 255;
            D = y - (w >> 8);
            u[B + B] = y - (D & D >> 255);
            B += 1;
            w = t[B];
            y = w & 255;
            D = y - (w >> 8);
            y -= D & D >> 255;
            w = v[B];
            D = y - (w & 255);
            y -= D & D >> 255;
            D = y - (w >> 8);
            u[B + B] = y - (D & D >> 255);
            B += 1;
            w = t[B];
            y = w & 255;
            D = y - (w >> 8);
            y -= D & D >> 255;
            w = v[B];
            D = y - (w & 255);
            y -= D & D >> 255;
            D = y - (w >> 8);
            u[B + B] = y - (D & D >> 255);
            B += 1;
            w = t[B];
            y = w & 255;
            D = y - (w >> 8);
            y -= D & D >> 255;
            w = v[B];
            D = y - (w & 255);
            y -= D & D >> 255;
            D = y - (w >> 8);
            u[B + B] = y - (D & D >> 255);
            B += 1;
            w = t[B];
            y = w & 255;
            D = y - (w >> 8);
            y -= D & D >> 255;
            w = v[B];
            D = y - (w & 255);
            y -= D & D >> 255;
            D = y - (w >> 8);
            u[B + B] = y - (D & D >> 255);
            B += 1;
            w = t[B];
            y = w & 255;
            D = y - (w >> 8);
            y -= D & D >> 255;
            w = v[B];
            D = y - (w & 255);
            y -= D & D >> 255;
            D = y - (w >> 8);
            u[B + B] = y - (D & D >> 255);
          }
          l += 1;
        } else l += 16;
        n += 16;
        q += 16;
      }
    };
    ra.prototype.im = function (a, b) {
      var c, d, f = this.B, e, k, g, m, p, n = this.ba, q = this.Y >> 4;
      var l = 0;
      var r = l + 16;
      for (k = 0; k < n; k += 1) {
        var u = 0;
        var t = f[k];
        for (g = 0; g < q; g += 1) if (p = t[g]) for (m = 15; 0 <= m; --m) {
          if (0 !== (p & 1 << m)) for (c = l; c < r; c += 4) {
            var v = b[c];
            var B = a[c];
            var w = a[c + 1];
            var y = a[c + 2];
            var D = a[c + 3];
            var F = u << 2;
            var N = u << 4;
            for (d = 0; 4 > d; d += 1) {
              var O = 0;
              if (e = B[F]) {
                var M = O - (e & 255 | (e & 1) << 5);
                O -= M & M >> 255;
                e >>= 8;
                M = O - (e & 255 | (e & 1) << 5);
                O -= M & M >> 255;
                e >>= 8;
                M = O - (e & 255 | (e & 1) << 5);
                O -= M & M >> 255;
                e >>= 8;
                M = O - (e & 255 | (e & 1) << 5);
                O -= M & M >> 255;
              }
              if (e = w[F]) M = O - (e & 255 | (e & 1) << 5), O -= M & M >> 255, e >>= 8, M = O - (e & 255 | (e & 1) << 5), O -= M & M >> 255, e >>= 8, M = O - (e & 255 | (e & 1) << 5), O -= M & M >> 255, e >>= 8, M = O - (e & 255 | (e & 1) << 5), O -= M & M >> 255;
              if (e = y[F]) M = O - (e & 255 | (e & 1) << 5), O -= M & M >> 255, e >>= 8, M = O - (e & 255 | (e & 1) << 5), O -= M & M >> 255, e >>= 8, M = O - (e & 255 | (e & 1) << 5), O -= M & M >> 255, e >>= 8, M = O - (e & 255 | (e & 1) << 5), O -= M & M >> 255;
              if (e = D[F]) M = O - (e & 255 | (e & 1) << 5), O -= M & M >> 255, e >>= 8, M = O - (e & 255 | (e & 1) << 5), O -= M & M >> 255, e >>= 8, M = O - (e & 255 | (e & 1) << 5), O -= M & M >> 255, e >>= 8, M = O - (e & 255 | (e & 1) << 5), O -= M & M >> 255;
              v[N] = O & 31;
              F += 1;
              N += 4;
            }
          }
          u += 1;
        } else u += 16;
        l += 16;
        r += 16;
      }
    };
    ra.prototype.Wi = function (a, b) {
      var c, d, f = this.B, e, k, g, m, p, n = this.ba, q = this.Y >> 4;
      var l = 0;
      var r = l + 16;
      for (k = 0; k < n; k += 1) {
        var u = 0;
        var t = f[k];
        for (g = 0; g < q; g += 1) if (p = t[g]) for (m = 15; 0 <= m; --m) {
          if (0 !== (p & 1 << m)) for (c = l; c < r; c += 4) {
            var v = b[c];
            var B = a[c];
            var w = a[c + 1];
            var y = a[c + 2];
            var D = a[c + 3];
            var F = u << 2;
            var N = u << 4;
            for (d = 0; 4 > d; d += 1) {
              var O = 0;
              if (e = B[F]) O -= O - (e & 255) & O - (e & 255) >> 255, e >>= 8, O -= O - (e & 255) & O - (e & 255) >> 255, e >>= 8, O -= O - (e & 255) & O - (e & 255) >> 255, e >>= 8, O -= O - (e & 255) & O - (e & 255) >> 255;
              if (e = w[F]) O -= O - (e & 255) & O - (e & 255) >> 255, e >>= 8, O -= O - (e & 255) & O - (e & 255) >> 255, e >>= 8, O -= O - (e & 255) & O - (e & 255) >> 255, e >>= 8, O -= O - (e & 255) & O - (e & 255) >> 255;
              if (e = y[F]) O -= O - (e & 255) & O - (e & 255) >> 255, e >>= 8, O -= O - (e & 255) & O - (e & 255) >> 255, e >>= 8, O -= O - (e & 255) & O - (e & 255) >> 255, e >>= 8, O -= O - (e & 255) & O - (e & 255) >> 255;
              if (e = D[F]) O -= O - (e & 255) & O - (e & 255) >> 255, e >>= 8, O -= O - (e & 255) & O - (e & 255) >> 255, e >>= 8, O -= O - (e & 255) & O - (e & 255) >> 255, e >>= 8, O -= O - (e & 255) & O - (e & 255) >> 255;
              v[N] = O;
              F += 1;
              N += 4;
            }
          }
          u += 1;
        } else u += 16;
        l += 16;
        r += 16;
      }
    };
    ra.prototype.pk = function (a, b) {
      var c, d, f = this.B, e, k, g, m, p, n = this.ba, q = this.Y >> 4;
      var l = 0;
      var r = l + 16;
      for (k = 0; k < n; k += 1) {
        var u = 0;
        var t = f[k];
        for (g = 0; g < q; g += 1) if (p = t[g]) for (m = 15; 0 <= m; --m) {
          if (0 !== (p & 1 << m)) for (c = l; c < r; c += 8) {
            var v = b[c];
            var B = a[c];
            var w = a[c + 1];
            var y = a[c + 2];
            var D = a[c + 3];
            var F = a[c + 4];
            var N = a[c + 5];
            var O = a[c + 6];
            var M = a[c + 7];
            var U = u << 2;
            var W = u << 4;
            for (d = 0; 2 > d; d += 1) {
              var H = 0;
              if (e = B[U]) {
                var P = H - (e & 255 | (e & 1) << 5);
                H -= P & P >> 255;
                e >>= 8;
                P = H - (e & 255 | (e & 1) << 5);
                H -= P & P >> 255;
                e >>= 8;
                P = H - (e & 255 | (e & 1) << 5);
                H -= P & P >> 255;
                e >>= 8;
                P = H - (e & 255 | (e & 1) << 5);
                H -= P & P >> 255;
              }
              if (e = B[U + 1]) P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255;
              if (e = w[U]) P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255;
              if (e = w[U + 1]) P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255;
              if (e = y[U]) P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255;
              if (e = y[U + 1]) P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255;
              if (e = D[U]) P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255;
              if (e = D[U + 1]) P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255;
              if (e = F[U]) P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255;
              if (e = F[U + 1]) P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255;
              if (e = N[U]) P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255;
              if (e = N[U + 1]) P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255;
              if (e = O[U]) P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255;
              if (e = O[U + 1]) P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255;
              if (e = M[U]) P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255;
              if (e = M[U + 1]) P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255, e >>= 8, P = H - (e & 255 | (e & 1) << 5), H -= P & P >> 255;
              v[W] = H & 31;
              U += 2;
              W += 8;
            }
          }
          u += 1;
        } else u += 16;
        l += 16;
        r += 16;
      }
    };
    ra.prototype.Xi = function (a, b) {
      var c, d, f = this.B, e, k, g, m, p, n = this.ba, q = this.Y >> 4;
      var l = 0;
      var r = l + 16;
      for (k = 0; k < n; k += 1) {
        var u = 0;
        var t = f[k];
        for (g = 0; g < q; g += 1) if (p = t[g]) for (m = 15; 0 <= m; --m) {
          if (0 !== (p & 1 << m)) for (c = l; c < r; c += 8) {
            var v = b[c];
            var B = a[c];
            var w = a[c + 1];
            var y = a[c + 2];
            var D = a[c + 3];
            var F = a[c + 4];
            var N = a[c + 5];
            var O = a[c + 6];
            var M = a[c + 7];
            var U = u << 2;
            var W = u << 4;
            for (d = 0; 2 > d; d += 1) {
              var H = 0;
              if (e = B[U]) H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255;
              if (e = B[U + 1]) H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255;
              if (e = w[U]) H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255;
              if (e = w[U + 1]) H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255;
              if (e = y[U]) H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255;
              if (e = y[U + 1]) H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255;
              if (e = D[U]) H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255;
              if (e = D[U + 1]) H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255;
              if (e = F[U]) H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255;
              if (e = F[U + 1]) H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255;
              if (e = N[U]) H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255;
              if (e = N[U + 1]) H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255;
              if (e = O[U]) H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255;
              if (e = O[U + 1]) H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255;
              if (e = M[U]) H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255;
              if (e = M[U + 1]) H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255, e >>= 8, H -= H - (e & 255) & H - (e & 255) >> 255;
              v[W] = H;
              U += 2;
              W += 8;
            }
          }
          u += 1;
        } else u += 16;
        l += 16;
        r += 16;
      }
    };
    ra.prototype.fm = function (a, b) {
      var c = this.B, d, f, e, k, g, m, p = this.ba, n = this.Y >> 4;
      var q = 0;
      var l = q + 16;
      for (f = 0; f < p; f += 1) {
        var r = 0;
        var u = c[f];
        for (e = 0; e < n; e += 1) if (m = u[e]) for (k = 15; 0 <= k; --k) {
          if (0 !== (m & 1 << k)) {
            var t = 0;
            for (g = q; g < l; g += 1) {
              var v = a[g];
              var B = r << 2;
              if (d = v[B]) {
                var w = t - (d & 255 | (d & 1) << 5);
                t -= w & w >> 255;
                d >>= 8;
                w = t - (d & 255 | (d & 1) << 5);
                t -= w & w >> 255;
                d >>= 8;
                w = t - (d & 255 | (d & 1) << 5);
                t -= w & w >> 255;
                d >>= 8;
                w = t - (d & 255 | (d & 1) << 5);
                t -= w & w >> 255;
              }
              if (d = v[B + 1]) w = t - (d & 255 | (d & 1) << 5), t -= w & w >> 255, d >>= 8, w = t - (d & 255 | (d & 1) << 5), t -= w & w >> 255, d >>= 8, w = t - (d & 255 | (d & 1) << 5), t -= w & w >> 255, d >>= 8, w = t - (d & 255 | (d & 1) << 5), t -= w & w >> 255;
              if (d = v[B + 2]) w = t - (d & 255 | (d & 1) << 5), t -= w & w >> 255, d >>= 8, w = t - (d & 255 | (d & 1) << 5), t -= w & w >> 255, d >>= 8, w = t - (d & 255 | (d & 1) << 5), t -= w & w >> 255, d >>= 8, w = t - (d & 255 | (d & 1) << 5), t -= w & w >> 255;
              if (d = v[B + 3]) w = t - (d & 255 | (d & 1) << 5), t -= w & w >> 255, d >>= 8, w = t - (d & 255 | (d & 1) << 5), t -= w & w >> 255, d >>= 8, w = t - (d & 255 | (d & 1) << 5), t -= w & w >> 255, d >>= 8, w = t - (d & 255 | (d & 1) << 5), t -= w & w >> 255;
            }
            v = b[q];
            B = r << 4;
            v[B] = t & 31;
          }
          r += 1;
        } else r += 16;
        q += 16;
        l += 16;
      }
    };
    ra.prototype.Ti = function (a, b) {
      var c = this.B, d, f, e, k, g, m, p = this.ba, n = this.Y >> 4;
      var q = 0;
      var l = q + 16;
      for (f = 0; f < p; f += 1) {
        var r = 0;
        var u = c[f];
        for (e = 0; e < n; e += 1) if (m = u[e]) for (k = 15; 0 <= k; --k) {
          if (0 !== (m & 1 << k)) {
            var t = 0;
            for (g = q; g < l; g += 1) {
              var v = a[g];
              var B = r << 2;
              if (d = v[B]) t -= t - (d & 255) & t - (d & 255) >> 255, d >>= 8, t -= t - (d & 255) & t - (d & 255) >> 255, d >>= 8, t -= t - (d & 255) & t - (d & 255) >> 255, d >>= 8, t -= t - (d & 255) & t - (d & 255) >> 255;
              if (d = v[B + 1]) t -= t - (d & 255) & t - (d & 255) >> 255, d >>= 8, t -= t - (d & 255) & t - (d & 255) >> 255, d >>= 8, t -= t - (d & 255) & t - (d & 255) >> 255, d >>= 8, t -= t - (d & 255) & t - (d & 255) >> 255;
              if (d = v[B + 2]) t -= t - (d & 255) & t - (d & 255) >> 255, d >>= 8, t -= t - (d & 255) & t - (d & 255) >> 255, d >>= 8, t -= t - (d & 255) & t - (d & 255) >> 255, d >>= 8, t -= t - (d & 255) & t - (d & 255) >> 255;
              if (d = v[B + 3]) t -= t - (d & 255) & t - (d & 255) >> 255, d >>= 8, t -= t - (d & 255) & t - (d & 255) >> 255, d >>= 8, t -= t - (d & 255) & t - (d & 255) >> 255, d >>= 8, t -= t - (d & 255) & t - (d & 255) >> 255;
            }
            v = b[q];
            B = r << 4;
            v[B] = t;
          }
          r += 1;
        } else r += 16;
        q += 16;
        l += 16;
      }
    };
    ra.prototype.hm = function (a, b) {
      var c = this.B, d, f, e, k, g, m = this.ba, p = this.Y >> 4;
      var n = 0;
      var q = n + 32;
      for (f = 0; f < m; f += 2) {
        var l = 0;
        var r = c[f];
        var u = c[f + 1];
        for (e = 0; e < p; e += 1) {
          var t = r[e] | u[e];
          if (0 !== t) for (k = 49152; 0 < k; k >>= 2) {
            if (0 !== (t & k)) {
              var v = 0;
              for (g = n; g < q; g += 1) {
                var B = a[g];
                var w = l << 2;
                if (d = B[w]) {
                  var y = v - (d & 255 | (d & 1) << 5);
                  v -= y & y >> 255;
                  d >>= 8;
                  y = v - (d & 255 | (d & 1) << 5);
                  v -= y & y >> 255;
                  d >>= 8;
                  y = v - (d & 255 | (d & 1) << 5);
                  v -= y & y >> 255;
                  d >>= 8;
                  y = v - (d & 255 | (d & 1) << 5);
                  v -= y & y >> 255;
                }
                if (d = B[w + 1]) y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255;
                if (d = B[w + 2]) y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255;
                if (d = B[w + 3]) y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255;
                if (d = B[w + 4]) y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255;
                if (d = B[w + 5]) y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255;
                if (d = B[w + 6]) y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255;
                if (d = B[w + 7]) y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255, d >>= 8, y = v - (d & 255 | (d & 1) << 5), v -= y & y >> 255;
              }
              B = b[n];
              w = l << 4;
              B[w] = v & 31;
            }
            l += 2;
          } else l += 16;
        }
        n += 32;
        q += 32;
      }
    };
    ra.prototype.Vi = function (a, b) {
      var c = this.B, d, f, e, k, g, m = this.ba, p = this.Y >> 4;
      var n = 0;
      var q = n + 32;
      for (f = 0; f < m; f += 2) {
        var l = 0;
        var r = c[f];
        var u = c[f + 1];
        for (e = 0; e < p; e += 1) {
          var t = r[e] | u[e];
          if (0 !== t) for (k = 49152; 0 < k; k >>= 2) {
            if (0 !== (t & k)) {
              var v = 0;
              for (g = n; g < q; g += 1) {
                var B = a[g];
                var w = l << 2;
                if (d = B[w]) v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255;
                if (d = B[w + 1]) v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255;
                if (d = B[w + 2]) v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255;
                if (d = B[w + 3]) v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255;
                if (d = B[w + 4]) v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255;
                if (d = B[w + 5]) v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255;
                if (d = B[w + 6]) v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255;
                if (d = B[w + 7]) v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255, d >>= 8, v -= v - (d & 255) & v - (d & 255) >> 255;
              }
              B = b[n];
              w = l << 4;
              B[w] = v;
            }
            l += 2;
          } else l += 16;
        }
        n += 32;
        q += 32;
      }
    };
    ra.prototype.qe = function (a) {
      this.Ci && a.ca.fill(0);
    };
    ra.prototype.vh = function (a, b, c) {
      0.5 <= c && 1 > c ? (this.qe(this.Da), this.l ? this.gm(a, this.Da) : this.Ui(a, this.Da)) : 0.25 <= c && 0.5 > c ? (this.qe(this.Da), this.l ? this.im(b, this.Da) : this.Wi(b, this.Da)) : 0.125 <= c && 0.25 > c ? (this.qe(this.Da), this.l ? this.pk(b, this.Da) : this.Xi(b, this.Da)) : 0.0625 <= c && 0.125 > c ? (this.qe(this.Da), this.l ? this.fm(b, this.Da) : this.Ti(b, this.Da)) : this.l ? this.hm(b, this.Da) : this.Vi(b, this.Da);
      this.sc && (0.5 <= c && 1 > c ? (this.qe(this.Ya), this.Ui(this.Xe, this.Ya)) : 0.25 <= c && 0.5 > c ? (this.qe(this.Ya), this.Wi(this.Ed, this.Ya)) : 0.125 <= c && 0.25 > c ? (this.qe(this.Ya), this.Xi(this.Ed, this.Ya)) : 0.0625 <= c && 0.125 > c ? (this.qe(this.Ya), this.Ti(this.Ed, this.Ya)) : this.Vi(this.Ed, this.Ya));
      this.Ci = 0.0625 > c ? true : false;
    };
    ra.prototype.Nb = function (a, b, c, d, f) {
      var e = -1, k = -1, g, m = this.width, p = this.height;
      for (g = 0; g < a.length; g += 1) a[g] && (g < c && (c = g), g > e && (e = g));
      for (g = 0; g < b.length; g += 1) b[g] && (g < d && (d = g), g > k && (k = g));
      c = (c << 4) + this.nb(a[c]);
      e = (e << 4) + this.Ab(a[e]);
      d = (d << 4) + this.nb(b[d]);
      k = (k << 4) + this.Ab(b[k]);
      0 > k && (k = p - 1);
      d >= p && (d = 0);
      c >= m && (c = 0);
      0 > e && (e = m - 1);
      k > p - 1 && (k = p - 1);
      0 > d && (d = 0);
      0 > c && (c = 0);
      e > m - 1 && (e = m - 1);
      f.K = k;
      f.G = d;
      f.F = c;
      f.J = e;
    };
    ra.prototype.Kb = function (a) {
      var b, c, d, f = this.Y >> 4, e = this.Na, k, g;
      var m = 0;
      var p = m + 16;
      for (b = 0; b < e.length; b += 1) {
        var n = 0;
        var q = e[b];
        for (c = 0; c < f; c += 1) if (k = q[c]) for (g = 15; 0 <= g; --g) {
          if (k & 1 << g) {
            var l = n >> 2;
            for (d = m; d < p; d += 1) {
              var r = a[d];
              r[l] = 0;
              r[l + 1] = 0;
              r[l + 2] = 0;
              r[l + 3] = 0;
            }
          }
          n += 16;
        } else n += 256;
        m += 16;
        p += 16;
      }
    };
    ra.prototype.Rl = function (a) {
      var b, c, d, f = this.Y >> 4, e = this.Na, k, g;
      var m = 0;
      var p = m + 16;
      for (b = 0; b < e.length; b += 1) {
        var n = 0;
        var q = e[b];
        for (c = 0; c < f; c += 1) if (k = q[c]) for (g = 15; 0 <= g; --g) {
          if (k & 1 << g) {
            var l = n;
            for (d = m; d < p; d += 1) {
              var r = a[d];
              r[l] = 0;
            }
          }
          n += 1;
        } else n += 16;
        m += 16;
        p += 16;
      }
    };
    ra.prototype.nm = function () {
      var a = this.Na, b, c, d, f = this.width, e = this.height, k = this.u, g = 0, m = 0, p = 0, n, q, l = this.Ha, r, u = this.Ta, t, v, B = this.ba, w = this.Y >> 4, y = this.Ja, D = this.U.o, F = [0, 1, 2, 3, 4, 5, 7, 6, 8, 9, 11, 10, 13, 12, 14, 15, 16, 17, 18, 20, 19];
      if (0 === (this.counter & 1)) {
        var N = this.W;
        var O = this.ta;
        var M = this.m;
        var U = this.V;
        var W = this.L;
        this.eb && (D = this.U.qa);
      } else N = this.m, O = this.sa, M = this.W, U = this.L, W = this.V;
      l.fill(0);
      u.fill(0);
      var H = 0;
      var P = H + 16;
      W.ca.fill(0);
      for (b = 0; b < U.length; b += 1) {
        var Q = 0;
        var T = Q + 16;
        var Z = U[b];
        var na = W[b];
        var ia = a[b];
        var ba = 0 < b ? W[b - 1] : y;
        var ja = b < B - 1 ? W[b + 1] : y;
        for (c = 0; c < w; c += 1) {
          var la = Z[c];
          var fa = 0;
          if (la) {
            var V = na[c];
            var ma = ba[c];
            var ca = ja[c];
            for (d = 15; 0 <= d; --d) {
              if (0 !== (la & 1 << d)) {
                var aa = t = r = n = 0;
                var X = H;
                for (v = 32768; X < P;) {
                  var pa = 0 === X ? this.oa : N[X - 1];
                  var R = N[X];
                  var E = X === this.height - 1 ? this.oa : N[X + 1];
                  var z = M[X];
                  var K = 32768;
                  var L = Q;
                  var J = 0 === L ? 0 : R[L - 1];
                  for (q = R[L]; L < T - 1;) {
                    var x = pa[L];
                    var A = J;
                    J = q;
                    q = R[L + 1];
                    var ka = E[L];
                    if (2 <= J) x = F[J]; else {
                      var Y = 1 << x | 1 << A | 1 << q | 1 << ka;
                      Y & (J ? 82124 : 29440) ? x = 1 - J : J || !(Y & 98304) || Y & 2 ? (Y = J ? 1414486 : 759126, x = D[(Y >> ka & 1) << 7 | (Y >> A & 1) << 5 | J << 4 | (Y >> q & 1) << 3 | (Y >> x & 1) << 1]) : x = 0;
                    }
                    z[L] = x;
                    A = J ? 1 : 0;
                    0 < x ? (p += 1, g += 1 - A) : m += A;
                    0 < x && (t |= v, r |= K);
                    n |= J;
                    K >>= 1;
                    L += 1;
                  }
                  x = pa[L];
                  A = J;
                  J = q;
                  q = L === f - 1 ? 0 : R[L + 1];
                  ka = E[L];
                  2 <= J ? x = F[J] : (Y = 1 << x | 1 << A | 1 << q | 1 << ka, Y & (J ? 82124 : 29440) ? x = 1 - J : J || !(Y & 98304) || Y & 2 ? (Y = J ? 1414486 : 759126, x = D[(Y >> ka & 1) << 7 | (Y >> A & 1) << 5 | J << 4 | (Y >> q & 1) << 3 | (Y >> x & 1) << 1]) : x = 0);
                  z[L] = x;
                  A = J ? 1 : 0;
                  0 < x ? (p += 1, g += 1 - A) : m += A;
                  0 < x && (t |= v, r |= K);
                  n |= J;
                  X += 1;
                  v >>= 1;
                }
                l[Q >> 4] |= r;
                r ? (V |= 1 << d, t & 1 && (aa |= I.tb, r & 32768 && (aa |= I.Eb), r & 1 && (aa |= I.sb)), t & 32768 && (aa |= I.xb, r & 32768 && (aa |= I.Bb), r & 1 && (aa |= I.Cb)), r & 32768 && (aa |= I.qb), r & 1 && (aa |= I.jb), aa && (0 !== (aa & I.qb) && (15 > d ? V |= 1 << d + 1 : 0 < c && 0 < Q && (na[c - 1] |= 1)), 0 !== (aa & I.jb) && (0 < d ? V |= 1 << d - 1 : c < w - 1 && Q < f - 1 && (na[c + 1] |= 32768)), 0 !== (aa & I.xb) && (ma |= 1 << d), 0 !== (aa & I.tb) && (ca |= 1 << d), 0 !== (aa & I.Bb) && (15 > d ? ma |= 1 << d + 1 : 0 < c && 0 < Q && (ba[c - 1] |= 1)), 0 !== (aa & I.Cb) && (0 < d ? ma |= 1 << d - 1 : c < w - 1 && Q < f - 1 && (ba[c + 1] |= 32768)), 0 !== (aa & I.Eb) && (15 > d ? ca |= 1 << d + 1 : 0 < c && 0 < Q && (ja[c - 1] |= 1)), 0 !== (aa & I.sb) && (0 < d ? ca |= 1 << d - 1 : c < w - 1 && Q < f - 1 && (ja[c + 1] |= 32768)))) : n && (fa |= 1 << d);
                u[b] |= t;
              }
              Q += 16;
              T += 16;
            }
            na[c] |= V;
            0 < b && (ba[c] |= ma);
            b < B - 1 && (ja[c] |= ca);
          } else Q += 256, T += 256;
          ia[c] = fa;
        }
        H += 16;
        P += 16;
      }
      this.Nb(l, u, f, e, k);
      y.fill(0);
      this.Kb(O);
      for (X = 0; X < this.B.ca.length; X += 1) this.B.ca[X] = this.B.ca[X] | U.ca[X] | W.ca[X];
      this.o = p;
      this.ma = g;
      this.aa = m;
    };
    ra.prototype.vo = function () {
      var a = this.Na, b, c, d, f = this.width, e = this.height, k = this.u, g = 0, m = 0, p = 0, n, q, l, r, u = this.Ha, t, v = this.Ta, B, w, y = this.ba, D = this.Y >> 4, F = this.Ja, N = this.U.o, O = [0, 1, 2, 3, 4, 5, 7, 6, 8, 9, 11, 10, 13, 12, 14, 15, 16, 17, 18, 20, 19];
      if (0 === (this.counter & 1)) {
        var M = this.W;
        var U = this.ta;
        var W = this.m;
        var H = this.V;
        var P = this.L;
        this.eb && (N = this.U.o);
      } else M = this.m, U = this.sa, W = this.W, H = this.L, P = this.V, this.eb && (N = this.U.qa);
      u.fill(0);
      v.fill(0);
      var Q = 0;
      var T = Q + 16;
      P.ca.fill(0);
      for (b = 0; b < H.length; b += 1) {
        var Z = 0;
        var na = Z + 16;
        var ia = H[b];
        var ba = P[b];
        var ja = a[b];
        var la = 0 < b ? P[b - 1] : F;
        var fa = b < y - 1 ? P[b + 1] : F;
        for (c = 0; c < D; c += 1) {
          var V = ia[c];
          var ma = 0;
          if (V) {
            var ca = ba[c];
            var aa = la[c];
            var X = fa[c];
            for (d = 15; 0 <= d; --d) {
              if (0 !== (V & 1 << d)) {
                var pa = B = t = n = 0;
                var R = Q;
                for (w = 32768; R < T;) {
                  var E = 0 === R ? this.oa : M[R - 1];
                  var z = M[R];
                  var K = R === this.height - 1 ? this.oa : M[R + 1];
                  var L = W[R];
                  var J = 32768;
                  var x = Z;
                  if (0 === x) var A = l = q = 0; else q = E[x - 1], l = z[x - 1], A = K[x - 1];
                  var ka = E[x];
                  var Y = z[x];
                  for (r = K[x]; x < na - 1;) {
                    var qa = q;
                    var sa = l;
                    var ha = A;
                    q = ka;
                    l = Y;
                    A = r;
                    ka = E[x + 1];
                    Y = z[x + 1];
                    r = K[x + 1];
                    if (2 <= l) qa = O[l]; else {
                      var ta = 1 << qa | 1 << q | 1 << sa | 1 << Y | 1 << A | 1 << r;
                      ta & (l ? 82124 : 29440) ? qa = 1 - l : l || !(ta & 98304) || ta & 2 ? (ta = l ? 1414486 : 759126, qa = N[(ta >> ha & 1) << 8 | (ta >> A & 1) << 7 | (ta >> r & 1) << 6 | (ta >> sa & 1) << 5 | l << 4 | (ta >> Y & 1) << 3 | (ta >> qa & 1) << 2 | (ta >> q & 1) << 1 | ta >> ka & 1]) : qa = 0;
                    }
                    L[x] = qa;
                    sa = l ? 1 : 0;
                    0 < qa ? (p += 1, g += 1 - sa) : m += sa;
                    0 < qa && (B |= w, t |= J);
                    n |= l;
                    J >>= 1;
                    x += 1;
                  }
                  qa = q;
                  sa = l;
                  ha = A;
                  q = ka;
                  l = Y;
                  A = r;
                  x === f - 1 ? ka = r = Y = 0 : (ka = E[x + 1], Y = z[x + 1], r = K[x + 1]);
                  2 <= l ? qa = O[l] : (ta = 1 << qa | 1 << q | 1 << sa | 1 << Y | 1 << A | 1 << r, ta & (l ? 82124 : 29440) ? qa = 1 - l : l || !(ta & 98304) || ta & 2 ? (ta = l ? 1414486 : 759126, qa = N[(ta >> ha & 1) << 8 | (ta >> A & 1) << 7 | (ta >> r & 1) << 6 | (ta >> sa & 1) << 5 | l << 4 | (ta >> Y & 1) << 3 | (ta >> qa & 1) << 2 | (ta >> q & 1) << 1 | ta >> ka & 1]) : qa = 0);
                  L[x] = qa;
                  sa = l ? 1 : 0;
                  0 < qa ? (p += 1, g += 1 - sa) : m += sa;
                  0 < qa && (B |= w, t |= J);
                  n |= l;
                  R += 1;
                  w >>= 1;
                }
                u[Z >> 4] |= t;
                t ? (ca |= 1 << d, B & 1 && (pa |= I.tb, t & 32768 && (pa |= I.Eb), t & 1 && (pa |= I.sb)), B & 32768 && (pa |= I.xb, t & 32768 && (pa |= I.Bb), t & 1 && (pa |= I.Cb)), t & 32768 && (pa |= I.qb), t & 1 && (pa |= I.jb), pa && (0 !== (pa & I.qb) && (15 > d ? ca |= 1 << d + 1 : 0 < c && 0 < Z && (ba[c - 1] |= 1)), 0 !== (pa & I.jb) && (0 < d ? ca |= 1 << d - 1 : c < D - 1 && Z < f - 1 && (ba[c + 1] |= 32768)), 0 !== (pa & I.xb) && (aa |= 1 << d), 0 !== (pa & I.tb) && (X |= 1 << d), 0 !== (pa & I.Bb) && (15 > d ? aa |= 1 << d + 1 : 0 < c && 0 < Z && (la[c - 1] |= 1)), 0 !== (pa & I.Cb) && (0 < d ? aa |= 1 << d - 1 : c < D - 1 && Z < f - 1 && (la[c + 1] |= 32768)), 0 !== (pa & I.Eb) && (15 > d ? X |= 1 << d + 1 : 0 < c && 0 < Z && (fa[c - 1] |= 1)), 0 !== (pa & I.sb) && (0 < d ? X |= 1 << d - 1 : c < D - 1 && Z < f - 1 && (fa[c + 1] |= 32768)))) : n && (ma |= 1 << d);
                v[b] |= B;
              }
              Z += 16;
              na += 16;
            }
            ba[c] |= ca;
            0 < b && (la[c] |= aa);
            b < y - 1 && (fa[c] |= X);
          } else Z += 256, na += 256;
          ja[c] = ma;
        }
        Q += 16;
        T += 16;
      }
      this.Nb(u, v, f, e, k);
      F.fill(0);
      this.Kb(U);
      for (R = 0; R < this.B.ca.length; R += 1) this.B.ca[R] = this.B.ca[R] | H.ca[R] | P.ca[R];
      this.o = p;
      this.ma = g;
      this.aa = m;
    };
    ra.prototype.lm = function () {
      var a = this.Na, b, c, d, f = this.width, e = this.height, k = this.u, g = 0, m = 0, p = 0, n, q, l, r, u = this.Ha, t, v = this.Ta, B, w, y = this.ba, D = this.Y >> 4, F = this.Ja, N = this.U.o, O = [0, 1, 2, 3, 4, 5, 7, 6, 8, 9, 11, 10, 13, 12, 14, 15, 16, 17, 18, 20, 19];
      if (0 === (this.counter & 1)) {
        var M = this.W;
        var U = this.ta;
        var W = this.m;
        var H = this.V;
        var P = this.L;
        this.eb && (N = this.U.o);
      } else M = this.m, U = this.sa, W = this.W, H = this.L, P = this.V, this.eb && (N = this.U.qa);
      u.fill(0);
      v.fill(0);
      var Q = 0;
      var T = Q + 16;
      P.ca.fill(0);
      for (b = 0; b < H.length; b += 1) {
        var Z = 0;
        var na = Z + 16;
        var ia = H[b];
        var ba = P[b];
        var ja = a[b];
        var la = 0 < b ? P[b - 1] : F;
        var fa = b < y - 1 ? P[b + 1] : F;
        for (c = 0; c < D; c += 1) {
          var V = ia[c];
          var ma = 0;
          if (V) {
            var ca = ba[c];
            var aa = la[c];
            var X = fa[c];
            for (d = 15; 0 <= d; --d) {
              if (0 !== (V & 1 << d)) {
                var pa = B = t = n = 0;
                var R = Q;
                for (w = 32768; R < T;) {
                  var E = 0 === R ? this.oa : M[R - 1];
                  var z = M[R];
                  var K = R === this.height - 1 ? this.oa : M[R + 1];
                  var L = W[R];
                  var J = 32768;
                  var x = Z;
                  if (0 === x) var A = l = q = 0; else q = E[x - 1], l = z[x - 1], A = K[x - 1];
                  var ka = E[x];
                  var Y = z[x];
                  for (r = K[x]; x < na - 1;) {
                    var qa = q;
                    var sa = l;
                    var ha = A;
                    q = ka;
                    l = Y;
                    A = r;
                    ka = E[x + 1];
                    Y = z[x + 1];
                    r = K[x + 1];
                    if (2 <= l) qa = O[l]; else {
                      var ta = 1 << qa | 1 << q | 1 << ka | 1 << sa | 1 << Y | 1 << ha | 1 << A | 1 << r;
                      1 === ta && 0 === l ? qa = 0 : ta & (l ? 82124 : 29440) ? qa = 1 - l : l || !(ta & 98304) || ta & 2 ? (ta = l ? 1414486 : 759126, qa = N[(ta >> ha & 1) << 8 | (ta >> A & 1) << 7 | (ta >> r & 1) << 6 | (ta >> sa & 1) << 5 | l << 4 | (ta >> Y & 1) << 3 | (ta >> qa & 1) << 2 | (ta >> q & 1) << 1 | ta >> ka & 1]) : qa = 0;
                    }
                    L[x] = qa;
                    sa = l ? 1 : 0;
                    0 < qa ? (p += 1, g += 1 - sa) : m += sa;
                    0 < qa && (B |= w, t |= J);
                    n |= l;
                    J >>= 1;
                    x += 1;
                  }
                  qa = q;
                  sa = l;
                  ha = A;
                  q = ka;
                  l = Y;
                  A = r;
                  x === f - 1 ? r = Y = ka = 0 : (ka = E[x + 1], Y = z[x + 1], r = K[x + 1]);
                  2 <= l ? qa = O[l] : (ta = 1 << qa | 1 << q | 1 << ka | 1 << sa | 1 << Y | 1 << ha | 1 << A | 1 << r, 1 === ta && 0 === l ? qa = 0 : ta & (l ? 82124 : 29440) ? qa = 1 - l : l || !(ta & 98304) || ta & 2 ? (ta = l ? 1414486 : 759126, qa = N[(ta >> ha & 1) << 8 | (ta >> A & 1) << 7 | (ta >> r & 1) << 6 | (ta >> sa & 1) << 5 | l << 4 | (ta >> Y & 1) << 3 | (ta >> qa & 1) << 2 | (ta >> q & 1) << 1 | ta >> ka & 1]) : qa = 0);
                  L[x] = qa;
                  sa = l ? 1 : 0;
                  0 < qa ? (p += 1, g += 1 - sa) : m += sa;
                  0 < qa && (B |= w, t |= J);
                  n |= l;
                  R += 1;
                  w >>= 1;
                }
                u[Z >> 4] |= t;
                t ? (ca |= 1 << d, B & 1 && (pa |= I.tb, t & 32768 && (pa |= I.Eb), t & 1 && (pa |= I.sb)), B & 32768 && (pa |= I.xb, t & 32768 && (pa |= I.Bb), t & 1 && (pa |= I.Cb)), t & 32768 && (pa |= I.qb), t & 1 && (pa |= I.jb), pa && (0 !== (pa & I.qb) && (15 > d ? ca |= 1 << d + 1 : 0 < c && 0 < Z && (ba[c - 1] |= 1)), 0 !== (pa & I.jb) && (0 < d ? ca |= 1 << d - 1 : c < D - 1 && Z < f - 1 && (ba[c + 1] |= 32768)), 0 !== (pa & I.xb) && (aa |= 1 << d), 0 !== (pa & I.tb) && (X |= 1 << d), 0 !== (pa & I.Bb) && (15 > d ? aa |= 1 << d + 1 : 0 < c && 0 < Z && (la[c - 1] |= 1)), 0 !== (pa & I.Cb) && (0 < d ? aa |= 1 << d - 1 : c < D - 1 && Z < f - 1 && (la[c + 1] |= 32768)), 0 !== (pa & I.Eb) && (15 > d ? X |= 1 << d + 1 : 0 < c && 0 < Z && (fa[c - 1] |= 1)), 0 !== (pa & I.sb) && (0 < d ? X |= 1 << d - 1 : c < D - 1 && Z < f - 1 && (fa[c + 1] |= 32768)))) : n && (ma |= 1 << d);
                v[b] |= B;
              }
              Z += 16;
              na += 16;
            }
            ba[c] |= ca;
            0 < b && (la[c] |= aa);
            b < y - 1 && (fa[c] |= X);
          } else Z += 256, na += 256;
          ja[c] = ma;
        }
        Q += 16;
        T += 16;
      }
      this.Nb(u, v, f, e, k);
      F.fill(0);
      this.Kb(U);
      for (R = 0; R < this.B.ca.length; R += 1) this.B.ca[R] = this.B.ca[R] | H.ca[R] | P.ca[R];
      this.o = p;
      this.ma = g;
      this.aa = m;
    };
    ra.prototype.Nm = function () {
      var a = this.B, b = this.qa, c = this.oa, d, f, e, k, g = this.width, m = g >> 4, p = this.height, n = g, q = -1, l = -1, r = p, u = this.u, t = g, v = -1, B = -1, w = p, y = this.qg, D, F = this.Ha, N = this.Cf, O, M, U, W = this.Ta, H = this.pf, P;
      var Q = this.ba;
      var T = this.Y >> 4;
      var Z = 0;
      var na = Q, ia = this.hc;
      if (0 !== (this.counter & 1)) {
        var ba = this.Qa;
        var ja = this.V;
        var la = this.m;
        var fa = this.W;
      } else ba = this.wa, ja = this.L, la = this.W, fa = this.m;
      0 > Z && (Z = 0);
      na > Q && (na = Q);
      F.fill(0);
      N.fill(0);
      W.fill(0);
      H.fill(0);
      Q = Z << 4;
      var V = Q + 16;
      for (d = Z; d < na; d += 1) {
        var ma = 0;
        var ca = ja[d];
        var aa = b[d];
        var X = a[d];
        for (f = 0; f < T; f += 1) {
          if (k = ca[f] | aa[f]) for (e = 15; 0 <= e; --e) {
            if (0 !== (k & 1 << e)) {
              var pa = P = M = O = 0;
              var R = 32768;
              for (Z = Q; Z < V; Z += 1) {
                var E = ba[Z];
                var z = la[Z];
                var K = 0 === Z ? c : la[Z - 1];
                var L = Z === this.height - 1 ? c : la[Z + 1];
                var J = fa[Z];
                var x = ma << 4;
                if (0 === x) var A = D = 0; else D = z[x - 1], A = K[x - 1];
                var ka = L[x];
                var Y = z[x];
                var qa = E[ma];
                for (U = 32768; 0 < U;) {
                  var sa = A;
                  A = K[x];
                  var ha = D;
                  D = Y;
                  Y = z[x + 1];
                  var ta = ka;
                  ka = L[x + 1];
                  var ya = D;
                  sa = 1 << sa | 1 << A | 1 << Y | 1 << ha | 1 << ta | 1 << ka;
                  ha = true;
                  if (0 !== (sa & 64)) {
                    ha = false;
                    if (7 === D || 8 === D || 13 <= D) ya = 0; else switch (D) {
                      case 1:
                        ya = 2;
                        break;
                      case 3:
                      case 5:
                        ya = 4;
                        break;
                      case 9:
                        ya = 10;
                        break;
                      case 11:
                        ya = 12;
                        break;
                      default:
                        ha = true;
                    }
                    ha || 0 === (D & 1) || (E[ma] &= ~U, this.aa += 1, --this.o);
                  }
                  if (ha) if (0 !== (qa & U)) {
                    if (0 === (D & 1)) switch (D) {
                      case 4:
                        ya = 3;
                        break;
                      case 6:
                        E[ma] & U && (E[ma] &= ~U, this.aa += 1, --this.o);
                        break;
                      case 8:
                        ya = 7;
                        break;
                      default:
                        ya = 1, ha = sa & 44739072, 0 === (sa & 170) && 1 === ia[ha & 65535] + ia[ha >> 16] ? (ya = 0, 65535 < ha && (ha >>= 16, ya += 16), 255 < ha && (ha >>= 8, ya += 8), 15 < ha && (ha >>= 4, ya += 4), 3 < ha && (ha >>= 2, ya += 2), ya += ha >> 1) : (ha = sa & 44736512, 0 !== (sa & 8) && 0 === (sa & 2722) && 1 === ia[ha & 65535] + ia[ha >> 16] ? (ya = 0, 65535 < ha && (ha >>= 16, ya += 16), 255 < ha && (ha >>= 8, ya += 8), 15 < ha && (ha >>= 4, ya += 4), 3 < ha && (ha >>= 2, ya += 2), ya += ha >> 1) : (ha = sa & 2560, 0 !== (sa & 128) && 0 === (sa & 44736554) && 1 === ia[ha & 65535] + ia[ha >> 16] ? (ya = 0, 65535 < ha && (ha >>= 16, ya += 16), 255 < ha && (ha >>= 8, ya += 8), 15 < ha && (ha >>= 4, ya += 4), 3 < ha && (ha >>= 2, ya += 2), ya += ha >> 1) : (ha = sa & 44736640) && 0 === (sa & 2602) && (ya = 13)));
                    }
                  } else if (0 !== (D & 1)) ya = 11 >= D ? 5 === D ? 4 : D + 1 : 0; else if (14 === D) ya = 0; else if (14 < D) switch (D) {
                    case 16:
                      0 !== (sa & 44755626) && (ya = 14);
                      break;
                    case 18:
                      0 !== (sa & 4194304) && (ya = 22);
                      break;
                    case 20:
                      0 !== (sa & 262144) && (ya = 18);
                      break;
                    case 22:
                      0 !== (sa & 1048576) && (ya = 20);
                      break;
                    case 24:
                      0 !== (sa & 45017770) && (ya = 18);
                  }
                  J[x] = ya;
                  0 < ya && (O |= U, P |= R, ya & 1 && (M |= U, pa |= R));
                  U >>= 1;
                  x += 1;
                }
                R >>= 1;
              }
              F[ma] |= O;
              W[d] |= P;
              N[ma] |= M;
              H[d] |= pa;
            }
            ma += 1;
          } else ma += 16;
          aa[f] = k | 0;
          X[f] = X[f] | k | 0;
        }
        Q += 16;
        V += 16;
      }
      for (f = 0; f < m; f += 1) F[f] && (f < n && (n = f), f > q && (q = f)), N[f] && (f < t && (t = f), f > v && (v = f));
      for (d = 0; d < W.length; d += 1) W[d] && (d < r && (r = d), d > l && (l = d)), H[d] && (d < w && (w = d), d > B && (B = d));
      n = (n << 4) + this.nb(F[n]);
      q = (q << 4) + this.Ab(F[q]);
      r = (r << 4) + this.nb(W[r]);
      l = (l << 4) + this.Ab(W[l]);
      0 > l && (l = p - 1);
      r >= p && (r = 0);
      n >= g && (n = 0);
      0 > q && (q = g - 1);
      l > p - 1 && (l = p - 1);
      0 > r && (r = 0);
      0 > n && (n = 0);
      q > g - 1 && (q = g - 1);
      u.K = l;
      u.G = r;
      u.F = n;
      u.J = q;
      t = (t << 4) + this.nb(N[t]);
      v = (v << 4) + this.Ab(N[v]);
      w = (w << 4) + this.nb(H[w]);
      B = (B << 4) + this.Ab(H[B]);
      0 > B && (B = p - 1);
      w >= p && (w = 0);
      t >= g && (t = 0);
      0 > v && (v = g - 1);
      B > p - 1 && (B = p - 1);
      0 > w && (w = 0);
      0 > t && (t = 0);
      v > g - 1 && (v = g - 1);
      y.K = B;
      y.G = w;
      y.F = t;
      y.J = v;
    };
    ra.prototype.Rm = function () {
      var a = this.B, b = this.qa, c = this.oa, d, f, e, k, g = this.width, m = g >> 4, p = this.height, n = g, q = -1, l = -1, r = p, u = this.u, t = g, v = -1, B = -1, w = p, y = this.qg, D = this.Ha, F = this.Cf, N, O, M, U = this.Ta, W = this.pf, H;
      var P = this.ba;
      var Q = this.Y >> 4;
      var T = 0;
      var Z = P, na = this.hc;
      if (0 !== (this.counter & 1)) {
        var ia = this.Qa;
        var ba = this.V;
        var ja = this.m;
        var la = this.W;
      } else ia = this.wa, ba = this.L, ja = this.W, la = this.m;
      0 > T && (T = 0);
      Z > P && (Z = P);
      D.fill(0);
      F.fill(0);
      U.fill(0);
      W.fill(0);
      P = T << 4;
      var fa = P + 16;
      for (d = T; d < Z; d += 1) {
        var V = 0;
        var ma = ba[d];
        var ca = b[d];
        var aa = a[d];
        for (f = 0; f < Q; f += 1) {
          if (k = ma[f] | ca[f]) for (e = 15; 0 <= e; --e) {
            if (0 !== (k & 1 << e)) {
              var X = H = O = N = 0;
              var pa = 32768;
              for (T = P; T < fa; T += 1) {
                var R = ia[T];
                var E = ja[T];
                var z = 0 === T ? c : ja[T - 1];
                var K = T === this.height - 1 ? c : ja[T + 1];
                var L = la[T];
                var J = V << 4;
                var x = 0 === J ? 0 : E[J - 1];
                var A = E[J];
                var ka = R[V];
                for (M = 32768; 0 < M;) {
                  var Y = z[J];
                  var qa = x;
                  x = A;
                  A = E[J + 1];
                  var sa = K[J];
                  var ha = x;
                  Y = 1 << Y | 1 << A | 1 << qa | 1 << sa;
                  qa = true;
                  if (0 !== (Y & 64)) {
                    qa = false;
                    if (7 === x || 8 === x || 13 <= x) ha = 0; else switch (x) {
                      case 1:
                        ha = 2;
                        break;
                      case 3:
                      case 5:
                        ha = 4;
                        break;
                      case 9:
                        ha = 10;
                        break;
                      case 11:
                        ha = 12;
                        break;
                      default:
                        qa = true;
                    }
                    qa || 0 === (x & 1) || (R[V] &= ~M, this.aa += 1, --this.o);
                  }
                  if (qa) if (0 !== (ka & M)) {
                    if (0 === (x & 1)) switch (x) {
                      case 4:
                        ha = 3;
                        break;
                      case 6:
                        R[V] & M && (R[V] &= ~M, this.aa += 1, --this.o);
                        break;
                      case 8:
                        ha = 7;
                        break;
                      default:
                        ha = 1, qa = Y & 44739072, 0 === (Y & 170) && 1 === na[qa & 65535] + na[qa >> 16] ? (ha = 0, 65535 < qa && (qa >>= 16, ha += 16), 255 < qa && (qa >>= 8, ha += 8), 15 < qa && (qa >>= 4, ha += 4), 3 < qa && (qa >>= 2, ha += 2), ha += qa >> 1) : (qa = Y & 44736512, 0 !== (Y & 8) && 0 === (Y & 2722) && 1 === na[qa & 65535] + na[qa >> 16] ? (ha = 0, 65535 < qa && (qa >>= 16, ha += 16), 255 < qa && (qa >>= 8, ha += 8), 15 < qa && (qa >>= 4, ha += 4), 3 < qa && (qa >>= 2, ha += 2), ha += qa >> 1) : (qa = Y & 2560, 0 !== (Y & 128) && 0 === (Y & 44736554) && 1 === na[qa & 65535] + na[qa >> 16] ? (ha = 0, 65535 < qa && (qa >>= 16, ha += 16), 255 < qa && (qa >>= 8, ha += 8), 15 < qa && (qa >>= 4, ha += 4), 3 < qa && (qa >>= 2, ha += 2), ha += qa >> 1) : (qa = Y & 44736640) && 0 === (Y & 2602) && (ha = 13)));
                    }
                  } else if (0 !== (x & 1)) ha = 11 >= x ? 5 === x ? 4 : x + 1 : 0; else if (14 === x) ha = 0; else if (14 < x) switch (x) {
                    case 16:
                      0 !== (Y & 44755626) && (ha = 14);
                      break;
                    case 18:
                      0 !== (Y & 4194304) && (ha = 22);
                      break;
                    case 20:
                      0 !== (Y & 262144) && (ha = 18);
                      break;
                    case 22:
                      0 !== (Y & 1048576) && (ha = 20);
                      break;
                    case 24:
                      0 !== (Y & 45017770) && (ha = 18);
                  }
                  L[J] = ha;
                  0 < ha && (N |= M, H |= pa, ha & 1 && (O |= M, X |= pa));
                  M >>= 1;
                  J += 1;
                }
                pa >>= 1;
              }
              D[V] |= N;
              U[d] |= H;
              F[V] |= O;
              W[d] |= X;
            }
            V += 1;
          } else V += 16;
          ca[f] = k | 0;
          aa[f] = aa[f] | k | 0;
        }
        P += 16;
        fa += 16;
      }
      for (f = 0; f < m; f += 1) D[f] && (f < n && (n = f), f > q && (q = f)), F[f] && (f < t && (t = f), f > v && (v = f));
      for (d = 0; d < U.length; d += 1) U[d] && (d < r && (r = d), d > l && (l = d)), W[d] && (d < w && (w = d), d > B && (B = d));
      n = (n << 4) + this.nb(D[n]);
      q = (q << 4) + this.Ab(D[q]);
      r = (r << 4) + this.nb(U[r]);
      l = (l << 4) + this.Ab(U[l]);
      0 > l && (l = p - 1);
      r >= p && (r = 0);
      n >= g && (n = 0);
      0 > q && (q = g - 1);
      l > p - 1 && (l = p - 1);
      0 > r && (r = 0);
      0 > n && (n = 0);
      q > g - 1 && (q = g - 1);
      u.K = l;
      u.G = r;
      u.F = n;
      u.J = q;
      t = (t << 4) + this.nb(F[t]);
      v = (v << 4) + this.Ab(F[v]);
      w = (w << 4) + this.nb(W[w]);
      B = (B << 4) + this.Ab(W[B]);
      0 > B && (B = p - 1);
      w >= p && (w = 0);
      t >= g && (t = 0);
      0 > v && (v = g - 1);
      B > p - 1 && (B = p - 1);
      0 > w && (w = 0);
      0 > t && (t = 0);
      v > g - 1 && (v = g - 1);
      y.K = B;
      y.G = w;
      y.F = t;
      y.J = v;
    };
    ra.prototype.Pm = function () {
      var a = this.B, b = this.qa, c = this.oa, d, f, e, k, g = this.width, m = g >> 4, p = this.height, n = g, q = -1, l = -1, r = p, u = this.u, t = g, v = -1, B = -1, w = p, y = this.qg, D = this.Ha, F = this.Cf, N, O, M, U = this.Ta, W = this.pf, H;
      var P = this.ba;
      var Q = this.Y >> 4;
      var T = 0;
      var Z = P;
      if (0 !== (this.counter & 1)) {
        var na = this.Qa;
        var ia = this.V;
        var ba = this.m;
        var ja = this.W;
      } else na = this.wa, ia = this.L, ba = this.W, ja = this.m;
      0 > T && (T = 0);
      Z > P && (Z = P);
      D.fill(0);
      F.fill(0);
      U.fill(0);
      W.fill(0);
      P = T << 4;
      var la = P + 16;
      for (d = T; d < Z; d += 1) {
        var fa = 0;
        var V = ia[d];
        var ma = b[d];
        var ca = a[d];
        for (f = 0; f < Q; f += 1) {
          if (k = V[f] | ma[f]) for (e = 15; 0 <= e; --e) {
            if (0 !== (k & 1 << e)) {
              var aa = H = O = N = 0;
              var X = 32768;
              for (T = P; T < la; T += 1) {
                var pa = na[T];
                var R = ba[T];
                var E = 0 === T ? c : ba[T - 1];
                var z = T === this.height - 1 ? c : ba[T + 1];
                var K = ja[T];
                var L = fa << 4;
                if (0 === L) var J = 0; else {
                  var x = R[L - 1];
                  J = 1 << E[L - 1] | 1 << x | 1 << z[L - 1];
                }
                var A = R[L];
                var ka = 1 << A | 1 << z[L] | 1 << E[L];
                var Y = pa[fa];
                for (M = 32768; 0 < M;) {
                  L += 1;
                  x = A;
                  A = R[L];
                  var qa = J;
                  J = ka;
                  ka = 1 << A | 1 << z[L] | 1 << E[L];
                  var sa = x;
                  qa = qa | J | ka;
                  var ha = true;
                  if (0 !== (qa & 64)) {
                    ha = false;
                    if (7 === x || 8 === x || 13 <= x) sa = 0; else switch (x) {
                      case 1:
                        sa = 2;
                        break;
                      case 3:
                      case 5:
                        sa = 4;
                        break;
                      case 9:
                        sa = 10;
                        break;
                      case 11:
                        sa = 12;
                        break;
                      default:
                        ha = true;
                    }
                    !ha && 0 !== (x & 1) && pa[fa] & M && (pa[fa] &= ~M, this.aa += 1, --this.o);
                  }
                  if (ha) if (0 !== (Y & M)) {
                    if (0 === (x & 1)) switch (x) {
                      case 4:
                        sa = 3;
                        break;
                      case 6:
                        pa[fa] & M && (pa[fa] &= ~M, --this.ma, --this.o);
                        break;
                      case 8:
                        sa = 7;
                        break;
                      default:
                        sa = 1, x = qa & 44739072, 0 === (qa & 170) && x && 0 === (x & x - 1) ? (sa = 0, 65535 < x && (x >>= 16, sa += 16), sa += 31 - Math.clz32(x)) : (x = qa & 44736512, 0 !== (qa & 8) && 0 === (qa & 2722) && x && 0 === (x & x - 1) ? (sa = 0, 65535 < x && (x >>= 16, sa += 16), sa += 31 - Math.clz32(x)) : (x = qa & 2560, 0 !== (qa & 128) && 0 === (qa & 44736554) && x && 0 === (x & x - 1) ? (sa = 0, 65535 < x && (x >>= 16, sa += 16), sa += 31 - Math.clz32(x)) : (x = qa & 44736640) && 0 === (qa & 2602) && (sa = 13)));
                    }
                  } else if (0 !== (x & 1)) sa = 11 >= x ? 5 === x ? 4 : x + 1 : 0; else if (14 <= x) switch (x) {
                    case 14:
                      sa = 0;
                      break;
                    case 16:
                      0 !== (qa & 44755626) && (sa = 14);
                      break;
                    case 18:
                      0 !== (qa & 4194304) && (sa = 22);
                      break;
                    case 20:
                      0 !== (qa & 262144) && (sa = 18);
                      break;
                    case 22:
                      0 !== (qa & 1048576) && (sa = 20);
                      break;
                    case 24:
                      0 !== (qa & 45017770) && (sa = 18);
                  }
                  K[L - 1] = sa;
                  0 < sa && (N |= M, H |= X, sa & 1 && (O |= M, aa |= X));
                  M >>= 1;
                }
                X >>= 1;
              }
              D[fa] |= N;
              U[d] |= H;
              F[fa] |= O;
              W[d] |= aa;
            }
            fa += 1;
          } else fa += 16;
          ma[f] = k | 0;
          ca[f] = ca[f] | k | 0;
        }
        P += 16;
        la += 16;
      }
      for (f = 0; f < m; f += 1) D[f] && (f < n && (n = f), f > q && (q = f)), F[f] && (f < t && (t = f), f > v && (v = f));
      for (d = 0; d < U.length; d += 1) U[d] && (d < r && (r = d), d > l && (l = d)), W[d] && (d < w && (w = d), d > B && (B = d));
      n = (n << 4) + this.nb(D[n]);
      q = (q << 4) + this.Ab(D[q]);
      r = (r << 4) + this.nb(U[r]);
      l = (l << 4) + this.Ab(U[l]);
      0 > l && (l = p - 1);
      r >= p && (r = 0);
      n >= g && (n = 0);
      0 > q && (q = g - 1);
      l > p - 1 && (l = p - 1);
      0 > r && (r = 0);
      0 > n && (n = 0);
      q > g - 1 && (q = g - 1);
      u.K = l;
      u.G = r;
      u.F = n;
      u.J = q;
      t = (t << 4) + this.nb(F[t]);
      v = (v << 4) + this.Ab(F[v]);
      w = (w << 4) + this.nb(W[w]);
      B = (B << 4) + this.Ab(W[B]);
      0 > B && (B = p - 1);
      w >= p && (w = 0);
      t >= g && (t = 0);
      0 > v && (v = g - 1);
      B > p - 1 && (B = p - 1);
      0 > w && (w = 0);
      0 > t && (t = 0);
      v > g - 1 && (v = g - 1);
      y.K = B;
      y.G = w;
      y.F = t;
      y.J = v;
    };
    ra.prototype.pm = function () {
      var a = this.m, b = this.B, c = this.qa, d, f, e, k, g, m = 0, p = 0, n = 0, q = this.width, l = q >> 4, r = this.height, u = q, t = -1, v = -1, B = r, w = this.u, y = this.Ha, D, F, N = this.Ta;
      var O = this.ba;
      var M = this.Y >> 4;
      var U = 0;
      var W = O, H = this.h + this.v - 1, P = this.v, Q = 0 < this.v ? 1 : 0;
      if (0 !== (this.counter & 1)) {
        var T = this.Qa;
        var Z = this.V;
      } else T = this.wa, Z = this.L;
      0 > U && (U = 0);
      W > O && (W = O);
      y.fill(0);
      N.fill(0);
      O = U << 4;
      var na = O + 16;
      for (f = U; f < W; f += 1) {
        var ia = 0;
        var ba = Z[f];
        var ja = c[f];
        var la = b[f];
        for (e = 0; e < M; e += 1) {
          var fa = ba[e] | ja[e];
          var V = 0;
          if (fa) for (k = 15; 0 <= k; --k) {
            if (0 !== (fa & 1 << k)) {
              var ma = D = 0;
              var ca = 32768;
              var aa = 0;
              for (U = O; U < na; U += 1) {
                var X = T[U];
                var pa = a[U];
                var R = ia << 4;
                var E = X[ia];
                for (g = F = 32768; 0 < g;) {
                  var z = d = pa[R];
                  (d <= P || d === H) && 0 !== (E & g) ? d = H : (E &= ~g, d > Q && --d);
                  pa[R] = d;
                  d > Q && (aa = 1, d > P && (D |= F, ma |= ca), d === H && (m += 1, z !== H && (p += 1)));
                  z === H && d !== H && (n += 1);
                  F >>= 1;
                  R += 1;
                  g >>= 1;
                  z = d = pa[R];
                  (d <= P || d === H) && 0 !== (E & g) ? d = H : (E &= ~g, d > Q && --d);
                  pa[R] = d;
                  d > Q && (aa = 1, d > P && (D |= F, ma |= ca), d === H && (m += 1, z !== H && (p += 1)));
                  z === H && d !== H && (n += 1);
                  F >>= 1;
                  R += 1;
                  g >>= 1;
                  z = d = pa[R];
                  (d <= P || d === H) && 0 !== (E & g) ? d = H : (E &= ~g, d > Q && --d);
                  pa[R] = d;
                  d > Q && (aa = 1, d > P && (D |= F, ma |= ca), d === H && (m += 1, z !== H && (p += 1)));
                  z === H && d !== H && (n += 1);
                  F >>= 1;
                  R += 1;
                  g >>= 1;
                  z = d = pa[R];
                  (d <= P || d === H) && 0 !== (E & g) ? d = H : (E &= ~g, d > Q && --d);
                  pa[R] = d;
                  d > Q && (aa = 1, d > P && (D |= F, ma |= ca), d === H && (m += 1, z !== H && (p += 1)));
                  z === H && d !== H && (n += 1);
                  F >>= 1;
                  R += 1;
                  g >>= 1;
                }
                X[ia] = E;
                ca >>= 1;
              }
              y[ia] |= D;
              N[f] |= ma;
              aa && (V |= 1 << k);
            }
            ia += 1;
          } else ia += 16;
          ja[e] = V;
          la[e] |= V;
        }
        O += 16;
        na += 16;
      }
      for (e = 0; e < l; e += 1) y[e] && (e < u && (u = e), e > t && (t = e));
      for (f = 0; f < N.length; f += 1) N[f] && (f < B && (B = f), f > v && (v = f));
      u = (u << 4) + this.nb(y[u]);
      t = (t << 4) + this.Ab(y[t]);
      B = (B << 4) + this.nb(N[B]);
      v = (v << 4) + this.Ab(N[v]);
      0 > v && (v = r - 1);
      B >= r && (B = 0);
      u >= q && (u = 0);
      0 > t && (t = q - 1);
      v > r - 1 && (v = r - 1);
      0 > B && (B = 0);
      0 > u && (u = 0);
      t > q - 1 && (t = q - 1);
      w.K = v;
      w.G = B;
      w.F = u;
      w.J = t;
      this.o = m;
      this.ma = p;
      this.aa = n;
    };
    ra.prototype.te = function () {
      this.fa || this.i || this.s || this.l || this.A || (-1 === this.h && (this.Vb ? this.Yl() : this.bm()), this.hd && this.wl());
    };
    ra.prototype.Il = function () {
      var a, b = this.jd, c = this.B, d, f, e, k = 0, g, m = this.ba, p = this.Y >> 4;
      var n = 16;
      for (d = 0; d < m; d += 1) {
        var q = 0;
        var l = c[d];
        for (f = 0; f < p; f += 1) if (g = l[f]) for (e = 15; 0 <= e; --e) {
          if (0 !== (g & 1 << e)) for (a = k; a < n;) {
            var r = b[a];
            var u = q << 3;
            r[u] &= 16448;
            u += 1;
            r[u] &= 16448;
            u += 1;
            r[u] &= 16448;
            u += 1;
            r[u] &= 16448;
            u += 1;
            r[u] &= 16448;
            u += 1;
            r[u] &= 16448;
            u += 1;
            r[u] &= 16448;
            u += 1;
            r[u] &= 16448;
            a += 1;
          }
          q += 1;
        } else q += 16;
        k += 16;
        n += 16;
      }
    };
    ra.prototype.to = function () {
      var a = this.R, b = this.M, c = this.u;
      this.ha ? this.vo() : this.Zc ? this.nm() : this.lm();
      if (-1 !== this.C) {
        var d = Math.round((this.width - a) / 2);
        var f = Math.round((this.height - b) / 2);
        a = d + a - 1;
        b = f + b - 1;
        c.F < d && (c.F = d);
        c.J > a && (c.J = a);
        c.G < f && (c.G = f);
        c.K > b && (c.K = b);
      }
    };
    ra.prototype.Lm = function () {
      var a = this.R, b = this.M, c = this.u;
      this.ha ? this.Nm() : this.Zc ? this.Rm() : this.Pm();
      if (-1 !== this.C) {
        var d = Math.round((this.width - a) / 2);
        var f = Math.round((this.height - b) / 2);
        a = d + a - 1;
        b = f + b - 1;
        c.F < d && (c.F = d);
        c.J > a && (c.J = a);
        c.G < f && (c.G = f);
        c.K > b && (c.K = b);
      }
    };
    ra.prototype.Bm = function () {
      switch (this.Mc) {
        case Ba.Ai:
          if (null !== this.Fa && this.Zb && -1 === this.hb) switch (this.ae) {
            case 1:
              this.uj();
              break;
            case 2:
              this.vj();
              break;
            case 3:
              this.xj();
              break;
            case 4:
              this.dk();
              break;
            case 5:
              this.gk();
              break;
            default:
              this.Ei();
          } else this.Fm();
          break;
        case Ba.vg:
          if (null !== this.Fa && this.Zb && -1 === this.hb) switch (this.ae) {
            case 1:
              this.pj();
              break;
            case 2:
              this.rj();
              break;
            case 3:
              this.sj();
              break;
            default:
              this.ik();
          } else this.ik();
          break;
        case Ba.ug:
          if (null !== this.Fa && this.Zb && -1 === this.hb) switch (this.ae) {
            case 1:
              this.vm();
              break;
            case 2:
              this.xm();
              break;
            case 3:
              this.zm();
              break;
            default:
              this.hk();
          } else this.hk();
          break;
        case Ba.wj:
          this.Dm();
      }
    };
    ra.prototype.Dm = function () {
      var a = this.yd;
      var b = a[0], c = a[1], d = a[2], f = this.Pb, e = this.vd, k, g, m, p, n, q = this.Na, l, r = this.Ha, u, t = this.Ta, v, B, w = 0, y = 0, D = 0, F = this.width, N = this.u, O = this.height, M = this.ba, U = this.Y >> 4, W = this.Ja;
      if (0 !== (this.counter & 1)) {
        var H = this.W;
        var P = this.ta;
        var Q = this.m;
        var T = this.V;
        var Z = this.L;
      } else H = this.m, P = this.sa, Q = this.W, T = this.L, Z = this.V;
      r.fill(0);
      t.fill(0);
      var na = 0;
      var ia = na + 16;
      Z.ca.fill(0);
      for (p = 0; p < T.length; p += 1) {
        var ba = 0;
        var ja = ba + 16;
        var la = T[p];
        var fa = Z[p];
        var V = q[p];
        var ma = 0 < p ? Z[p - 1] : W;
        var ca = p < M - 1 ? Z[p + 1] : W;
        for (n = 0; n < U; n += 1) {
          var aa = la[n];
          var X = 0;
          if (aa) {
            var pa = fa[n];
            var R = ma[n];
            var E = ca[n];
            for (m = 15; 0 <= m; --m) {
              if (0 !== (aa & 1 << m)) {
                var z = v = u = l = 0;
                var K = na;
                for (B = 32768; K < ia;) {
                  a = H[K];
                  var L = Q[K];
                  var J = 32768;
                  var x = ba;
                  var A = 0 === x ? 0 : a[x - 1];
                  for (g = a[x]; x < ja - 1;) {
                    var ka = A;
                    A = g;
                    g = a[x + 1];
                    var Y = b[A];
                    var qa = c[ka];
                    var sa = d[g];
                    var ha = A;
                    for (k = 0; k < e; k += 1) if (ka = Y[k] & qa[k] & sa[k]) {
                      Y = 0;
                      for (sa = 1; !(ka & sa);) Y += 1, sa <<= 1;
                      ha = f[(k << 5) + Y];
                      break;
                    }
                    L[x] = ha;
                    0 < ha ? (w += 1, 0 === A && (y += 1), v |= B, u |= J) : 0 < A && (D += 1);
                    l |= A;
                    J >>= 1;
                    x += 1;
                  }
                  ka = A;
                  A = g;
                  g = x === F - 1 ? 0 : a[x + 1];
                  Y = b[A];
                  qa = c[ka];
                  sa = d[g];
                  ha = A;
                  for (k = 0; k < e; k += 1) if (ka = Y[k] & qa[k] & sa[k]) {
                    Y = 0;
                    for (sa = 1; !(ka & sa);) Y += 1, sa <<= 1;
                    ha = f[(k << 5) + Y];
                    break;
                  }
                  L[x] = ha;
                  0 < ha ? (w += 1, 0 === A && (y += 1), v |= B, u |= J) : 0 < A && (D += 1);
                  l |= A;
                  K += 1;
                  B >>= 1;
                }
                r[ba >> 4] |= u;
                u ? (pa |= 1 << m, v & 1 && (z |= I.tb, u & 32768 && (z |= I.Eb), u & 1 && (z |= I.sb)), v & 32768 && (z |= I.xb, u & 32768 && (z |= I.Bb), u & 1 && (z |= I.Cb)), u & 32768 && (z |= I.qb), u & 1 && (z |= I.jb), z && (0 !== (z & I.qb) && (15 > m ? pa |= 1 << m + 1 : 0 < n && 0 < ba && (fa[n - 1] |= 1)), 0 !== (z & I.jb) && (0 < m ? pa |= 1 << m - 1 : n < U - 1 && ba < F - 1 && (fa[n + 1] |= 32768)), 0 !== (z & I.xb) && (R |= 1 << m), 0 !== (z & I.tb) && (E |= 1 << m), 0 !== (z & I.Bb) && (15 > m ? R |= 1 << m + 1 : 0 < n && 0 < ba && (ma[n - 1] |= 1)), 0 !== (z & I.Cb) && (0 < m ? R |= 1 << m - 1 : n < U - 1 && ba < F - 1 && (ma[n + 1] |= 32768)), 0 !== (z & I.Eb) && (15 > m ? E |= 1 << m + 1 : 0 < n && 0 < ba && (ca[n - 1] |= 1)), 0 !== (z & I.sb) && (0 < m ? E |= 1 << m - 1 : n < U - 1 && ba < F - 1 && (ca[n + 1] |= 32768)))) : l && (X |= 1 << m);
                t[p] |= v;
              }
              ba += 16;
              ja += 16;
            }
            fa[n] |= pa;
            0 < p && (ma[n] |= R);
            p < M - 1 && (ca[n] |= E);
          } else ba += 256, ja += 256;
          V[n] = X;
        }
        na += 16;
        ia += 16;
      }
      this.Nb(r, t, F, O, N);
      W.fill(0);
      this.Kb(P);
      for (K = 0; K < this.B.ca.length; K += 1) this.B.ca[K] = this.B.ca[K] | T.ca[K] | Z.ca[K];
      this.o = w;
      this.ma = y;
      this.aa = D;
    };
    ra.prototype.Fm = function () {
      var a = this.yd;
      var b = a[0], c = a[1], d = a[2], f = a[3], e = a[4], k = this.Pb, g = this.vd, m, p, n, q, l = this.Na, r, u = this.Ha, t, v = this.Ta, B, w, y = 0, D = 0, F = 0, N = this.width, O = this.u, M = this.height, U = this.ba, W = this.Y >> 4, H = this.Ja;
      if (0 !== (this.counter & 1)) {
        var P = this.W;
        var Q = this.ta;
        var T = this.m;
        var Z = this.V;
        var na = this.L;
      } else P = this.m, Q = this.sa, T = this.W, Z = this.L, na = this.V;
      u.fill(0);
      v.fill(0);
      var ia = 0;
      var ba = ia + 16;
      na.ca.fill(0);
      for (n = 0; n < Z.length; n += 1) {
        var ja = 0;
        var la = ja + 16;
        var fa = Z[n];
        var V = na[n];
        var ma = l[n];
        var ca = 0 < n ? na[n - 1] : H;
        var aa = n < U - 1 ? na[n + 1] : H;
        for (q = 0; q < W; q += 1) {
          var X = fa[q];
          var pa = 0;
          if (X) {
            var R = V[q];
            var E = ca[q];
            var z = aa[q];
            for (p = 15; 0 <= p; --p) {
              if (0 !== (X & 1 << p)) {
                var K = B = t = r = 0;
                var L = ia;
                for (w = 32768; L < ba;) {
                  a = 0 === L ? this.oa : P[L - 1];
                  var J = P[L];
                  var x = L === this.height - 1 ? this.oa : P[L + 1];
                  var A = T[L];
                  var ka = 32768;
                  var Y = ja;
                  var qa = 0 === Y ? 0 : J[Y - 1];
                  for (m = J[Y]; Y < la - 1;) {
                    var sa = qa;
                    qa = m;
                    var ha = a[Y];
                    m = J[Y + 1];
                    var ta = x[Y];
                    var ya = b[qa];
                    ha = c[ha];
                    var Ha = d[m];
                    var Da = f[ta];
                    var Pa = e[sa];
                    var Qa = qa;
                    for (ta = 0; ta < g; ta += 1) if (sa = ya[ta] & ha[ta]) if (sa &= Ha[ta] & Da[ta] & Pa[ta]) {
                      ya = 0;
                      for (ha = 1; !(sa & ha);) ya += 1, ha <<= 1;
                      Qa = k[(ta << 5) + ya];
                      break;
                    }
                    A[Y] = Qa;
                    0 < Qa ? (y += 1, 0 === qa && (D += 1), B |= w, t |= ka) : 0 < qa && (F += 1);
                    r |= qa;
                    ka >>= 1;
                    Y += 1;
                  }
                  sa = qa;
                  qa = m;
                  ha = a[Y];
                  m = Y === N - 1 ? 0 : J[Y + 1];
                  ta = x[Y];
                  ya = b[qa];
                  ha = c[ha];
                  Ha = d[m];
                  Da = f[ta];
                  Pa = e[sa];
                  Qa = qa;
                  for (ta = 0; ta < g; ta += 1) if (sa = ya[ta] & ha[ta]) if (sa &= Ha[ta] & Da[ta] & Pa[ta]) {
                    ya = 0;
                    for (ha = 1; !(sa & ha);) ya += 1, ha <<= 1;
                    Qa = k[(ta << 5) + ya];
                    break;
                  }
                  A[Y] = Qa;
                  0 < Qa ? (y += 1, 0 === qa && (D += 1), B |= w, t |= ka) : 0 < qa && (F += 1);
                  r |= qa;
                  L += 1;
                  w >>= 1;
                }
                u[ja >> 4] |= t;
                t ? (R |= 1 << p, B & 1 && (K |= I.tb, t & 32768 && (K |= I.Eb), t & 1 && (K |= I.sb)), B & 32768 && (K |= I.xb, t & 32768 && (K |= I.Bb), t & 1 && (K |= I.Cb)), t & 32768 && (K |= I.qb), t & 1 && (K |= I.jb), K && (0 !== (K & I.qb) && (15 > p ? R |= 1 << p + 1 : 0 < q && 0 < ja && (V[q - 1] |= 1)), 0 !== (K & I.jb) && (0 < p ? R |= 1 << p - 1 : q < W - 1 && ja < N - 1 && (V[q + 1] |= 32768)), 0 !== (K & I.xb) && (E |= 1 << p), 0 !== (K & I.tb) && (z |= 1 << p), 0 !== (K & I.Bb) && (15 > p ? E |= 1 << p + 1 : 0 < q && 0 < ja && (ca[q - 1] |= 1)), 0 !== (K & I.Cb) && (0 < p ? E |= 1 << p - 1 : q < W - 1 && ja < N - 1 && (ca[q + 1] |= 32768)), 0 !== (K & I.Eb) && (15 > p ? z |= 1 << p + 1 : 0 < q && 0 < ja && (aa[q - 1] |= 1)), 0 !== (K & I.sb) && (0 < p ? z |= 1 << p - 1 : q < W - 1 && ja < N - 1 && (aa[q + 1] |= 32768)))) : r && (pa |= 1 << p);
                v[n] |= B;
              }
              ja += 16;
              la += 16;
            }
            V[q] |= R;
            0 < n && (ca[q] |= E);
            n < U - 1 && (aa[q] |= z);
          } else ja += 256, la += 256;
          ma[q] = pa;
        }
        ia += 16;
        ba += 16;
      }
      this.Nb(u, v, N, M, O);
      H.fill(0);
      this.Kb(Q);
      for (L = 0; L < this.B.ca.length; L += 1) this.B.ca[L] = this.B.ca[L] | Z.ca[L] | na.ca[L];
      this.o = y;
      this.ma = D;
      this.aa = F;
    };
    ra.prototype.ik = function () {
      var a = this.yd;
      var b = a[0], c = a[1], d = a[2], f = a[3], e = a[4], k = a[5], g = a[6], m = a[7], p = a[8], n = this.Pb, q = this.vd, l, r, u, t, v, B, w = this.Na, y, D = this.Ha, F, N = this.Ta, O, M, U = 0, W = 0, H = 0, P = this.width, Q = this.u, T = this.height, Z = this.ba, na = this.Y >> 4, ia = this.Ja;
      if (0 !== (this.counter & 1)) {
        var ba = this.W;
        var ja = this.ta;
        var la = this.m;
        var fa = this.V;
        var V = this.L;
      } else ba = this.m, ja = this.sa, la = this.W, fa = this.L, V = this.V;
      D.fill(0);
      N.fill(0);
      var ma = 0;
      var ca = ma + 16;
      V.ca.fill(0);
      for (v = 0; v < fa.length; v += 1) {
        var aa = 0;
        var X = aa + 16;
        var pa = fa[v];
        var R = V[v];
        var E = w[v];
        var z = 0 < v ? V[v - 1] : ia;
        var K = v < Z - 1 ? V[v + 1] : ia;
        for (B = 0; B < na; B += 1) {
          var L = pa[B];
          var J = 0;
          if (L) {
            var x = R[B];
            var A = z[B];
            var ka = K[B];
            for (t = 15; 0 <= t; --t) {
              if (0 !== (L & 1 << t)) {
                var Y = O = F = y = 0;
                var qa = ma;
                for (M = 32768; qa < ca;) {
                  a = 0 === qa ? this.oa : ba[qa - 1];
                  var sa = ba[qa];
                  var ha = qa === this.height - 1 ? this.oa : ba[qa + 1];
                  var ta = la[qa];
                  var ya = 32768;
                  var Ha = aa;
                  if (0 === Ha) var Da = u = l = 0; else l = a[Ha - 1], u = ha[Ha - 1], Da = sa[Ha - 1];
                  var Pa = a[Ha];
                  var Qa = ha[Ha];
                  for (r = sa[Ha]; Ha < X - 1;) {
                    var La = l;
                    l = Pa;
                    Pa = a[Ha + 1];
                    var Ga = Da;
                    Da = r;
                    r = sa[Ha + 1];
                    var Za = u;
                    u = Qa;
                    Qa = ha[Ha + 1];
                    var $a = Da;
                    var ib = b[Da];
                    var Ua = c[l];
                    var cb = d[Pa];
                    var nb = f[r];
                    var ob = e[Qa];
                    var mb = k[u];
                    Za = g[Za];
                    var jb = m[Ga];
                    var Sa = p[La];
                    for (Ga = 0; Ga < q; Ga += 1) if (La = ib[Ga] & Ua[Ga]) if (La &= cb[Ga] & nb[Ga]) if (La &= ob[Ga] & mb[Ga]) if (La &= Za[Ga] & jb[Ga] & Sa[Ga]) {
                      Ua = 0;
                      for (cb = 1; !(La & cb);) Ua += 1, cb <<= 1;
                      $a = n[(Ga << 5) + Ua];
                      break;
                    }
                    ta[Ha] = $a;
                    0 < $a ? (U += 1, 0 === Da && (W += 1), O |= M, F |= ya) : 0 < Da && (H += 1);
                    y |= Da;
                    ya >>= 1;
                    Ha += 1;
                  }
                  La = l;
                  l = Pa;
                  Ga = Da;
                  Da = r;
                  Za = u;
                  u = Qa;
                  Ha === P - 1 ? Qa = r = Pa = 0 : (Pa = a[Ha + 1], r = sa[Ha + 1], Qa = ha[Ha + 1]);
                  ib = b[Da];
                  Ua = c[l];
                  cb = d[Pa];
                  nb = f[r];
                  ob = e[Qa];
                  mb = k[u];
                  Za = g[Za];
                  jb = m[Ga];
                  Sa = p[La];
                  $a = Da;
                  for (Ga = 0; Ga < q; Ga += 1) if (La = ib[Ga] & Ua[Ga]) if (La &= cb[Ga] & nb[Ga]) if (La &= ob[Ga] & mb[Ga]) if (La &= Za[Ga] & jb[Ga] & Sa[Ga]) {
                    Ua = 0;
                    for (cb = 1; !(La & cb);) Ua += 1, cb <<= 1;
                    $a = n[(Ga << 5) + Ua];
                    break;
                  }
                  ta[Ha] = $a;
                  0 < $a ? (U += 1, 0 === Da && (W += 1), O |= M, F |= ya) : 0 < Da && (H += 1);
                  y |= Da;
                  qa += 1;
                  M >>= 1;
                }
                D[aa >> 4] |= F;
                F ? (x |= 1 << t, O & 1 && (Y |= I.tb, F & 32768 && (Y |= I.Eb), F & 1 && (Y |= I.sb)), O & 32768 && (Y |= I.xb, F & 32768 && (Y |= I.Bb), F & 1 && (Y |= I.Cb)), F & 32768 && (Y |= I.qb), F & 1 && (Y |= I.jb), Y && (0 !== (Y & I.qb) && (15 > t ? x |= 1 << t + 1 : 0 < B && 0 < aa && (R[B - 1] |= 1)), 0 !== (Y & I.jb) && (0 < t ? x |= 1 << t - 1 : B < na - 1 && aa < P - 1 && (R[B + 1] |= 32768)), 0 !== (Y & I.xb) && (A |= 1 << t), 0 !== (Y & I.tb) && (ka |= 1 << t), 0 !== (Y & I.Bb) && (15 > t ? A |= 1 << t + 1 : 0 < B && 0 < aa && (z[B - 1] |= 1)), 0 !== (Y & I.Cb) && (0 < t ? A |= 1 << t - 1 : B < na - 1 && aa < P - 1 && (z[B + 1] |= 32768)), 0 !== (Y & I.Eb) && (15 > t ? ka |= 1 << t + 1 : 0 < B && 0 < aa && (K[B - 1] |= 1)), 0 !== (Y & I.sb) && (0 < t ? ka |= 1 << t - 1 : B < na - 1 && aa < P - 1 && (K[B + 1] |= 32768)))) : y && (J |= 1 << t);
                N[v] |= O;
              }
              aa += 16;
              X += 16;
            }
            R[B] |= x;
            0 < v && (z[B] |= A);
            v < Z - 1 && (K[B] |= ka);
          } else aa += 256, X += 256;
          E[B] = J;
        }
        ma += 16;
        ca += 16;
      }
      this.Nb(D, N, P, T, Q);
      ia.fill(0);
      this.Kb(ja);
      for (qa = 0; qa < this.B.ca.length; qa += 1) this.B.ca[qa] = this.B.ca[qa] | fa.ca[qa] | V.ca[qa];
      this.o = U;
      this.ma = W;
      this.aa = H;
    };
    ra.prototype.hk = function () {
      var a = this.yd;
      var b = a[0], c = a[1], d = a[2], f = a[3], e = a[4], k = a[5], g = a[6], m = this.Pb, p = this.vd, n, q, l, r, u, t = this.Na, v, B = this.Ha, w, y = this.Ta, D, F, N = 0, O = 0, M = 0, U = this.width, W = this.u, H = this.height, P = this.ba, Q = this.Y >> 4, T = this.Ja;
      if (0 !== (this.counter & 1)) {
        var Z = this.W;
        var na = this.ta;
        var ia = this.m;
        var ba = this.V;
        var ja = this.L;
      } else Z = this.m, na = this.sa, ia = this.W, ba = this.L, ja = this.V;
      B.fill(0);
      y.fill(0);
      var la = 0;
      var fa = la + 16;
      ja.ca.fill(0);
      for (r = 0; r < ba.length; r += 1) {
        var V = 0;
        var ma = V + 16;
        var ca = ba[r];
        var aa = ja[r];
        var X = t[r];
        var pa = 0 < r ? ja[r - 1] : T;
        var R = r < P - 1 ? ja[r + 1] : T;
        for (u = 0; u < Q; u += 1) {
          var E = ca[u];
          var z = 0;
          if (E) {
            var K = aa[u];
            var L = pa[u];
            var J = R[u];
            for (l = 15; 0 <= l; --l) {
              if (0 !== (E & 1 << l)) {
                var x = D = w = v = 0;
                var A = la;
                for (F = 32768; A < fa;) {
                  a = 0 === A ? this.oa : Z[A - 1];
                  var ka = Z[A];
                  var Y = A === this.height - 1 ? this.oa : Z[A + 1];
                  var qa = ia[A];
                  var sa = 32768;
                  var ha = V;
                  if (0 === ha) var ta = n = 0; else n = a[ha - 1], ta = ka[ha - 1];
                  var ya = Y[ha];
                  for (q = ka[ha]; ha < ma - 1;) {
                    var Ha = n;
                    n = a[ha];
                    var Da = ta;
                    ta = q;
                    q = ka[ha + 1];
                    var Pa = ya;
                    ya = Y[ha + 1];
                    var Qa = b[ta];
                    var La = c[n];
                    var Ga = d[q];
                    var Za = f[ya];
                    Pa = e[Pa];
                    var $a = k[Da];
                    var ib = g[Ha];
                    var Ua = ta;
                    for (Da = 0; Da < p; Da += 1) if (Ha = Qa[Da] & La[Da]) if (Ha &= Ga[Da] & Za[Da]) if (Ha &= Pa[Da] & $a[Da] & ib[Da]) {
                      La = 0;
                      for (Ga = 1; !(Ha & Ga);) La += 1, Ga <<= 1;
                      Ua = m[(Da << 5) + La];
                      break;
                    }
                    qa[ha] = Ua;
                    0 < Ua ? (N += 1, 0 === ta && (O += 1), D |= F, w |= sa) : 0 < ta && (M += 1);
                    v |= ta;
                    sa >>= 1;
                    ha += 1;
                  }
                  Ha = n;
                  n = a[ha];
                  Da = ta;
                  ta = q;
                  Pa = ya;
                  ha === U - 1 ? ya = q = 0 : (q = ka[ha + 1], ya = Y[ha + 1]);
                  Qa = b[ta];
                  La = c[n];
                  Ga = d[q];
                  Za = f[ya];
                  Pa = e[Pa];
                  $a = k[Da];
                  ib = g[Ha];
                  Ua = ta;
                  for (Da = 0; Da < p; Da += 1) if (Ha = Qa[Da] & La[Da]) if (Ha &= Ga[Da] & Za[Da]) if (Ha &= Pa[Da] & $a[Da] & ib[Da]) {
                    La = 0;
                    for (Ga = 1; !(Ha & Ga);) La += 1, Ga <<= 1;
                    Ua = m[(Da << 5) + La];
                    break;
                  }
                  qa[ha] = Ua;
                  0 < Ua ? (N += 1, 0 === ta && (O += 1), D |= F, w |= sa) : 0 < ta && (M += 1);
                  v |= ta;
                  A += 1;
                  F >>= 1;
                }
                B[V >> 4] |= w;
                w ? (K |= 1 << l, D & 1 && (x |= I.tb, w & 32768 && (x |= I.Eb), w & 1 && (x |= I.sb)), D & 32768 && (x |= I.xb, w & 32768 && (x |= I.Bb), w & 1 && (x |= I.Cb)), w & 32768 && (x |= I.qb), w & 1 && (x |= I.jb), x && (0 !== (x & I.qb) && (15 > l ? K |= 1 << l + 1 : 0 < u && 0 < V && (aa[u - 1] |= 1)), 0 !== (x & I.jb) && (0 < l ? K |= 1 << l - 1 : u < Q - 1 && V < U - 1 && (aa[u + 1] |= 32768)), 0 !== (x & I.xb) && (L |= 1 << l), 0 !== (x & I.tb) && (J |= 1 << l), 0 !== (x & I.Bb) && (15 > l ? L |= 1 << l + 1 : 0 < u && 0 < V && (pa[u - 1] |= 1)), 0 !== (x & I.Cb) && (0 < l ? L |= 1 << l - 1 : u < Q - 1 && V < U - 1 && (pa[u + 1] |= 32768)), 0 !== (x & I.Eb) && (15 > l ? J |= 1 << l + 1 : 0 < u && 0 < V && (R[u - 1] |= 1)), 0 !== (x & I.sb) && (0 < l ? J |= 1 << l - 1 : u < Q - 1 && V < U - 1 && (R[u + 1] |= 32768)))) : v && (z |= 1 << l);
                y[r] |= D;
              }
              V += 16;
              ma += 16;
            }
            aa[u] |= K;
            0 < r && (pa[u] |= L);
            r < P - 1 && (R[u] |= J);
          } else V += 256, ma += 256;
          X[u] = z;
        }
        la += 16;
        fa += 16;
      }
      this.Nb(B, y, U, H, W);
      T.fill(0);
      this.Kb(na);
      for (A = 0; A < this.B.ca.length; A += 1) this.B.ca[A] = this.B.ca[A] | ba.ca[A] | ja.ca[A];
      this.o = N;
      this.ma = O;
      this.aa = M;
    };
    ra.prototype.Hm = function () {
      if (4 === this.zd) if (null !== this.Fa && this.Zb && -1 === this.hb) switch (this.ae) {
        case 1:
          this.uj();
          break;
        case 2:
          this.vj();
          break;
        case 3:
          this.xj();
          break;
        case 4:
          this.dk();
          break;
        case 5:
          this.gk();
          break;
        default:
          this.Ei();
      } else this.Ei(); else if (null !== this.Fa && this.Zb && -1 === this.hb) switch (this.ae) {
        case 1:
          this.pj();
          break;
        case 2:
          this.rj();
          break;
        case 3:
          this.sj();
          break;
        default:
          this.jk();
      } else null !== this.He && this.Zb ? this.Jm() : this.jk();
    };
    ra.prototype.Ei = function () {
      var a = this.Pe, b = this.Re, c = this.Kf, d, f, e, k = this.Na, g, m = this.Ha, p, n = this.Ta, q, l, r = 0, u = 0, t = 0, v = this.width, B = this.u, w = this.height, y = this.ba, D = this.Y >> 4, F = this.Ja;
      if (0 !== (this.counter & 1)) {
        var N = this.W;
        var O = this.ta;
        var M = this.sa;
        var U = this.V;
        var W = this.L;
      } else N = this.m, O = this.sa, M = this.ta, U = this.L, W = this.V;
      m.fill(0);
      n.fill(0);
      var H = 0;
      var P = H + 16;
      W.ca.fill(0);
      for (f = 0; f < U.length; f += 1) {
        var Q = 0;
        var T = U[f];
        var Z = W[f];
        var na = k[f];
        var ia = 0 < f ? W[f - 1] : F;
        var ba = f < y - 1 ? W[f + 1] : F;
        for (e = 0; e < D; e += 1) {
          var ja = T[e];
          var la = 0;
          if (ja) {
            var fa = Z[e];
            var V = ia[e];
            var ma = ba[e];
            for (d = 15; 0 <= d; --d) {
              if (0 !== (ja & 1 << d)) {
                var ca = q = p = g = 0;
                var aa = H;
                for (l = 32768; aa < P;) {
                  var X = 0 === aa ? this.oa : N[aa - 1];
                  var pa = N[aa];
                  var R = aa === this.height - 1 ? this.oa : N[aa + 1];
                  var E = M[aa];
                  var z = 32768;
                  var K = 0;
                  var L = Q;
                  var J = 0 === L ? 0 : pa[L - 1];
                  var x = pa[L];
                  var A = J;
                  J = x;
                  var ka = X[L];
                  x = pa[L + 1];
                  var Y = R[L];
                  var qa = ka = b[a[a[a[a[c + ka] + A] + x] + Y] + J];
                  0 < ka ? (r += 1, 0 === J && (u += 1), K |= z) : 0 < J && (t += 1);
                  g |= J;
                  z >>= 1;
                  L += 1;
                  A = J;
                  J = x;
                  ka = X[L];
                  x = pa[L + 1];
                  Y = R[L];
                  ka = b[a[a[a[a[c + ka] + A] + x] + Y] + J];
                  qa |= ka << 8;
                  0 < ka ? (r += 1, 0 === J && (u += 1), K |= z) : 0 < J && (t += 1);
                  g |= J;
                  z >>= 1;
                  L += 1;
                  A = J;
                  J = x;
                  ka = X[L];
                  x = pa[L + 1];
                  Y = R[L];
                  ka = b[a[a[a[a[c + ka] + A] + x] + Y] + J];
                  qa |= ka << 16;
                  0 < ka ? (r += 1, 0 === J && (u += 1), K |= z) : 0 < J && (t += 1);
                  g |= J;
                  z >>= 1;
                  L += 1;
                  A = J;
                  J = x;
                  ka = X[L];
                  x = pa[L + 1];
                  Y = R[L];
                  ka = b[a[a[a[a[c + ka] + A] + x] + Y] + J];
                  qa |= ka << 24;
                  E[L >> 2] = qa;
                  0 < ka ? (r += 1, 0 === J && (u += 1), K |= z) : 0 < J && (t += 1);
                  g |= J;
                  z >>= 1;
                  L += 1;
                  A = J;
                  J = x;
                  ka = X[L];
                  x = pa[L + 1];
                  Y = R[L];
                  qa = ka = b[a[a[a[a[c + ka] + A] + x] + Y] + J];
                  0 < ka ? (r += 1, 0 === J && (u += 1), K |= z) : 0 < J && (t += 1);
                  g |= J;
                  z >>= 1;
                  L += 1;
                  A = J;
                  J = x;
                  ka = X[L];
                  x = pa[L + 1];
                  Y = R[L];
                  ka = b[a[a[a[a[c + ka] + A] + x] + Y] + J];
                  qa |= ka << 8;
                  0 < ka ? (r += 1, 0 === J && (u += 1), K |= z) : 0 < J && (t += 1);
                  g |= J;
                  z >>= 1;
                  L += 1;
                  A = J;
                  J = x;
                  ka = X[L];
                  x = pa[L + 1];
                  Y = R[L];
                  ka = b[a[a[a[a[c + ka] + A] + x] + Y] + J];
                  qa |= ka << 16;
                  0 < ka ? (r += 1, 0 === J && (u += 1), K |= z) : 0 < J && (t += 1);
                  g |= J;
                  z >>= 1;
                  L += 1;
                  A = J;
                  J = x;
                  ka = X[L];
                  x = pa[L + 1];
                  Y = R[L];
                  ka = b[a[a[a[a[c + ka] + A] + x] + Y] + J];
                  qa |= ka << 24;
                  E[L >> 2] = qa;
                  0 < ka ? (r += 1, 0 === J && (u += 1), K |= z) : 0 < J && (t += 1);
                  g |= J;
                  z >>= 1;
                  L += 1;
                  A = J;
                  J = x;
                  ka = X[L];
                  x = pa[L + 1];
                  Y = R[L];
                  qa = ka = b[a[a[a[a[c + ka] + A] + x] + Y] + J];
                  0 < ka ? (r += 1, 0 === J && (u += 1), K |= z) : 0 < J && (t += 1);
                  g |= J;
                  z >>= 1;
                  L += 1;
                  A = J;
                  J = x;
                  ka = X[L];
                  x = pa[L + 1];
                  Y = R[L];
                  ka = b[a[a[a[a[c + ka] + A] + x] + Y] + J];
                  qa |= ka << 8;
                  0 < ka ? (r += 1, 0 === J && (u += 1), K |= z) : 0 < J && (t += 1);
                  g |= J;
                  z >>= 1;
                  L += 1;
                  A = J;
                  J = x;
                  ka = X[L];
                  x = pa[L + 1];
                  Y = R[L];
                  ka = b[a[a[a[a[c + ka] + A] + x] + Y] + J];
                  qa |= ka << 16;
                  0 < ka ? (r += 1, 0 === J && (u += 1), K |= z) : 0 < J && (t += 1);
                  g |= J;
                  z >>= 1;
                  L += 1;
                  A = J;
                  J = x;
                  ka = X[L];
                  x = pa[L + 1];
                  Y = R[L];
                  ka = b[a[a[a[a[c + ka] + A] + x] + Y] + J];
                  qa |= ka << 24;
                  E[L >> 2] = qa;
                  0 < ka ? (r += 1, 0 === J && (u += 1), K |= z) : 0 < J && (t += 1);
                  g |= J;
                  z >>= 1;
                  L += 1;
                  A = J;
                  J = x;
                  ka = X[L];
                  x = pa[L + 1];
                  Y = R[L];
                  qa = ka = b[a[a[a[a[c + ka] + A] + x] + Y] + J];
                  0 < ka ? (r += 1, 0 === J && (u += 1), K |= z) : 0 < J && (t += 1);
                  g |= J;
                  z >>= 1;
                  L += 1;
                  A = J;
                  J = x;
                  ka = X[L];
                  x = pa[L + 1];
                  Y = R[L];
                  ka = b[a[a[a[a[c + ka] + A] + x] + Y] + J];
                  qa |= ka << 8;
                  0 < ka ? (r += 1, 0 === J && (u += 1), K |= z) : 0 < J && (t += 1);
                  g |= J;
                  z >>= 1;
                  L += 1;
                  A = J;
                  J = x;
                  ka = X[L];
                  x = pa[L + 1];
                  Y = R[L];
                  ka = b[a[a[a[a[c + ka] + A] + x] + Y] + J];
                  qa |= ka << 16;
                  0 < ka ? (r += 1, 0 === J && (u += 1), K |= z) : 0 < J && (t += 1);
                  g |= J;
                  z >>= 1;
                  L += 1;
                  A = J;
                  J = x;
                  ka = X[L];
                  x = L === v - 1 ? 0 : pa[L + 1];
                  Y = R[L];
                  ka = b[a[a[a[a[c + ka] + A] + x] + Y] + J];
                  qa |= ka << 24;
                  E[L >> 2] = qa;
                  0 < ka ? (r += 1, 0 === J && (u += 1), K |= z) : 0 < J && (t += 1);
                  g |= J;
                  K && (p |= K, q |= l);
                  aa += 1;
                  l >>= 1;
                }
                m[Q >> 4] |= p;
                p ? (fa |= 1 << d, q & 1 && (ca |= I.tb, p & 32768 && (ca |= I.Eb), p & 1 && (ca |= I.sb)), q & 32768 && (ca |= I.xb, p & 32768 && (ca |= I.Bb), p & 1 && (ca |= I.Cb)), p & 32768 && (ca |= I.qb), p & 1 && (ca |= I.jb), ca && (0 !== (ca & I.qb) && (15 > d ? fa |= 1 << d + 1 : 0 < e && 0 < Q && (Z[e - 1] |= 1)), 0 !== (ca & I.jb) && (0 < d ? fa |= 1 << d - 1 : e < D - 1 && Q < v - 1 && (Z[e + 1] |= 32768)), 0 !== (ca & I.xb) && (V |= 1 << d), 0 !== (ca & I.tb) && (ma |= 1 << d), 0 !== (ca & I.Bb) && (15 > d ? V |= 1 << d + 1 : 0 < e && 0 < Q && (ia[e - 1] |= 1)), 0 !== (ca & I.Cb) && (0 < d ? V |= 1 << d - 1 : e < D - 1 && Q < v - 1 && (ia[e + 1] |= 32768)), 0 !== (ca & I.Eb) && (15 > d ? ma |= 1 << d + 1 : 0 < e && 0 < Q && (ba[e - 1] |= 1)), 0 !== (ca & I.sb) && (0 < d ? ma |= 1 << d - 1 : e < D - 1 && Q < v - 1 && (ba[e + 1] |= 32768)))) : g && (la |= 1 << d);
                n[f] |= q;
              }
              Q += 16;
            }
            Z[e] |= fa;
            0 < f && (ia[e] |= V);
            f < y - 1 && (ba[e] |= ma);
          } else Q += 256;
          na[e] = la;
        }
        H += 16;
        P += 16;
      }
      this.Nb(m, n, v, w, B);
      F.fill(0);
      this.Kb(O);
      for (aa = 0; aa < this.B.ca.length; aa += 1) this.B.ca[aa] = this.B.ca[aa] | U.ca[aa] | W.ca[aa];
      this.o = r;
      this.ma = u;
      this.aa = t;
    };
    ra.prototype.uo = function () {
      var a = "MAP", b = this.yd, c = this.Pb, d = this.vd, f, e = 0;
      switch (this.Mc) {
        case Ba.vg:
          var k = b[0];
          var g = b[1];
          var m = b[2];
          var p = b[3];
          var n = b[4];
          var q = b[5];
          var l = b[6];
          var r = b[7];
          b = b[8];
          for (f = 0; 512 > f; f += 1) {
            var u = (f & 256) >> 8;
            var t = (f & 128) >> 7;
            var v = (f & 64) >> 6;
            var B = (f & 32) >> 5;
            var w = (f & 16) >> 4;
            var y = (f & 8) >> 3;
            var D = (f & 4) >> 2;
            var F = (f & 2) >> 1;
            var N = f & 1;
            var O = w;
            w = k[w];
            t = g[t];
            v = m[v];
            y = p[y];
            N = n[N];
            F = q[F];
            D = l[D];
            var M = r[B];
            var U = b[u];
            for (B = 0; B < d; B += 1) if (u = w[B] & t[B]) if (u &= v[B] & y[B]) if (u &= N[B] & F[B]) if (u &= D[B] & M[B] & U[B]) {
              O = 0;
              for (w = 1; !(u & w);) O += 1, w <<= 1;
              O = c[(B << 5) + O];
              break;
            }
            e = e << 1 | O & 1;
            5 === f % 6 && (a += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e], e = 0);
          }
          a += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e];
          break;
        case Ba.Ai:
          k = b[0];
          g = b[1];
          m = b[2];
          p = b[3];
          n = b[4];
          for (f = 0; 32 > f; f += 1) {
            t = (f & 16) >> 4;
            B = (f & 8) >> 3;
            w = (f & 4) >> 2;
            y = (f & 2) >> 1;
            F = f & 1;
            O = w;
            w = k[w];
            t = g[t];
            y = m[y];
            F = p[F];
            M = n[B];
            for (B = 0; B < d; B += 1) if (u = w[B] & t[B]) if (u &= y[B] & F[B] & M[B]) {
              O = 0;
              for (w = 1; !(u & w);) O += 1, w <<= 1;
              O = c[(B << 5) + O];
              break;
            }
            e = e << 1 | O & 1;
            5 === f % 6 && (a += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e], e = 0);
          }
          a += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e];
          break;
        case Ba.ug:
          k = b[0];
          g = b[1];
          m = b[2];
          p = b[3];
          n = b[4];
          q = b[5];
          l = b[6];
          for (f = 0; 128 > f; f += 1) {
            u = (f & 64) >> 6;
            t = (f & 32) >> 5;
            B = (f & 16) >> 4;
            w = (f & 8) >> 3;
            y = (f & 4) >> 2;
            F = (f & 2) >> 1;
            N = f & 1;
            O = w;
            w = k[w];
            t = g[t];
            y = m[y];
            N = p[N];
            F = n[F];
            M = q[B];
            U = l[u];
            for (B = 0; B < d; B += 1) if (u = w[B] & t[B]) if (u &= y[B] & N[B]) if (u &= F[B] & M[B] & U[B]) {
              O = 0;
              for (w = 1; !(u & w);) O += 1, w <<= 1;
              O = c[(B << 5) + O];
              break;
            }
            e = e << 1 | O & 1;
            5 === f % 6 && (a += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e], e = 0);
          }
          a += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e];
      }
      return a;
    };
    ra.prototype.wo = function () {
      var a = "MAP", b = this.Pe, c = this.Re, d = this.Kf, f, e = 0;
      if (8 === this.zd) for (f = 0; 512 > f; f += 1) {
        var k = (f & 256) >> 8;
        var g = (f & 128) >> 7;
        var m = (f & 64) >> 6;
        var p = (f & 32) >> 5;
        var n = (f & 16) >> 4;
        var q = (f & 8) >> 3;
        var l = (f & 4) >> 2;
        var r = (f & 2) >> 1;
        var u = f & 1;
        g = c[b[b[b[b[b[b[b[b[d + k] + m] + l] + u] + g] + p] + q] + r] + n];
        e = e << 1 | g & 1;
        5 === f % 6 && (a += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e], e = 0);
      } else for (f = 0; 32 > f; f += 1) g = (f & 16) >> 4, p = (f & 8) >> 3, n = (f & 4) >> 2, q = (f & 2) >> 1, r = f & 1, g = c[b[b[b[b[d + g] + p] + q] + r] + n], e = e << 1 | g & 1, 5 === f % 6 && (a += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e], e = 0);
      return a += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e];
    };
    ra.prototype.so = function () {
      return null === this.Pb ? this.wo() : this.uo();
    };
    ra.prototype.Jm = function () {
      var a = this.Pe, b = this.Re, c = this.He, d, f, e, k, g, m = this.Na, p, n = this.Ha, q, l = this.Ta, r, u, t = 0, v = 0, B = 0, w = this.width, y = this.u, D = this.height, F = this.ba, N = this.Y >> 4, O = this.Ja;
      if (0 !== (this.counter & 1)) {
        var M = this.W;
        var U = this.ta;
        var W = this.m;
        var H = this.V;
        var P = this.L;
      } else M = this.m, U = this.sa, W = this.W, H = this.L, P = this.V;
      n.fill(0);
      l.fill(0);
      var Q = 0;
      var T = Q + 16;
      P.ca.fill(0);
      for (k = 0; k < H.length; k += 1) {
        var Z = 0;
        var na = H[k];
        var ia = P[k];
        var ba = m[k];
        var ja = 0 < k ? P[k - 1] : O;
        var la = k < F - 1 ? P[k + 1] : O;
        for (g = 0; g < N; g += 1) {
          var fa = na[g];
          var V = 0;
          if (fa) {
            var ma = ia[g];
            var ca = ja[g];
            var aa = la[g];
            for (e = 15; 0 <= e; --e) {
              if (0 !== (fa & 1 << e)) {
                var X = r = q = p = 0;
                var pa = Q;
                for (u = 32768; pa < T;) {
                  var R = 0 === pa ? this.oa : M[pa - 1];
                  var E = M[pa];
                  var z = pa === this.height - 1 ? this.oa : M[pa + 1];
                  var K = W[pa];
                  var L = 32768;
                  var J = 0;
                  var x = Z;
                  if (0 === x) var A = f = d = 0; else d = R[x - 1], f = z[x - 1], A = E[x - 1];
                  var ka = R[x];
                  var Y = z[x];
                  var qa = E[x];
                  var sa = d;
                  d = ka;
                  ka = R[x + 1];
                  var ha = A;
                  A = qa;
                  qa = E[x + 1];
                  var ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = ha | d << 4 | Y << 8 | ta << 12 | ka << 16 | sa << 20;
                  ha = b[a[a[c[ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = ha | d << 4 | Y << 8 | ta << 12 | ka << 16 | sa << 20;
                  ha = b[a[a[c[ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = ha | d << 4 | Y << 8 | ta << 12 | ka << 16 | sa << 20;
                  ha = b[a[a[c[ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = ha | d << 4 | Y << 8 | ta << 12 | ka << 16 | sa << 20;
                  ha = b[a[a[c[ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = ha | d << 4 | Y << 8 | ta << 12 | ka << 16 | sa << 20;
                  ha = b[a[a[c[ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = ha | d << 4 | Y << 8 | ta << 12 | ka << 16 | sa << 20;
                  ha = b[a[a[c[ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = ha | d << 4 | Y << 8 | ta << 12 | ka << 16 | sa << 20;
                  ha = b[a[a[c[ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = ha | d << 4 | Y << 8 | ta << 12 | ka << 16 | sa << 20;
                  ha = b[a[a[c[ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = ha | d << 4 | Y << 8 | ta << 12 | ka << 16 | sa << 20;
                  ha = b[a[a[c[ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = ha | d << 4 | Y << 8 | ta << 12 | ka << 16 | sa << 20;
                  ha = b[a[a[c[ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = ha | d << 4 | Y << 8 | ta << 12 | ka << 16 | sa << 20;
                  ha = b[a[a[c[ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = ha | d << 4 | Y << 8 | ta << 12 | ka << 16 | sa << 20;
                  ha = b[a[a[c[ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = ha | d << 4 | Y << 8 | ta << 12 | ka << 16 | sa << 20;
                  ha = b[a[a[c[ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = ha | d << 4 | Y << 8 | ta << 12 | ka << 16 | sa << 20;
                  ha = b[a[a[c[ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = ha | d << 4 | Y << 8 | ta << 12 | ka << 16 | sa << 20;
                  ha = b[a[a[c[ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ha = A;
                  A = qa;
                  ta = f;
                  f = Y;
                  x === w - 1 ? Y = qa = ka = 0 : (ka = R[x + 1], qa = E[x + 1], Y = z[x + 1]);
                  ha = ha | d << 4 | Y << 8 | ta << 12 | ka << 16 | sa << 20;
                  ha = b[a[a[c[ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  J && (q |= J, r |= u);
                  pa += 1;
                  u >>= 1;
                }
                n[Z >> 4] |= q;
                q ? (ma |= 1 << e, r & 1 && (X |= I.tb, q & 32768 && (X |= I.Eb), q & 1 && (X |= I.sb)), r & 32768 && (X |= I.xb, q & 32768 && (X |= I.Bb), q & 1 && (X |= I.Cb)), q & 32768 && (X |= I.qb), q & 1 && (X |= I.jb), X && (0 !== (X & I.qb) && (15 > e ? ma |= 1 << e + 1 : 0 < g && 0 < Z && (ia[g - 1] |= 1)), 0 !== (X & I.jb) && (0 < e ? ma |= 1 << e - 1 : g < N - 1 && Z < w - 1 && (ia[g + 1] |= 32768)), 0 !== (X & I.xb) && (ca |= 1 << e), 0 !== (X & I.tb) && (aa |= 1 << e), 0 !== (X & I.Bb) && (15 > e ? ca |= 1 << e + 1 : 0 < g && 0 < Z && (ja[g - 1] |= 1)), 0 !== (X & I.Cb) && (0 < e ? ca |= 1 << e - 1 : g < N - 1 && Z < w - 1 && (ja[g + 1] |= 32768)), 0 !== (X & I.Eb) && (15 > e ? aa |= 1 << e + 1 : 0 < g && 0 < Z && (la[g - 1] |= 1)), 0 !== (X & I.sb) && (0 < e ? aa |= 1 << e - 1 : g < N - 1 && Z < w - 1 && (la[g + 1] |= 32768)))) : p && (V |= 1 << e);
                l[k] |= r;
              }
              Z += 16;
            }
            ia[g] |= ma;
            0 < k && (ja[g] |= ca);
            k < F - 1 && (la[g] |= aa);
          } else Z += 256;
          ba[g] = V;
        }
        Q += 16;
        T += 16;
      }
      this.Nb(n, l, w, D, y);
      O.fill(0);
      this.Kb(U);
      for (pa = 0; pa < this.B.ca.length; pa += 1) this.B.ca[pa] = this.B.ca[pa] | H.ca[pa] | P.ca[pa];
      this.o = t;
      this.ma = v;
      this.aa = B;
    };
    ra.prototype.jk = function () {
      var a = this.Pe, b = this.Re, c = this.Kf, d, f, e, k, g, m = this.Na, p, n = this.Ha, q, l = this.Ta, r, u, t = 0, v = 0, B = 0, w = this.width, y = this.u, D = this.height, F = this.ba, N = this.Y >> 4, O = this.Ja;
      if (0 !== (this.counter & 1)) {
        var M = this.W;
        var U = this.ta;
        var W = this.m;
        var H = this.V;
        var P = this.L;
      } else M = this.m, U = this.sa, W = this.W, H = this.L, P = this.V;
      n.fill(0);
      l.fill(0);
      var Q = 0;
      var T = Q + 16;
      P.ca.fill(0);
      for (k = 0; k < H.length; k += 1) {
        var Z = 0;
        var na = H[k];
        var ia = P[k];
        var ba = m[k];
        var ja = 0 < k ? P[k - 1] : O;
        var la = k < F - 1 ? P[k + 1] : O;
        for (g = 0; g < N; g += 1) {
          var fa = na[g];
          var V = 0;
          if (fa) {
            var ma = ia[g];
            var ca = ja[g];
            var aa = la[g];
            for (e = 15; 0 <= e; --e) {
              if (0 !== (fa & 1 << e)) {
                var X = r = q = p = 0;
                var pa = Q;
                for (u = 32768; pa < T;) {
                  var R = 0 === pa ? this.oa : M[pa - 1];
                  var E = M[pa];
                  var z = pa === this.height - 1 ? this.oa : M[pa + 1];
                  var K = W[pa];
                  var L = 32768;
                  var J = 0;
                  var x = Z;
                  if (0 === x) var A = f = d = 0; else d = R[x - 1], f = z[x - 1], A = E[x - 1];
                  var ka = R[x];
                  var Y = z[x];
                  var qa = E[x];
                  var sa = d;
                  d = ka;
                  ka = R[x + 1];
                  var ha = A;
                  A = qa;
                  qa = E[x + 1];
                  var ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = b[a[a[a[a[a[a[a[a[c + sa] + ka] + ta] + Y] + d] + ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = b[a[a[a[a[a[a[a[a[c + sa] + ka] + ta] + Y] + d] + ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = b[a[a[a[a[a[a[a[a[c + sa] + ka] + ta] + Y] + d] + ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = b[a[a[a[a[a[a[a[a[c + sa] + ka] + ta] + Y] + d] + ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = b[a[a[a[a[a[a[a[a[c + sa] + ka] + ta] + Y] + d] + ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = b[a[a[a[a[a[a[a[a[c + sa] + ka] + ta] + Y] + d] + ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = b[a[a[a[a[a[a[a[a[c + sa] + ka] + ta] + Y] + d] + ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = b[a[a[a[a[a[a[a[a[c + sa] + ka] + ta] + Y] + d] + ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = b[a[a[a[a[a[a[a[a[c + sa] + ka] + ta] + Y] + d] + ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = b[a[a[a[a[a[a[a[a[c + sa] + ka] + ta] + Y] + d] + ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = b[a[a[a[a[a[a[a[a[c + sa] + ka] + ta] + Y] + d] + ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = b[a[a[a[a[a[a[a[a[c + sa] + ka] + ta] + Y] + d] + ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = b[a[a[a[a[a[a[a[a[c + sa] + ka] + ta] + Y] + d] + ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = b[a[a[a[a[a[a[a[a[c + sa] + ka] + ta] + Y] + d] + ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ka = R[x + 1];
                  ha = A;
                  A = qa;
                  qa = E[x + 1];
                  ta = f;
                  f = Y;
                  Y = z[x + 1];
                  ha = b[a[a[a[a[a[a[a[a[c + sa] + ka] + ta] + Y] + d] + ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  L >>= 1;
                  x += 1;
                  sa = d;
                  d = ka;
                  ha = A;
                  A = qa;
                  ta = f;
                  f = Y;
                  x === w - 1 ? Y = qa = ka = 0 : (ka = R[x + 1], qa = E[x + 1], Y = z[x + 1]);
                  ha = b[a[a[a[a[a[a[a[a[c + sa] + ka] + ta] + Y] + d] + ha] + qa] + f] + A];
                  K[x] = ha;
                  0 < ha ? (t += 1, 0 === A && (v += 1), J |= L) : 0 < A && (B += 1);
                  p |= A;
                  J && (q |= J, r |= u);
                  pa += 1;
                  u >>= 1;
                }
                n[Z >> 4] |= q;
                q ? (ma |= 1 << e, r & 1 && (X |= I.tb, q & 32768 && (X |= I.Eb), q & 1 && (X |= I.sb)), r & 32768 && (X |= I.xb, q & 32768 && (X |= I.Bb), q & 1 && (X |= I.Cb)), q & 32768 && (X |= I.qb), q & 1 && (X |= I.jb), X && (0 !== (X & I.qb) && (15 > e ? ma |= 1 << e + 1 : 0 < g && 0 < Z && (ia[g - 1] |= 1)), 0 !== (X & I.jb) && (0 < e ? ma |= 1 << e - 1 : g < N - 1 && Z < w - 1 && (ia[g + 1] |= 32768)), 0 !== (X & I.xb) && (ca |= 1 << e), 0 !== (X & I.tb) && (aa |= 1 << e), 0 !== (X & I.Bb) && (15 > e ? ca |= 1 << e + 1 : 0 < g && 0 < Z && (ja[g - 1] |= 1)), 0 !== (X & I.Cb) && (0 < e ? ca |= 1 << e - 1 : g < N - 1 && Z < w - 1 && (ja[g + 1] |= 32768)), 0 !== (X & I.Eb) && (15 > e ? aa |= 1 << e + 1 : 0 < g && 0 < Z && (la[g - 1] |= 1)), 0 !== (X & I.sb) && (0 < e ? aa |= 1 << e - 1 : g < N - 1 && Z < w - 1 && (la[g + 1] |= 32768)))) : p && (V |= 1 << e);
                l[k] |= r;
              }
              Z += 16;
            }
            ia[g] |= ma;
            0 < k && (ja[g] |= ca);
            k < F - 1 && (la[g] |= aa);
          } else Z += 256;
          ba[g] = V;
        }
        Q += 16;
        T += 16;
      }
      this.Nb(n, l, w, D, y);
      O.fill(0);
      this.Kb(U);
      for (pa = 0; pa < this.B.ca.length; pa += 1) this.B.ca[pa] = this.B.ca[pa] | H.ca[pa] | P.ca[pa];
      this.o = t;
      this.ma = v;
      this.aa = B;
    };
    ra.prototype.vm = function () {
      var a = this.Fa, b, c, d, f = this.Na, e, k = this.Ha, g, m = this.Ta, p, n, q = 0, l = 0, r = 0, u = this.width, t = this.u, v = this.height, B = this.ba, w = this.Y >> 4, y = this.Ja;
      if (0 !== (this.counter & 1)) {
        var D = this.W;
        var F = this.ta;
        var N = this.sa;
        var O = this.V;
        var M = this.L;
      } else D = this.m, F = this.sa, N = this.ta, O = this.L, M = this.V;
      k.fill(0);
      m.fill(0);
      var U = 0;
      var W = U + 16;
      M.ca.fill(0);
      for (c = 0; c < O.length; c += 1) {
        var H = 0;
        var P = O[c];
        var Q = M[c];
        var T = f[c];
        var Z = 0 < c ? M[c - 1] : y;
        var na = c < B - 1 ? M[c + 1] : y;
        for (d = 0; d < w; d += 1) {
          var ia = P[d];
          var ba = 0;
          if (ia) {
            var ja = Q[d];
            var la = Z[d];
            var fa = na[d];
            for (b = 15; 0 <= b; --b) {
              if (0 !== (ia & 1 << b)) {
                var V = p = g = e = 0;
                var ma = U;
                for (n = 32768; ma < W;) {
                  var ca = 0 === ma ? this.oa : D[ma - 1];
                  var aa = D[ma];
                  var X = ma === this.height - 1 ? this.oa : D[ma + 1];
                  var pa = N[ma];
                  var R = 32768;
                  var E = H;
                  var z = aa[E + 1];
                  var K = X[E + 1];
                  var L = ca[E];
                  var J = aa[E];
                  var x = X[E];
                  var A = 0 === E ? J | x << 1 | z << 2 | L << 4 | K << 5 : ca[E - 1] << 6 | aa[E - 1] << 3 | J | x << 1 | z << 2 | L << 4 | K << 5;
                  var ka = a[A];
                  0 < ka ? (q += 1, 0 === (A & 1) && (l += 1), p |= n, g |= R) : 0 !== (A & 1) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  var Y = J;
                  J = z;
                  z = aa[E + 1];
                  x = K;
                  K = X[E + 1];
                  A = J | x << 1 | z << 2 | Y << 3 | L << 4 | K << 5 | A << 6;
                  x = a[A];
                  ka |= x << 8;
                  0 < x ? (q += 1, 0 === (A & 1) && (l += 1), p |= n, g |= R) : 0 !== (A & 1) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  Y = J;
                  J = z;
                  z = aa[E + 1];
                  x = K;
                  K = X[E + 1];
                  A = J | x << 1 | z << 2 | Y << 3 | L << 4 | K << 5 | A << 6;
                  x = a[A];
                  ka |= x << 16;
                  0 < x ? (q += 1, 0 === (A & 1) && (l += 1), p |= n, g |= R) : 0 !== (A & 1) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  Y = J;
                  J = z;
                  z = aa[E + 1];
                  x = K;
                  K = X[E + 1];
                  A = J | x << 1 | z << 2 | Y << 3 | L << 4 | K << 5 | A << 6;
                  x = a[A];
                  ka |= x << 24;
                  pa[E >> 2] = ka;
                  0 < x ? (q += 1, 0 === (A & 1) && (l += 1), p |= n, g |= R) : 0 !== (A & 1) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  Y = J;
                  J = z;
                  z = aa[E + 1];
                  x = K;
                  K = X[E + 1];
                  A = J | x << 1 | z << 2 | Y << 3 | L << 4 | K << 5 | A << 6;
                  ka = a[A];
                  0 < ka ? (q += 1, 0 === (A & 1) && (l += 1), p |= n, g |= R) : 0 !== (A & 1) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  Y = J;
                  J = z;
                  z = aa[E + 1];
                  x = K;
                  K = X[E + 1];
                  A = J | x << 1 | z << 2 | Y << 3 | L << 4 | K << 5 | A << 6;
                  x = a[A];
                  ka |= x << 8;
                  0 < x ? (q += 1, 0 === (A & 1) && (l += 1), p |= n, g |= R) : 0 !== (A & 1) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  Y = J;
                  J = z;
                  z = aa[E + 1];
                  x = K;
                  K = X[E + 1];
                  A = J | x << 1 | z << 2 | Y << 3 | L << 4 | K << 5 | A << 6;
                  x = a[A];
                  ka |= x << 16;
                  0 < x ? (q += 1, 0 === (A & 1) && (l += 1), p |= n, g |= R) : 0 !== (A & 1) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  Y = J;
                  J = z;
                  z = aa[E + 1];
                  x = K;
                  K = X[E + 1];
                  A = J | x << 1 | z << 2 | Y << 3 | L << 4 | K << 5 | A << 6;
                  x = a[A];
                  ka |= x << 24;
                  pa[E >> 2] = ka;
                  0 < x ? (q += 1, 0 === (A & 1) && (l += 1), p |= n, g |= R) : 0 !== (A & 1) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  Y = J;
                  J = z;
                  z = aa[E + 1];
                  x = K;
                  K = X[E + 1];
                  A = J | x << 1 | z << 2 | Y << 3 | L << 4 | K << 5 | A << 6;
                  ka = a[A];
                  0 < ka ? (q += 1, 0 === (A & 1) && (l += 1), p |= n, g |= R) : 0 !== (A & 1) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  Y = J;
                  J = z;
                  z = aa[E + 1];
                  x = K;
                  K = X[E + 1];
                  A = J | x << 1 | z << 2 | Y << 3 | L << 4 | K << 5 | A << 6;
                  x = a[A];
                  ka |= x << 8;
                  0 < x ? (q += 1, 0 === (A & 1) && (l += 1), p |= n, g |= R) : 0 !== (A & 1) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  Y = J;
                  J = z;
                  z = aa[E + 1];
                  x = K;
                  K = X[E + 1];
                  A = J | x << 1 | z << 2 | Y << 3 | L << 4 | K << 5 | A << 6;
                  x = a[A];
                  ka |= x << 16;
                  0 < x ? (q += 1, 0 === (A & 1) && (l += 1), p |= n, g |= R) : 0 !== (A & 1) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  Y = J;
                  J = z;
                  z = aa[E + 1];
                  x = K;
                  K = X[E + 1];
                  A = J | x << 1 | z << 2 | Y << 3 | L << 4 | K << 5 | A << 6;
                  x = a[A];
                  ka |= x << 24;
                  pa[E >> 2] = ka;
                  0 < x ? (q += 1, 0 === (A & 1) && (l += 1), p |= n, g |= R) : 0 !== (A & 1) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  Y = J;
                  J = z;
                  z = aa[E + 1];
                  x = K;
                  K = X[E + 1];
                  A = J | x << 1 | z << 2 | Y << 3 | L << 4 | K << 5 | A << 6;
                  ka = a[A];
                  0 < ka ? (q += 1, 0 === (A & 1) && (l += 1), p |= n, g |= R) : 0 !== (A & 1) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  Y = J;
                  J = z;
                  z = aa[E + 1];
                  x = K;
                  K = X[E + 1];
                  A = J | x << 1 | z << 2 | Y << 3 | L << 4 | K << 5 | A << 6;
                  x = a[A];
                  ka |= x << 8;
                  0 < x ? (q += 1, 0 === (A & 1) && (l += 1), p |= n, g |= R) : 0 !== (A & 1) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  Y = J;
                  J = z;
                  z = aa[E + 1];
                  x = K;
                  K = X[E + 1];
                  A = J | x << 1 | z << 2 | Y << 3 | L << 4 | K << 5 | A << 6;
                  x = a[A];
                  ka |= x << 16;
                  0 < x ? (q += 1, 0 === (A & 1) && (l += 1), p |= n, g |= R) : 0 !== (A & 1) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  Y = J;
                  J = z;
                  x = K;
                  E === u - 1 ? K = z = 0 : (z = aa[E + 1], K = X[E + 1]);
                  A = J | x << 1 | z << 2 | Y << 3 | L << 4 | K << 5 | A << 6;
                  x = a[A];
                  ka |= x << 24;
                  pa[E >> 2] = ka;
                  0 < x ? (q += 1, 0 === (A & 1) && (l += 1), p |= n, g |= R) : 0 !== (A & 1) && (r += 1);
                  e |= J;
                  ma += 1;
                  n >>= 1;
                }
                k[H >> 4] |= g;
                g ? (ja |= 1 << b, p & 1 && (V |= I.tb, g & 32768 && (V |= I.Eb), g & 1 && (V |= I.sb)), p & 32768 && (V |= I.xb, g & 32768 && (V |= I.Bb), g & 1 && (V |= I.Cb)), g & 32768 && (V |= I.qb), g & 1 && (V |= I.jb), V && (0 !== (V & I.qb) && (15 > b ? ja |= 1 << b + 1 : 0 < d && 0 < H && (Q[d - 1] |= 1)), 0 !== (V & I.jb) && (0 < b ? ja |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Q[d + 1] |= 32768)), 0 !== (V & I.xb) && (la |= 1 << b), 0 !== (V & I.tb) && (fa |= 1 << b), 0 !== (V & I.Bb) && (15 > b ? la |= 1 << b + 1 : 0 < d && 0 < H && (Z[d - 1] |= 1)), 0 !== (V & I.Cb) && (0 < b ? la |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Z[d + 1] |= 32768)), 0 !== (V & I.Eb) && (15 > b ? fa |= 1 << b + 1 : 0 < d && 0 < H && (na[d - 1] |= 1)), 0 !== (V & I.sb) && (0 < b ? fa |= 1 << b - 1 : d < w - 1 && H < u - 1 && (na[d + 1] |= 32768)))) : e && (ba |= 1 << b);
                m[c] |= p;
              }
              H += 16;
            }
            Q[d] |= ja;
            0 < c && (Z[d] |= la);
            c < B - 1 && (na[d] |= fa);
          } else H += 256;
          T[d] = ba;
        }
        U += 16;
        W += 16;
      }
      this.Nb(k, m, u, v, t);
      y.fill(0);
      this.Kb(F);
      for (ma = 0; ma < this.B.ca.length; ma += 1) this.B.ca[ma] = this.B.ca[ma] | O.ca[ma] | M.ca[ma];
      this.o = q;
      this.ma = l;
      this.aa = r;
    };
    ra.prototype.xm = function () {
      var a = this.Fa, b, c, d, f = this.Na, e, k = this.Ha, g, m = this.Ta, p, n, q = 0, l = 0, r = 0, u = this.width, t = this.u, v = this.height, B = this.ba, w = this.Y >> 4, y = this.Ja;
      if (0 !== (this.counter & 1)) {
        var D = this.W;
        var F = this.ta;
        var N = this.sa;
        var O = this.V;
        var M = this.L;
      } else D = this.m, F = this.sa, N = this.ta, O = this.L, M = this.V;
      k.fill(0);
      m.fill(0);
      var U = 0;
      var W = U + 16;
      M.ca.fill(0);
      for (c = 0; c < O.length; c += 1) {
        var H = 0;
        var P = O[c];
        var Q = M[c];
        var T = f[c];
        var Z = 0 < c ? M[c - 1] : y;
        var na = c < B - 1 ? M[c + 1] : y;
        for (d = 0; d < w; d += 1) {
          var ia = P[d];
          var ba = 0;
          if (ia) {
            var ja = Q[d];
            var la = Z[d];
            var fa = na[d];
            for (b = 15; 0 <= b; --b) {
              if (0 !== (ia & 1 << b)) {
                var V = p = g = e = 0;
                var ma = U;
                for (n = 32768; ma < W;) {
                  var ca = 0 === ma ? this.oa : D[ma - 1];
                  var aa = D[ma];
                  var X = ma === this.height - 1 ? this.oa : D[ma + 1];
                  var pa = N[ma];
                  var R = 32768;
                  var E = H;
                  var z = aa[E + 1];
                  var K = X[E + 1];
                  var L = ca[E];
                  var J = aa[E];
                  var x = X[E];
                  var A = 0 === E ? J | x << 2 | z << 4 | L << 8 | K << 10 : ca[E - 1] << 12 | aa[E - 1] << 6 | J | x << 2 | z << 4 | L << 8 | K << 10;
                  var ka = a[A];
                  0 < ka ? (q += 1, 0 === (A & 3) && (l += 1), p |= n, g |= R) : 0 !== (A & 3) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  var Y = J;
                  J = z;
                  z = aa[E + 1];
                  x = K;
                  K = X[E + 1];
                  A = J | x << 2 | z << 4 | Y << 6 | L << 8 | K << 10 | A << 12;
                  x = a[A];
                  ka |= x << 8;
                  0 < x ? (q += 1, 0 === (A & 3) && (l += 1), p |= n, g |= R) : 0 !== (A & 3) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 2 | z << 4 | Y << 6 | L << 8 | K << 10 | A << 12;
                  x = a[A];
                  ka |= x << 16;
                  0 < x ? (q += 1, 0 === (A & 3) && (l += 1), p |= n, g |= R) : 0 !== (A & 3) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 2 | z << 4 | Y << 6 | L << 8 | K << 10 | A << 12;
                  x = a[A];
                  ka |= x << 24;
                  pa[E >> 2] = ka;
                  0 < x ? (q += 1, 0 === (A & 3) && (l += 1), p |= n, g |= R) : 0 !== (A & 3) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 2 | z << 4 | Y << 6 | L << 8 | K << 10 | A << 12;
                  ka = a[A];
                  0 < ka ? (q += 1, 0 === (A & 3) && (l += 1), p |= n, g |= R) : 0 !== (A & 3) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 2 | z << 4 | Y << 6 | L << 8 | K << 10 | A << 12;
                  x = a[A];
                  ka |= x << 8;
                  0 < x ? (q += 1, 0 === (A & 3) && (l += 1), p |= n, g |= R) : 0 !== (A & 3) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 2 | z << 4 | Y << 6 | L << 8 | K << 10 | A << 12;
                  x = a[A];
                  ka |= x << 16;
                  0 < x ? (q += 1, 0 === (A & 3) && (l += 1), p |= n, g |= R) : 0 !== (A & 3) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 2 | z << 4 | Y << 6 | L << 8 | K << 10 | A << 12;
                  x = a[A];
                  ka |= x << 24;
                  pa[E >> 2] = ka;
                  0 < x ? (q += 1, 0 === (A & 3) && (l += 1), p |= n, g |= R) : 0 !== (A & 3) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 2 | z << 4 | Y << 6 | L << 8 | K << 10 | A << 12;
                  ka = a[A];
                  0 < ka ? (q += 1, 0 === (A & 3) && (l += 1), p |= n, g |= R) : 0 !== (A & 3) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 2 | z << 4 | Y << 6 | L << 8 | K << 10 | A << 12;
                  x = a[A];
                  ka |= x << 8;
                  0 < x ? (q += 1, 0 === (A & 3) && (l += 1), p |= n, g |= R) : 0 !== (A & 3) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 2 | z << 4 | Y << 6 | L << 8 | K << 10 | A << 12;
                  x = a[A];
                  ka |= x << 16;
                  0 < x ? (q += 1, 0 === (A & 3) && (l += 1), p |= n, g |= R) : 0 !== (A & 3) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 2 | z << 4 | Y << 6 | L << 8 | K << 10 | A << 12;
                  x = a[A];
                  ka |= x << 24;
                  pa[E >> 2] = ka;
                  0 < x ? (q += 1, 0 === (A & 3) && (l += 1), p |= n, g |= R) : 0 !== (A & 3) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 2 | z << 4 | Y << 6 | L << 8 | K << 10 | A << 12;
                  ka = a[A];
                  0 < ka ? (q += 1, 0 === (A & 3) && (l += 1), p |= n, g |= R) : 0 !== (A & 3) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 2 | z << 4 | Y << 6 | L << 8 | K << 10 | A << 12;
                  x = a[A];
                  ka |= x << 8;
                  0 < x ? (q += 1, 0 === (A & 3) && (l += 1), p |= n, g |= R) : 0 !== (A & 3) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 2 | z << 4 | Y << 6 | L << 8 | K << 10 | A << 12;
                  x = a[A];
                  ka |= x << 16;
                  0 < x ? (q += 1, 0 === (A & 3) && (l += 1), p |= n, g |= R) : 0 !== (A & 3) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  Y = J;
                  J = z;
                  x = K;
                  E === u - 1 ? K = z = 0 : (z = aa[E + 1], K = X[E + 1]);
                  A = J | x << 2 | z << 4 | Y << 6 | L << 8 | K << 10 | A << 12;
                  x = a[A];
                  ka |= x << 24;
                  pa[E >> 2] = ka;
                  0 < x ? (q += 1, 0 === (A & 3) && (l += 1), p |= n, g |= R) : 0 !== (A & 3) && (r += 1);
                  e |= J;
                  ma += 1;
                  n >>= 1;
                }
                k[H >> 4] |= g;
                g ? (ja |= 1 << b, p & 1 && (V |= I.tb, g & 32768 && (V |= I.Eb), g & 1 && (V |= I.sb)), p & 32768 && (V |= I.xb, g & 32768 && (V |= I.Bb), g & 1 && (V |= I.Cb)), g & 32768 && (V |= I.qb), g & 1 && (V |= I.jb), V && (0 !== (V & I.qb) && (15 > b ? ja |= 1 << b + 1 : 0 < d && 0 < H && (Q[d - 1] |= 1)), 0 !== (V & I.jb) && (0 < b ? ja |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Q[d + 1] |= 32768)), 0 !== (V & I.xb) && (la |= 1 << b), 0 !== (V & I.tb) && (fa |= 1 << b), 0 !== (V & I.Bb) && (15 > b ? la |= 1 << b + 1 : 0 < d && 0 < H && (Z[d - 1] |= 1)), 0 !== (V & I.Cb) && (0 < b ? la |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Z[d + 1] |= 32768)), 0 !== (V & I.Eb) && (15 > b ? fa |= 1 << b + 1 : 0 < d && 0 < H && (na[d - 1] |= 1)), 0 !== (V & I.sb) && (0 < b ? fa |= 1 << b - 1 : d < w - 1 && H < u - 1 && (na[d + 1] |= 32768)))) : e && (ba |= 1 << b);
                m[c] |= p;
              }
              H += 16;
            }
            Q[d] |= ja;
            0 < c && (Z[d] |= la);
            c < B - 1 && (na[d] |= fa);
          } else H += 256;
          T[d] = ba;
        }
        U += 16;
        W += 16;
      }
      this.Nb(k, m, u, v, t);
      y.fill(0);
      this.Kb(F);
      for (ma = 0; ma < this.B.ca.length; ma += 1) this.B.ca[ma] = this.B.ca[ma] | O.ca[ma] | M.ca[ma];
      this.o = q;
      this.ma = l;
      this.aa = r;
    };
    ra.prototype.zm = function () {
      var a = this.Fa, b, c, d, f = this.Na, e, k = this.Ha, g, m = this.Ta, p, n, q = 0, l = 0, r = 0, u = this.width, t = this.u, v = this.height, B = this.ba, w = this.Y >> 4, y = this.Ja;
      if (0 !== (this.counter & 1)) {
        var D = this.W;
        var F = this.ta;
        var N = this.sa;
        var O = this.V;
        var M = this.L;
      } else D = this.m, F = this.sa, N = this.ta, O = this.L, M = this.V;
      k.fill(0);
      m.fill(0);
      var U = 0;
      var W = U + 16;
      M.ca.fill(0);
      for (c = 0; c < O.length; c += 1) {
        var H = 0;
        var P = O[c];
        var Q = M[c];
        var T = f[c];
        var Z = 0 < c ? M[c - 1] : y;
        var na = c < B - 1 ? M[c + 1] : y;
        for (d = 0; d < w; d += 1) {
          var ia = P[d];
          var ba = 0;
          if (ia) {
            var ja = Q[d];
            var la = Z[d];
            var fa = na[d];
            for (b = 15; 0 <= b; --b) {
              if (0 !== (ia & 1 << b)) {
                var V = p = g = e = 0;
                var ma = U;
                for (n = 32768; ma < W;) {
                  var ca = 0 === ma ? this.oa : D[ma - 1];
                  var aa = D[ma];
                  var X = ma === this.height - 1 ? this.oa : D[ma + 1];
                  var pa = N[ma];
                  var R = 32768;
                  var E = H;
                  var z = aa[E + 1];
                  var K = X[E + 1];
                  var L = ca[E];
                  var J = aa[E];
                  var x = X[E];
                  var A = 0 === E ? J | x << 3 | z << 6 | L << 12 | K << 15 : ca[E - 1] << 18 | aa[E - 1] << 9 | J | x << 3 | z << 6 | L << 12 | K << 15;
                  var ka = a[A];
                  0 < ka ? (q += 1, 0 === (A & 7) && (l += 1), p |= n, g |= R) : 0 !== (A & 7) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  var Y = J;
                  J = z;
                  z = aa[E + 1];
                  x = K;
                  K = X[E + 1];
                  A = J | x << 3 | z << 6 | Y << 9 | L << 12 | K << 15 | A << 18;
                  x = a[A];
                  ka |= x << 8;
                  0 < x ? (q += 1, 0 === (A & 7) && (l += 1), p |= n, g |= R) : 0 !== (A & 7) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 3 | z << 6 | Y << 9 | L << 12 | K << 15 | A << 18;
                  x = a[A];
                  ka |= x << 16;
                  0 < x ? (q += 1, 0 === (A & 7) && (l += 1), p |= n, g |= R) : 0 !== (A & 7) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 3 | z << 6 | Y << 9 | L << 12 | K << 15 | A << 18;
                  x = a[A];
                  ka |= x << 24;
                  pa[E >> 2] = ka;
                  0 < x ? (q += 1, 0 === (A & 7) && (l += 1), p |= n, g |= R) : 0 !== (A & 7) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 3 | z << 6 | Y << 9 | L << 12 | K << 15 | A << 18;
                  ka = a[A];
                  0 < ka ? (q += 1, 0 === (A & 7) && (l += 1), p |= n, g |= R) : 0 !== (A & 7) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 3 | z << 6 | Y << 9 | L << 12 | K << 15 | A << 18;
                  x = a[A];
                  ka |= x << 8;
                  0 < x ? (q += 1, 0 === (A & 7) && (l += 1), p |= n, g |= R) : 0 !== (A & 7) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 3 | z << 6 | Y << 9 | L << 12 | K << 15 | A << 18;
                  x = a[A];
                  ka |= x << 16;
                  0 < x ? (q += 1, 0 === (A & 7) && (l += 1), p |= n, g |= R) : 0 !== (A & 7) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 3 | z << 6 | Y << 9 | L << 12 | K << 15 | A << 18;
                  x = a[A];
                  ka |= x << 24;
                  pa[E >> 2] = ka;
                  0 < x ? (q += 1, 0 === (A & 7) && (l += 1), p |= n, g |= R) : 0 !== (A & 7) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 3 | z << 6 | Y << 9 | L << 12 | K << 15 | A << 18;
                  ka = a[A];
                  0 < ka ? (q += 1, 0 === (A & 7) && (l += 1), p |= n, g |= R) : 0 !== (A & 7) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 3 | z << 6 | Y << 9 | L << 12 | K << 15 | A << 18;
                  x = a[A];
                  ka |= x << 8;
                  0 < x ? (q += 1, 0 === (A & 7) && (l += 1), p |= n, g |= R) : 0 !== (A & 7) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 3 | z << 6 | Y << 9 | L << 12 | K << 15 | A << 18;
                  x = a[A];
                  ka |= x << 16;
                  0 < x ? (q += 1, 0 === (A & 7) && (l += 1), p |= n, g |= R) : 0 !== (A & 7) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 3 | z << 6 | Y << 9 | L << 12 | K << 15 | A << 18;
                  x = a[A];
                  ka |= x << 24;
                  pa[E >> 2] = ka;
                  0 < x ? (q += 1, 0 === (A & 7) && (l += 1), p |= n, g |= R) : 0 !== (A & 7) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 3 | z << 6 | Y << 9 | L << 12 | K << 15 | A << 18;
                  ka = a[A];
                  0 < ka ? (q += 1, 0 === (A & 7) && (l += 1), p |= n, g |= R) : 0 !== (A & 7) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 3 | z << 6 | Y << 9 | L << 12 | K << 15 | A << 18;
                  x = a[A];
                  ka |= x << 8;
                  0 < x ? (q += 1, 0 === (A & 7) && (l += 1), p |= n, g |= R) : 0 !== (A & 7) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  Y = J;
                  J = z;
                  x = K;
                  L = ca[E];
                  z = aa[E + 1];
                  K = X[E + 1];
                  A = J | x << 3 | z << 6 | Y << 9 | L << 12 | K << 15 | A << 18;
                  x = a[A];
                  ka |= x << 16;
                  0 < x ? (q += 1, 0 === (A & 7) && (l += 1), p |= n, g |= R) : 0 !== (A & 7) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  A = L;
                  L = ca[E];
                  Y = J;
                  J = z;
                  x = K;
                  E === u - 1 ? K = z = 0 : (z = aa[E + 1], K = X[E + 1]);
                  A = J | x << 3 | z << 6 | Y << 9 | L << 12 | K << 15 | A << 18;
                  x = a[A];
                  ka |= x << 24;
                  pa[E >> 2] = ka;
                  0 < x ? (q += 1, 0 === (A & 7) && (l += 1), p |= n, g |= R) : 0 !== (A & 7) && (r += 1);
                  e |= J;
                  ma += 1;
                  n >>= 1;
                }
                k[H >> 4] |= g;
                g ? (ja |= 1 << b, p & 1 && (V |= I.tb, g & 32768 && (V |= I.Eb), g & 1 && (V |= I.sb)), p & 32768 && (V |= I.xb, g & 32768 && (V |= I.Bb), g & 1 && (V |= I.Cb)), g & 32768 && (V |= I.qb), g & 1 && (V |= I.jb), V && (0 !== (V & I.qb) && (15 > b ? ja |= 1 << b + 1 : 0 < d && 0 < H && (Q[d - 1] |= 1)), 0 !== (V & I.jb) && (0 < b ? ja |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Q[d + 1] |= 32768)), 0 !== (V & I.xb) && (la |= 1 << b), 0 !== (V & I.tb) && (fa |= 1 << b), 0 !== (V & I.Bb) && (15 > b ? la |= 1 << b + 1 : 0 < d && 0 < H && (Z[d - 1] |= 1)), 0 !== (V & I.Cb) && (0 < b ? la |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Z[d + 1] |= 32768)), 0 !== (V & I.Eb) && (15 > b ? fa |= 1 << b + 1 : 0 < d && 0 < H && (na[d - 1] |= 1)), 0 !== (V & I.sb) && (0 < b ? fa |= 1 << b - 1 : d < w - 1 && H < u - 1 && (na[d + 1] |= 32768)))) : e && (ba |= 1 << b);
                m[c] |= p;
              }
              H += 16;
            }
            Q[d] |= ja;
            0 < c && (Z[d] |= la);
            c < B - 1 && (na[d] |= fa);
          } else H += 256;
          T[d] = ba;
        }
        U += 16;
        W += 16;
      }
      this.Nb(k, m, u, v, t);
      y.fill(0);
      this.Kb(F);
      for (ma = 0; ma < this.B.ca.length; ma += 1) this.B.ca[ma] = this.B.ca[ma] | O.ca[ma] | M.ca[ma];
      this.o = q;
      this.ma = l;
      this.aa = r;
    };
    ra.prototype.pj = function () {
      var a = this.Fa, b, c, d, f = this.Na, e, k = this.Ha, g, m = this.Ta, p, n, q = 0, l = 0, r = 0, u = this.width, t = this.u, v = this.height, B = this.ba, w = this.Y >> 4, y = this.Ja;
      if (0 !== (this.counter & 1)) {
        var D = this.W;
        var F = this.ta;
        var N = this.sa;
        var O = this.V;
        var M = this.L;
      } else D = this.m, F = this.sa, N = this.ta, O = this.L, M = this.V;
      k.fill(0);
      m.fill(0);
      var U = 0;
      var W = U + 16;
      M.ca.fill(0);
      for (c = 0; c < O.length; c += 1) {
        var H = 0;
        var P = O[c];
        var Q = M[c];
        var T = f[c];
        var Z = 0 < c ? M[c - 1] : y;
        var na = c < B - 1 ? M[c + 1] : y;
        for (d = 0; d < w; d += 1) {
          var ia = P[d];
          var ba = 0;
          if (ia) {
            var ja = Q[d];
            var la = Z[d];
            var fa = na[d];
            for (b = 15; 0 <= b; --b) {
              if (0 !== (ia & 1 << b)) {
                var V = p = g = e = 0;
                var ma = U;
                for (n = 32768; ma < W;) {
                  var ca = 0 === ma ? this.oa : D[ma - 1];
                  var aa = D[ma];
                  var X = ma === this.height - 1 ? this.oa : D[ma + 1];
                  var pa = N[ma];
                  var R = 32768;
                  var E = H;
                  var z = ca[E + 1];
                  var K = aa[E + 1];
                  var L = X[E + 1];
                  var J = ca[E];
                  var x = aa[E];
                  var A = X[E];
                  A = 0 === E ? J << 3 | x << 4 | A << 5 | z << 6 | K << 7 | L << 8 : ca[E - 1] | aa[E - 1] << 1 | X[E - 1] << 2 | J << 3 | x << 4 | A << 5 | z << 6 | K << 7 | L << 8;
                  J = a[A];
                  0 < J ? (q += 1, 0 === (A & 16) && (l += 1), p |= n, g |= R) : 0 !== (A & 16) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 3 | z << 6 | K << 7 | L << 8;
                  z = a[A];
                  J |= z << 8;
                  0 < z ? (q += 1, 0 === (A & 16) && (l += 1), p |= n, g |= R) : 0 !== (A & 16) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 3 | z << 6 | K << 7 | L << 8;
                  z = a[A];
                  J |= z << 16;
                  0 < z ? (q += 1, 0 === (A & 16) && (l += 1), p |= n, g |= R) : 0 !== (A & 16) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 3 | z << 6 | K << 7 | L << 8;
                  z = a[A];
                  J |= z << 24;
                  pa[E >> 2] = J;
                  0 < z ? (q += 1, 0 === (A & 16) && (l += 1), p |= n, g |= R) : 0 !== (A & 16) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 3 | z << 6 | K << 7 | L << 8;
                  J = a[A];
                  0 < J ? (q += 1, 0 === (A & 16) && (l += 1), p |= n, g |= R) : 0 !== (A & 16) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 3 | z << 6 | K << 7 | L << 8;
                  z = a[A];
                  J |= z << 8;
                  0 < z ? (q += 1, 0 === (A & 16) && (l += 1), p |= n, g |= R) : 0 !== (A & 16) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 3 | z << 6 | K << 7 | L << 8;
                  z = a[A];
                  J |= z << 16;
                  0 < z ? (q += 1, 0 === (A & 16) && (l += 1), p |= n, g |= R) : 0 !== (A & 16) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 3 | z << 6 | K << 7 | L << 8;
                  z = a[A];
                  J |= z << 24;
                  pa[E >> 2] = J;
                  0 < z ? (q += 1, 0 === (A & 16) && (l += 1), p |= n, g |= R) : 0 !== (A & 16) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 3 | z << 6 | K << 7 | L << 8;
                  J = a[A];
                  0 < J ? (q += 1, 0 === (A & 16) && (l += 1), p |= n, g |= R) : 0 !== (A & 16) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 3 | z << 6 | K << 7 | L << 8;
                  z = a[A];
                  J |= z << 8;
                  0 < z ? (q += 1, 0 === (A & 16) && (l += 1), p |= n, g |= R) : 0 !== (A & 16) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 3 | z << 6 | K << 7 | L << 8;
                  z = a[A];
                  J |= z << 16;
                  0 < z ? (q += 1, 0 === (A & 16) && (l += 1), p |= n, g |= R) : 0 !== (A & 16) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 3 | z << 6 | K << 7 | L << 8;
                  z = a[A];
                  J |= z << 24;
                  pa[E >> 2] = J;
                  0 < z ? (q += 1, 0 === (A & 16) && (l += 1), p |= n, g |= R) : 0 !== (A & 16) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 3 | z << 6 | K << 7 | L << 8;
                  J = a[A];
                  0 < J ? (q += 1, 0 === (A & 16) && (l += 1), p |= n, g |= R) : 0 !== (A & 16) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 3 | z << 6 | K << 7 | L << 8;
                  z = a[A];
                  J |= z << 8;
                  0 < z ? (q += 1, 0 === (A & 16) && (l += 1), p |= n, g |= R) : 0 !== (A & 16) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 3 | z << 6 | K << 7 | L << 8;
                  z = a[A];
                  J |= z << 16;
                  0 < z ? (q += 1, 0 === (A & 16) && (l += 1), p |= n, g |= R) : 0 !== (A & 16) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  E === u - 1 ? L = K = z = 0 : (z = ca[E + 1], K = aa[E + 1], L = X[E + 1]);
                  A = A >> 3 | z << 6 | K << 7 | L << 8;
                  z = a[A];
                  J |= z << 24;
                  pa[E >> 2] = J;
                  0 < z ? (q += 1, 0 === (A & 16) && (l += 1), p |= n, g |= R) : 0 !== (A & 16) && (r += 1);
                  e |= x;
                  ma += 1;
                  n >>= 1;
                }
                k[H >> 4] |= g;
                g ? (ja |= 1 << b, p & 1 && (V |= I.tb, g & 32768 && (V |= I.Eb), g & 1 && (V |= I.sb)), p & 32768 && (V |= I.xb, g & 32768 && (V |= I.Bb), g & 1 && (V |= I.Cb)), g & 32768 && (V |= I.qb), g & 1 && (V |= I.jb), V && (0 !== (V & I.qb) && (15 > b ? ja |= 1 << b + 1 : 0 < d && 0 < H && (Q[d - 1] |= 1)), 0 !== (V & I.jb) && (0 < b ? ja |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Q[d + 1] |= 32768)), 0 !== (V & I.xb) && (la |= 1 << b), 0 !== (V & I.tb) && (fa |= 1 << b), 0 !== (V & I.Bb) && (15 > b ? la |= 1 << b + 1 : 0 < d && 0 < H && (Z[d - 1] |= 1)), 0 !== (V & I.Cb) && (0 < b ? la |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Z[d + 1] |= 32768)), 0 !== (V & I.Eb) && (15 > b ? fa |= 1 << b + 1 : 0 < d && 0 < H && (na[d - 1] |= 1)), 0 !== (V & I.sb) && (0 < b ? fa |= 1 << b - 1 : d < w - 1 && H < u - 1 && (na[d + 1] |= 32768)))) : e && (ba |= 1 << b);
                m[c] |= p;
              }
              H += 16;
            }
            Q[d] |= ja;
            0 < c && (Z[d] |= la);
            c < B - 1 && (na[d] |= fa);
          } else H += 256;
          T[d] = ba;
        }
        U += 16;
        W += 16;
      }
      this.Nb(k, m, u, v, t);
      y.fill(0);
      this.Kb(F);
      for (ma = 0; ma < this.B.ca.length; ma += 1) this.B.ca[ma] = this.B.ca[ma] | O.ca[ma] | M.ca[ma];
      this.o = q;
      this.ma = l;
      this.aa = r;
    };
    ra.prototype.rj = function () {
      var a = this.Fa, b, c, d, f = this.Na, e, k = this.Ha, g, m = this.Ta, p, n, q = 0, l = 0, r = 0, u = this.width, t = this.u, v = this.height, B = this.ba, w = this.Y >> 4, y = this.Ja;
      if (0 !== (this.counter & 1)) {
        var D = this.W;
        var F = this.ta;
        var N = this.sa;
        var O = this.V;
        var M = this.L;
      } else D = this.m, F = this.sa, N = this.ta, O = this.L, M = this.V;
      k.fill(0);
      m.fill(0);
      var U = 0;
      var W = U + 16;
      M.ca.fill(0);
      for (c = 0; c < O.length; c += 1) {
        var H = 0;
        var P = O[c];
        var Q = M[c];
        var T = f[c];
        var Z = 0 < c ? M[c - 1] : y;
        var na = c < B - 1 ? M[c + 1] : y;
        for (d = 0; d < w; d += 1) {
          var ia = P[d];
          var ba = 0;
          if (ia) {
            var ja = Q[d];
            var la = Z[d];
            var fa = na[d];
            for (b = 15; 0 <= b; --b) {
              if (0 !== (ia & 1 << b)) {
                var V = p = g = e = 0;
                var ma = U;
                for (n = 32768; ma < W;) {
                  var ca = 0 === ma ? this.oa : D[ma - 1];
                  var aa = D[ma];
                  var X = ma === this.height - 1 ? this.oa : D[ma + 1];
                  var pa = N[ma];
                  var R = 32768;
                  var E = H;
                  var z = ca[E + 1];
                  var K = aa[E + 1];
                  var L = X[E + 1];
                  var J = ca[E];
                  var x = aa[E];
                  var A = X[E];
                  A = 0 === E ? J << 6 | x << 8 | A << 10 | z << 12 | K << 14 | L << 16 : ca[E - 1] | aa[E - 1] << 2 | X[E - 1] << 4 | J << 6 | x << 8 | A << 10 | z << 12 | K << 14 | L << 16;
                  J = a[A];
                  0 < J ? (q += 1, 0 === (A & 768) && (l += 1), p |= n, g |= R) : 0 !== (A & 768) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 6 | z << 12 | K << 14 | L << 16;
                  z = a[A];
                  J |= z << 8;
                  0 < z ? (q += 1, 0 === (A & 768) && (l += 1), p |= n, g |= R) : 0 !== (A & 768) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 6 | z << 12 | K << 14 | L << 16;
                  z = a[A];
                  J |= z << 16;
                  0 < z ? (q += 1, 0 === (A & 768) && (l += 1), p |= n, g |= R) : 0 !== (A & 768) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 6 | z << 12 | K << 14 | L << 16;
                  z = a[A];
                  J |= z << 24;
                  pa[E >> 2] = J;
                  0 < z ? (q += 1, 0 === (A & 768) && (l += 1), p |= n, g |= R) : 0 !== (A & 768) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 6 | z << 12 | K << 14 | L << 16;
                  J = a[A];
                  0 < J ? (q += 1, 0 === (A & 768) && (l += 1), p |= n, g |= R) : 0 !== (A & 768) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 6 | z << 12 | K << 14 | L << 16;
                  z = a[A];
                  J |= z << 8;
                  0 < z ? (q += 1, 0 === (A & 768) && (l += 1), p |= n, g |= R) : 0 !== (A & 768) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 6 | z << 12 | K << 14 | L << 16;
                  z = a[A];
                  J |= z << 16;
                  0 < z ? (q += 1, 0 === (A & 768) && (l += 1), p |= n, g |= R) : 0 !== (A & 768) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 6 | z << 12 | K << 14 | L << 16;
                  z = a[A];
                  J |= z << 24;
                  pa[E >> 2] = J;
                  0 < z ? (q += 1, 0 === (A & 768) && (l += 1), p |= n, g |= R) : 0 !== (A & 768) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 6 | z << 12 | K << 14 | L << 16;
                  J = a[A];
                  0 < J ? (q += 1, 0 === (A & 768) && (l += 1), p |= n, g |= R) : 0 !== (A & 768) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 6 | z << 12 | K << 14 | L << 16;
                  z = a[A];
                  J |= z << 8;
                  0 < z ? (q += 1, 0 === (A & 768) && (l += 1), p |= n, g |= R) : 0 !== (A & 768) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 6 | z << 12 | K << 14 | L << 16;
                  z = a[A];
                  J |= z << 16;
                  0 < z ? (q += 1, 0 === (A & 768) && (l += 1), p |= n, g |= R) : 0 !== (A & 768) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 6 | z << 12 | K << 14 | L << 16;
                  z = a[A];
                  J |= z << 24;
                  pa[E >> 2] = J;
                  0 < z ? (q += 1, 0 === (A & 768) && (l += 1), p |= n, g |= R) : 0 !== (A & 768) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 6 | z << 12 | K << 14 | L << 16;
                  J = a[A];
                  0 < J ? (q += 1, 0 === (A & 768) && (l += 1), p |= n, g |= R) : 0 !== (A & 768) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 6 | z << 12 | K << 14 | L << 16;
                  z = a[A];
                  J |= z << 8;
                  0 < z ? (q += 1, 0 === (A & 768) && (l += 1), p |= n, g |= R) : 0 !== (A & 768) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 6 | z << 12 | K << 14 | L << 16;
                  z = a[A];
                  J |= z << 16;
                  0 < z ? (q += 1, 0 === (A & 768) && (l += 1), p |= n, g |= R) : 0 !== (A & 768) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  E === u - 1 ? L = K = z = 0 : (z = ca[E + 1], K = aa[E + 1], L = X[E + 1]);
                  A = A >> 6 | z << 12 | K << 14 | L << 16;
                  z = a[A];
                  J |= z << 24;
                  pa[E >> 2] = J;
                  0 < z ? (q += 1, 0 === (A & 768) && (l += 1), p |= n, g |= R) : 0 !== (A & 768) && (r += 1);
                  e |= x;
                  ma += 1;
                  n >>= 1;
                }
                k[H >> 4] |= g;
                g ? (ja |= 1 << b, p & 1 && (V |= I.tb, g & 32768 && (V |= I.Eb), g & 1 && (V |= I.sb)), p & 32768 && (V |= I.xb, g & 32768 && (V |= I.Bb), g & 1 && (V |= I.Cb)), g & 32768 && (V |= I.qb), g & 1 && (V |= I.jb), V && (0 !== (V & I.qb) && (15 > b ? ja |= 1 << b + 1 : 0 < d && 0 < H && (Q[d - 1] |= 1)), 0 !== (V & I.jb) && (0 < b ? ja |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Q[d + 1] |= 32768)), 0 !== (V & I.xb) && (la |= 1 << b), 0 !== (V & I.tb) && (fa |= 1 << b), 0 !== (V & I.Bb) && (15 > b ? la |= 1 << b + 1 : 0 < d && 0 < H && (Z[d - 1] |= 1)), 0 !== (V & I.Cb) && (0 < b ? la |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Z[d + 1] |= 32768)), 0 !== (V & I.Eb) && (15 > b ? fa |= 1 << b + 1 : 0 < d && 0 < H && (na[d - 1] |= 1)), 0 !== (V & I.sb) && (0 < b ? fa |= 1 << b - 1 : d < w - 1 && H < u - 1 && (na[d + 1] |= 32768)))) : e && (ba |= 1 << b);
                m[c] |= p;
              }
              H += 16;
            }
            Q[d] |= ja;
            0 < c && (Z[d] |= la);
            c < B - 1 && (na[d] |= fa);
          } else H += 256;
          T[d] = ba;
        }
        U += 16;
        W += 16;
      }
      this.Nb(k, m, u, v, t);
      y.fill(0);
      this.Kb(F);
      for (ma = 0; ma < this.B.ca.length; ma += 1) this.B.ca[ma] = this.B.ca[ma] | O.ca[ma] | M.ca[ma];
      this.o = q;
      this.ma = l;
      this.aa = r;
    };
    ra.prototype.sj = function () {
      var a = this.Fa, b, c, d, f = this.Na, e, k = this.Ha, g, m = this.Ta, p, n, q = 0, l = 0, r = 0, u = this.width, t = this.u, v = this.height, B = this.ba, w = this.Y >> 4, y = this.Ja;
      if (0 !== (this.counter & 1)) {
        var D = this.W;
        var F = this.ta;
        var N = this.sa;
        var O = this.V;
        var M = this.L;
      } else D = this.m, F = this.sa, N = this.ta, O = this.L, M = this.V;
      k.fill(0);
      m.fill(0);
      var U = 0;
      var W = U + 16;
      M.ca.fill(0);
      for (c = 0; c < O.length; c += 1) {
        var H = 0;
        var P = O[c];
        var Q = M[c];
        var T = f[c];
        var Z = 0 < c ? M[c - 1] : y;
        var na = c < B - 1 ? M[c + 1] : y;
        for (d = 0; d < w; d += 1) {
          var ia = P[d];
          var ba = 0;
          if (ia) {
            var ja = Q[d];
            var la = Z[d];
            var fa = na[d];
            for (b = 15; 0 <= b; --b) {
              if (0 !== (ia & 1 << b)) {
                var V = p = g = e = 0;
                var ma = U;
                for (n = 32768; ma < W;) {
                  var ca = 0 === ma ? this.oa : D[ma - 1];
                  var aa = D[ma];
                  var X = ma === this.height - 1 ? this.oa : D[ma + 1];
                  var pa = N[ma];
                  var R = 32768;
                  var E = H;
                  var z = ca[E + 1];
                  var K = aa[E + 1];
                  var L = X[E + 1];
                  var J = ca[E];
                  var x = aa[E];
                  var A = X[E];
                  A = 0 === E ? J << 9 | x << 12 | A << 15 | z << 18 | K << 21 | L << 24 : ca[E - 1] | aa[E - 1] << 3 | X[E - 1] << 6 | J << 9 | x << 12 | A << 15 | z << 18 | K << 21 | L << 24;
                  J = a[A];
                  0 < J ? (q += 1, 0 === (A & 45056) && (l += 1), p |= n, g |= R) : 0 !== (A & 45056) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 9 | z << 18 | K << 21 | L << 24;
                  z = a[A];
                  J |= z << 8;
                  0 < z ? (q += 1, 0 === (A & 45056) && (l += 1), p |= n, g |= R) : 0 !== (A & 45056) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 9 | z << 18 | K << 21 | L << 24;
                  z = a[A];
                  J |= z << 16;
                  0 < z ? (q += 1, 0 === (A & 45056) && (l += 1), p |= n, g |= R) : 0 !== (A & 45056) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 9 | z << 18 | K << 21 | L << 24;
                  z = a[A];
                  J |= z << 24;
                  pa[E >> 2] = J;
                  0 < z ? (q += 1, 0 === (A & 45056) && (l += 1), p |= n, g |= R) : 0 !== (A & 45056) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 9 | z << 18 | K << 21 | L << 24;
                  J = a[A];
                  0 < J ? (q += 1, 0 === (A & 45056) && (l += 1), p |= n, g |= R) : 0 !== (A & 45056) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 9 | z << 18 | K << 21 | L << 24;
                  z = a[A];
                  J |= z << 8;
                  0 < z ? (q += 1, 0 === (A & 45056) && (l += 1), p |= n, g |= R) : 0 !== (A & 45056) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 9 | z << 18 | K << 21 | L << 24;
                  z = a[A];
                  J |= z << 16;
                  0 < z ? (q += 1, 0 === (A & 45056) && (l += 1), p |= n, g |= R) : 0 !== (A & 45056) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 9 | z << 18 | K << 21 | L << 24;
                  z = a[A];
                  J |= z << 24;
                  pa[E >> 2] = J;
                  0 < z ? (q += 1, 0 === (A & 45056) && (l += 1), p |= n, g |= R) : 0 !== (A & 45056) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 9 | z << 18 | K << 21 | L << 24;
                  J = a[A];
                  0 < J ? (q += 1, 0 === (A & 45056) && (l += 1), p |= n, g |= R) : 0 !== (A & 45056) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 9 | z << 18 | K << 21 | L << 24;
                  z = a[A];
                  J |= z << 8;
                  0 < z ? (q += 1, 0 === (A & 45056) && (l += 1), p |= n, g |= R) : 0 !== (A & 45056) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 9 | z << 18 | K << 21 | L << 24;
                  z = a[A];
                  J |= z << 16;
                  0 < z ? (q += 1, 0 === (A & 45056) && (l += 1), p |= n, g |= R) : 0 !== (A & 45056) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 9 | z << 18 | K << 21 | L << 24;
                  z = a[A];
                  J |= z << 24;
                  pa[E >> 2] = J;
                  0 < z ? (q += 1, 0 === (A & 45056) && (l += 1), p |= n, g |= R) : 0 !== (A & 45056) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 9 | z << 18 | K << 21 | L << 24;
                  J = a[A];
                  0 < J ? (q += 1, 0 === (A & 45056) && (l += 1), p |= n, g |= R) : 0 !== (A & 45056) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 9 | z << 18 | K << 21 | L << 24;
                  z = a[A];
                  J |= z << 8;
                  0 < z ? (q += 1, 0 === (A & 45056) && (l += 1), p |= n, g |= R) : 0 !== (A & 45056) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  z = ca[E + 1];
                  K = aa[E + 1];
                  L = X[E + 1];
                  A = A >> 9 | z << 18 | K << 21 | L << 24;
                  z = a[A];
                  J |= z << 16;
                  0 < z ? (q += 1, 0 === (A & 45056) && (l += 1), p |= n, g |= R) : 0 !== (A & 45056) && (r += 1);
                  e |= x;
                  R >>= 1;
                  E += 1;
                  x = K;
                  E === u - 1 ? L = K = z = 0 : (z = ca[E + 1], K = aa[E + 1], L = X[E + 1]);
                  A = A >> 9 | z << 18 | K << 21 | L << 24;
                  z = a[A];
                  J |= z << 24;
                  pa[E >> 2] = J;
                  0 < z ? (q += 1, 0 === (A & 45056) && (l += 1), p |= n, g |= R) : 0 !== (A & 45056) && (r += 1);
                  e |= x;
                  ma += 1;
                  n >>= 1;
                }
                k[H >> 4] |= g;
                g ? (ja |= 1 << b, p & 1 && (V |= I.tb, g & 32768 && (V |= I.Eb), g & 1 && (V |= I.sb)), p & 32768 && (V |= I.xb, g & 32768 && (V |= I.Bb), g & 1 && (V |= I.Cb)), g & 32768 && (V |= I.qb), g & 1 && (V |= I.jb), V && (0 !== (V & I.qb) && (15 > b ? ja |= 1 << b + 1 : 0 < d && 0 < H && (Q[d - 1] |= 1)), 0 !== (V & I.jb) && (0 < b ? ja |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Q[d + 1] |= 32768)), 0 !== (V & I.xb) && (la |= 1 << b), 0 !== (V & I.tb) && (fa |= 1 << b), 0 !== (V & I.Bb) && (15 > b ? la |= 1 << b + 1 : 0 < d && 0 < H && (Z[d - 1] |= 1)), 0 !== (V & I.Cb) && (0 < b ? la |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Z[d + 1] |= 32768)), 0 !== (V & I.Eb) && (15 > b ? fa |= 1 << b + 1 : 0 < d && 0 < H && (na[d - 1] |= 1)), 0 !== (V & I.sb) && (0 < b ? fa |= 1 << b - 1 : d < w - 1 && H < u - 1 && (na[d + 1] |= 32768)))) : e && (ba |= 1 << b);
                m[c] |= p;
              }
              H += 16;
            }
            Q[d] |= ja;
            0 < c && (Z[d] |= la);
            c < B - 1 && (na[d] |= fa);
          } else H += 256;
          T[d] = ba;
        }
        U += 16;
        W += 16;
      }
      this.Nb(k, m, u, v, t);
      y.fill(0);
      this.Kb(F);
      for (ma = 0; ma < this.B.ca.length; ma += 1) this.B.ca[ma] = this.B.ca[ma] | O.ca[ma] | M.ca[ma];
      this.o = q;
      this.ma = l;
      this.aa = r;
    };
    ra.prototype.uj = function () {
      var a = this.Fa, b, c, d, f = this.Na, e, k = this.Ha, g, m = this.Ta, p, n, q = 0, l = 0, r = 0, u = this.width, t = this.u, v = this.height, B = this.ba, w = this.Y >> 4, y = this.Ja;
      if (0 !== (this.counter & 1)) {
        var D = this.W;
        var F = this.ta;
        var N = this.sa;
        var O = this.V;
        var M = this.L;
      } else D = this.m, F = this.sa, N = this.ta, O = this.L, M = this.V;
      k.fill(0);
      m.fill(0);
      var U = 0;
      var W = U + 16;
      M.ca.fill(0);
      for (c = 0; c < O.length; c += 1) {
        var H = 0;
        var P = O[c];
        var Q = M[c];
        var T = f[c];
        var Z = 0 < c ? M[c - 1] : y;
        var na = c < B - 1 ? M[c + 1] : y;
        for (d = 0; d < w; d += 1) {
          var ia = P[d];
          var ba = 0;
          if (ia) {
            var ja = Q[d];
            var la = Z[d];
            var fa = na[d];
            for (b = 15; 0 <= b; --b) {
              if (0 !== (ia & 1 << b)) {
                var V = p = g = e = 0;
                var ma = U;
                for (n = 32768; ma < W;) {
                  var ca = 0 === ma ? this.oa : D[ma - 1];
                  var aa = D[ma];
                  var X = ma === this.height - 1 ? this.oa : D[ma + 1];
                  var pa = N[ma];
                  var R = 32768;
                  var E = H;
                  var z = ca[E];
                  var K = aa[E + 1];
                  var L = X[E];
                  var J = aa[E];
                  var x = 0 === E ? J << 3 | K << 2 | z << 1 | L : aa[E - 1] << 4 | J << 3 | K << 2 | z << 1 | L;
                  var A = a[x];
                  0 < A ? (q += 1, 0 === (x & 8) && (l += 1), p |= n, g |= R) : 0 !== (x & 8) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 1 & 24 | K << 2 | z << 1 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 8) && (l += 1), p |= n, g |= R) : 0 !== (x & 8) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 1 & 24 | K << 2 | z << 1 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 8) && (l += 1), p |= n, g |= R) : 0 !== (x & 8) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 1 & 24 | K << 2 | z << 1 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 8) && (l += 1), p |= n, g |= R) : 0 !== (x & 8) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 1 & 24 | K << 2 | z << 1 | L;
                  A = a[x];
                  0 < A ? (q += 1, 0 === (x & 8) && (l += 1), p |= n, g |= R) : 0 !== (x & 8) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 1 & 24 | K << 2 | z << 1 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 8) && (l += 1), p |= n, g |= R) : 0 !== (x & 8) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 1 & 24 | K << 2 | z << 1 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 8) && (l += 1), p |= n, g |= R) : 0 !== (x & 8) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 1 & 24 | K << 2 | z << 1 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 8) && (l += 1), p |= n, g |= R) : 0 !== (x & 8) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 1 & 24 | K << 2 | z << 1 | L;
                  A = a[x];
                  0 < A ? (q += 1, 0 === (x & 8) && (l += 1), p |= n, g |= R) : 0 !== (x & 8) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 1 & 24 | K << 2 | z << 1 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 8) && (l += 1), p |= n, g |= R) : 0 !== (x & 8) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 1 & 24 | K << 2 | z << 1 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 8) && (l += 1), p |= n, g |= R) : 0 !== (x & 8) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 1 & 24 | K << 2 | z << 1 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 8) && (l += 1), p |= n, g |= R) : 0 !== (x & 8) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 1 & 24 | K << 2 | z << 1 | L;
                  A = a[x];
                  0 < A ? (q += 1, 0 === (x & 8) && (l += 1), p |= n, g |= R) : 0 !== (x & 8) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 1 & 24 | K << 2 | z << 1 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 8) && (l += 1), p |= n, g |= R) : 0 !== (x & 8) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 1 & 24 | K << 2 | z << 1 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 8) && (l += 1), p |= n, g |= R) : 0 !== (x & 8) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = E === u - 1 ? 0 : aa[E + 1];
                  L = X[E];
                  x = x << 1 & 24 | K << 2 | z << 1 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 8) && (l += 1), p |= n, g |= R) : 0 !== (x & 8) && (r += 1);
                  e |= J;
                  ma += 1;
                  n >>= 1;
                }
                k[H >> 4] |= g;
                g ? (ja |= 1 << b, p & 1 && (V |= I.tb, g & 32768 && (V |= I.Eb), g & 1 && (V |= I.sb)), p & 32768 && (V |= I.xb, g & 32768 && (V |= I.Bb), g & 1 && (V |= I.Cb)), g & 32768 && (V |= I.qb), g & 1 && (V |= I.jb), V && (0 !== (V & I.qb) && (15 > b ? ja |= 1 << b + 1 : 0 < d && 0 < H && (Q[d - 1] |= 1)), 0 !== (V & I.jb) && (0 < b ? ja |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Q[d + 1] |= 32768)), 0 !== (V & I.xb) && (la |= 1 << b), 0 !== (V & I.tb) && (fa |= 1 << b), 0 !== (V & I.Bb) && (15 > b ? la |= 1 << b + 1 : 0 < d && 0 < H && (Z[d - 1] |= 1)), 0 !== (V & I.Cb) && (0 < b ? la |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Z[d + 1] |= 32768)), 0 !== (V & I.Eb) && (15 > b ? fa |= 1 << b + 1 : 0 < d && 0 < H && (na[d - 1] |= 1)), 0 !== (V & I.sb) && (0 < b ? fa |= 1 << b - 1 : d < w - 1 && H < u - 1 && (na[d + 1] |= 32768)))) : e && (ba |= 1 << b);
                m[c] |= p;
              }
              H += 16;
            }
            Q[d] |= ja;
            0 < c && (Z[d] |= la);
            c < B - 1 && (na[d] |= fa);
          } else H += 256;
          T[d] = ba;
        }
        U += 16;
        W += 16;
      }
      this.Nb(k, m, u, v, t);
      y.fill(0);
      this.Kb(F);
      for (ma = 0; ma < this.B.ca.length; ma += 1) this.B.ca[ma] = this.B.ca[ma] | O.ca[ma] | M.ca[ma];
      this.o = q;
      this.ma = l;
      this.aa = r;
    };
    ra.prototype.vj = function () {
      var a = this.Fa, b, c, d, f = this.Na, e, k = this.Ha, g, m = this.Ta, p, n, q = 0, l = 0, r = 0, u = this.width, t = this.u, v = this.height, B = this.ba, w = this.Y >> 4, y = this.Ja;
      if (0 !== (this.counter & 1)) {
        var D = this.W;
        var F = this.ta;
        var N = this.sa;
        var O = this.V;
        var M = this.L;
      } else D = this.m, F = this.sa, N = this.ta, O = this.L, M = this.V;
      k.fill(0);
      m.fill(0);
      var U = 0;
      var W = U + 16;
      M.ca.fill(0);
      for (c = 0; c < O.length; c += 1) {
        var H = 0;
        var P = O[c];
        var Q = M[c];
        var T = f[c];
        var Z = 0 < c ? M[c - 1] : y;
        var na = c < B - 1 ? M[c + 1] : y;
        for (d = 0; d < w; d += 1) {
          var ia = P[d];
          var ba = 0;
          if (ia) {
            var ja = Q[d];
            var la = Z[d];
            var fa = na[d];
            for (b = 15; 0 <= b; --b) {
              if (0 !== (ia & 1 << b)) {
                var V = p = g = e = 0;
                var ma = U;
                for (n = 32768; ma < W;) {
                  var ca = 0 === ma ? this.oa : D[ma - 1];
                  var aa = D[ma];
                  var X = ma === this.height - 1 ? this.oa : D[ma + 1];
                  var pa = N[ma];
                  var R = 32768;
                  var E = H;
                  var z = ca[E];
                  var K = aa[E + 1];
                  var L = X[E];
                  var J = aa[E];
                  var x = 0 === E ? J << 6 | K << 4 | z << 2 | L : aa[E - 1] << 8 | J << 6 | K << 4 | z << 2 | L;
                  var A = a[x];
                  0 < A ? (q += 1, 0 === (x & 192) && (l += 1), p |= n, g |= R) : 0 !== (x & 192) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 2 & 960 | K << 4 | z << 2 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 192) && (l += 1), p |= n, g |= R) : 0 !== (x & 192) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 2 & 960 | K << 4 | z << 2 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 192) && (l += 1), p |= n, g |= R) : 0 !== (x & 192) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 2 & 960 | K << 4 | z << 2 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 192) && (l += 1), p |= n, g |= R) : 0 !== (x & 192) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 2 & 960 | K << 4 | z << 2 | L;
                  A = a[x];
                  0 < A ? (q += 1, 0 === (x & 192) && (l += 1), p |= n, g |= R) : 0 !== (x & 192) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 2 & 960 | K << 4 | z << 2 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 192) && (l += 1), p |= n, g |= R) : 0 !== (x & 192) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 2 & 960 | K << 4 | z << 2 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 192) && (l += 1), p |= n, g |= R) : 0 !== (x & 192) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 2 & 960 | K << 4 | z << 2 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 192) && (l += 1), p |= n, g |= R) : 0 !== (x & 192) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 2 & 960 | K << 4 | z << 2 | L;
                  A = a[x];
                  0 < A ? (q += 1, 0 === (x & 192) && (l += 1), p |= n, g |= R) : 0 !== (x & 192) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 2 & 960 | K << 4 | z << 2 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 192) && (l += 1), p |= n, g |= R) : 0 !== (x & 192) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 2 & 960 | K << 4 | z << 2 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 192) && (l += 1), p |= n, g |= R) : 0 !== (x & 192) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 2 & 960 | K << 4 | z << 2 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 192) && (l += 1), p |= n, g |= R) : 0 !== (x & 192) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 2 & 960 | K << 4 | z << 2 | L;
                  A = a[x];
                  0 < A ? (q += 1, 0 === (x & 192) && (l += 1), p |= n, g |= R) : 0 !== (x & 192) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 2 & 960 | K << 4 | z << 2 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 192) && (l += 1), p |= n, g |= R) : 0 !== (x & 192) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 2 & 960 | K << 4 | z << 2 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 192) && (l += 1), p |= n, g |= R) : 0 !== (x & 192) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = E === u - 1 ? 0 : aa[E + 1];
                  L = X[E];
                  x = x << 2 & 960 | K << 4 | z << 2 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 192) && (l += 1), p |= n, g |= R) : 0 !== (x & 192) && (r += 1);
                  e |= J;
                  ma += 1;
                  n >>= 1;
                }
                k[H >> 4] |= g;
                g ? (ja |= 1 << b, p & 1 && (V |= I.tb, g & 32768 && (V |= I.Eb), g & 1 && (V |= I.sb)), p & 32768 && (V |= I.xb, g & 32768 && (V |= I.Bb), g & 1 && (V |= I.Cb)), g & 32768 && (V |= I.qb), g & 1 && (V |= I.jb), V && (0 !== (V & I.qb) && (15 > b ? ja |= 1 << b + 1 : 0 < d && 0 < H && (Q[d - 1] |= 1)), 0 !== (V & I.jb) && (0 < b ? ja |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Q[d + 1] |= 32768)), 0 !== (V & I.xb) && (la |= 1 << b), 0 !== (V & I.tb) && (fa |= 1 << b), 0 !== (V & I.Bb) && (15 > b ? la |= 1 << b + 1 : 0 < d && 0 < H && (Z[d - 1] |= 1)), 0 !== (V & I.Cb) && (0 < b ? la |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Z[d + 1] |= 32768)), 0 !== (V & I.Eb) && (15 > b ? fa |= 1 << b + 1 : 0 < d && 0 < H && (na[d - 1] |= 1)), 0 !== (V & I.sb) && (0 < b ? fa |= 1 << b - 1 : d < w - 1 && H < u - 1 && (na[d + 1] |= 32768)))) : e && (ba |= 1 << b);
                m[c] |= p;
              }
              H += 16;
            }
            Q[d] |= ja;
            0 < c && (Z[d] |= la);
            c < B - 1 && (na[d] |= fa);
          } else H += 256;
          T[d] = ba;
        }
        U += 16;
        W += 16;
      }
      this.Nb(k, m, u, v, t);
      y.fill(0);
      this.Kb(F);
      for (ma = 0; ma < this.B.ca.length; ma += 1) this.B.ca[ma] = this.B.ca[ma] | O.ca[ma] | M.ca[ma];
      this.o = q;
      this.ma = l;
      this.aa = r;
    };
    ra.prototype.xj = function () {
      var a = this.Fa, b, c, d, f = this.Na, e, k = this.Ha, g, m = this.Ta, p, n, q = 0, l = 0, r = 0, u = this.width, t = this.u, v = this.height, B = this.ba, w = this.Y >> 4, y = this.Ja;
      if (0 !== (this.counter & 1)) {
        var D = this.W;
        var F = this.ta;
        var N = this.sa;
        var O = this.V;
        var M = this.L;
      } else D = this.m, F = this.sa, N = this.ta, O = this.L, M = this.V;
      k.fill(0);
      m.fill(0);
      var U = 0;
      var W = U + 16;
      M.ca.fill(0);
      for (c = 0; c < O.length; c += 1) {
        var H = 0;
        var P = O[c];
        var Q = M[c];
        var T = f[c];
        var Z = 0 < c ? M[c - 1] : y;
        var na = c < B - 1 ? M[c + 1] : y;
        for (d = 0; d < w; d += 1) {
          var ia = P[d];
          var ba = 0;
          if (ia) {
            var ja = Q[d];
            var la = Z[d];
            var fa = na[d];
            for (b = 15; 0 <= b; --b) {
              if (0 !== (ia & 1 << b)) {
                var V = p = g = e = 0;
                var ma = U;
                for (n = 32768; ma < W;) {
                  var ca = 0 === ma ? this.oa : D[ma - 1];
                  var aa = D[ma];
                  var X = ma === this.height - 1 ? this.oa : D[ma + 1];
                  var pa = N[ma];
                  var R = 32768;
                  var E = H;
                  var z = ca[E];
                  var K = aa[E + 1];
                  var L = X[E];
                  var J = aa[E];
                  var x = 0 === E ? J << 9 | K << 6 | z << 3 | L : aa[E - 1] << 12 | J << 9 | K << 6 | z << 3 | L;
                  var A = a[x];
                  0 < A ? (q += 1, 0 === (x & 3584) && (l += 1), p |= n, g |= R) : 0 !== (x & 3584) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 3 & 32256 | K << 6 | z << 3 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 3584) && (l += 1), p |= n, g |= R) : 0 !== (x & 3584) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 3 & 32256 | K << 6 | z << 3 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 3584) && (l += 1), p |= n, g |= R) : 0 !== (x & 3584) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 3 & 32256 | K << 6 | z << 3 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 3584) && (l += 1), p |= n, g |= R) : 0 !== (x & 3584) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 3 & 32256 | K << 6 | z << 3 | L;
                  A = a[x];
                  0 < A ? (q += 1, 0 === (x & 3584) && (l += 1), p |= n, g |= R) : 0 !== (x & 3584) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 3 & 32256 | K << 6 | z << 3 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 3584) && (l += 1), p |= n, g |= R) : 0 !== (x & 3584) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 3 & 32256 | K << 6 | z << 3 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 3584) && (l += 1), p |= n, g |= R) : 0 !== (x & 3584) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 3 & 32256 | K << 6 | z << 3 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 3584) && (l += 1), p |= n, g |= R) : 0 !== (x & 3584) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 3 & 32256 | K << 6 | z << 3 | L;
                  A = a[x];
                  0 < A ? (q += 1, 0 === (x & 3584) && (l += 1), p |= n, g |= R) : 0 !== (x & 3584) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 3 & 32256 | K << 6 | z << 3 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 3584) && (l += 1), p |= n, g |= R) : 0 !== (x & 3584) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 3 & 32256 | K << 6 | z << 3 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 3584) && (l += 1), p |= n, g |= R) : 0 !== (x & 3584) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 3 & 32256 | K << 6 | z << 3 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 3584) && (l += 1), p |= n, g |= R) : 0 !== (x & 3584) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 3 & 32256 | K << 6 | z << 3 | L;
                  A = a[x];
                  0 < A ? (q += 1, 0 === (x & 3584) && (l += 1), p |= n, g |= R) : 0 !== (x & 3584) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 3 & 32256 | K << 6 | z << 3 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 3584) && (l += 1), p |= n, g |= R) : 0 !== (x & 3584) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 3 & 32256 | K << 6 | z << 3 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 3584) && (l += 1), p |= n, g |= R) : 0 !== (x & 3584) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = E === u - 1 ? 0 : aa[E + 1];
                  L = X[E];
                  x = x << 3 & 32256 | K << 6 | z << 3 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 3584) && (l += 1), p |= n, g |= R) : 0 !== (x & 3584) && (r += 1);
                  e |= J;
                  ma += 1;
                  n >>= 1;
                }
                k[H >> 4] |= g;
                g ? (ja |= 1 << b, p & 1 && (V |= I.tb, g & 32768 && (V |= I.Eb), g & 1 && (V |= I.sb)), p & 32768 && (V |= I.xb, g & 32768 && (V |= I.Bb), g & 1 && (V |= I.Cb)), g & 32768 && (V |= I.qb), g & 1 && (V |= I.jb), V && (0 !== (V & I.qb) && (15 > b ? ja |= 1 << b + 1 : 0 < d && 0 < H && (Q[d - 1] |= 1)), 0 !== (V & I.jb) && (0 < b ? ja |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Q[d + 1] |= 32768)), 0 !== (V & I.xb) && (la |= 1 << b), 0 !== (V & I.tb) && (fa |= 1 << b), 0 !== (V & I.Bb) && (15 > b ? la |= 1 << b + 1 : 0 < d && 0 < H && (Z[d - 1] |= 1)), 0 !== (V & I.Cb) && (0 < b ? la |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Z[d + 1] |= 32768)), 0 !== (V & I.Eb) && (15 > b ? fa |= 1 << b + 1 : 0 < d && 0 < H && (na[d - 1] |= 1)), 0 !== (V & I.sb) && (0 < b ? fa |= 1 << b - 1 : d < w - 1 && H < u - 1 && (na[d + 1] |= 32768)))) : e && (ba |= 1 << b);
                m[c] |= p;
              }
              H += 16;
            }
            Q[d] |= ja;
            0 < c && (Z[d] |= la);
            c < B - 1 && (na[d] |= fa);
          } else H += 256;
          T[d] = ba;
        }
        U += 16;
        W += 16;
      }
      this.Nb(k, m, u, v, t);
      y.fill(0);
      this.Kb(F);
      for (ma = 0; ma < this.B.ca.length; ma += 1) this.B.ca[ma] = this.B.ca[ma] | O.ca[ma] | M.ca[ma];
      this.o = q;
      this.ma = l;
      this.aa = r;
    };
    ra.prototype.dk = function () {
      var a = this.Fa, b, c, d, f = this.Na, e, k = this.Ha, g, m = this.Ta, p, n, q = 0, l = 0, r = 0, u = this.width, t = this.u, v = this.height, B = this.ba, w = this.Y >> 4, y = this.Ja;
      if (0 !== (this.counter & 1)) {
        var D = this.W;
        var F = this.ta;
        var N = this.sa;
        var O = this.V;
        var M = this.L;
      } else D = this.m, F = this.sa, N = this.ta, O = this.L, M = this.V;
      k.fill(0);
      m.fill(0);
      var U = 0;
      var W = U + 16;
      M.ca.fill(0);
      for (c = 0; c < O.length; c += 1) {
        var H = 0;
        var P = O[c];
        var Q = M[c];
        var T = f[c];
        var Z = 0 < c ? M[c - 1] : y;
        var na = c < B - 1 ? M[c + 1] : y;
        for (d = 0; d < w; d += 1) {
          var ia = P[d];
          var ba = 0;
          if (ia) {
            var ja = Q[d];
            var la = Z[d];
            var fa = na[d];
            for (b = 15; 0 <= b; --b) {
              if (0 !== (ia & 1 << b)) {
                var V = p = g = e = 0;
                var ma = U;
                for (n = 32768; ma < W;) {
                  var ca = 0 === ma ? this.oa : D[ma - 1];
                  var aa = D[ma];
                  var X = ma === this.height - 1 ? this.oa : D[ma + 1];
                  var pa = N[ma];
                  var R = 32768;
                  var E = H;
                  var z = ca[E];
                  var K = aa[E + 1];
                  var L = X[E];
                  var J = aa[E];
                  var x = 0 === E ? J << 12 | K << 8 | z << 4 | L : aa[E - 1] << 16 | J << 12 | K << 8 | z << 4 | L;
                  var A = a[x];
                  0 < A ? (q += 1, 0 === (x & 61440) && (l += 1), p |= n, g |= R) : 0 !== (x & 61440) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 4 & 1044480 | K << 8 | z << 4 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 61440) && (l += 1), p |= n, g |= R) : 0 !== (x & 61440) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 4 & 1044480 | K << 8 | z << 4 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 61440) && (l += 1), p |= n, g |= R) : 0 !== (x & 61440) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 4 & 1044480 | K << 8 | z << 4 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 61440) && (l += 1), p |= n, g |= R) : 0 !== (x & 61440) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 4 & 1044480 | K << 8 | z << 4 | L;
                  A = a[x];
                  0 < A ? (q += 1, 0 === (x & 61440) && (l += 1), p |= n, g |= R) : 0 !== (x & 61440) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 4 & 1044480 | K << 8 | z << 4 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 61440) && (l += 1), p |= n, g |= R) : 0 !== (x & 61440) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 4 & 1044480 | K << 8 | z << 4 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 61440) && (l += 1), p |= n, g |= R) : 0 !== (x & 61440) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 4 & 1044480 | K << 8 | z << 4 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 61440) && (l += 1), p |= n, g |= R) : 0 !== (x & 61440) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 4 & 1044480 | K << 8 | z << 4 | L;
                  A = a[x];
                  0 < A ? (q += 1, 0 === (x & 61440) && (l += 1), p |= n, g |= R) : 0 !== (x & 61440) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 4 & 1044480 | K << 8 | z << 4 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 61440) && (l += 1), p |= n, g |= R) : 0 !== (x & 61440) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 4 & 1044480 | K << 8 | z << 4 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 61440) && (l += 1), p |= n, g |= R) : 0 !== (x & 61440) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 4 & 1044480 | K << 8 | z << 4 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 61440) && (l += 1), p |= n, g |= R) : 0 !== (x & 61440) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 4 & 1044480 | K << 8 | z << 4 | L;
                  A = a[x];
                  0 < A ? (q += 1, 0 === (x & 61440) && (l += 1), p |= n, g |= R) : 0 !== (x & 61440) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 4 & 1044480 | K << 8 | z << 4 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 61440) && (l += 1), p |= n, g |= R) : 0 !== (x & 61440) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 4 & 1044480 | K << 8 | z << 4 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 61440) && (l += 1), p |= n, g |= R) : 0 !== (x & 61440) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = E === u - 1 ? 0 : aa[E + 1];
                  L = X[E];
                  x = x << 4 & 1044480 | K << 8 | z << 4 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 61440) && (l += 1), p |= n, g |= R) : 0 !== (x & 61440) && (r += 1);
                  e |= J;
                  ma += 1;
                  n >>= 1;
                }
                k[H >> 4] |= g;
                g ? (ja |= 1 << b, p & 1 && (V |= I.tb, g & 32768 && (V |= I.Eb), g & 1 && (V |= I.sb)), p & 32768 && (V |= I.xb, g & 32768 && (V |= I.Bb), g & 1 && (V |= I.Cb)), g & 32768 && (V |= I.qb), g & 1 && (V |= I.jb), V && (0 !== (V & I.qb) && (15 > b ? ja |= 1 << b + 1 : 0 < d && 0 < H && (Q[d - 1] |= 1)), 0 !== (V & I.jb) && (0 < b ? ja |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Q[d + 1] |= 32768)), 0 !== (V & I.xb) && (la |= 1 << b), 0 !== (V & I.tb) && (fa |= 1 << b), 0 !== (V & I.Bb) && (15 > b ? la |= 1 << b + 1 : 0 < d && 0 < H && (Z[d - 1] |= 1)), 0 !== (V & I.Cb) && (0 < b ? la |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Z[d + 1] |= 32768)), 0 !== (V & I.Eb) && (15 > b ? fa |= 1 << b + 1 : 0 < d && 0 < H && (na[d - 1] |= 1)), 0 !== (V & I.sb) && (0 < b ? fa |= 1 << b - 1 : d < w - 1 && H < u - 1 && (na[d + 1] |= 32768)))) : e && (ba |= 1 << b);
                m[c] |= p;
              }
              H += 16;
            }
            Q[d] |= ja;
            0 < c && (Z[d] |= la);
            c < B - 1 && (na[d] |= fa);
          } else H += 256;
          T[d] = ba;
        }
        U += 16;
        W += 16;
      }
      this.Nb(k, m, u, v, t);
      y.fill(0);
      this.Kb(F);
      for (ma = 0; ma < this.B.ca.length; ma += 1) this.B.ca[ma] = this.B.ca[ma] | O.ca[ma] | M.ca[ma];
      this.o = q;
      this.ma = l;
      this.aa = r;
    };
    ra.prototype.gk = function () {
      var a = this.Fa, b, c, d, f = this.Na, e, k = this.Ha, g, m = this.Ta, p, n, q = 0, l = 0, r = 0, u = this.width, t = this.u, v = this.height, B = this.ba, w = this.Y >> 4, y = this.Ja;
      if (0 !== (this.counter & 1)) {
        var D = this.W;
        var F = this.ta;
        var N = this.sa;
        var O = this.V;
        var M = this.L;
      } else D = this.m, F = this.sa, N = this.ta, O = this.L, M = this.V;
      k.fill(0);
      m.fill(0);
      var U = 0;
      var W = U + 16;
      M.ca.fill(0);
      for (c = 0; c < O.length; c += 1) {
        var H = 0;
        var P = O[c];
        var Q = M[c];
        var T = f[c];
        var Z = 0 < c ? M[c - 1] : y;
        var na = c < B - 1 ? M[c + 1] : y;
        for (d = 0; d < w; d += 1) {
          var ia = P[d];
          var ba = 0;
          if (ia) {
            var ja = Q[d];
            var la = Z[d];
            var fa = na[d];
            for (b = 15; 0 <= b; --b) {
              if (0 !== (ia & 1 << b)) {
                var V = p = g = e = 0;
                var ma = U;
                for (n = 32768; ma < W;) {
                  var ca = 0 === ma ? this.oa : D[ma - 1];
                  var aa = D[ma];
                  var X = ma === this.height - 1 ? this.oa : D[ma + 1];
                  var pa = N[ma];
                  var R = 32768;
                  var E = H;
                  var z = ca[E];
                  var K = aa[E + 1];
                  var L = X[E];
                  var J = aa[E];
                  var x = 0 === E ? J << 15 | K << 10 | z << 5 | L : aa[E - 1] << 20 | J << 15 | K << 10 | z << 5 | L;
                  var A = a[x];
                  0 < A ? (q += 1, 0 === (x & 1015808) && (l += 1), p |= n, g |= R) : 0 !== (x & 1015808) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 5 & 33521664 | K << 10 | z << 5 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 1015808) && (l += 1), p |= n, g |= R) : 0 !== (x & 1015808) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 5 & 33521664 | K << 10 | z << 5 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 1015808) && (l += 1), p |= n, g |= R) : 0 !== (x & 1015808) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 5 & 33521664 | K << 10 | z << 5 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 1015808) && (l += 1), p |= n, g |= R) : 0 !== (x & 1015808) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 5 & 33521664 | K << 10 | z << 5 | L;
                  A = a[x];
                  0 < A ? (q += 1, 0 === (x & 1015808) && (l += 1), p |= n, g |= R) : 0 !== (x & 1015808) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 5 & 33521664 | K << 10 | z << 5 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 1015808) && (l += 1), p |= n, g |= R) : 0 !== (x & 1015808) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 5 & 33521664 | K << 10 | z << 5 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 1015808) && (l += 1), p |= n, g |= R) : 0 !== (x & 1015808) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 5 & 33521664 | K << 10 | z << 5 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 1015808) && (l += 1), p |= n, g |= R) : 0 !== (x & 1015808) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 5 & 33521664 | K << 10 | z << 5 | L;
                  A = a[x];
                  0 < A ? (q += 1, 0 === (x & 1015808) && (l += 1), p |= n, g |= R) : 0 !== (x & 1015808) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 5 & 33521664 | K << 10 | z << 5 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 1015808) && (l += 1), p |= n, g |= R) : 0 !== (x & 1015808) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 5 & 33521664 | K << 10 | z << 5 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 1015808) && (l += 1), p |= n, g |= R) : 0 !== (x & 1015808) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 5 & 33521664 | K << 10 | z << 5 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 1015808) && (l += 1), p |= n, g |= R) : 0 !== (x & 1015808) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 5 & 33521664 | K << 10 | z << 5 | L;
                  A = a[x];
                  0 < A ? (q += 1, 0 === (x & 1015808) && (l += 1), p |= n, g |= R) : 0 !== (x & 1015808) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 5 & 33521664 | K << 10 | z << 5 | L;
                  z = a[x];
                  A |= z << 8;
                  0 < z ? (q += 1, 0 === (x & 1015808) && (l += 1), p |= n, g |= R) : 0 !== (x & 1015808) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = aa[E + 1];
                  L = X[E];
                  x = x << 5 & 33521664 | K << 10 | z << 5 | L;
                  z = a[x];
                  A |= z << 16;
                  0 < z ? (q += 1, 0 === (x & 1015808) && (l += 1), p |= n, g |= R) : 0 !== (x & 1015808) && (r += 1);
                  e |= J;
                  R >>= 1;
                  E += 1;
                  J = K;
                  z = ca[E];
                  K = E === u - 1 ? 0 : aa[E + 1];
                  L = X[E];
                  x = x << 5 & 33521664 | K << 10 | z << 5 | L;
                  z = a[x];
                  A |= z << 24;
                  pa[E >> 2] = A;
                  0 < z ? (q += 1, 0 === (x & 1015808) && (l += 1), p |= n, g |= R) : 0 !== (x & 1015808) && (r += 1);
                  e |= J;
                  ma += 1;
                  n >>= 1;
                }
                k[H >> 4] |= g;
                g ? (ja |= 1 << b, p & 1 && (V |= I.tb, g & 32768 && (V |= I.Eb), g & 1 && (V |= I.sb)), p & 32768 && (V |= I.xb, g & 32768 && (V |= I.Bb), g & 1 && (V |= I.Cb)), g & 32768 && (V |= I.qb), g & 1 && (V |= I.jb), V && (0 !== (V & I.qb) && (15 > b ? ja |= 1 << b + 1 : 0 < d && 0 < H && (Q[d - 1] |= 1)), 0 !== (V & I.jb) && (0 < b ? ja |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Q[d + 1] |= 32768)), 0 !== (V & I.xb) && (la |= 1 << b), 0 !== (V & I.tb) && (fa |= 1 << b), 0 !== (V & I.Bb) && (15 > b ? la |= 1 << b + 1 : 0 < d && 0 < H && (Z[d - 1] |= 1)), 0 !== (V & I.Cb) && (0 < b ? la |= 1 << b - 1 : d < w - 1 && H < u - 1 && (Z[d + 1] |= 32768)), 0 !== (V & I.Eb) && (15 > b ? fa |= 1 << b + 1 : 0 < d && 0 < H && (na[d - 1] |= 1)), 0 !== (V & I.sb) && (0 < b ? fa |= 1 << b - 1 : d < w - 1 && H < u - 1 && (na[d + 1] |= 32768)))) : e && (ba |= 1 << b);
                m[c] |= p;
              }
              H += 16;
            }
            Q[d] |= ja;
            0 < c && (Z[d] |= la);
            c < B - 1 && (na[d] |= fa);
          } else H += 256;
          T[d] = ba;
        }
        U += 16;
        W += 16;
      }
      this.Nb(k, m, u, v, t);
      y.fill(0);
      this.Kb(F);
      for (ma = 0; ma < this.B.ca.length; ma += 1) this.B.ca[ma] = this.B.ca[ma] | O.ca[ma] | M.ca[ma];
      this.o = q;
      this.ma = l;
      this.aa = r;
    };
    ra.prototype.tm = function () {
      var a = this.Wd, b = this.u, c = this.Oa, d = c.F;
      var f = c.G;
      var e = c.J, k = c.K, g = 0, m = 0, p = 0, n = this.width, q = this.height, l = 0, r = 0, u = this.width, t = this.height, v = 0, B = 0, w = this.B, y, D = this.hc, F = this.v, N = 0 < this.v ? 1 : 0;
      var O = this.R;
      var M = this.M;
      var U = Math.round((this.width - O) / 2);
      var W = Math.round((this.height - M) / 2);
      O = U + O - 1;
      M = W + M - 1;
      -1 !== this.C && (0 === this.R && (U = 0, O = this.width - 1), 0 === this.M && (W = 0, M = this.height - 1), d = U + 1, f = W + 1, e = O - 1, k = M - 1);
      this.zb && (this.Xa = !this.Xa, this.zb = false);
      0 !== (this.counter & 1) ? (U = this.W, W = this.m, this.Xa && (a = this.eb ? this.Xd : this.bb)) : (U = this.m, W = this.W, this.eb && (a = this.Ve), this.Xa && (a = this.bb));
      2 > f && (f = 2);
      k > this.height - 3 && (k = this.height - 3);
      1 > d && (d = 1);
      e > this.width - 3 && (e = this.width - 3);
      for (--f; f <= k + 1; f += 1) {
        O = U[f - 1];
        var H = U[f];
        var P = U[f + 1];
        var Q = w[f >> 4];
        var T = W[f];
        var Z = y = false;
        var na = H[d - 2];
        for (M = d - 1; M <= e + 1; M += 1) {
          var ia = P[M];
          var ba = H[M + 1];
          var ja = O[M];
          0 < F && (ia = ia <= F ? 0 : ia - F, ba = ba <= F ? 0 : ba - F, ja = ja <= F ? 0 : ja - F, na = na <= F ? 0 : na - F);
          na = na | ia << 4 | ba << 8 | ja << 12;
          ia = a[na];
          na = H[M];
          0 < ia ? (g += D[ia], T[M] = ia + F, y = true, Q[M >> 8] = 65535, M < n && (n = M), M > l && (l = M)) : (ia = na, ia > F ? ia = F : ia > N && --ia, T[M] = ia, 0 < ia && (y = true, M < n && (n = M), M > l && (l = M)), ia = 0);
          na > F ? (na -= F, m += D[ia & ~na], p += D[na & ~ia], na += F) : m += D[ia];
          0 < ia && (M < u && (u = M), M > v && (v = M), Z = true);
        }
        y && (f < q && (q = f), f > r && (r = f));
        Z && (f < t && (t = f), f > B && (B = f));
      }
      this.o = g;
      this.ma = m;
      this.aa = p;
      c.F = n;
      c.G = q;
      c.J = l;
      c.K = r;
      b.F = u;
      b.G = t;
      b.J = v;
      b.K = B;
    };
    ra.prototype.bm = function () {
      var a = this.jd, b = this.B, c = this.qa, d = this.Qi, f, e, k;
      var g = this.ba;
      var m = this.Y >> 4;
      var p = 0;
      var n = g;
      if (0 !== (this.counter & 1)) {
        var q = this.Qa;
        var l = this.V;
      } else q = this.wa, l = this.L;
      0 > p && (p = 0);
      n > g && (n = g);
      g = p << 4;
      var r = g + 16;
      for (f = p; f < n; f += 1) {
        var u = 0;
        var t = l[f];
        var v = c[f];
        var B = b[f];
        for (e = 0; e < m; e += 1) {
          var w = t[e] | v[e];
          var y = 0;
          if (w) for (k = 15; 0 <= k; --k) {
            if (0 !== (w & 1 << k)) {
              var D = 0;
              for (p = g; p < r;) {
                var F = q[p];
                var N = a[p];
                var O = u << 3;
                F = F[u];
                var M = d[N[O] | (F & 49152) << 1];
                D |= M;
                N[O] = M;
                O += 1;
                M = d[N[O] | (F & 12288) << 3];
                D |= M;
                N[O] = M;
                O += 1;
                M = d[N[O] | (F & 3072) << 5];
                D |= M;
                N[O] = M;
                O += 1;
                M = d[N[O] | (F & 768) << 7];
                D |= M;
                N[O] = M;
                O += 1;
                M = d[N[O] | (F & 192) << 9];
                D |= M;
                N[O] = M;
                O += 1;
                M = d[N[O] | (F & 48) << 11];
                D |= M;
                N[O] = M;
                O += 1;
                M = d[N[O] | (F & 12) << 13];
                D |= M;
                N[O] = M;
                O += 1;
                M = d[N[O] | (F & 3) << 15];
                D |= M;
                N[O] = M;
                p += 1;
              }
              0 !== (D & 65278) && (y |= 1 << k);
            }
            u += 1;
          } else u += 16;
          v[e] = y;
          B[e] |= y;
        }
        g += 16;
        r += 16;
      }
    };
    ra.prototype.Yl = function () {
      var a = this.jd, b = this.B, c = this.qa, d = this.Bf, f, e, k;
      var g = this.ba;
      var m = this.Y >> 4;
      var p = 0;
      var n = g;
      if (0 !== (this.counter & 1)) {
        var q = this.Qa;
        var l = this.V;
      } else q = this.wa, l = this.L;
      0 > p && (p = 0);
      n > g && (n = g);
      g = p << 4;
      var r = g + 16;
      for (f = p; f < n; f += 1) {
        var u = 0;
        var t = l[f];
        var v = c[f];
        var B = b[f];
        for (e = 0; e < m; e += 1) {
          var w = t[e] | v[e];
          var y = 0;
          if (w) for (k = 15; 0 <= k; --k) {
            if (0 !== (w & 1 << k)) {
              var D = 0;
              for (p = g; p < r;) {
                var F = q[p];
                var N = a[p];
                var O = u << 3;
                F = F[u];
                var M = d[(F & 49152) >> 7 | p + O + O & 127];
                D |= M;
                N[O] = M;
                O += 1;
                M = d[(F & 12288) >> 5 | p + O + O & 127];
                D |= M;
                N[O] = M;
                O += 1;
                M = d[(F & 3072) >> 3 | p + O + O & 127];
                D |= M;
                N[O] = M;
                O += 1;
                M = d[(F & 768) >> 1 | p + O + O & 127];
                D |= M;
                N[O] = M;
                O += 1;
                M = d[(F & 192) << 1 | p + O + O & 127];
                D |= M;
                N[O] = M;
                O += 1;
                M = d[(F & 48) << 3 | p + O + O & 127];
                D |= M;
                N[O] = M;
                O += 1;
                M = d[(F & 12) << 5 | p + O + O & 127];
                D |= M;
                N[O] = M;
                O += 1;
                M = d[(F & 3) << 7 | p + O + O & 127];
                D |= M;
                N[O] = M;
                p += 1;
              }
              if (1 < (D & 255) || 1 < D >> 8) y |= 1 << k;
            }
            u += 1;
          } else u += 16;
          v[e] = y;
          B[e] |= y;
        }
        g += 16;
        r += 16;
      }
    };
    ra.prototype.Rj = function (a, b, c, d, f, e, k, g, m, p) {
      var n = this.$a;
      d = d * a + n.K;
      c = c * a + n.J;
      b = b * a + n.G;
      f = f * a + n.F;
      n = c - f + 1;
      a = d - b + 1;
      this.ha && (n = c - b / 2 - (f - d / 2) + 1);
      0 === n && (n = 1);
      0 === a && (a = 1);
      e /= n;
      k /= a;
      p = Math.round(2e4 * (e > k ? k : e) / p) / 2e4;
      p < g ? p = g : p > m && (p = m);
      return p;
    };
    ra.prototype.mo = function (a) {
      var b = a;
      1 > a && (b = 1 / a);
      var c = Math.round(b);
      (c < b ? c / b : b / c) >= G.eE && (a = 1 > a ? 1 / c : c);
      return a;
    };
    ra.prototype.Ni = function (a, b, c, d, f, e, k, g, m, p, n, q, l) {
      var r = this.u, u = this.$a, t = this.Oa, v = this.m, B, w = B = 0, y = 0;
      (this.i || this.s || this.l || this.A) && 0 !== (this.counter & 1) && (v = this.W);
      var D = 2 >= this.h ? I.Wa : this.v + 1;
      n ? r = t : this.Ea && (r = this.na);
      if (a === G.Go) {
        n = b.F;
        t = b.J;
        var F = b.K;
        b = b.G;
      } else n = r.F, t = r.J, F = r.K, b = r.G, this.H && !q && (u.F < n && (n = u.F), u.J > t && (t = u.J), u.K > F && (F = u.K), u.G < b && (b = u.G)), -1 !== this.C && (B = this.R + 2, w = this.M + 2, 2 < B ? (n = this.width / 2 - B / 2 + (B & 1) / 2, t = this.width / 2 + B / 2) : B = t - n + 1, 2 < w ? (b = this.height / 2 - w / 2 + (w & 1) / 2, F = this.height / 2 + w / 2) : w = F - b + 1);
      p ? (B = g, w = m, n = this.width / 2 - B / 2, t = this.width / 2 + B / 2, F = this.height / 2 + w / 2, b = this.height / 2 - w / 2) : -1 === this.C && (B = t - n + 1, w = F - b + 1);
      if (this.ha) {
        if (a === G.Go) n -= F / 2, t -= b / 2; else {
          p = 2 * (this.width + this.height);
          q = -p;
          b |= 0;
          F |= 0;
          n |= 0;
          t |= 0;
          -1 !== this.C && this.Te(v, this.ic);
          for (m = b; m <= F; m += 1) for (B = v[m], g = n; g <= t; g += 1) u = B[g], u >= D && (y += 1, u = g - m / 2, u < p && (p = u), u > q && (q = u));
          0 === y ? (n -= b / 2, t = n + 1) : (n = p, t = q, n > t && (v = n, n = t, t = v));
        }
        B = t - n + 1;
      }
      0 === B && (B = 1);
      0 === w && (w = 1);
      c /= B;
      d /= w;
      this.X && (d /= G.dm);
      this.ha && (d /= G.tl);
      k = Math.round(2e4 * (c > d ? d : c) / k) / 2e4;
      k /= this.Ga;
      k < f ? k = f : k > e && (k = e);
      f = b - this.pa + w / 2;
      e = n - this.Ba + B / 2;
      l || (k = this.mo(k));
      a === G.Fs && (k = this.zoom);
      this.Z && -1 !== this.C && (--e, --f);
      return [k, e, f];
    };
    ra.prototype.zh = function (a, b, c, d) {
      var f = this.Oc, e = this.displayWidth, k = this.displayHeight;
      if (a > b) {
        var g = b;
        b = a;
        a = g;
      }
      0 > a ? a = 0 : a >= e && (a = e - 1);
      0 > b ? b = 0 : b >= e && (b = e - 1);
      0 <= c && c < k && f.fill(d, c * e + a, c * e + b);
    };
    ra.prototype.Bh = function (a, b, c, d) {
      var f = this.Oc, e = this.displayWidth, k = this.displayHeight;
      if (b > c) {
        var g = c;
        c = b;
        b = g;
      }
      0 > b ? b = 0 : b >= k && (b = k - 1);
      0 > c ? c = 0 : c >= k && (c = k - 1);
      b = b * e + a;
      c = c * e + a;
      k = c - 15 * e;
      if (0 <= a && a < e) {
        for (; b <= k;) f[b] = d, b += e, f[b] = d, b += e, f[b] = d, b += e, f[b] = d, b += e, f[b] = d, b += e, f[b] = d, b += e, f[b] = d, b += e, f[b] = d, b += e, f[b] = d, b += e, f[b] = d, b += e, f[b] = d, b += e, f[b] = d, b += e, f[b] = d, b += e, f[b] = d, b += e, f[b] = d, b += e, f[b] = d, b += e;
        for (; b <= c;) f[b] = d, b += e;
      }
    };
    ra.prototype.Dk = function (a, b, c, d, f) {
      var e = Math.abs(c - a), k = Math.abs(d - b), g = a < c ? 1 : -1, m = b < d ? 1 : -1, p = e - k, n = this.displayWidth, q = this.displayHeight, l = this.Oc;
      if (!(0 > a && 0 > c || a >= n && c >= n || 0 > b && 0 > d || b >= q && d >= q)) if (0 <= a && a < n && 0 <= b && b < q && 0 <= c && c < n && 0 <= d && d < q) for (l[b * n + a] = f; a !== c || b !== d;) {
        var r = p + p;
        r > -k && (p -= k, a += g);
        r < e && (p += e, b += m);
        l[b * n + a] = f;
      } else for (0 <= a && a < n && 0 <= b && b < q && (l[b * n + a] = f); a !== c || b !== d;) r = p + p, r > -k && (p -= k, a += g), r < e && (p += e, b += m), 0 <= a && a < n && 0 <= b && b < q && (l[b * n + a] = f);
    };
    ra.prototype.Zg = function (a, b, c, d, f) {
      var e = this.displayWidth / 2, k = this.displayHeight / 2;
      if (0 !== this.ra) {
        a -= e;
        b -= k;
        var g = Math.sqrt(a * a + b * b);
        var m = 180 / Math.PI * Math.atan2(b, a);
        m += this.ra;
        a = Math.round(g * Math.cos(Math.PI / 180 * m) + e);
        b = Math.round(g * Math.sin(Math.PI / 180 * m) + k);
        c -= e;
        d -= k;
        g = Math.sqrt(c * c + d * d);
        m = 180 / Math.PI * Math.atan2(d, c);
        m += this.ra;
        c = Math.round(g * Math.cos(Math.PI / 180 * m) + e);
        d = Math.round(g * Math.sin(Math.PI / 180 * m) + k);
      }
      a === c ? this.Bh(a, b, d, f) : b === d ? this.zh(a, c, b, f) : this.Dk(a, b, c, d, f);
    };
    ra.prototype.Ah = function (a, b, c, d, f) {
      var e = a.Ub, k = a.Tb, g = 0, m = 0, p, n = this.ka;
      var q = this.zoom;
      var l = this.tc(this.zoom);
      var r = a.da - a.V;
      var u = a.Z - a.$;
      var t = a.Z - this.da, v = a.da - this.ea - (this.ha ? this.da / 2 : 0), B = 0 !== this.angle ? 1 : 0, w = [0, 0];
      switch (d) {
        case G.Bz:
          b -= e >> 1;
          break;
        case G.Cz:
          b -= e - 1;
          break;
        case G.Gz:
          c -= k >> 1;
          break;
        case G.Az:
          b -= e >> 1;
          c -= k >> 1;
          break;
        case G.zz:
          b -= e - 1;
          c -= k >> 1;
          break;
        case G.Fz:
          c -= k - 1;
          break;
        case G.Dz:
          b -= e >> 1;
          c -= k - 1;
          break;
        case G.Ez:
          b -= e - 1, c -= k - 1;
      }
      d = c;
      var y = c + k;
      a.kc && (r += 2 * a.dc, u += 2 * a.wc);
      var D = q * (d - u + t - this.pa + a.Z) + a.displayHeight / 2;
      d = l * (d - u + t - this.pa + a.Z) + a.displayHeight / 2;
      D = q * (b - r + v - this.Ba + a.da) + a.displayWidth / 2 + (this.ha ? (a.displayHeight / 2 - D) / 2 : 0);
      var F = q * (y - u + t - this.pa + a.Z) + a.displayHeight / 2;
      y = l * (y - u + t - this.pa + a.Z) + a.displayHeight / 2;
      F = q * (b + e - r + v - this.Ba + a.da) + a.displayWidth / 2 + (this.ha ? (a.displayHeight / 2 - F) / 2 : 0);
      n.fillStyle = f;
      n.globalAlpha = 0.5;
      if (this.ha) if (!this.va && 4 <= this.zoom) a.kc && (r -= 2 * a.dc, u -= 2 * a.wc), this.bj(b, c, b + e - 1, c + k - 1, r, u); else {
        n.beginPath();
        for (p = 0; p < k; p += 1) n.moveTo(D, d), n.lineTo(D + e * q + 1, d), n.lineTo(D + e * q + 1, d + l + 1), n.lineTo(D, d + l + 1), D -= q / 2, d += l;
        n.fill();
      } else !this.va && this.X && 4 <= this.zoom ? (a.kc && (r -= 2 * a.dc, u -= 2 * a.wc), this.fj(b, c, b + e - 1, c + k - 1, r, u)) : (0 !== this.angle ? (n.beginPath(), this.$d(D, d, w), n.moveTo(0, 0), this.$d(F + B, d, w), n.lineTo(0, 0), this.$d(F + B, y + B, w), n.lineTo(0, 0), this.$d(D, y + B, w), n.lineTo(0, 0)) : (n.beginPath(), n.moveTo(this.kc(D), this.kc(d)), n.lineTo(this.kc(F), this.kc(d)), n.lineTo(this.kc(F), this.kc(y)), n.lineTo(this.kc(D), this.kc(y))), n.fill());
      if (1 <= this.zoom) {
        if (0 < this.ra) {
          f = Math.cos(this.ra / 180 * Math.PI) * this.$;
          var N = Math.sin(this.ra / 180 * Math.PI) * this.$;
          B = Math.cos((this.ra + 90) / 180 * Math.PI) * this.$;
          var O = Math.sin((this.ra + 90) / 180 * Math.PI) * this.$;
        } else f = q, B = N = 0, O = l;
        D = q * (c + m - u + t - this.pa + a.Z) + a.displayHeight / 2;
        d = l * (c + m - u + t - this.pa + a.Z) + a.displayHeight / 2;
        D = q * (b + g - r + v - this.Ba + a.da) + a.displayWidth / 2 + (this.ha ? (a.displayHeight / 2 - D) / 2 : 0);
        0 !== this.ra && (this.$d(D, d, w), D = 0, d = 0);
        F = D;
        y = d;
        n.fillStyle = this.Sh;
        if (this.ha && !this.va && 4 <= this.zoom) this.Lk(b, c, b + e - 1, c + k - 1, r, u, a.W); else if (!this.va && this.X && 4 <= this.zoom) this.Pk(b, c, b + e - 1, c + k - 1, r, u, a.W); else {
          n.beginPath();
          for (m = p = 0; m < k; m += 1) {
            D = F;
            for (g = 0; g < e; g += 1) b = a.W[p], p += 1, b && (b = D + f, c = d + N, q = b + B, l = c + O, r = q - f, u = l - N, 0 > D && 0 > b && 0 > q && 0 > r || D >= a.displayWidth && b >= a.displayWidth && q >= a.displayWidth && r >= a.displayWidth || 0 > d && 0 > c && 0 > l && 0 > u || d >= a.displayHeight && c >= a.displayHeight && l >= a.displayHeight && u >= a.displayHeight || (n.moveTo(D, d), n.lineTo(b, c), n.lineTo(q, l), n.lineTo(r, u))), D += f, d += N;
            F += B;
            d = y += O;
            this.ha && (F -= f / 2);
          }
          n.fill();
        }
      }
    };
    ra.prototype.$d = function (a, b, c) {
      var d = this.displayWidth / 2, f = this.displayHeight / 2;
      if (0 !== this.ra) {
        a -= d;
        b -= f;
        var e = Math.sqrt(a * a + b * b);
        b = 180 / Math.PI * Math.atan2(b, a);
        b += this.ra;
        a = Math.round(e * Math.cos(Math.PI / 180 * b) + d);
        b = Math.round(e * Math.sin(Math.PI / 180 * b) + f);
      }
      c[0] = a;
      c[1] = b;
    };
    ra.prototype.Nk = function (a) {
      var b = a.uc + 0.5 | 0, c = a.da - a.V, d = a.Z - a.$;
      (a.R || a.gd) && this.Ck(a, a.ba, this.Rh);
      a.Qa && (-1 !== this.C && a.kc ? this.Ah(a, a.Hi.F - a.ra, a.Hi.G - a.qa, G.Jn, this.og) : this.Ah(a, a.Hi.F, a.Hi.G, G.Jn, this.og));
      if (a.ua) {
        var f = a.D.T;
        var e = a.D.V;
        -1 !== f && (a.uj(f, e), this.Ah(a, a.Ec - c, a.Fc - d, b, this.Fi));
      }
    };
    ra.prototype.kc = function (a) {
      var b = a, c = a | 0;
      a !== c && (b = c + 1);
      return b;
    };
    ra.prototype.Ck = function (a, b, c) {
      var d = this.ka, f = this.zoom, e = this.tc(this.zoom), k = b.F, g = b.G, m = b.J;
      b = b.K;
      var p = a.Z - a.$, n = a.da - a.V, q = a.Z - this.da, l = a.da - this.ea - (this.ha ? this.da / 2 : 0), r = [0, 0], u = 0 !== this.angle ? 1 : 0, t = a.ba;
      if (k > m) {
        var v = k;
        k = m;
        m = v;
      }
      g > b && (v = g, g = b, b = v);
      v = m - k + 1;
      var B = b - g + 1;
      a.kc && -1 !== a.g.C && (n += Math.floor(a.ra / 2), p += Math.floor(a.qa / 2));
      var w = f * (g - p + q - this.pa + a.Z) + a.displayHeight / 2;
      g = e * (g - p + q - this.pa + a.Z) + a.displayHeight / 2;
      k = f * (k - n + l - this.Ba + a.da) + a.displayWidth / 2 + (this.ha ? (a.displayHeight / 2 - w) / 2 : 0);
      w = f * (b + 1 - p + q - this.pa + a.Z) + a.displayHeight / 2;
      b = e * (b + 1 - p + q - this.pa + a.Z) + a.displayHeight / 2;
      m = f * (m + 1 - n + l - this.Ba + a.da) + a.displayWidth / 2 + (this.ha ? (a.displayHeight / 2 - w) / 2 : 0);
      d.fillStyle = c;
      d.globalAlpha = 0.5;
      if (this.ha) if (!this.va && 4 <= this.zoom) a.kc && (n += 2 * a.dc, p += 2 * a.wc), this.bj(t.F, t.G, t.J, t.K, n, p); else {
        d.beginPath();
        v *= f;
        for (a = 0; a < B; a += 1) d.moveTo(k, g), d.lineTo(k + v + 1, g), d.lineTo(k + v + 1, g + e + 1), d.lineTo(k, g + e + 1), k -= f / 2, g += e;
        d.fill();
      } else this.X && !this.va && 4 <= this.zoom ? (a.kc && (n += 2 * a.dc, p += 2 * a.wc), this.fj(t.F, t.G, t.J, t.K, n, p)) : (0 !== this.angle ? (d.beginPath(), this.$d(k, g, r), d.moveTo(0, 0), this.$d(m + u, g, r), d.lineTo(0, 0), this.$d(m + u, b + u, r), d.lineTo(0, 0), this.$d(k, b + u, r), d.lineTo(0, 0)) : (d.beginPath(), d.moveTo(this.kc(k), this.kc(g)), d.lineTo(this.kc(m), this.kc(g)), d.lineTo(this.kc(m), this.kc(b)), d.lineTo(this.kc(k), this.kc(b))), d.fill());
      d.globalAlpha = 1;
    };
    ra.prototype.Jk = function () {
      var a, b = this.displayWidth, c = this.displayHeight, d = this.Dd, f = this.Td, e = this.$, k = this.tc(this.$), g = d, m, p = 0 < this.Sa && this.Rc, n = this.counter & 1, q = ((this.height / 2 - (this.da + this.pa)) * k + c / 2) % k, l = ((this.width / 2 - (this.ea + this.Ba)) * e + b / 2) % e, r = this.view.A / 2 | 0, u = this.view.B / 2 | 0;
      if (this.Ia) var t = p ? 2 : 1; else t = 1, p = false, g = d = this.fb[0];
      var v = d;
      for (this.Z && 2 === this.Sa && this.ad || (n = 0); t;) {
        var B = -(b / 2 / e) - (this.width / 2 - this.ea - this.Ba) | 0;
        B += r - 2;
        var w = 22 * -e;
        var y = b + e + 22 * e;
        var D = q - 22 * k;
        var F = c + 22 * k;
        var N = -b / 1.5;
        var O = b + b / 1.5;
        var M = -c / 1.5;
        for (m = c + c / 1.5; w <= y; w += e) if (p && (g = 0 === (B + n) % this.Sa ? f : d), B += 1, g === v) if (this.ha) {
          var U = -(c / 2 / k) - (this.height / 2 - this.da - this.pa) | 0;
          for (a = D; a < F; a += k) 0 === (U & 1) ? this.Zg(Math.round(w + l), Math.round(a), Math.round(w + l), Math.round(a + k - 1), g) : this.Zg(Math.round(w + l + e / 2), Math.round(a), Math.round(w + l + e / 2), Math.round(a + k - 1), g), U += 1;
        } else this.Zg(Math.round(w + l), M, Math.round(w + l), m - 1, g);
        B = -(c / 2 / k) - (this.height / 2 - this.da - this.pa) | 0;
        B += u - 2;
        for (a = D; a < F; a += k) p && (g = 0 === (B + n) % this.Sa ? f : d), B += 1, g === v && this.Zg(N, Math.round(a), O - 1, Math.round(a), g);
        --t;
        v = f;
      }
    };
    ra.prototype.he = function () {
      return 4 <= this.$;
    };
    ra.prototype.Bk = function (a, b, c) {
      var d = this.R, f = this.M, e = this.Z ? -1 : 0, k = Math.round((this.width - d) / 2 - 1) + e, g = k + d + 1, m = Math.round((this.height - f) / 2 - 1) + e;
      e = m + f + 1;
      m &= ~c;
      e &= ~c;
      k &= ~c;
      g &= ~c;
      if (0 === d) {
        d = a[e];
        for (c = 0; c < this.width; c += 1) 0 === d[c] && (d[c] = b);
        d = a[m];
        for (c = 0; c < this.width; c += 1) 0 === d[c] && (d[c] = b);
      } else if (0 === f) for (c = 0; c < this.height; c += 1) m = a[c], 0 === m[k] && (m[k] = b), 0 === m[g] && (m[g] = b); else {
        d = a[e];
        for (c = k; c <= g; c += 1) 0 === d[c] && (d[c] = b);
        d = a[m];
        for (c = k; c <= g; c += 1) 0 === d[c] && (d[c] = b);
        for (c = m + 1; c <= e - 1; c += 1) m = a[c], 0 === m[k] && (m[k] = b), 0 === m[g] && (m[g] = b);
      }
    };
    ra.prototype.Te = function (a, b) {
      var c = this.R, d = this.M, f = this.Z ? -1 : 0, e = Math.round((this.width - c) / 2 - 1) + f, k = e + c + 1, g = Math.round((this.height - d) / 2 - 1) + f;
      f = g + d + 1;
      var m = a[g], p = a[f];
      if (0 === c) m.fill(b, 0, this.width), p.fill(b, 0, this.width); else if (0 === d) for (c = 0; c < this.height; c += 1) a[c][e] = b, a[c][k] = b; else for (m.fill(b, e, k + 1), p.fill(b, e, k + 1), c = g + 1; c <= f - 1; c += 1) a[c][e] = b, a[c][k] = b;
    };
    ra.prototype.dh = function (a, b) {
      return 2 < this.h ? this.l || this.A || this.s ? 1 : 0 === this.v ? this.h / this.Aa * b | 0 : b < a / 2 ? this.v / this.Aa * b * 2 | 0 : this.v + this.h / this.Aa * b | 0 : this.Vb || this.s ? 1 : (this.vf + 1) / this.Aa * b | 0;
    };
    ra.prototype.ij = function (a) {
      var b = 0;
      0.0625 > a ? b = 31 : 0.125 > a ? b = 15 : 0.25 > a ? b = 7 : 0.5 > a ? b = 3 : 1 > a && (b = 1);
      return b;
    };
    ra.prototype.vn = function (a, b) {
      var c = this.fb[0], d = this.Oc, f = this.m, e = this.jd, k = this.sa;
      this.Yg = true;
      (this.i || this.s || this.l || this.A) && 0 !== (this.counter & 1) && (f = this.W, e = this.Yd, k = this.ta);
      this.re && (this.th(), c = this.fb[0], --this.re, this.re || (this.Jd.set(this.$c), this.Qc.set(this.Kc), this.be.set(this.Fd), this.cf.set(this.Se), this.Sd.set(this.Cd), this.tf.set(this.Ze)));
      this.$ = this.zoom * this.Ga;
      this.$ < G.ob ? this.$ = G.ob : this.$ > G.Xb && (this.$ = G.Xb);
      this.Sb = this.ea + this.Ba;
      this.Rb = this.da + this.pa;
      this.ua = this.Ub / 2 + 1;
      var g = this.$;
      this.ra = this.ha || this.X ? 0 : this.angle;
      -1 !== this.C && 1 <= this.$ && this.Te(f, this.ic);
      4 <= g && (!this.va && this.ha || !this.va && this.X) ? (d.fill(c), this.kb(1)) : (1 > g && (-1 !== this.C && this.Te(f, 0), this.vh(e, k, this.$), -1 !== this.C && this.Bk(this.Da, this.ic, this.ij(this.$))), 0.0625 > g ? this.sc ? this.lf(this.Ya, this.Da, 31, a, b) : this.mf(this.Da, this.Da, 31, a, b) : 0.125 > g ? this.sc ? this.lf(this.Ya, this.Da, 15, a, b) : this.mf(this.Da, this.Da, 15, a, b) : 0.25 > g ? this.sc ? this.lf(this.Ya, this.Da, 7, a, b) : this.mf(this.Da, this.Da, 7, a, b) : 0.5 > g ? this.sc ? this.lf(this.Ya, this.Da, 3, a, b) : this.mf(this.Da, this.Da, 3, a, b) : 1 > g ? this.sc ? this.lf(this.Ya, this.Da, 1, a, b) : this.mf(this.Da, this.Da, 1, a, b) : this.sc ? this.lf(this.Ca, f, 0, a, b) : this.mf(f, f, 0, a, b));
    };
    ra.prototype.ze = function (a) {
      a && (this.he() && this.Va && !this.Ia || this.ah());
      (this.Ia || this.Va) && this.he() && this.Jk();
      a && this.he() && this.Va && !this.Ia && this.ah();
    };
    ra.prototype.we = function (a, b, c, d) {
      var f = this.ij(a);
      if (-1 !== this.C && b) {
        d = this.m;
        b = this.jd;
        var e = this.sa;
        (this.i || this.s || this.l || this.A) && 0 !== (this.counter & 1) && (d = this.W, b = this.Yd, e = this.ta);
        this.Te(d, 0);
        0 !== f && (this.Ci = true, this.vh(b, e, a), d = this.Da);
        f = c;
      }
      f !== c && (d = this.m, b = this.jd, e = this.sa, (this.i || this.s || this.l || this.A) && 0 !== (this.counter & 1) && (d = this.W, b = this.Yd, e = this.ta), 0 !== f && (this.vh(b, e, a), d = this.Da));
      return [f, d];
    };
    ra.prototype.Mn = function (a, b, c, d) {
      var f = this.displayWidth >> 3, e = this.fb, k = this.Oc, g = 0, m = 0;
      var p = this.width;
      var n = this.height;
      var q = 1, l = 1, r = 0, u = this.T, t = this.za & ~c, v = this.ya & ~c, B = ~c, w = ~c, y = this.Kd, D, F = a, N = this.$, O = true;
      1 < this.ua && (q = this.Aa);
      a = Math.sin(this.ra / 180 * Math.PI) / this.$;
      var M = Math.cos(this.ra / 180 * Math.PI) / this.$;
      var U = -(this.displayWidth / 2 * -a + this.displayHeight / 2 * M) + this.Rb;
      var W = -(this.displayWidth / 2 * M + this.displayHeight / 2 * a) + this.Sb;
      1 < this.Aa && 1 < this.ua && (r = 0.4 / (this.Aa - 1), l = 0.6);
      this.kb(l);
      for (D = this.fb[0]; p < u;) g += p >> 1, p <<= 1;
      for (; n < u;) m += n >> 1, n <<= 1;
      var H = 0;
      var P = U;
      for (p = 0; p < this.displayHeight; p += 1) {
        var Q = W;
        for (n = 0; n < f; n += 1) {
          if (0 <= Q && (Q & B) === (Q & t) && 0 < P && (P & w) === (P & v)) {
            var T = F[P & v][Q & t] | 0;
            k[H] = e[T];
          } else k[H] = 0 <= Q + g && Q + g < u && 0 <= P + m && P + m < u ? D : y;
          H += 1;
          Q += M;
          P -= a;
          0 <= Q && (Q & B) === (Q & t) && 0 < P && (P & w) === (P & v) ? (T = F[P & v][Q & t] | 0, k[H] = e[T]) : k[H] = 0 <= Q + g && Q + g < u && 0 <= P + m && P + m < u ? D : y;
          H += 1;
          Q += M;
          P -= a;
          0 <= Q && (Q & B) === (Q & t) && 0 < P && (P & w) === (P & v) ? (T = F[P & v][Q & t] | 0, k[H] = e[T]) : k[H] = 0 <= Q + g && Q + g < u && 0 <= P + m && P + m < u ? D : y;
          H += 1;
          Q += M;
          P -= a;
          0 <= Q && (Q & B) === (Q & t) && 0 < P && (P & w) === (P & v) ? (T = F[P & v][Q & t] | 0, k[H] = e[T]) : k[H] = 0 <= Q + g && Q + g < u && 0 <= P + m && P + m < u ? D : y;
          H += 1;
          Q += M;
          P -= a;
          0 <= Q && (Q & B) === (Q & t) && 0 < P && (P & w) === (P & v) ? (T = F[P & v][Q & t] | 0, k[H] = e[T]) : k[H] = 0 <= Q + g && Q + g < u && 0 <= P + m && P + m < u ? D : y;
          H += 1;
          Q += M;
          P -= a;
          0 <= Q && (Q & B) === (Q & t) && 0 < P && (P & w) === (P & v) ? (T = F[P & v][Q & t] | 0, k[H] = e[T]) : k[H] = 0 <= Q + g && Q + g < u && 0 <= P + m && P + m < u ? D : y;
          H += 1;
          Q += M;
          P -= a;
          0 <= Q && (Q & B) === (Q & t) && 0 < P && (P & w) === (P & v) ? (T = F[P & v][Q & t] | 0, k[H] = e[T]) : k[H] = 0 <= Q + g && Q + g < u && 0 <= P + m && P + m < u ? D : y;
          H += 1;
          Q += M;
          P -= a;
          0 <= Q && (Q & B) === (Q & t) && 0 < P && (P & w) === (P & v) ? (T = F[P & v][Q & t] | 0, k[H] = e[T]) : k[H] = 0 <= Q + g && Q + g < u && 0 <= P + m && P + m < u ? D : y;
          H += 1;
          Q += M;
          P -= a;
        }
        W += a;
        P = U += M;
      }
      this.ze(d);
      F = b;
      for (b = 1; b < q; b += 1) for (d = this.dh(q, b), l += r, this.kb(l), a /= this.ua, M /= this.ua, N *= this.ua, t = this.we(N, O, c, F), c = t[0], F = t[1], O = false, t = this.za & ~c, v = this.ya & ~c, B = ~c, w = ~c, U = -(this.displayWidth / 2 * -a + this.displayHeight / 2 * M) + this.Rb, W = -(this.displayWidth / 2 * M + this.displayHeight / 2 * a) + this.Sb, H = 0, P = U, p = 0; p < this.displayHeight; p += 1) {
        Q = W;
        for (n = 0; n < f; n += 1) 0 <= Q && (Q & B) === (Q & t) && 0 < P && (P & w) === (P & v) && (T = F[P & v][Q & t] | 0, T >= d && (k[H] = e[T])), H += 1, Q += M, P -= a, 0 <= Q && (Q & B) === (Q & t) && 0 < P && (P & w) === (P & v) && (T = F[P & v][Q & t] | 0, T >= d && (k[H] = e[T])), H += 1, Q += M, P -= a, 0 <= Q && (Q & B) === (Q & t) && 0 < P && (P & w) === (P & v) && (T = F[P & v][Q & t] | 0, T >= d && (k[H] = e[T])), H += 1, Q += M, P -= a, 0 <= Q && (Q & B) === (Q & t) && 0 < P && (P & w) === (P & v) && (T = F[P & v][Q & t] | 0, T >= d && (k[H] = e[T])), H += 1, Q += M, P -= a, 0 <= Q && (Q & B) === (Q & t) && 0 < P && (P & w) === (P & v) && (T = F[P & v][Q & t] | 0, T >= d && (k[H] = e[T])), H += 1, Q += M, P -= a, 0 <= Q && (Q & B) === (Q & t) && 0 < P && (P & w) === (P & v) && (T = F[P & v][Q & t] | 0, T >= d && (k[H] = e[T])), H += 1, Q += M, P -= a, 0 <= Q && (Q & B) === (Q & t) && 0 < P && (P & w) === (P & v) && (T = F[P & v][Q & t] | 0, T >= d && (k[H] = e[T])), H += 1, Q += M, P -= a, 0 <= Q && (Q & B) === (Q & t) && 0 < P && (P & w) === (P & v) && (T = F[P & v][Q & t] | 0, T >= d && (k[H] = e[T])), H += 1, Q += M, P -= a;
        W += a;
        P = U += M;
      }
    };
    ra.prototype.Qn = function (a, b, c, d) {
      var f = this.displayWidth >> 3, e = this.fb, k = this.Oc, g = 0, m = 0;
      var p = this.width;
      var n = this.height;
      var q = 1, l = 1, r = 0, u = this.T, t = this.za & ~c, v = this.ya & ~c, B = ~c, w = ~c, y = this.Kd, D, F = a, N = this.$, O = true;
      1 < this.ua && (q = this.Aa);
      a = 1 / this.$;
      this.X && (a /= G.dm);
      this.ha && (a /= G.tl);
      var M = 1 / this.$;
      var U = -(this.displayHeight / 2 * a) + this.Rb;
      var W = -(this.displayWidth / 2 * M) + this.Sb;
      1 < this.Aa && 1 < this.ua && (r = 0.4 / (this.Aa - 1), l = 0.6);
      this.kb(l);
      for (D = this.fb[0]; p < u;) g += p >> 1, p <<= 1;
      for (; n < u;) m += n >> 1, n <<= 1;
      var H = 0;
      var P = U;
      for (p = 0; p < this.displayHeight; p += 1) {
        if (0 <= P && (P & w) === (P & v)) {
          var Q = F[P & v];
          var T = W;
          this.ha && (T += 0.5 * (P | 0));
          for (n = 0; n < f; n += 1) {
            if (0 <= T && (T & B) === (T & t)) {
              var Z = Q[T & t] | 0;
              k[H] = e[Z];
            } else k[H] = 0 <= T + g && T + g < u ? D : y;
            H += 1;
            T += M;
            0 <= T && (T & B) === (T & t) ? (Z = Q[T & t] | 0, k[H] = e[Z]) : k[H] = 0 <= T + g && T + g < u ? D : y;
            H += 1;
            T += M;
            0 <= T && (T & B) === (T & t) ? (Z = Q[T & t] | 0, k[H] = e[Z]) : k[H] = 0 <= T + g && T + g < u ? D : y;
            H += 1;
            T += M;
            0 <= T && (T & B) === (T & t) ? (Z = Q[T & t] | 0, k[H] = e[Z]) : k[H] = 0 <= T + g && T + g < u ? D : y;
            H += 1;
            T += M;
            0 <= T && (T & B) === (T & t) ? (Z = Q[T & t] | 0, k[H] = e[Z]) : k[H] = 0 <= T + g && T + g < u ? D : y;
            H += 1;
            T += M;
            0 <= T && (T & B) === (T & t) ? (Z = Q[T & t] | 0, k[H] = e[Z]) : k[H] = 0 <= T + g && T + g < u ? D : y;
            H += 1;
            T += M;
            0 <= T && (T & B) === (T & t) ? (Z = Q[T & t] | 0, k[H] = e[Z]) : k[H] = 0 <= T + g && T + g < u ? D : y;
            H += 1;
            T += M;
            0 <= T && (T & B) === (T & t) ? (Z = Q[T & t] | 0, k[H] = e[Z]) : k[H] = 0 <= T + g && T + g < u ? D : y;
            H += 1;
            T += M;
          }
        } else if (0 <= P + m && P + m < u) for (T = W, this.ha && (T += 0.5 * (P | 0)), n = 0; n < this.displayWidth; n += 1) k[H] = 0 <= T + g && T + g < u ? D : y, H += 1, T += M; else k.fill(y, H, H + this.displayWidth + 1), H += this.displayWidth;
        P = U += a;
      }
      this.ze(d);
      F = b;
      for (b = 1; b < q; b += 1) for (d = this.dh(q, b), l += r, this.kb(l), a /= this.ua, M /= this.ua, N *= this.ua, t = this.we(N, O, c, F), c = t[0], F = t[1], O = false, t = this.za & ~c, v = this.ya & ~c, B = ~c, w = ~c, U = -(this.displayHeight / 2 * a) + this.Rb, W = -(this.displayWidth / 2 * M) + this.Sb, H = 0, P = U, p = 0; p < this.displayHeight; p += 1) {
        if (0 <= P && (P & w) === (P & v)) for (Q = F[P & v], T = W, this.ha && (T += 0.5 * (P | 0)), n = 0; n < f; n += 1) 0 <= T && (T & B) === (T & t) && (Z = Q[T & t] | 0, Z >= d && (k[H] = e[Z])), H += 1, T += M, 0 <= T && (T & B) === (T & t) && (Z = F[P & v][T & t] | 0, Z >= d && (k[H] = e[Z])), H += 1, T += M, 0 <= T && (T & B) === (T & t) && (Z = F[P & v][T & t] | 0, Z >= d && (k[H] = e[Z])), H += 1, T += M, 0 <= T && (T & B) === (T & t) && (Z = F[P & v][T & t] | 0, Z >= d && (k[H] = e[Z])), H += 1, T += M, 0 <= T && (T & B) === (T & t) && (Z = F[P & v][T & t] | 0, Z >= d && (k[H] = e[Z])), H += 1, T += M, 0 <= T && (T & B) === (T & t) && (Z = F[P & v][T & t] | 0, Z >= d && (k[H] = e[Z])), H += 1, T += M, 0 <= T && (T & B) === (T & t) && (Z = F[P & v][T & t] | 0, Z >= d && (k[H] = e[Z])), H += 1, T += M, 0 <= T && (T & B) === (T & t) && (Z = F[P & v][T & t] | 0, Z >= d && (k[H] = e[Z])), H += 1, T += M; else H += f << 3;
        P = U += a;
      }
    };
    ra.prototype.Un = function (a, b, c, d) {
      var f = this.displayWidth >> 3, e = this.fb, k = this.Oc, g, m, p = 1, n = 1, q = 0, l = this.za & ~c, r = this.ya & ~c, u = a, t = this.$, v = true;
      1 < this.ua && (p = this.Aa);
      a = Math.sin(this.ra / 180 * Math.PI) / this.$;
      var B = Math.cos(this.ra / 180 * Math.PI) / this.$;
      var w = -(this.displayWidth / 2 * -a + this.displayHeight / 2 * B) + this.Rb;
      var y = -(this.displayWidth / 2 * B + this.displayHeight / 2 * a) + this.Sb;
      1 < this.Aa && 1 < this.ua && (q = 0.4 / (this.Aa - 1), n = 0.6);
      this.kb(n);
      var D = 0;
      var F = w;
      for (g = 0; g < this.displayHeight; g += 1) {
        var N = y;
        for (m = 0; m < f; m += 1) {
          var O = u[F & r][N & l] | 0;
          k[D] = e[O];
          D += 1;
          N += B;
          F -= a;
          O = u[F & r][N & l] | 0;
          k[D] = e[O];
          D += 1;
          N += B;
          F -= a;
          O = u[F & r][N & l] | 0;
          k[D] = e[O];
          D += 1;
          N += B;
          F -= a;
          O = u[F & r][N & l] | 0;
          k[D] = e[O];
          D += 1;
          N += B;
          F -= a;
          O = u[F & r][N & l] | 0;
          k[D] = e[O];
          D += 1;
          N += B;
          F -= a;
          O = u[F & r][N & l] | 0;
          k[D] = e[O];
          D += 1;
          N += B;
          F -= a;
          O = u[F & r][N & l] | 0;
          k[D] = e[O];
          D += 1;
          N += B;
          F -= a;
          O = u[F & r][N & l] | 0;
          k[D] = e[O];
          D += 1;
          N += B;
          F -= a;
        }
        y += a;
        F = w += B;
      }
      this.ze(d);
      u = b;
      for (b = 1; b < p; b += 1) for (d = this.dh(p, b), n += q, this.kb(n), a /= this.ua, B /= this.ua, t *= this.ua, l = this.we(t, v, c, u), c = l[0], u = l[1], v = false, l = this.za & ~c, r = this.ya & ~c, w = -(this.displayWidth / 2 * -a + this.displayHeight / 2 * B) + this.Rb, y = -(this.displayWidth / 2 * B + this.displayHeight / 2 * a) + this.Sb, D = 0, F = w, g = 0; g < this.displayHeight; g += 1) {
        N = y;
        for (m = 0; m < f; m += 1) O = u[F & r][N & l] | 0, O >= d && (k[D] = e[O]), D += 1, N += B, F -= a, O = u[F & r][N & l] | 0, O >= d && (k[D] = e[O]), D += 1, N += B, F -= a, O = u[F & r][N & l] | 0, O >= d && (k[D] = e[O]), D += 1, N += B, F -= a, O = u[F & r][N & l] | 0, O >= d && (k[D] = e[O]), D += 1, N += B, F -= a, O = u[F & r][N & l] | 0, O >= d && (k[D] = e[O]), D += 1, N += B, F -= a, O = u[F & r][N & l] | 0, O >= d && (k[D] = e[O]), D += 1, N += B, F -= a, O = u[F & r][N & l] | 0, O >= d && (k[D] = e[O]), D += 1, N += B, F -= a, O = u[F & r][N & l] | 0, O >= d && (k[D] = e[O]), D += 1, N += B, F -= a;
        y += a;
        F = w += B;
      }
    };
    ra.prototype.Xn = function (a, b, c, d) {
      var f = this.displayWidth >> 3, e = this.fb, k = this.Oc, g, m = 1, p = 1, n = 0, q = this.za & ~c, l = this.ya & ~c, r = a, u = this.$, t = true;
      1 < this.ua && (m = this.Aa);
      a = 1 / this.$;
      this.X && (a /= G.dm);
      this.ha && (a /= G.tl);
      var v = 1 / this.$;
      var B = -(this.displayHeight / 2 * a) + this.Rb;
      var w = -(this.displayWidth / 2 * v) + this.Sb;
      1 < this.Aa && 1 < this.ua && (n = 0.4 / (this.Aa - 1), p = 0.6);
      this.kb(p);
      var y = 0;
      var D = B;
      for (g = 0; g < this.displayHeight; g += 1) {
        var F = r[D & l];
        var N = w;
        this.ha && (N += 0.5 * (D | 0));
        for (D = 0; D < f; D += 1) {
          var O = F[N & q];
          k[y] = e[O];
          y += 1;
          N += v;
          O = F[N & q];
          k[y] = e[O];
          y += 1;
          N += v;
          O = F[N & q];
          k[y] = e[O];
          y += 1;
          N += v;
          O = F[N & q];
          k[y] = e[O];
          y += 1;
          N += v;
          O = F[N & q];
          k[y] = e[O];
          y += 1;
          N += v;
          O = F[N & q];
          k[y] = e[O];
          y += 1;
          N += v;
          O = F[N & q];
          k[y] = e[O];
          y += 1;
          N += v;
          O = F[N & q];
          k[y] = e[O];
          y += 1;
          N += v;
        }
        D = B += a;
      }
      this.ze(d);
      r = b;
      for (b = 1; b < m; b += 1) for (d = this.dh(m, b), p += n, this.kb(p), a /= this.ua, v /= this.ua, u *= this.ua, q = this.we(u, t, c, r), c = q[0], r = q[1], t = false, q = this.za & ~c, l = this.ya & ~c, B = -(this.displayHeight / 2 * a) + this.Rb, w = -(this.displayWidth / 2 * v) + this.Sb, y = 0, D = B, g = 0; g < this.displayHeight; g += 1) {
        F = r[D & l];
        N = w;
        this.ha && (N += 0.5 * (D | 0));
        for (D = 0; D < f; D += 1) O = F[N & q] | 0, O >= d && (k[y] = e[O]), y += 1, N += v, O = F[N & q] | 0, O >= d && (k[y] = e[O]), y += 1, N += v, O = F[N & q] | 0, O >= d && (k[y] = e[O]), y += 1, N += v, O = F[N & q] | 0, O >= d && (k[y] = e[O]), y += 1, N += v, O = F[N & q] | 0, O >= d && (k[y] = e[O]), y += 1, N += v, O = F[N & q] | 0, O >= d && (k[y] = e[O]), y += 1, N += v, O = F[N & q] | 0, O >= d && (k[y] = e[O]), y += 1, N += v, O = F[N & q] | 0, O >= d && (k[y] = e[O]), y += 1, N += v;
        D = B += a;
      }
    };
    ra.prototype.mf = function (a, b, c, d, f) {
      var e = Math.sin(this.ra / 180 * Math.PI) / this.$, k = Math.cos(this.ra / 180 * Math.PI) / this.$, g = this.kj(), m = this.displayWidth, p = this.displayHeight, n = -(this.displayWidth / 2 * -e + this.displayHeight / 2 * k / g) + this.Rb, q = -(this.displayWidth / 2 * k + this.displayHeight / 2 * e) + this.Sb, l = n + m * -e, r = q + m * k;
      g = n + p * k / g;
      p = q + p * e;
      e = g + m * -e;
      k = p + m * k;
      m = g;
      var u = p;
      k < u && (u = k);
      q < u && (u = q);
      r < u && (u = q);
      k > p && (p = k);
      q > p && (p = q);
      r > p && (p = r);
      e > m && (m = e);
      n > m && (m = n);
      l > m && (m = l);
      e < g && (g = e);
      n < g && (g = n);
      l < g && (g = l);
      this.ha && (u += g / 2, p += m / 2);
      0 > (u | 0) || (p | 0) >= this.width || 0 > (g | 0) || (m | 0) >= this.height ? 0 === this.ra ? this.Cc && !this.ha && 1 <= this.$ && 1 === this.Aa ? (this.kb(1), this.Hj(a, u, g, p, m, d, f)) : this.Qn(a, b, c, d) : this.Mn(a, b, c, d) : 0 === this.ra ? this.Cc && !this.ha && 1 <= this.$ && 1 === this.Aa ? (this.kb(1), this.Hj(a, u, g, p, m, d, f)) : this.Xn(a, b, c, d) : this.Un(a, b, c, d);
    };
    ra.prototype.Hj = function (a, b, c, d, f, e, k) {
      var g = this.fb, m = this.Ig, p = this.Zf, n = this.$f, q = (this.$ | 0) << 1, l = this.qd.width, r = l * q, u = null, t = d - b, v = f - c, B = this.tc(this.$), w = -(b - Math.floor(b)) * this.$, y = -(c - Math.floor(c)) * B, D, F = 0, N, O = this.T, M = this.width - 1, U = this.height - 1, W = this.Dd, H = this.Td, P = this.fb[0], Q = this.Kd, T = 0 < this.Sa && this.Rc && !this.Va, Z = 0, na = 0;
      var ia = this.counter & 1;
      var ba = q >> 1;
      d = this.width;
      f = this.height;
      var ja = 0, la = 0, fa = (this.Ia || this.Va) && this.he(), V = [], ma = [];
      this.Va && !this.Ia && this.he() && (W = P, T = false);
      for (; d < O;) ja += d >> 1, d <<= 1;
      for (; f < O;) la += f >> 1, f <<= 1;
      c |= 0;
      b |= 0;
      t = (t | 0) + 2;
      v = (v | 0) + 2;
      d = b + t;
      f = c + v;
      switch (ba) {
        case 1:
          var ca = r;
          var aa = t << 1;
          for (ia = c; ia < f; ia += 1) {
            (ia & U) === ia && (u = a[ia]);
            var X = F;
            for (D = b; D < d; D += 1) {
              var pa = 0 > D + ja || D + ja >= O || 0 > ia + la || ia + la >= O ? Q : (D & M) !== D || (ia & U) !== ia ? P : g[u[D]];
              m[F] = pa;
              m[F + 1] = pa;
              F += 2;
            }
            F = X + l;
            m.copyWithin(F, X, X + aa);
            F = ca;
            ca += r;
          }
          break;
        case 2:
          ca = r;
          aa = t << 2;
          for (ia = c; ia < f; ia += 1) {
            (ia & U) === ia && (u = a[ia]);
            X = F;
            for (D = b; D < d; D += 1) pa = 0 > D + ja || D + ja >= O || 0 > ia + la || ia + la >= O ? Q : (D & M) !== D || (ia & U) !== ia ? P : g[u[D]], m[F] = pa, m[F + 1] = pa, m[F + 2] = pa, m[F + 3] = pa, F += 4;
            F = X + l;
            m.copyWithin(F, X, X + aa);
            F += l;
            X += l;
            m.copyWithin(F, X, X + aa);
            F += l;
            X += l;
            m.copyWithin(F, X, X + aa);
            F = ca;
            ca += r;
          }
          break;
        default:
          for (ca = r, aa = t * q, T && (this.Z && 2 === this.Sa && this.ad || (ia = 0), na = -(this.displayWidth / 2 / this.$) - (this.width / 2 - this.ea - this.Ba) + this.view.A / 2 + 0.05 | 0, na += ia, Z = -(this.displayHeight / 2 / this.$) - (this.height / 2 - this.da - this.pa) + this.view.B / 2 + 0.05 | 0, Z += ia), ia = c; ia < f; ia += 1) {
            (ia & U) === ia && (u = a[ia]);
            X = F;
            var R = na;
            for (D = b; D < d; D += 1) {
              pa = 0 > D + ja || D + ja >= O || 0 > ia + la || ia + la >= O ? Q : (D & M) !== D || (ia & U) !== ia ? P : g[u[D]];
              for (N = 0; N < ba; N += 1) m[F] = pa, m[F + 1] = pa, F += 2;
              fa && ia === c && (V[V.length] = T && 0 === R % this.Sa ? H : W);
              R += 1;
            }
            F = X + l;
            for (D = 1; D < q; D += 1) m.copyWithin(F, X, X + aa), X += l, F += l;
            fa && (ma[ma.length] = T && 0 === Z % this.Sa ? H : W);
            F = ca;
            ca += r;
            Z += 1;
          }
      }
      p.putImageData(n, 0, 0, 0, 0, t * q, v * q);
      this.ka.imageSmoothingEnabled = true;
      this.ka.drawImage(this.qd, 0, 0, t * q, v * q, w, y, t * this.$, v * B);
      this.ka.imageSmoothingEnabled = false;
      if (e || k || fa) {
        this.Sc = this.ka.getImageData(0, 0, this.ka.canvas.width, this.ka.canvas.height);
        this.Oc = new Uint32Array(this.Sc.data.buffer);
        if (fa) {
          F = 0;
          D = -this.$ + ((this.width / 2 - (this.ea + this.Ba)) * this.$ + this.displayWidth / 2) % this.$;
          for (ca = b; ca <= d; ca += 1) this.Bh(D | 0, 0, this.displayHeight - 1, V[F]), D += this.$, F += 1;
          F = 0;
          ia = -this.$ + ((this.height / 2 - (this.da + this.pa)) * this.$ + this.displayHeight / 2) % this.$;
          for (ca = c; ca <= f; ca += 1) this.zh(0, this.displayWidth - 1, ia | 0, ma[F]), ia += this.$, F += 1;
        }
        e && this.ah();
      } else this.Yg = false;
    };
    ra.prototype.Gj = function (a, b, c, d, f, e, k, g) {
      var m = this.fb, p = this.Ig, n = this.Zf, q = this.$f, l = (this.$ | 0) << 1, r = this.qd.width, u = r * l, t = null, v = null, B = f - c, w = e - d, y = this.tc(this.$), D = -(c - Math.floor(c)) * this.$, F = -(d - Math.floor(d)) * y, N, O = 0, M = this.T, U = this.width - 1, W = this.height - 1, H = this.Dd, P = this.Td, Q = this.fb[0], T = this.Kd, Z = 0 < this.Sa && this.Rc && !this.Va, na = 0, ia = 0;
      var ba = this.counter & 1;
      var ja = l >> 1;
      f = this.width;
      e = this.height;
      var la = 0, fa = 0, V = G.yb[3] + 128, ma = G.yb[4] + 128, ca = G.yb[5] + 128, aa = G.yb[6] + 128, X = this.Wa, pa = (this.Ia || this.Va) && this.he(), R = [], E = [];
      this.Va && !this.Ia && this.he() && (H = Q, Z = false);
      for (; f < M;) la += f >> 1, f <<= 1;
      for (; e < M;) fa += e >> 1, e <<= 1;
      d |= 0;
      c |= 0;
      B = (B | 0) + 2;
      w = (w | 0) + 2;
      f = c + B;
      e = d + w;
      switch (ja) {
        case 1:
          var z = u;
          var K = B << 1;
          for (ba = d; ba < e; ba += 1) {
            (ba & W) === ba && (t = b[ba], v = a[ba]);
            var L = O;
            for (N = c; N < f; N += 1) {
              if (0 > N + la || N + la >= M || 0 > ba + fa || ba + fa >= M) var J = T; else if ((N & U) !== N || (ba & W) !== ba) J = Q; else {
                J = t[N];
                var x = v[N];
                x === ma || x === aa ? (J >= X && (x = V), J = m[x]) : x === V || x === ca ? (J < X && (x = ma), J = m[x]) : J = m[J];
              }
              p[O] = J;
              p[O + 1] = J;
              O += 2;
            }
            O = L + r;
            p.copyWithin(O, L, L + K);
            O = z;
            z += u;
          }
          break;
        case 2:
          z = u;
          K = B << 2;
          for (ba = d; ba < e; ba += 1) {
            (ba & W) === ba && (t = b[ba], v = a[ba]);
            L = O;
            for (N = c; N < f; N += 1) 0 > N + la || N + la >= M || 0 > ba + fa || ba + fa >= M ? J = T : (N & U) !== N || (ba & W) !== ba ? J = Q : (J = t[N], x = v[N], x === ma || x === aa ? (J >= X && (x = V), J = m[x]) : x === V || x === ca ? (J < X && (x = ma), J = m[x]) : J = m[J]), p[O] = J, p[O + 1] = J, p[O + 2] = J, p[O + 3] = J, O += 4;
            O = L + r;
            p.copyWithin(O, L, L + K);
            O += r;
            L += r;
            p.copyWithin(O, L, L + K);
            O += r;
            L += r;
            p.copyWithin(O, L, L + K);
            O = z;
            z += u;
          }
          break;
        default:
          for (z = u, K = B * l, Z && (this.Z && 2 === this.Sa && this.ad || (ba = 0), ia = -(this.displayWidth / 2 / this.$) - (this.width / 2 - this.ea - this.Ba) + this.view.A / 2 + 0.05 | 0, ia += ba, na = -(this.displayHeight / 2 / this.$) - (this.height / 2 - this.da - this.pa) + this.view.B / 2 + 0.05 | 0, na += ba), ba = d; ba < e; ba += 1) {
            (ba & W) === ba && (t = b[ba], v = a[ba]);
            L = O;
            var A = ia;
            for (N = c; N < f; N += 1) {
              0 > N + la || N + la >= M || 0 > ba + fa || ba + fa >= M ? J = T : (N & U) !== N || (ba & W) !== ba ? J = Q : (J = t[N], x = v[N], x === ma || x === aa ? (J >= X && (x = V), J = m[x]) : x === V || x === ca ? (J < X && (x = ma), J = m[x]) : J = m[J]);
              for (x = 0; x < ja; x += 1) p[O] = J, p[O + 1] = J, O += 2;
              pa && ba === d && (R[R.length] = Z && 0 === A % this.Sa ? P : H);
              A += 1;
            }
            O = L + r;
            for (N = 1; N < l; N += 1) p.copyWithin(O, L, L + K), L += r, O += r;
            pa && (E[E.length] = Z && 0 === na % this.Sa ? P : H);
            O = z;
            z += u;
            na += 1;
          }
      }
      n.putImageData(q, 0, 0, 0, 0, B * l, w * l);
      this.ka.imageSmoothingEnabled = true;
      this.ka.drawImage(this.qd, 0, 0, B * l, w * l, D, F, B * this.$, w * y);
      this.ka.imageSmoothingEnabled = false;
      if (k || g || pa) {
        this.Sc = this.ka.getImageData(0, 0, this.ka.canvas.width, this.ka.canvas.height);
        this.Oc = new Uint32Array(this.Sc.data.buffer);
        if (pa) {
          O = 0;
          N = -this.$ + ((this.width / 2 - (this.ea + this.Ba)) * this.$ + this.displayWidth / 2) % this.$;
          for (z = c; z <= f; z += 1) this.Bh(N | 0, 0, this.displayHeight - 1, R[O]), N += this.$, O += 1;
          O = 0;
          ba = -this.$ + ((this.height / 2 - (this.da + this.pa)) * this.$ + this.displayHeight / 2) % this.$;
          for (z = d; z <= e; z += 1) this.zh(0, this.displayWidth - 1, ba | 0, E[O]), ba += this.$, O += 1;
        }
        k && this.ah();
      } else this.Yg = false;
    };
    ra.prototype.wn = function (a, b, c, d) {
      var f = this.displayWidth >> 3, e = this.fb, k = this.Oc, g = 0, m = 0;
      var p = this.width;
      var n = this.height;
      var q = G.yb[3] + 128, l = G.yb[4] + 128, r = G.yb[5] + 128, u = G.yb[6] + 128, t = 1, v = 1, B = 0, w = this.T, y = this.Wa, D = this.za & ~c, F = this.ya & ~c, N = ~c, O = ~c, M = this.Kd, U, W = b, H = this.$, P = true;
      1 < this.ua && (t = this.Aa);
      var Q = Math.sin(this.ra / 180 * Math.PI) / this.$;
      var T = Math.cos(this.ra / 180 * Math.PI) / this.$;
      var Z = -(this.displayWidth / 2 * -Q + this.displayHeight / 2 * T) + this.Rb;
      var na = -(this.displayWidth / 2 * T + this.displayHeight / 2 * Q) + this.Sb;
      1 < this.Aa && 1 < this.ua && (B = 0.4 / (this.Aa - 1), v = 0.6);
      this.kb(v);
      for (U = this.fb[0]; p < w;) g += p >> 1, p <<= 1;
      for (; n < w;) m += n >> 1, n <<= 1;
      var ia = 0;
      var ba = Z;
      for (p = 0; p < this.displayHeight; p += 1) {
        var ja = na;
        for (n = 0; n < f; n += 1) {
          if (0 <= ja && (ja & N) === (ja & D) && 0 <= ba && (ba & O) === (ba & F)) {
            var la = W[ba & F][ja & D];
            var fa = a[ba & F][ja & D];
            fa === l || fa === u ? (la >= y && (fa = q), la = e[fa] | 0) : fa === q || fa === r ? (la < y && (fa = l), la = e[fa] | 0) : la = e[la] | 0;
            k[ia] = la;
          } else k[ia] = 0 <= ja + g && ja + g < w && 0 <= ba + m && ba + m < w ? U : M;
          ia += 1;
          ja += T;
          ba -= Q;
          0 <= ja && (ja & N) === (ja & D) && 0 <= ba && (ba & O) === (ba & F) ? (la = W[ba & F][ja & D], fa = a[ba & F][ja & D], fa === l || fa === u ? (la >= y && (fa = q), la = e[fa] | 0) : fa === q || fa === r ? (la < y && (fa = l), la = e[fa] | 0) : la = e[la] | 0, k[ia] = la) : k[ia] = 0 <= ja + g && ja + g < w && 0 <= ba + m && ba + m < w ? U : M;
          ia += 1;
          ja += T;
          ba -= Q;
          0 <= ja && (ja & N) === (ja & D) && 0 <= ba && (ba & O) === (ba & F) ? (la = W[ba & F][ja & D], fa = a[ba & F][ja & D], fa === l || fa === u ? (la >= y && (fa = q), la = e[fa] | 0) : fa === q || fa === r ? (la < y && (fa = l), la = e[fa] | 0) : la = e[la] | 0, k[ia] = la) : k[ia] = 0 <= ja + g && ja + g < w && 0 <= ba + m && ba + m < w ? U : M;
          ia += 1;
          ja += T;
          ba -= Q;
          0 <= ja && (ja & N) === (ja & D) && 0 <= ba && (ba & O) === (ba & F) ? (la = W[ba & F][ja & D], fa = a[ba & F][ja & D], fa === l || fa === u ? (la >= y && (fa = q), la = e[fa] | 0) : fa === q || fa === r ? (la < y && (fa = l), la = e[fa] | 0) : la = e[la] | 0, k[ia] = la) : k[ia] = 0 <= ja + g && ja + g < w && 0 <= ba + m && ba + m < w ? U : M;
          ia += 1;
          ja += T;
          ba -= Q;
          0 <= ja && (ja & N) === (ja & D) && 0 <= ba && (ba & O) === (ba & F) ? (la = W[ba & F][ja & D], fa = a[ba & F][ja & D], fa === l || fa === u ? (la >= y && (fa = q), la = e[fa] | 0) : fa === q || fa === r ? (la < y && (fa = l), la = e[fa] | 0) : la = e[la] | 0, k[ia] = la) : k[ia] = 0 <= ja + g && ja + g < w && 0 <= ba + m && ba + m < w ? U : M;
          ia += 1;
          ja += T;
          ba -= Q;
          0 <= ja && (ja & N) === (ja & D) && 0 <= ba && (ba & O) === (ba & F) ? (la = W[ba & F][ja & D], fa = a[ba & F][ja & D], fa === l || fa === u ? (la >= y && (fa = q), la = e[fa] | 0) : fa === q || fa === r ? (la < y && (fa = l), la = e[fa] | 0) : la = e[la] | 0, k[ia] = la) : k[ia] = 0 <= ja + g && ja + g < w && 0 <= ba + m && ba + m < w ? U : M;
          ia += 1;
          ja += T;
          ba -= Q;
          0 <= ja && (ja & N) === (ja & D) && 0 <= ba && (ba & O) === (ba & F) ? (la = W[ba & F][ja & D], fa = a[ba & F][ja & D], fa === l || fa === u ? (la >= y && (fa = q), la = e[fa] | 0) : fa === q || fa === r ? (la < y && (fa = l), la = e[fa] | 0) : la = e[la] | 0, k[ia] = la) : k[ia] = 0 <= ja + g && ja + g < w && 0 <= ba + m && ba + m < w ? U : M;
          ia += 1;
          ja += T;
          ba -= Q;
          0 <= ja && (ja & N) === (ja & D) && 0 <= ba && (ba & O) === (ba & F) ? (la = W[ba & F][ja & D], fa = a[ba & F][ja & D], fa === l || fa === u ? (la >= y && (fa = q), la = e[fa] | 0) : fa === q || fa === r ? (la < y && (fa = l), la = e[fa] | 0) : la = e[la] | 0, k[ia] = la) : k[ia] = 0 <= ja + g && ja + g < w && 0 <= ba + m && ba + m < w ? U : M;
          ia += 1;
          ja += T;
          ba -= Q;
        }
        na += Q;
        ba = Z += T;
      }
      this.ze(d);
      W = b;
      for (a = 1; a < t; a += 1) for (b = 2 < this.h ? 0 === this.v ? this.h / this.Aa * a | 0 : a < t / 2 ? this.v / this.Aa * a * 2 | 0 : this.v + this.h / this.Aa * a | 0 : this.Vb ? 1 : (this.vf + 1) / this.Aa * a | 0, v += B, this.kb(v), Q /= this.ua, T /= this.ua, H *= this.ua, Z = this.we(H, P, c, W), c = Z[0], W = Z[1], P = false, D = this.za & ~c, F = this.ya & ~c, N = ~c, O = ~c, Z = -(this.displayWidth / 2 * -Q + this.displayHeight / 2 * T) + this.Rb, na = -(this.displayWidth / 2 * T + this.displayHeight / 2 * Q) + this.Sb, ia = 0, ba = Z, p = 0; p < this.displayHeight; p += 1) {
        ja = na;
        for (n = 0; n < f; n += 1) 0 <= ja && (ja & N) === (ja & D) && 0 <= ba && (ba & O) === (ba & F) && (la = W[ba & F][ja & D] | 0, la >= b && (k[ia] = e[la])), ia += 1, ja += T, ba -= Q, 0 <= ja && (ja & N) === (ja & D) && 0 <= ba && (ba & O) === (ba & F) && (la = W[ba & F][ja & D] | 0, la >= b && (k[ia] = e[la])), ia += 1, ja += T, ba -= Q, 0 <= ja && (ja & N) === (ja & D) && 0 <= ba && (ba & O) === (ba & F) && (la = W[ba & F][ja & D] | 0, la >= b && (k[ia] = e[la])), ia += 1, ja += T, ba -= Q, 0 <= ja && (ja & N) === (ja & D) && 0 <= ba && (ba & O) === (ba & F) && (la = W[ba & F][ja & D] | 0, la >= b && (k[ia] = e[la])), ia += 1, ja += T, ba -= Q, 0 <= ja && (ja & N) === (ja & D) && 0 <= ba && (ba & O) === (ba & F) && (la = W[ba & F][ja & D] | 0, la >= b && (k[ia] = e[la])), ia += 1, ja += T, ba -= Q, 0 <= ja && (ja & N) === (ja & D) && 0 <= ba && (ba & O) === (ba & F) && (la = W[ba & F][ja & D] | 0, la >= b && (k[ia] = e[la])), ia += 1, ja += T, ba -= Q, 0 <= ja && (ja & N) === (ja & D) && 0 <= ba && (ba & O) === (ba & F) && (la = W[ba & F][ja & D] | 0, la >= b && (k[ia] = e[la])), ia += 1, ja += T, ba -= Q, 0 <= ja && (ja & N) === (ja & D) && 0 <= ba && (ba & O) === (ba & F) && (la = W[ba & F][ja & D] | 0, la >= b && (k[ia] = e[la])), ia += 1, ja += T, ba -= Q;
        na += Q;
        ba = Z += T;
      }
    };
    ra.prototype.Fn = function (a, b, c, d) {
      var f = this.displayWidth >> 3, e = this.fb, k = this.Oc, g, m, p = G.yb[3] + 128, n = G.yb[4] + 128, q = G.yb[5] + 128, l = G.yb[6] + 128, r = 1, u = 1, t = 0, v = this.Wa, B = this.za & ~c, w = this.ya & ~c, y = b, D = this.$, F = true;
      1 < this.ua && (r = this.Aa);
      var N = Math.sin(this.ra / 180 * Math.PI) / this.$;
      var O = Math.cos(this.ra / 180 * Math.PI) / this.$;
      var M = -(this.displayWidth / 2 * -N + this.displayHeight / 2 * O) + this.Rb;
      var U = -(this.displayWidth / 2 * O + this.displayHeight / 2 * N) + this.Sb;
      1 < this.Aa && 1 < this.ua && (t = 0.4 / (this.Aa - 1), u = 0.6);
      this.kb(u);
      var W = 0;
      var H = M;
      for (g = 0; g < this.displayHeight; g += 1) {
        var P = U;
        for (m = 0; m < f; m += 1) {
          var Q = y[H & w][P & B];
          var T = a[H & w][P & B];
          T === n || T === l ? (Q >= v && (T = p), Q = e[T] | 0) : T === p || T === q ? (Q < v && (T = n), Q = e[T] | 0) : Q = e[Q] | 0;
          k[W] = Q;
          W += 1;
          P += O;
          H -= N;
          Q = y[H & w][P & B];
          T = a[H & w][P & B];
          T === n || T === l ? (Q >= v && (T = p), Q = e[T] | 0) : T === p || T === q ? (Q < v && (T = n), Q = e[T] | 0) : Q = e[Q] | 0;
          k[W] = Q;
          W += 1;
          P += O;
          H -= N;
          Q = y[H & w][P & B];
          T = a[H & w][P & B];
          T === n || T === l ? (Q >= v && (T = p), Q = e[T] | 0) : T === p || T === q ? (Q < v && (T = n), Q = e[T] | 0) : Q = e[Q] | 0;
          k[W] = Q;
          W += 1;
          P += O;
          H -= N;
          Q = y[H & w][P & B];
          T = a[H & w][P & B];
          T === n || T === l ? (Q >= v && (T = p), Q = e[T] | 0) : T === p || T === q ? (Q < v && (T = n), Q = e[T] | 0) : Q = e[Q] | 0;
          k[W] = Q;
          W += 1;
          P += O;
          H -= N;
          Q = y[H & w][P & B];
          T = a[H & w][P & B];
          T === n || T === l ? (Q >= v && (T = p), Q = e[T] | 0) : T === p || T === q ? (Q < v && (T = n), Q = e[T] | 0) : Q = e[Q] | 0;
          k[W] = Q;
          W += 1;
          P += O;
          H -= N;
          Q = y[H & w][P & B];
          T = a[H & w][P & B];
          T === n || T === l ? (Q >= v && (T = p), Q = e[T] | 0) : T === p || T === q ? (Q < v && (T = n), Q = e[T] | 0) : Q = e[Q] | 0;
          k[W] = Q;
          W += 1;
          P += O;
          H -= N;
          Q = y[H & w][P & B];
          T = a[H & w][P & B];
          T === n || T === l ? (Q >= v && (T = p), Q = e[T] | 0) : T === p || T === q ? (Q < v && (T = n), Q = e[T] | 0) : Q = e[Q] | 0;
          k[W] = Q;
          W += 1;
          P += O;
          H -= N;
          Q = y[H & w][P & B];
          T = a[H & w][P & B];
          T === n || T === l ? (Q >= v && (T = p), Q = e[T] | 0) : T === p || T === q ? (Q < v && (T = n), Q = e[T] | 0) : Q = e[Q] | 0;
          k[W] = Q;
          W += 1;
          P += O;
          H -= N;
        }
        U += N;
        H = M += O;
      }
      this.ze(d);
      y = b;
      for (a = 1; a < r; a += 1) for (b = 2 < this.h ? 0 === this.v ? this.h / this.Aa * a | 0 : a < r / 2 ? this.v / this.Aa * a * 2 | 0 : this.v + this.h / this.Aa * a | 0 : this.Vb ? 1 : (this.vf + 1) / this.Aa * a | 0, u += t, this.kb(u), N /= this.ua, O /= this.ua, D *= this.ua, g = this.we(D, F, c, y), c = g[0], y = g[1], F = false, B = this.za & ~c, w = this.ya & ~c, M = -(this.displayWidth / 2 * -N + this.displayHeight / 2 * O) + this.Rb, U = -(this.displayWidth / 2 * O + this.displayHeight / 2 * N) + this.Sb, W = 0, H = M, g = 0; g < this.displayHeight; g += 1) {
        P = U;
        for (m = 0; m < f; m += 1) Q = y[H & w][P & B] | 0, Q >= b && (k[W] = e[Q]), W += 1, P += O, H -= N, Q = y[H & w][P & B] | 0, Q >= b && (k[W] = e[Q]), W += 1, P += O, H -= N, Q = y[H & w][P & B] | 0, Q >= b && (k[W] = e[Q]), W += 1, P += O, H -= N, Q = y[H & w][P & B] | 0, Q >= b && (k[W] = e[Q]), W += 1, P += O, H -= N, Q = y[H & w][P & B] | 0, Q >= b && (k[W] = e[Q]), W += 1, P += O, H -= N, Q = y[H & w][P & B] | 0, Q >= b && (k[W] = e[Q]), W += 1, P += O, H -= N, Q = y[H & w][P & B] | 0, Q >= b && (k[W] = e[Q]), W += 1, P += O, H -= N, Q = y[H & w][P & B] | 0, Q >= b && (k[W] = e[Q]), W += 1, P += O, H -= N;
        U += N;
        H = M += O;
      }
    };
    ra.prototype.Hn = function (a, b, c, d) {
      var f = this.displayWidth >> 3, e = this.fb, k = this.Oc, g, m = G.yb[3] + 128, p = G.yb[4] + 128, n = G.yb[5] + 128, q = G.yb[6] + 128, l = 1, r = 1, u = 0, t = this.Wa, v = this.za & ~c, B = this.ya & ~c, w = b, y = this.$, D = true;
      1 < this.ua && (l = this.Aa);
      var F = 1 / this.$;
      this.X && (F /= G.dm);
      this.ha && (F /= G.tl);
      var N = 1 / this.$;
      var O = -(this.displayHeight / 2 * F) + this.Rb;
      var M = -(this.displayWidth / 2 * N) + this.Sb;
      1 < this.Aa && 1 < this.ua && (u = 0.4 / (this.Aa - 1), r = 0.6);
      this.kb(r);
      var U = 0;
      var W = O;
      for (g = 0; g < this.displayHeight; g += 1) {
        var H = w[W & B];
        var P = a[W & B];
        var Q = M;
        this.ha && (Q += 0.5 * (W | 0));
        for (W = 0; W < f; W += 1) {
          var T = H[Q & v];
          var Z = P[Q & v];
          Z === p || Z === q ? (T >= t && (Z = m), T = e[Z] | 0) : Z === m || Z === n ? (T < t && (Z = p), T = e[Z] | 0) : T = e[T] | 0;
          k[U] = T;
          U += 1;
          Q += N;
          T = H[Q & v];
          Z = P[Q & v];
          Z === p || Z === q ? (T >= t && (Z = m), T = e[Z] | 0) : Z === m || Z === n ? (T < t && (Z = p), T = e[Z] | 0) : T = e[T] | 0;
          k[U] = T;
          U += 1;
          Q += N;
          T = H[Q & v];
          Z = P[Q & v];
          Z === p || Z === q ? (T >= t && (Z = m), T = e[Z] | 0) : Z === m || Z === n ? (T < t && (Z = p), T = e[Z] | 0) : T = e[T] | 0;
          k[U] = T;
          U += 1;
          Q += N;
          T = H[Q & v];
          Z = P[Q & v];
          Z === p || Z === q ? (T >= t && (Z = m), T = e[Z] | 0) : Z === m || Z === n ? (T < t && (Z = p), T = e[Z] | 0) : T = e[T] | 0;
          k[U] = T;
          U += 1;
          Q += N;
          T = H[Q & v];
          Z = P[Q & v];
          Z === p || Z === q ? (T >= t && (Z = m), T = e[Z] | 0) : Z === m || Z === n ? (T < t && (Z = p), T = e[Z] | 0) : T = e[T] | 0;
          k[U] = T;
          U += 1;
          Q += N;
          T = H[Q & v];
          Z = P[Q & v];
          Z === p || Z === q ? (T >= t && (Z = m), T = e[Z] | 0) : Z === m || Z === n ? (T < t && (Z = p), T = e[Z] | 0) : T = e[T] | 0;
          k[U] = T;
          U += 1;
          Q += N;
          T = H[Q & v];
          Z = P[Q & v];
          Z === p || Z === q ? (T >= t && (Z = m), T = e[Z] | 0) : Z === m || Z === n ? (T < t && (Z = p), T = e[Z] | 0) : T = e[T] | 0;
          k[U] = T;
          U += 1;
          Q += N;
          T = H[Q & v];
          Z = P[Q & v];
          Z === p || Z === q ? (T >= t && (Z = m), T = e[Z] | 0) : Z === m || Z === n ? (T < t && (Z = p), T = e[Z] | 0) : T = e[T] | 0;
          k[U] = T;
          U += 1;
          Q += N;
        }
        W = O += F;
      }
      this.ze(d);
      w = b;
      for (a = 1; a < l; a += 1) for (b = 2 < this.h ? 0 === this.v ? this.h / this.Aa * a | 0 : a < l / 2 ? this.v / this.Aa * a * 2 | 0 : this.v + this.h / this.Aa * a | 0 : this.Vb ? 1 : (this.vf + 1) / this.Aa * a | 0, r += u, this.kb(r), F /= this.ua, N /= this.ua, y *= this.ua, g = this.we(y, D, c, w), c = g[0], w = g[1], D = false, v = this.za & ~c, B = this.ya & ~c, O = -(this.displayHeight / 2 * F) + this.Rb, M = -(this.displayWidth / 2 * N) + this.Sb, U = 0, W = O, g = 0; g < this.displayHeight; g += 1) {
        H = w[W & B];
        Q = M;
        this.ha && (Q += 0.5 * (W | 0));
        for (W = 0; W < f; W += 1) T = H[Q & v] | 0, T >= b && (k[U] = e[T]), U += 1, Q += N, T = H[Q & v] | 0, T >= b && (k[U] = e[T]), U += 1, Q += N, T = H[Q & v] | 0, T >= b && (k[U] = e[T]), U += 1, Q += N, T = H[Q & v] | 0, T >= b && (k[U] = e[T]), U += 1, Q += N, T = H[Q & v] | 0, T >= b && (k[U] = e[T]), U += 1, Q += N, T = H[Q & v] | 0, T >= b && (k[U] = e[T]), U += 1, Q += N, T = H[Q & v] | 0, T >= b && (k[U] = e[T]), U += 1, Q += N, T = H[Q & v] | 0, T >= b && (k[U] = e[T]), U += 1, Q += N;
        W = O += F;
      }
    };
    ra.prototype.Bn = function (a, b, c, d) {
      var f = this.displayWidth >> 3, e = this.fb, k = this.Oc, g = 0, m = 0;
      var p = this.width;
      var n = this.height;
      var q = G.yb[3] + 128, l = G.yb[4] + 128, r = G.yb[5] + 128, u = G.yb[6] + 128, t = 1, v = 1, B = 0, w = this.T, y = this.Kd, D, F = this.Wa, N = this.za & ~c, O = this.ya & ~c, M = ~c, U = ~c, W = b, H = this.$, P = true;
      1 < this.ua && (t = this.Aa);
      var Q = 1 / this.$;
      this.X && (Q /= G.dm);
      this.ha && (Q /= G.tl);
      var T = 1 / this.$;
      var Z = -(this.displayHeight / 2 * Q) + this.Rb;
      var na = -(this.displayWidth / 2 * T) + this.Sb;
      1 < this.Aa && 1 < this.ua && (B = 0.4 / (this.Aa - 1), v = 0.6);
      this.kb(v);
      for (D = this.fb[0]; p < w;) g += p >> 1, p <<= 1;
      for (; n < w;) m += n >> 1, n <<= 1;
      var ia = 0;
      var ba = Z;
      for (p = 0; p < this.displayHeight; p += 1) {
        if (0 <= ba && (ba & U) === (ba & O)) {
          var ja = W[ba & O];
          var la = a[ba & O];
          n = na;
          this.ha && (n += 0.5 * (ba | 0));
          for (ba = 0; ba < f; ba += 1) {
            if (0 <= n && (n & M) === (n & N)) {
              var fa = ja[n & N];
              var V = la[n & N];
              V === l || V === u ? (fa >= F && (V = q), fa = e[V] | 0) : V === q || V === r ? (fa < F && (V = l), fa = e[V] | 0) : fa = e[fa] | 0;
            } else fa = 0 <= n + g && n + g < w ? D : y;
            k[ia] = fa;
            ia += 1;
            n += T;
            0 <= n && (n & M) === (n & N) ? (fa = ja[n & N], V = la[n & N], V === l || V === u ? (fa >= F && (V = q), fa = e[V] | 0) : V === q || V === r ? (fa < F && (V = l), fa = e[V] | 0) : fa = e[fa] | 0) : fa = 0 <= n + g && n + g < w ? D : y;
            k[ia] = fa;
            ia += 1;
            n += T;
            0 <= n && (n & M) === (n & N) ? (fa = ja[n & N], V = la[n & N], V === l || V === u ? (fa >= F && (V = q), fa = e[V] | 0) : V === q || V === r ? (fa < F && (V = l), fa = e[V] | 0) : fa = e[fa] | 0) : fa = 0 <= n + g && n + g < w ? D : y;
            k[ia] = fa;
            ia += 1;
            n += T;
            0 <= n && (n & M) === (n & N) ? (fa = ja[n & N], V = la[n & N], V === l || V === u ? (fa >= F && (V = q), fa = e[V] | 0) : V === q || V === r ? (fa < F && (V = l), fa = e[V] | 0) : fa = e[fa] | 0) : fa = 0 <= n + g && n + g < w ? D : y;
            k[ia] = fa;
            ia += 1;
            n += T;
            0 <= n && (n & M) === (n & N) ? (fa = ja[n & N], V = la[n & N], V === l || V === u ? (fa >= F && (V = q), fa = e[V] | 0) : V === q || V === r ? (fa < F && (V = l), fa = e[V] | 0) : fa = e[fa] | 0) : fa = 0 <= n + g && n + g < w ? D : y;
            k[ia] = fa;
            ia += 1;
            n += T;
            0 <= n && (n & M) === (n & N) ? (fa = ja[n & N], V = la[n & N], V === l || V === u ? (fa >= F && (V = q), fa = e[V] | 0) : V === q || V === r ? (fa < F && (V = l), fa = e[V] | 0) : fa = e[fa] | 0) : fa = 0 <= n + g && n + g < w ? D : y;
            k[ia] = fa;
            ia += 1;
            n += T;
            0 <= n && (n & M) === (n & N) ? (fa = ja[n & N], V = la[n & N], V === l || V === u ? (fa >= F && (V = q), fa = e[V] | 0) : V === q || V === r ? (fa < F && (V = l), fa = e[V] | 0) : fa = e[fa] | 0) : fa = 0 <= n + g && n + g < w ? D : y;
            k[ia] = fa;
            ia += 1;
            n += T;
            0 <= n && (n & M) === (n & N) ? (fa = ja[n & N], V = la[n & N], V === l || V === u ? (fa >= F && (V = q), fa = e[V] | 0) : V === q || V === r ? (fa < F && (V = l), fa = e[V] | 0) : fa = e[fa] | 0) : fa = 0 <= n + g && n + g < w ? D : y;
            k[ia] = fa;
            ia += 1;
            n += T;
          }
        } else if (0 <= ba + m && ba + m < w) for (n = na, this.ha && (n += 0.5 * (ba | 0)), ba = 0; ba < this.displayWidth; ba += 1) k[ia] = 0 <= n + g && n + g < w ? D : y, ia += 1, n += T; else k.fill(y, ia, ia + this.displayWidth + 1), ia += this.displayWidth;
        ba = Z += Q;
      }
      this.ze(d);
      W = b;
      for (a = 1; a < t; a += 1) for (b = 2 < this.h ? 0 === this.v ? this.h / this.Aa * a | 0 : a < t / 2 ? this.v / this.Aa * a * 2 | 0 : this.v + this.h / this.Aa * a | 0 : this.Vb ? 1 : (this.vf + 1) / this.Aa * a | 0, v += B, this.kb(v), Q /= this.ua, T /= this.ua, H *= this.ua, Z = this.we(H, P, c, W), c = Z[0], W = Z[1], P = false, N = this.za & ~c, O = this.ya & ~c, M = ~c, U = ~c, Z = -(this.displayHeight / 2 * Q) + this.Rb, na = -(this.displayWidth / 2 * T) + this.Sb, ia = 0, ba = Z, p = 0; p < this.displayHeight; p += 1) {
        if (0 <= ba && (ba & U) === (ba & O)) for (ja = W[ba & O], n = na, this.ha && (n += 0.5 * (ba | 0)), ba = 0; ba < f; ba += 1) 0 <= n && (n & M) === (n & N) && (fa = ja[n & N] | 0, fa >= b && (k[ia] = e[fa])), ia += 1, n += T, 0 <= n && (n & M) === (n & N) && (fa = ja[n & N] | 0, fa >= b && (k[ia] = e[fa])), ia += 1, n += T, 0 <= n && (n & M) === (n & N) && (fa = ja[n & N] | 0, fa >= b && (k[ia] = e[fa])), ia += 1, n += T, 0 <= n && (n & M) === (n & N) && (fa = ja[n & N] | 0, fa >= b && (k[ia] = e[fa])), ia += 1, n += T, 0 <= n && (n & M) === (n & N) && (fa = ja[n & N] | 0, fa >= b && (k[ia] = e[fa])), ia += 1, n += T, 0 <= n && (n & M) === (n & N) && (fa = ja[n & N] | 0, fa >= b && (k[ia] = e[fa])), ia += 1, n += T, 0 <= n && (n & M) === (n & N) && (fa = ja[n & N] | 0, fa >= b && (k[ia] = e[fa])), ia += 1, n += T, 0 <= n && (n & M) === (n & N) && (fa = ja[n & N] | 0, fa >= b && (k[ia] = e[fa])), ia += 1, n += T; else ia += f << 3;
        ba = Z += Q;
      }
    };
    ra.prototype.lf = function (a, b, c, d, f) {
      var e = Math.sin(this.ra / 180 * Math.PI) / this.$, k = Math.cos(this.ra / 180 * Math.PI) / this.$, g = this.displayWidth, m = this.displayHeight, p = -(this.displayWidth / 2 * -e + this.displayHeight / 2 * k) + this.Rb, n = -(this.displayWidth / 2 * k + this.displayHeight / 2 * e) + this.Sb, q = p + g * -e, l = n + g * k, r = p + m * k;
      m = n + m * e;
      e = r + g * -e;
      k = m + g * k;
      g = r;
      var u = m;
      k < u && (u = k);
      n < u && (u = n);
      l < u && (u = n);
      k > m && (m = k);
      n > m && (m = n);
      l > m && (m = l);
      e > g && (g = e);
      p > g && (g = p);
      q > g && (g = q);
      e < r && (r = e);
      p < r && (r = p);
      q < r && (r = q);
      0 > (u | 0) || (m | 0) >= this.width || 0 > (r | 0) || (g | 0) >= this.height ? 0 === this.ra ? this.Cc && 1 <= this.$ && 1 === this.Aa ? (this.kb(1), this.Gj(a, b, u, r, m, g, d, f)) : this.Bn(a, b, c, d) : this.wn(a, b, c, d) : 0 === this.ra ? this.Cc && 1 <= this.$ && 1 === this.Aa ? (this.kb(1), this.Gj(a, b, u, r, m, g, d, f)) : this.Hn(a, b, c, d) : this.Fn(a, b, c, d);
    };
    ra.prototype.oo = function (a, b) {
      a.set(b);
    };
    ra.prototype.yh = function (a) {
      var b;
      if (this.Yg) {
        if (!this.Sc.data.buffer) {
          var c = this.Sc.data;
          var d = this.jn;
          var f = d.length;
          for (b = 0; b < f;) c[b] = d[b], b += 1, c[b] = d[b], b += 1, c[b] = d[b], b += 1, c[b] = d[b], b += 1;
        }
        if (0 !== this.Gb && a) {
          var e;
          a = this.ka.canvas.width;
          b = this.ka.canvas.height;
          f = this.Oc;
          c = this.Uf;
          d = a >> 1;
          var k = b >> 1;
          var g = this.Gb - 1;
          var m = this.Kd, p = (2 * g + 2) / b;
          null === this.Uf && (c = this.Uf = this.N.h(oa.fc, a * b, "Life.tiltBuffer"));
          var n = -g;
          for (g = 0; g < b; g += 1) {
            var q = g - k;
            var l = 0 >= n ? b : q / n + k | 0;
            q = g * a;
            if (0 > l || l >= b) for (e = 0; e < a; e += 1) c[q + e] = m; else {
              var r = l * a;
              l = -d / n + d;
              e = d / n + d;
              var u = (e - l) / a;
              for (e = 0; e < a; e += 1) {
                var t = l | 0;
                c[q + e] = 0 > t || t >= a ? m : f[r + t];
                l += u;
              }
            }
            n += p;
          }
          this.oo(f, c);
        }
        this.ka.putImageData(this.Sc, 0, 0);
      }
    };
    ra.prototype.Ol = function (a) {
      this.Oc.fill(a);
    };
    Ra.prototype.Z = function (a, b) {
      return 0 > a || a >= this.o.length || 0 > b || b >= this.o.length || a > b ? "" : this.source.substring(this.o[a], this.o[b] + this.A[b]);
    };
    Ra.prototype.R = function () {
      0 < this.current && --this.current;
    };
    Ra.prototype.s = function () {
      for (; this.current < this.o.length && 10 !== this.source.charCodeAt(this.o[this.current]);) this.current += 1;
      this.current < this.o.length && (this.current += 1);
    };
    Ra.prototype.H = function () {
      for (; this.current < this.o.length && 10 === this.source.charCodeAt(this.o[this.current]);) this.current += 1;
    };
    Ra.prototype.$ = function () {
      var a = false;
      this.current < this.o.length && 10 !== this.source.charCodeAt(this.o[this.current]) && (a = true);
      return a;
    };
    Ra.prototype.B = function () {
      var a = false;
      this.current < this.o.length && 10 === this.source.charCodeAt(this.o[this.current]) && (a = true);
      return a;
    };
    Ra.prototype.l = function () {
      var a = "";
      this.current < this.o.length && (a = this.source.substring(this.o[this.current], this.o[this.current] + this.A[this.current]), this.current += 1);
      return a;
    };
    Ra.prototype.Y = function () {
      var a = "";
      this.current < this.o.length && (a = this.source.indexOf("\n", this.o[this.current]), a = -1 === a ? this.source.substring(this.o[this.current]) : this.source.substring(this.o[this.current], a), this.s());
      return a;
    };
    Ra.prototype.W = function () {
      var a;
      for (a = this.l(); "\n" === a;) a = this.l();
      return a;
    };
    Ra.prototype.m = function () {
      var a = "";
      this.current < this.o.length && (a = this.source.substring(this.o[this.current], this.o[this.current] + this.A[this.current]));
      return a;
    };
    Ra.prototype.T = function (a) {
      return this.V(a, -1, false);
    };
    Ra.prototype.v = function (a, b) {
      return this.V(a, b, true);
    };
    Ra.prototype.V = function (a, b, c) {
      var d = -1, f = this.current;
      for (-1 !== b && 0 <= b && b < this.o.length && (f = b); f < this.o.length && -1 === d;) {
        if (a.length === this.A[f]) {
          var e = 0;
          for (b = true; b && e < a.length;) a[e] !== this.source[this.o[f] + e] ? b = false : e += 1;
        } else b = false;
        b && (c && 0 !== f && 10 !== this.source.charCodeAt(this.o[f - 1]) && (b = false), b && (d = f));
        f += 1;
      }
      -1 !== d && (this.current = f);
      return d;
    };
    Ra.prototype.u = function (a) {
      return !isNaN(parseFloat(a)) && isFinite(Number(a));
    };
    Ra.prototype.O = function (a) {
      var b = false, c = a.indexOf("/");
      -1 !== c && (b = a.substring(0, c), a = a.substring(c + 1), b = this.u(b) && this.u(a));
      return b;
    };
    Ra.prototype.L = function (a) {
      var b = 0;
      if (this.O(a)) {
        var c = a.indexOf("/");
        var d = a.substring(0, c);
        a = a.substring(c + 1);
        0 !== Number(a) && (b = Number(d) / Number(a));
      } else this.u(a) && (b = parseFloat(a));
      return b;
    };
    Ra.prototype.h = function () {
      var a = 0;
      this.current < this.o.length && (0 !== this.C[this.current] ? (a = this.C[this.current] >> 1, this.current += 1) : (a = this.l(), a = this.L(a)));
      return a;
    };
    Ra.prototype.i = function () {
      var a = false;
      this.current < this.o.length && (this.C[this.current] ? a = true : (a = this.source.substring(this.o[this.current], this.o[this.current] + this.A[this.current]), a = this.O(a) ? true : this.u(a)));
      return a;
    };
    Ra.prototype.M = function () {
      var a = false, b = this.current + 1;
      b < this.o.length && (this.C[b] ? a = true : (a = this.source.substring(this.o[b], this.o[b] + this.A[b]), a = this.O(a) ? true : this.u(a)));
      return a;
    };
    Ra.prototype.X = function () {
      this.current = this.o.length;
    };
    var Ta = {$t: 0, play: 1, stop: 2, Wo: 12, Nz: 0, Mz: 200};
    hb.prototype.set = function (a) {
      this.tn = a.tn;
      this.pg = a.pg;
      this.l = a.l;
      this.h = a.h;
      this.i = a.i;
      this.jc = a.jc;
      this.Mb = a.Mb;
      this.x = a.x;
      this.y = a.y;
      this.zg = a.zg;
      this.Ag = a.Ag;
      this.Bg = a.Bg;
      this.Ie = a.Ie;
      this.angle = a.angle;
      this.Gb = a.Gb;
      this.zoom = a.zoom;
      this.Aa = a.Aa;
      this.depth = a.depth;
      this.Dc = a.Dc;
      this.Pc = a.Pc;
      this.step = a.step;
      this.vc = a.vc;
      this.ud = a.ud;
      this.le = a.le;
      this.ck = a.ck;
      this.grid = a.grid;
    };
    hb.prototype.o = function () {
      var a = "";
      switch (this.h) {
        case Ta.play:
          a = C.Nn;
          break;
        case Ta.stop:
          a = C.On;
      }
      return a;
    };
    hb.prototype.RF = function (a) {
      this.pg ? (this.h !== Ta.$t && (a[a.length] = [C.Nn, "overwrites " + this.o()]), this.h = Ta.play) : a[a.length] = [C.Nn, "only valid at POI"];
    };
    hb.prototype.TF = function (a) {
      this.pg ? (this.h !== Ta.$t && (a[a.length] = [C.On, "overwrites " + this.o()]), this.h = Ta.stop) : a[a.length] = [C.On, "only valid at POI"];
    };
    hb.prototype.SF = function (a) {
      this.pg ? (this.l && (a[a.length] = [C.Xo, "already defined"]), this.l = true) : a[a.length] = [C.Xo, "only valid at POI"];
    };
    hb.prototype.UF = function (a, b) {
      this.pg ? (this.i !== Ta.Wo && (b[b.length] = [C.Yo + " " + a, "overwrites " + this.i]), this.i = a) : b[b.length] = [C.Yo, "only valid at POI"];
    };
    hb.prototype.s = function (a, b, c) {
      var d = a.ud, f = b.ud, e = a.angle, k = b.angle, g = 1, m = 1;
      c > f && (c = f);
      f - d === G.WF && (d = f);
      f !== d && (g = Math.round((c - d) / (f - d) * 1e6) / 1e6, m = this.U.W(g));
      d = b.zg || b.Ie ? g : m;
      f = b.Ag || b.Ie ? g : m;
      var p = b.Bg || b.Ie ? g : m;
      this.x = a.x + d * (b.x - a.x);
      this.y = a.y + f * (b.y - a.y);
      this.zoom = a.zoom * Math.pow(b.zoom / a.zoom, p);
      180 < k - e ? e += 360 : -180 > k - e && (k += 360);
      this.angle = (e + m * (k - e)) % 360;
      this.Gb = a.Gb + m * (b.Gb - a.Gb);
      this.Aa = a.Aa + g * (b.Aa - a.Aa) | 0;
      this.depth = a.depth + g * (b.depth - a.depth);
      this.Dc = b.Dc;
      this.Pc = b.Pc;
      this.step = b.step;
      this.vc = a.vc + g * (b.vc - a.vc) | 0;
      this.ud = c;
      this.le = b.le;
      this.Ie = b.Ie;
      this.tn = b.tn;
    };
    za.prototype.oa = function (a, b, c, d, f, e, k, g, m, p, n, q, l, r, u, t, v, B) {
      return new sc(a, b, c, d, f, e, k, g, m, p, n, q, l, r, u, t, v, B);
    };
    za.prototype.ka = function () {
      this.s = [];
    };
    za.prototype.ba = function (a) {
      this.s[this.s.length] = a;
    };
    za.prototype.la = function (a, b, c, d, f, e, k, g, m, p, n, q, l, r, u, t, v, B, w, y, D) {
      return new tc(a, b, c, d, f, e, k, g, m, p, n, q, l, r, u, t, v, B, w, y, D);
    };
    za.prototype.ia = function () {
      this.o = [];
    };
    za.prototype.aa = function (a) {
      this.o[this.o.length] = a;
    };
    za.prototype.na = function (a, b, c, d, f, e, k, g, m, p, n, q, l, r, u, t, v, B, w, y) {
      return new uc(a, b, c, d, f, e, k, g, m, p, n, q, l, r, u, t, v, B, w, y);
    };
    za.prototype.ja = function () {
      this.m = [];
    };
    za.prototype.T = function (a) {
      a.s = a.message.indexOf("#P");
      a.C = a.message.indexOf("#G");
      a.m = a.message.indexOf("#H");
      a.l = a.message.indexOf("#I");
      a.h = a.message.indexOf("#J");
      this.m[this.m.length] = a;
    };
    za.prototype.A = function () {
      return this.m.length + this.o.length + this.s.length;
    };
    za.prototype.ga = function () {
      this.ja();
      this.ia();
      this.ka();
    };
    za.prototype.La = function (a) {
      var b = "", c = "";
      0 <= a && a < this.s.length && (a = this.s[a], a.B && (c = "*"), b = a.s ? "FILL	" : "LINE	", b += "X1" + c + " " + a.coords[0] + "	Y1" + c + " " + a.coords[1]);
      return b;
    };
    za.prototype.Ma = function (a) {
      var b = "", c = "";
      0 <= a && a < this.s.length && (b = this.s[a], a = b.zoom, 0 <= a && 1 > a && (a = -1 / a), b.u && (c = "*"), b = "Z " + a.toFixed(1) + "	A" + c + " " + b.angle.toFixed(1));
      return b;
    };
    za.prototype.Na = function (a) {
      var b = "";
      0 <= a && a < this.s.length && (a = this.s[a], b = "Alpha " + a.alpha.toFixed(1), -1 !== a.h && (b += "	T1 " + a.h + "	T2 " + a.m, 0 < a.i && (b += "	Fade " + a.i)));
      return b;
    };
    za.prototype.Oa = function (a) {
      var b = "";
      0 <= a && a < this.s.length && (b = this.s[a].o);
      return b;
    };
    za.prototype.da = function (a) {
      var b = "", c = "";
      0 <= a && a < this.o.length && (a = this.o[a], a.A && (c = "*"), b = "X1" + c + " " + a.B + "	Y1" + c + " " + a.H, b += "	X2" + c + " " + a.C + "	Y2" + c + " " + a.L);
      return b;
    };
    za.prototype.ea = function (a) {
      var b = "", c = "";
      0 <= a && a < this.o.length && (b = this.o[a], a = b.zoom, 0 <= a && 1 > a && (a = -1 / a), b.o && (c = "*"), b = "Z " + a.toFixed(1) + "	A" + c + " " + b.angle.toFixed(1));
      return b;
    };
    za.prototype.fa = function (a) {
      var b = "";
      0 <= a && a < this.o.length && (a = this.o[a], b = "Alpha " + a.alpha.toFixed(1), -1 !== a.h && (b += "	T1 " + a.h + "	T2 " + a.m, 0 < a.i && (b += "	Fade " + a.i)));
      return b;
    };
    za.prototype.yp = function (a) {
      var b = "";
      0 <= a && a < this.o.length && (b = this.o[a].s);
      return b;
    };
    za.prototype.wa = function (a) {
      var b = "", c = "", d = "";
      if (0 <= a && a < this.m.length) {
        var f = this.m[a];
        a = f.zoom;
        0 <= a && 1 > a && (a = -1 / a);
        f.O && (c = "*");
        f.H && (d = "*");
        b = "X" + c + " " + f.x + "	Y" + c + " " + f.y;
        b += "	Z " + a.toFixed(1) + "	A" + d + " " + f.angle.toFixed(1);
      }
      return b;
    };
    za.prototype.ya = function (a) {
      var b = "";
      0 <= a && a < this.m.length && (a = this.m[a], b = "Alpha " + a.alpha.toFixed(1), -1 !== a.i && (b += "	T1 " + a.i + "	T2 " + a.B, 0 < a.o && (b += "	Fade " + a.o)));
      return b;
    };
    za.prototype.za = function (a) {
      var b = "";
      0 <= a && a < this.m.length && (a = this.m[a], b = "Size " + a.size + '	"' + a.message + '"');
      return b;
    };
    za.prototype.Ba = function (a) {
      var b = "";
      0 <= a && a < this.m.length && (b = this.m[a].u);
      return b;
    };
    za.prototype.Va = function () {
      this.m.sort(function (a, b) {
        return a.zoom - b.zoom;
      });
    };
    za.prototype.Ta = function () {
      this.o.sort(function (a, b) {
        return a.zoom - b.zoom;
      });
    };
    za.prototype.Xa = function () {
      this.s.sort(function (a, b) {
        return a.zoom - b.zoom;
      });
    };
    za.prototype.Sa = function () {
      this.Va();
      this.Ta();
      this.Xa();
    };
    za.prototype.X = function (a, b) {
      var c, d = a.g, f = d.ka, e = d.width / 2 - d.ea - d.Ba, k = d.height / 2 - d.da - d.pa, g = d.zoom * d.Ga, m = d.tc(d.zoom), p = d.displayWidth / 2, n = d.displayHeight / 2, q = a.g.counter, l = d.ha ? -(d.height >> 2) : 0, r = 0, u = d.Gb, t = u - 1, v = 1, B = 0, w = 0, y = 0, D = 0, F = a.ia / a.M;
      d.ha && (e += k / 2);
      b && (f.strokeStyle = G.RC);
      for (c = 0; c < this.o.length; c += 1) {
        var N = this.o[c];
        var O = N.B;
        var M = N.H;
        var U = N.C;
        var W = N.L;
        -1 !== a.g.C && (O += a.A >> 1, M += a.B >> 1, U += a.A >> 1, W += a.B >> 1);
        if (!b || N.O) {
          var H = true;
          -1 !== N.h && (q < N.h || q > N.m) && (H = false);
          if (H) {
            var P = N.size * g / N.zoom;
            b && (r = 1, 24 <= P && (r = 2, 48 <= P && (r = 3)));
            if (g >= N.ob && g <= N.Xb) {
              var Q = Math.log(g / N.ob) / Math.log(N.Xb / N.ob);
              Q = 0.25 >= Q ? 4 * Q : 0.75 <= Q ? 4 * (1 - Q) : 1;
              var T = 1;
              -1 !== N.h && 0 < N.i && (q - N.h < N.i ? T = (q - N.h + 1) / N.i : N.m - q < N.i && (T = (N.m - q + 1) / N.i));
              H = true;
              var Z = 1;
              if (-1 !== N.l) {
                var na = a.Iq(O, M);
                na > N.l ? H = false : 0 < N.l && 0.75 < na / N.l && (Z = 4 * (1 - na / N.l));
              }
              H && (f.globalAlpha = Q * N.alpha * T * Z, Q = M + k - (a.B >> 1) + 0.5, T = O + e + l - (a.A >> 1) + 0.5, N.A || (T += d.Ba, Q += d.pa), -1 !== N.h ? (T += N.u * (F - N.h), Q += N.v * (F - N.h)) : (T += N.u * F, Q += N.v * F), 0 !== d.ra && (Z = Math.sqrt(T * T + Q * Q), Q = 180 / Math.PI * Math.atan2(Q, T), Q += d.ra, T = Z * Math.cos(Math.PI / 180 * Q), Q = Z * Math.sin(Math.PI / 180 * Q)), d.ha && (T -= Q / 2), Q = Q * m + n, T = T * g + p, O = (U - O) * g, M = (W - M) * m, d.ha && (O -= M / 2), W = 0 === N.M ? 0 : Math.sqrt(O * O + M * M) * N.M, 0 !== u && (v = -t + (2 * t + 2) / d.displayHeight * (d.displayHeight - Q), Q = (Q - n) / v + n, T = (T - p) / v + p), 0 <= v && (f.save(), f.translate(T, Q), f.scale(1 / v, 1 / v), Q = N.angle, N.o || (Q += d.ra), f.rotate(Q / 180 * Math.PI), f.lineWidth = P, b || (f.strokeStyle = N.s), f.lineCap = "round", f.lineJoin = "round", 0 < W && (N = Math.atan2(M, O), B = Math.cos(0.85 * Math.PI + N), w = Math.sin(0.85 * Math.PI + N), y = Math.cos(0.85 * -Math.PI + N), D = Math.sin(0.85 * -Math.PI + N)), 0 < r && f.translate(r, r), f.beginPath(), f.moveTo(0, 0), f.lineTo(O, M), 0 < W && (f.moveTo(O, M), f.lineTo(O + W * B, M + W * w), f.moveTo(O, M), f.lineTo(O + W * y, M + W * D)), f.stroke(), f.restore()));
            }
          }
        }
      }
      f.globalAlpha = 1;
    };
    za.prototype.ra = function (a) {
      this.X(a, true);
      this.X(a, false);
    };
    za.prototype.Y = function (a, b) {
      var c, d = a.g, f = d.ka, e = d.width / 2 - d.ea - d.Ba, k = d.height / 2 - d.da - d.pa, g = d.zoom * d.Ga, m = d.tc(d.zoom), p = d.displayWidth / 2, n = d.displayHeight / 2, q = a.g.counter, l = d.ha ? -(d.height >> 2) : 0, r = d.Gb, u = r - 1, t = 1, v = 0, B = 0, w = 0, y = a.ia / a.M;
      b && (f.strokeStyle = G.Pz, f.fillStyle = G.Pz);
      d.ha && (e += k / 2);
      -1 !== a.g.C && (B = a.A >> 1, w = a.B >> 1);
      for (c = 0; c < this.s.length; c += 1) {
        var D = this.s[c];
        var F = D.coords;
        var N = F.length;
        if (!b || D.C) {
          var O = true;
          -1 !== D.h && (q < D.h || q > D.m) && (O = false);
          if (O) {
            var M = D.size * g / D.zoom;
            b && (v = 1, 24 <= M && (v = 2, 48 <= M && (v = 3)));
            if (g >= D.ob && g <= D.Xb) {
              var U = Math.log(g / D.ob) / Math.log(D.Xb / D.ob);
              U = 0.25 >= U ? 4 * U : 0.75 <= U ? 4 * (1 - U) : 1;
              var W = 1;
              -1 !== D.h && 0 < D.i && (q - D.h < D.i ? W = (q - D.h + 1) / D.i : D.m - q < D.i && (W = (D.m - q + 1) / D.i));
              O = true;
              var H = 1;
              if (-1 !== D.l) {
                var P = a.Iq(D.coords[0] + B, D.coords[1] + w);
                P > D.l ? O = false : 0 < D.l && 0.75 < P / D.l && (H = 4 * (1 - P / D.l));
              }
              if (O && (f.globalAlpha = U * D.alpha * W * H, U = 0, H = F[U] + B + e + l - (a.A >> 1) + 0.5, W = F[U + 1] + w + k - (a.B >> 1) + 0.5, U += 2, D.B || (H += d.Ba, W += d.pa), -1 !== D.h ? (H += D.v * (y - D.h), W += D.A * (y - D.h)) : (H += D.v * y, W += D.A * y), 0 !== d.ra && (O = Math.sqrt(H * H + W * W), W = 180 / Math.PI * Math.atan2(W, H), W += d.ra, H = O * Math.cos(Math.PI / 180 * W), W = O * Math.sin(Math.PI / 180 * W)), d.ha && (H -= W / 2), W = W * m + n, P = H * g + p, 0 !== r && (t = -u + (2 * u + 2) / d.displayHeight * (d.displayHeight - W), W = (W - n) / t + n, P = (P - p) / t + p), 0 <= t)) {
                H = (F[U] - F[0]) * g / t;
                O = (F[U + 1] - F[1]) * m / t;
                d.ha && (H -= O / 2);
                U += 2;
                f.save();
                f.translate(P, W);
                f.scale(1 / t, 1 / t);
                W = D.angle;
                D.u || (W += d.ra);
                f.rotate(W / 180 * Math.PI);
                f.lineWidth = M;
                b || (D.s ? f.fillStyle = D.o : f.strokeStyle = D.o);
                f.lineCap = "round";
                f.lineJoin = "round";
                0 < v && f.translate(v, v);
                f.beginPath();
                f.moveTo(0, 0);
                for (f.lineTo(H, O); U < N;) H = (F[U] - F[0]) * g / t, O = (F[U + 1] - F[1]) * m / t, d.ha && (H -= O / 2), U += 2, f.lineTo(H, O);
                D.s ? f.fill() : f.stroke();
                f.restore();
              }
            }
          }
        }
      }
      f.globalAlpha = 1;
    };
    za.prototype.ta = function (a) {
      this.Y(a, true);
      this.Y(a, false);
    };
    za.prototype.sa = function (a) {
      var b, c = a.g, d = c.ka, f = c.width / 2 - c.ea - c.Ba, e = c.height / 2 - c.da - c.pa, k = c.zoom * c.Ga, g = c.tc(c.zoom), m = c.displayWidth / 2, p = c.displayHeight / 2, n = G.uE, q = "px " + G.sE, l = a.g.counter, r = c.Gb, u = r - 1, t = 1, v = c.ha ? -(c.height >> 2) : 0, B = a.ia / a.M;
      c.ha && (f += e / 2);
      for (b = 0; b < this.m.length; b += 1) {
        var w = this.m[b];
        var y = w.x;
        var D = w.y;
        var F = w.R;
        -1 !== a.g.C && (y += a.A >> 1, D += a.B >> 1);
        var N = true;
        -1 !== w.i && (l < w.i || l > w.B) && (N = false);
        if (N) {
          var O = w.T ? w.size : w.size * k / w.zoom;
          var M = 1;
          24 <= O && (M = 2, 48 <= O && (M = 3));
          if (k >= w.ob && k <= w.Xb) {
            var U = Math.log(k / w.ob) / Math.log(w.Xb / w.ob);
            d.font = O + q;
            U = 0.25 >= U ? 4 * U : 0.75 <= U ? 4 * (1 - U) : 1;
            var W = 1;
            -1 !== w.i && 0 < w.o && (l - w.i < w.o ? W = (l - w.i + 1) / w.o : w.B - l < w.o && (W = (w.B - l + 1) / w.o));
            N = true;
            var H = 1;
            if (-1 !== w.v) {
              var P = a.Iq(y, D);
              P > w.v ? N = false : 0 < w.v && 0.75 < P / w.v && (H = 4 * (1 - P / w.v));
            }
            if (N && (d.globalAlpha = U * w.alpha * W * H, W = y + f + v - (a.A >> 1) + 0.5, U = D + e - (a.B >> 1) + 0.5, w.O || (W += c.Ba, U += c.pa), -1 !== w.i ? (W += w.L * (B - w.i), U += w.M * (B - w.i)) : (W += w.L * B, U += w.M * B), 0 !== c.ra && (D = Math.sqrt(W * W + U * U), U = 180 / Math.PI * Math.atan2(U, W), U += c.ra, W = D * Math.cos(Math.PI / 180 * U), U = D * Math.sin(Math.PI / 180 * U)), c.ha && (W -= U / 2), y = w.message, -1 !== w.C && (y = y.substring(0, w.C) + a.g.counter + y.substring(w.C + 2), -1 !== w.s && (w.s = y.indexOf("#P")), -1 !== w.m && (w.m = y.indexOf("#H")), -1 !== w.l && (w.l = y.indexOf("#I")), -1 !== w.h && (w.h = y.indexOf("#J"))), -1 !== w.s && (y = y.substring(0, w.s) + a.g.o + y.substring(w.s + 2), -1 !== w.m && (w.m = y.indexOf("#H")), -1 !== w.l && (w.l = y.indexOf("#I")), -1 !== w.h && (w.h = y.indexOf("#J"))), -1 !== w.m && (y = a.g.Z || a.g.i ? y.substring(0, w.m) + a.g.Hb + y.substring(w.m + 2) : y.substring(0, w.m) + a.g.counter + y.substring(w.m + 2), -1 !== w.l && (w.l = y.indexOf("#I")), -1 !== w.h && (w.h = y.indexOf("#J"))), -1 !== w.l && (y = y.substring(0, w.l) + (a.g.counter + a.Ia) + y.substring(w.l + 2), -1 !== w.h && (w.h = y.indexOf("#J"))), -1 !== w.h && (y = a.g.Z || a.g.i ? y.substring(0, w.h) + (a.g.Hb + a.Ia) + y.substring(w.h + 2) : y.substring(0, w.h) + (a.g.counter + a.Ia) + y.substring(w.h + 2)), D = y.indexOf("\\n"), U = U * g + p, W = W * k + m, 0 !== r && (t = -u + (2 * u + 2) / c.displayHeight * (c.displayHeight - U), U = (U - p) / t + p, W = (W - m) / t + m), 0 <= t)) {
              d.save();
              d.translate(W, U);
              d.scale(1 / t, 1 / t);
              U = w.angle;
              w.H || (U += c.ra);
              d.rotate(U / 180 * Math.PI);
              U = 0;
              if (F === G.qt) {
                for (; -1 !== D;) N = y.substring(0, D), y = y.substring(D + 2), W = d.measureText(N).width >> 1, w.A && (d.fillStyle = n, d.fillText(N, -W + M, U + M)), d.fillStyle = w.u, d.fillText(N, -W, U), U += O, D = y.indexOf("\\n");
                W = d.measureText(y).width >> 1;
                w.A && (d.fillStyle = n, d.fillText(y, -W + M, U + M));
                d.fillStyle = w.u;
                d.fillText(y, -W, U);
              } else {
                for (H = 0; -1 !== D;) N = y.substring(0, D), y = y.substring(D + 2), W = d.measureText(N).width >> 1, W > H && (H = W), D = y.indexOf("\\n");
                W = d.measureText(y).width >> 1;
                W > H && (H = W);
                y = w.message;
                for (D = y.indexOf("\\n"); -1 !== D;) N = y.substring(0, D), y = y.substring(D + 2), F === G.rt && (W = d.measureText(N).width), w.A && (d.fillStyle = n, F === G.Mo ? d.fillText(N, -H + M, U + M) : d.fillText(N, H - W + M, U + M)), d.fillStyle = w.u, F === G.Mo ? d.fillText(N, -H, U) : d.fillText(N, H - W, U), U += O, D = y.indexOf("\\n");
                F === G.rt && (W = d.measureText(y).width);
                w.A && (d.fillStyle = n, F === G.Mo ? d.fillText(y, -H + M, U + M) : d.fillText(y, H - W + M, U + M));
                d.fillStyle = w.u;
                F === G.Mo ? d.fillText(y, -H, U) : d.fillText(y, H - W, U);
              }
              d.restore();
            }
          }
        }
      }
      d.globalAlpha = 1;
    };
    za.prototype.qa = function (a) {
      this.ta(a);
      this.ra(a);
      this.sa(a);
    };
    za.prototype.Ya = function (a) {
      var b;
      for (b = this.h.length - 1; 0 <= b; --b) {
        var c = this.h[b];
        c.ud > a && c.m && (this.u = b, c.m = false);
      }
    };
    za.prototype.Ra = function () {
      var a;
      for (a = 0; a < this.h.length; a += 1) this.h[a].m = false;
      this.u = 0;
      this.R = false;
    };
    za.prototype.B = function () {
      return new hb(this);
    };
    za.prototype.W = function (a) {
      return -2 * Math.pow(a, 3) + 3 * Math.pow(a, 2) + 0 * a;
    };
    za.prototype.reset = function () {
      this.h = [];
      this.i = [];
      this.M = false;
      this.u = 0;
    };
    za.prototype.Ca = function () {
      return this.h[this.h.length - 1];
    };
    za.prototype.ua = function (a) {
      var b = this.Z(a), c = this.h[b];
      a > c.vc ? a = c.ud + 1e3 * (a - c.vc) / (c.Pc * c.step) : 0 < b ? (b = this.h[b - 1], a = b.ud + 1e3 * (a - b.vc) / (c.Pc * c.step)) : a = 1e3 * a / (c.Pc * c.step);
      return a;
    };
    za.prototype.pa = function (a, b, c, d, f, e, k, g, m, p, n, q) {
      var l = this.$;
      l.x = a;
      l.y = b;
      l.zoom = c;
      l.angle = d;
      l.Gb = f;
      l.Pc = m;
      l.step = p;
      l.Aa = e;
      l.depth = k;
      l.Dc = g;
      l.vc = n;
      this.M && (q = this.H.ud);
      l.ud = q - 1e3;
      this.O(null, q, n, true);
      this.H.set(this.current);
      this.H.Ie = false;
      this.H.ud = q;
      this.M = true;
      return l.ud;
    };
    za.prototype.C = function () {
      return this.h[0];
    };
    za.prototype.add = function (a, b) {
      if (a.pg) this.i[this.i.length] = a; else {
        this.h[this.h.length] = a;
        if (a.bf || a.Le || a.de || a.ig || a.yg || a.Ie) this.L = true;
        if (a.Ue || a.ve) a.Ue && !a.ve && (a.step = G.tg), a.ve && (a.Pc = b.M);
      }
    };
    za.prototype.V = function (a) {
      var b = false;
      this.u >= this.h.length - 1 && a >= this.h[this.u].ud && (b = true);
      return b;
    };
    za.prototype.v = function (a) {
      return a === (a | 0) ? String(a | 0) : String(a.toFixed(1));
    };
    za.prototype.Fa = function (a) {
      var b = "";
      0 <= a && a < this.i.length && (a = this.i[a], a.bf && (b += " X " + -a.x), a.Le && (b += " Y " + -a.y), a.de && (b += " ZOOM " + this.v(a.zoom)), a.ig && (b += " ANGLE " + a.angle), a.yg && 0 !== a.Gb && (b += " TILT " + a.Gb));
      return b.substring(1);
    };
    za.prototype.Ga = function (a) {
      var b = "";
      0 <= a && a < this.i.length && (a = this.i[a], a.Jh && (b += " LOOP " + (-1 === a.Mb ? "OFF" : a.Mb)), a.Oh && (b += " STOP " + (-1 === a.jc ? "OFF" : a.jc)), a.Ue && (b += " GPS " + a.Pc), a.ve && (b += " STEP " + a.step));
      return b.substring(1);
    };
    za.prototype.Da = function (a) {
      var b = "";
      0 <= a && a < this.i.length && (a = this.i[a], a.l && (b += " POIRESET"), a.h === Ta.play ? b += " POIPLAY" : a.h === Ta.stop && (b += " POISTOP"), a.i !== Ta.Wo && (b += " POITRANS " + a.i));
      return b.substring(1);
    };
    za.prototype.Ja = function (a) {
      var b = "";
      0 <= a && a < this.i.length && (a = this.i[a], a.pe && (b += " THEME " + a.Dc), a.Lg && (b += " DEPTH " + this.v(a.depth)), a.Qg && (b += " LAYERS " + a.Aa));
      return b.substring(1);
    };
    za.prototype.Ia = function (a) {
      var b = "";
      0 <= a && a < this.i.length && (a = this.i[a], a.fp && (b += " POIT " + a.vc));
      return b.substring(1);
    };
    za.prototype.Ha = function (a, b) {
      var c = "";
      0 <= a && a < this.i.length && (a = this.i[a], "" !== a.le && (c += " " + b + a.le + b));
      return c.substring(1);
    };
    za.prototype.$a = function (a, b) {
      var c = "";
      if (0 <= a && a < this.h.length) {
        var d = this.h[a];
        0 < a ? (a = this.h[a - 1], c = d.vc === a.vc ? "P " + this.v((d.ud - a.ud | 0) / 1e3) : "T " + d.vc, d.Ie ? c += " F" : (d.x !== a.x && (c += " X " + -d.x), d.y !== a.y && (c += " Y " + -d.y), d.zoom !== a.zoom && (c += " Z " + this.v(d.zoom))), d.angle !== a.angle && (c += " A " + d.angle), d.Aa !== a.Aa && (c += " L " + d.Aa), d.depth !== a.depth && (c += " D " + this.v(d.depth)), d.Dc !== a.Dc && (c += " C " + d.Dc), d.Pc !== a.Pc && (c += " G " + d.Pc), d.step !== a.step && (c += " S " + d.step), "" !== d.le && (c += " " + b + d.le + b)) : c = "T " + d.vc + " X " + -d.x + " Y " + -d.y + " Z " + this.v(d.zoom) + " A " + d.angle + " L " + d.Aa + " D " + this.v(d.depth) + " C " + d.Dc + " G " + d.Pc + " S " + d.step;
      }
      return c;
    };
    za.prototype.O = function (a, b, c, d) {
      var f = this.h.length, e = false, k = this.u, g = k, m = false;
      if (this.M) this.current.s(this.$, this.H, b), b >= this.H.ud && (this.M = false); else {
        for (; k < f && !e;) {
          var p = this.h[k];
          p.ud >= b || !p.m ? e = true : k += 1;
        }
        e ? (this.h[k].m = true, 0 < k ? (this.h[k].Ie && (this.h[k].x = this.current.x, this.h[k].y = this.current.y, this.h[k].zoom = this.current.zoom), d && this.current.s(this.h[k - 1], this.h[k], b)) : (k = 0, this.current.set(this.h[k]))) : (k = f - 1, this.current.set(this.h[k]), c >= this.current.vc && this.R && (m = true), this.R = true);
        this.u = k;
      }
      this.u !== g && this.current.tn && a && a.D.Rb();
      return m;
    };
    za.prototype.Z = function (a) {
      for (var b = 0, c = false, d = this.h, f = this.h.length; b < f && !c;) d[b].vc >= a ? c = true : b += 1;
      c || (b = f - 1);
      return b;
    };
    za.prototype.va = function (a) {
      var b = 0;
      this.u = this.Z(a);
      if (0 < this.u) {
        var c = this.h[this.u];
        var d = this.h[this.u - 1];
        b = c.ud - d.ud;
        c = c.vc - d.vc;
        b = b * (a - d.vc) / c + d.ud;
      }
      return b;
    };
    za.prototype.l = function (a, b, c, d) {
      if (0 === this.h.length) c[c.length] = [a + " " + C.rc, "no initial waypoint defined"]; else switch (a) {
        case C.Ke:
          b.bf && (c[c.length] = [a + " " + C.rc, d ? "already defined" : "overwrites " + -b.x]);
          b.x = this.h[0].x;
          b.bf = true;
          break;
        case C.Me:
          b.Le && (c[c.length] = [a + " " + C.rc, d ? "already defined" : "overwrites " + -b.y]);
          b.y = this.h[0].y;
          b.Le = true;
          break;
        case C.ee:
          b.de && (c[c.length] = [a + " " + C.rc, d ? "already defined" : "overwrites " + this.v(1 > b.zoom ? -(1 / b.zoom) : b.zoom)]);
          b.zoom = this.h[0].zoom;
          b.de = true;
          break;
        case C.Sj:
          b.ig && (c[c.length] = [a + " " + C.rc, d ? "already defined" : "overwrites " + b.angle]);
          b.angle = this.h[0].angle;
          b.ig = true;
          break;
        case C.ek:
          b.yg && (c[c.length] = [a + " " + C.rc, d ? "already defined" : "overwrites " + b.Gb]);
          b.Gb = this.h[0].Gb;
          b.yg = true;
          break;
        case C.hl:
          b.Lg && (c[c.length] = [a + " " + C.rc, d ? "already defined" : "overwrites " + this.v(b.depth)]);
          b.depth = this.h[0].depth;
          b.Lg = true;
          break;
        case C.Dl:
          b.Qg && (c[c.length] = [a + " " + C.rc, d ? "already defined" : "overwrites " + b.Aa]);
          b.Aa = this.h[0].Aa;
          b.Qg = true;
          break;
        case C.zj:
          b.pe && (c[c.length] = [a + " " + C.rc, d ? "already defined" : "overwrites " + b.Dc]);
          b.Dc = this.h[0].Dc;
          b.pe = true;
          break;
        case C.rl:
          b.Ue && (c[c.length] = [a + " " + C.rc, d ? "already defined" : "overwrites " + b.Pc]);
          b.Pc = this.h[0].Pc;
          b.Ue = true;
          break;
        case C.$l:
          b.ve && (c[c.length] = [a + " " + C.rc, d ? "already defined" : "overwrites " + b.step]);
          b.step = this.h[0].step;
          b.ve = true;
          break;
        case C.Ph:
          b.Oh && (c[c.length] = [a + " " + C.rc, d ? "already defined" : "overwrites " + (-1 === b.jc ? "OFF" : b.jc)]);
          b.jc = this.h[0].jc;
          b.Oh = true;
          break;
        case C.Kh:
          b.Jh && (c[c.length] = [a + " " + C.rc, d ? "already defined" : "overwrites " + (-1 === b.Mb ? "OFF" : b.Mb)]);
          b.Mb = this.h[0].Mb;
          b.Jh = true;
          break;
        default:
          c[c.length] = [a + " " + C.rc, "illegal command before " + C.rc];
      }
    };
    za.prototype.ma = function (a, b) {
      this.l(C.Ke, a, b, false);
      this.l(C.Me, a, b, false);
      this.l(C.ee, a, b, false);
      this.l(C.Sj, a, b, false);
      this.l(C.ek, a, b, false);
      this.l(C.Dl, a, b, false);
      this.l(C.hl, a, b, false);
      this.l(C.zj, a, b, false);
      this.l(C.rl, a, b, false);
      this.l(C.$l, a, b, false);
      this.l(C.Kh, a, b, false);
      this.l(C.Ph, a, b, false);
    };
    za.prototype.Qa = function (a, b) {
      var c, d = this.h, f = this.h.length;
      for (c = 1; c < f; c += 1) {
        var e = d[c - 1];
        var k = d[c];
        k.bf || (k.x = e.x);
        k.Le || (k.y = e.y);
        k.Aj || (k.zg = e.zg);
        k.Bj || (k.Ag = e.Ag);
        k.Cj || (k.Bg = e.Bg);
        k.ig || (k.angle = e.angle);
        k.yg || (k.Gb = e.Gb);
        k.de || (k.zoom = e.zoom);
        k.Qg || (k.Aa = e.Aa);
        k.Lg || (k.depth = e.depth);
        k.pe || (k.Dc = e.Dc);
        k.Ue || (k.Pc = e.Pc);
        k.ve || (k.step = e.step);
        if (k.Ue || k.ve) k.Ue && !k.ve && (k.step = G.tg), k.ve && (k.Pc = b.M);
        k.fp ? k.vc <= e.vc && (a[a.length] = [C.ep + " " + k.vc, "target generation must be later than previous (" + e.vc + ")"]) : k.vc = e.vc;
        k.ud = k.jA ? 1e3 * k.ud + e.ud : e.ud + 1e3 * (k.vc - e.vc) / (k.Pc * k.step);
        k.xq || (k.ck = e.ck);
        k.Xj || (k.grid = e.grid);
      }
    };
    ab.prototype.O = function (a, b) {
      for (var c = null, d = 0; null === c && d < a.length;) a[d].identifier === b ? c = a[d] : d += 1;
      return c;
    };
    ab.prototype.reset = function () {
      this.h = false;
      this.i = -1;
    };
    ab.prototype.A = function (a, b) {
      var c = b.changedTouches;
      this.s = true;
      switch (b.type) {
        case "touchstart":
          -1 === a.i && (c = c[0], a.i = c.identifier, a.C(a, c.pageX, c.pageY));
          break;
        case "touchend":
          c = a.O(c, a.i);
          null !== c && (a.L(a, c.pageX, c.pageY), a.i = -1);
          break;
        case "touchmove":
          c = a.O(c, a.i), null !== c && a.H(a, c.pageX, c.pageY);
      }
      b.stopPropagation && b.stopPropagation();
      b.cancelable && b.preventDefault();
    };
    ab.prototype.R = function (a) {
      var b = this.view;
      b.displayWidth = b.Kf;
      b.displayHeight = b.Jf;
      b.jy();
      b.Co.style.transform = "scale(" + b.xe + "," + b.xe + ")";
      b.Co.style.transformOrigin = "top left";
      b.Qn && (this.D.ue(true), b.resize());
      a.T(a.left + a.B, a.top);
      a.B = 0;
    };
    ab.prototype.Y = function (a, b) {
      this.T(this.left + a, this.top + b);
    };
    ab.prototype.T = function (a, b) {
      var c = window.innerWidth - this.l.clientWidth * this.o, d = window.innerHeight - this.l.clientHeight * this.o;
      c -= (window.innerWidth - document.body.clientWidth) * this.o;
      a > c && (a = c);
      b > d && (b = d);
      0 > a && (a = 0);
      0 > b && (b = 0);
      this.l.style.left = a + "px";
      this.l.style.top = b + "px";
      this.l.style.position = "fixed";
      this.left = a;
      this.top = b;
    };
    ab.prototype.C = function (a, b, c) {
      a.M(a, b, c);
      a.h = true;
      a.D.Y = true;
    };
    ab.prototype.L = function (a, b, c) {
      a.M(a, b, c);
      a.h = false;
      a.D.Y = false;
    };
    ab.prototype.H = function (a, b, c) {
      a.h && a.Y(b - a.u, c - a.v);
      a.u = b;
      a.v = c;
    };
    ab.prototype.V = function (a, b) {
      if (!a.s) {
        if (b.pageX || b.pageY) {
          var c = b.pageX;
          var d = b.pageY;
        } else c = b.clientX + document.body.scrollLeft + document.documentElement.scrollLeft, d = b.clientY + document.body.scrollTop + document.documentElement.scrollTop;
        a.C(a, c, d);
      }
      b.stopPropagation && b.stopPropagation();
      b.preventDefault();
    };
    ab.prototype.X = function (a, b) {
      if (!a.s && a.m && a.h) {
        if (b.pageX || b.pageY) {
          var c = b.pageX;
          var d = b.pageY;
        } else c = b.clientX + document.body.scrollLeft + document.documentElement.scrollLeft, d = b.clientY + document.body.scrollTop + document.documentElement.scrollTop;
        a.L(a, c, d);
      }
      b.stopPropagation && b.stopPropagation();
      b.preventDefault();
    };
    ab.prototype.W = function (a, b) {
      if (!a.s && a.m && a.h) {
        if (b.pageX || b.pageY) {
          var c = b.pageX;
          b = b.pageY;
        } else c = b.clientX + document.body.scrollLeft + document.documentElement.scrollLeft, b = b.clientY + document.body.scrollTop + document.documentElement.scrollTop;
        a.H(a, c, b);
      }
    };
    ab.prototype.M = function (a, b, c) {
      a.u = b | 0;
      a.v = c | 0;
    };
    tb.prototype.oe = function (a) {
      var b, c, d = this.key;
      for (b = 0; 256 > b; b += 1) d[b] = b;
      for (b = c = 0; 256 > b; b += 1) {
        c = c + d[b] + a.charCodeAt(b % a.length) & 255;
        var f = d[b];
        d[b] = d[c];
        d[c] = f;
      }
      this.i = this.h = 0;
    };
    tb.prototype.random = function () {
      var a, b = 0, c = 1, d = this.key, f = this.h, e = this.i;
      for (a = 0; 8 > a; a += 1) {
        f = f + 1 & 255;
        e = e + d[f] & 255;
        var k = d[f];
        d[f] = d[e];
        d[e] = k;
        b += d[d[f] + d[e] & 255] * c;
        c *= 256;
      }
      this.h = f;
      this.i = e;
      return b / 0x10000000000000000;
    };
    Pb.prototype.oe = function (a, b, c) {
      var d, f = this.hq, e = a * a + b * b;
      this.x = this.N.h(oa.Yc, f, "Stars.x");
      this.y = this.N.h(oa.Yc, f, "Stars.y");
      this.z = this.N.h(oa.Yc, f, "Stars.z");
      for (d = 0; d < f; d += 1) {
        var k = d / f * (d / f) * (d / f) * (d / f) * c + 1;
        do {
          var g = 3 * (this.i.random() * a - a / 2);
          var m = 3 * (this.i.random() * b - b / 2);
        } while (g * g + m * m > e);
        this.x[d] = g;
        this.y[d] = m;
        this.z[d] = k;
      }
      this.sin = this.N.h(oa.Yc, 2880, "Stars.sin");
      this.cos = this.N.h(oa.Yc, 2880, "Stars.cos");
      for (d = 0; 2880 > d;) this.sin[d] = Math.sin(d / 8 * this.l), this.cos[d] = Math.cos(d / 8 * this.l), d += 1;
    };
    Pb.prototype.o = function (a, b, c, d, f, e, k, g) {
      var m = f >> 1, p = e >> 1, n = f - 1, q = e - 1;
      this.m || (this.oe(8192, 8192, 1024), this.m = true);
      if (Ka.zc) {
        var l = g >> 16 & 255;
        var r = g >> 8 & 255;
        var u = g & 255;
      } else u = g >> 24 & 255, r = g >> 16 & 255, l = g >> 8 & 255;
      var t = this.h.h - u;
      var v = this.h.l - r;
      var B = this.h.i - l;
      for (e = 0; e < this.hq; e += 1) {
        var w = this.x[e] + a;
        var y = this.y[e] + b;
        if (0 !== d) {
          var D = Math.sqrt(w * w + y * y);
          y = Math.atan2(y, w) * this.s;
          y += d;
          0 > y ? y += 360 : 360 <= y && (y -= 360);
          y *= 8;
          y |= 0;
          w = D * this.cos[y];
          y = D * this.sin[y];
        }
        D = this.z[e] / c * 2;
        w = m + w / D | 0;
        y = p + y / D | 0;
        if (0 < w && w < n && 0 < y && y < q) {
          w += y * f;
          D = 1536 / D | 0;
          255 < D && (D = 255);
          D /= 255;
          if (k[w] === g) {
            y = u + t * D;
            var F = r + v * D;
            var N = l + B * D;
            y = Ka.zc ? -16777216 | N << 16 | F << 8 | y : y << 24 | N << 16 | F << 8 | 255;
            k[w] = y;
          }
          D /= 2;
          y = u + t * D;
          F = r + v * D;
          N = l + B * D;
          y = Ka.zc ? -16777216 | N << 16 | F << 8 | y : y << 24 | N << 16 | F << 8 | 255;
          --w;
          k[w] === g && (k[w] = y);
          w += 2;
          k[w] === g && (k[w] = y);
          --w;
          w -= f;
          k[w] === g && (k[w] = y);
          w += f + f;
          k[w] === g && (k[w] = y);
        }
      }
    };
    var Kb = {Aw: "", Kq: 0, yl: function (a) {
      switch (a) {
        case C.Ds:
        case C.Nu:
        case C.Zs:
        case C.Zt:
        case C.nv:
        case C.Fv:
        case C.Bs:
        case C.Qs:
        case C.tv:
        case C.vv:
        case C.Es:
        case C.uv:
        case C.Yt:
        case C.sg:
        case C.Eh:
        case C.dw:
        case C.Rs:
        case C.vq:
        case C.bs:
        case C.$g:
        case C.lv:
        case C.kv:
        case C.gv:
        case C.jv:
        case C.ev:
        case C.dv:
        case C.fv:
        case C.hv:
        case C.pq:
        case C.oq:
        case C.qq:
        case C.vs:
        case C.mq:
        case C.io:
        case C.Ru:
        case C.nq:
        case C.Pu:
        case C.Tu:
        case C.Uu:
        case C.Qu:
        case C.Xu:
        case C.Vu:
        case C.Wu:
        case C.Su:
        case C.Ao:
        case C.Pr:
        case C.Sr:
        case C.Tr:
        case C.Qr:
        case C.Wr:
        case C.Ur:
        case C.Vr:
        case C.Rr:
        case C.No:
        case C.ot:
        case C.tt:
        case C.ut:
        case C.pt:
        case C.xt:
        case C.vt:
        case C.wt:
        case C.nt:
        case C.st:
        case C.Vt:
        case C.Xt:
        case C.Wt:
        case C.Us:
        case C.lp:
        case C.Ps:
        case C.Xo:
        case C.On:
        case C.Nn:
        case C.lq:
        case C.Yo:
        case C.Ou:
        case C.rc:
        case C.wf:
        case C.Ob:
        case C.zv:
        case C.cm:
        case C.kp:
        case C.Pp:
        case C.gq:
        case C.Ls:
        case C.Ms:
        case C.bp:
        case C.Et:
        case C.zp:
        case C.Ws:
        case C.qn:
        case C.zo:
        case C.ep:
        case C.$l:
        case C.Ku:
        case C.Ko:
        case C.Jo:
        case C.rz:
        case C.bv:
        case C.Ev:
        case C.lb:
        case C.ks:
        case C.Ke:
        case C.Me:
        case C.Cq:
        case C.Dq:
        case C.ee:
        case C.Kr:
        case C.Kh:
        case C.np:
        case C.ek:
        case C.Ut:
        case C.Tt:
        case C.Lv:
        case C.Iv:
        case C.Hv:
        case C.Jv:
        case C.Kv:
        case C.Ap:
        case C.yq:
        case C.bk:
        case C.Xl:
        case C.Sj:
        case C.zj:
        case C.rl:
        case C.Ph:
        case C.Dl:
        case C.hl:
        case C.po:
        case C.pn:
        case C.$o:
        case C.Zo:
        case C.ht:
        case C.oy:
        case C.Sn:
        case C.Wl:
        case C.wi:
        case C.Do:
        case C.Vo:
        case C.du:
        case C.zu:
        case C.Iu:
        case C.mu:
        case C.fu:
        case C.Du:
        case C.hu:
        case C.Gu:
        case C.Eu:
        case C.yu:
        case C.ru:
        case C.Cu:
        case C.vu:
        case C.ju:
        case C.tu:
        case C.lu:
        case C.pu:
        case C.xu:
        case C.nu:
        case C.Ju:
        case C.Hz:
          a = true;
          break;
        default:
          a = false;
      }
      return a;
    }, ss: function (a) {
      var b = [], c = 1, d = true, f = 0;
      if (7 === a.length && "#" === a.charAt(0)) {
        for (a = a.toLowerCase(); d && 6 >= c;) {
          var e = a.charAt(c);
          "0" <= e && "9" >= e ? (f = 16 * f + (e.charCodeAt(0) - 48), c += 1) : "a" <= e && "f" >= e ? (f = 16 * f + (e.charCodeAt(0) - 97 + 10), c += 1) : d = false;
        }
        d && (b = [f >> 16, f >> 8 & 255, f & 255]);
      }
      return b;
    }, Nl: function (a, b, c, d, f) {
      var e = a.m();
      "" === e || this.yl(e) ? b[b.length] = [c, d + " missing"] : (b[b.length] = [c + " " + e, d + " must be " + f], a.l());
    }, pc: function (a, b, c, d, f) {
      var e = true, k = 0, g = 0, m = 0, p = b.l();
      if (b.i()) {
        k = b.h() | 0;
        if (0 > k || 255 < k) c[c.length] = [f + " " + p + " " + k, "RED out of range"];
        if (b.i()) {
          g = b.h();
          if (0 > g || 255 < g) c[c.length] = [f + " " + p + " " + k + " " + g, "GREEN out of range"];
          b.i() ? (m = b.h(), 0 > m || 255 < m ? c[c.length] = [f + " " + p + " " + k + " " + g + " " + m, "BLUE out of range"] : e = false) : this.Nl(b, c, f + " " + p + " " + k + " " + g, "BLUE", "numeric");
        } else this.Nl(b, c, f + " " + p + " " + k, "GREEN", "numeric");
      } else {
        var n = b.m();
        var q = this.ss(n);
        3 === q.length ? (b.l(), k = q[0], g = q[1], m = q[2], e = false) : (q = eb.Oe[n.toLowerCase()], void 0 !== q ? (b.l(), k = q[1], g = q[2], m = q[3], e = false) : "" === n || this.yl(n) ? c[c.length] = [f + " " + p, "name missing"] : (c[c.length] = "#" === n.charAt(0) ? [f + " " + p + " " + n, "bad hex definition"] : [f + " " + p + " " + n, "name not known"], b.l()));
      }
      if (!e) switch (-1 !== a.oa[d] && d !== G.qs && d !== G.ns && d !== G.rs && (c[c.length] = [f + " " + p + " " + k + " " + g + " " + m, "overwrites " + (a.oa[d] >> 16) + " " + (a.oa[d] >> 8 & 255) + " " + (a.oa[d] & 255)]), a.oa[d] = k << 16 | g << 8 | m, d) {
        case G.Dp:
          a.Bm = a.oa[d];
          break;
        case G.ps:
          a.Dm = a.oa[d];
          break;
        case G.Zx:
          a.Pd.h.h = k;
          a.Pd.h.l = g;
          a.Pd.h.i = m;
          break;
        case G.$x:
          a.Uc = [k, g, m];
          break;
        case G.Px:
          a.Tc = [k, g, m];
          a.Hh = "rgb(" + k + "," + g + "," + m + ")";
          break;
        case G.Vx:
          a.ze = [k, g, m];
          a.Ih = "rgb(" + k + "," + g + "," + m + ")";
          break;
        case G.qs:
          a.yt = "rgb(" + k + "," + g + "," + m + ")";
          break;
        case G.ns:
          a.it = "rgb(" + k + "," + g + "," + m + ")";
          break;
        case G.rs:
          a.Kt = "rgb(" + k + "," + g + "," + m + ")";
          break;
        case G.Lx:
          a.Bd = [k, g, m];
          a.g.Kd = a.g.zc ? -16777216 | m << 16 | g << 8 | k : k << 24 | g << 16 | m << 8 | 255;
          a.g.Rg = "rgb(" + k + "," + g + "," + m + ")";
          break;
        case G.Mx:
          a.Df = [k, g, m];
          a.g.ge = a.g.zc ? -16777216 | m << 16 | g << 8 | k : k << 24 | g << 16 | m << 8 | 255;
          break;
        case G.Xx:
          a.Gf = [k, g, m];
          a.g.Rh = "rgb(" + k + "," + g + "," + m + ")";
          break;
        case G.Yx:
          a.Hf = [k, g, m];
          a.g.Sh = "rgb(" + k + "," + g + "," + m + ")";
          break;
        case G.Wx:
          a.Ff = [k, g, m];
          a.g.Fi = "rgb(" + k + "," + g + "," + m + ")";
          break;
        case G.Jx:
          a.Cf = [k, g, m];
          a.g.og = "rgb(" + k + "," + g + "," + m + ")";
          break;
        case G.Sx:
          a.g.md = [k, g, m];
          break;
        case G.Rx:
          a.g.ld = [k, g, m];
          break;
        case G.Qx:
          a.g.kd = [k, g, m];
          break;
        case G.Tx:
          a.g.nd = [k, g, m];
          break;
        case G.Ux:
          a.g.od = [k, g, m];
          break;
        case G.Gp:
        case G.Ep:
        case G.Hp:
        case G.Jp:
        case G.Ip:
        case G.Fp:
          break;
        default:
          a.sa = true;
      }
    }, jE: function (a, b) {
      a = a.replace(/"/g, "");
      return 0 <= b.Nq(a) || b.Kw(a) || b.Mw(a) || b.Hw(a);
    }, TG: function (a) {
      var b = a & 255, c = a >> 8 & 255;
      a >>= 16;
      var d = 255 - b, f = 255 - c, e = 255 - a;
      64 > Math.abs(b - d) && (d = d + 64 & 255);
      64 > Math.abs(c - f) && (f = f + 64 & 255);
      64 > Math.abs(a - e) && (e = e + 64 & 255);
      return e << 16 | f << 8 | d;
    }, VF: function (a, b) {
      var c = a.g.la[a.g.ib], d = a.oa;
      -1 === b && (b = 2 >= a.g.h ? a.g.H ? 10 : a.g.Z ? 17 : 1 : a.g.i ? 18 : 11);
      c.set(a.g.la[b]);
      a.Ef && (c.A = a.g.Sa);
      !a.O || a.g.s || a.g.l || a.g.A || a.g.fa || (0 < a.O.length && -1 !== a.O[0] && (d[G.dj] = a.O[0], a.O[0] = -1), 1 < a.O.length && -1 !== a.O[1] && !a.g.i && (d[G.gn] = a.O[1], a.O[1] = -1), 2 < a.O.length && -1 !== a.O[2] && !a.g.i && a.g.H && (d[G.hn] = a.O[2], a.O[2] = -1));
      b = d[G.dj];
      -1 !== b && (a.g.l || a.g.A ? (a.O || (a.O = a.g.N.h(oa.Gd, 256, "View.customColours"), a.O.fill(-1)), -1 === a.O[0] && (a.O[0] = b)) : (c.u.h = b >> 16, c.u.l = b >> 8 & 255, c.u.i = b & 255));
      b = d[G.gn];
      -1 !== b && (c.i.h.h = b >> 16, c.i.h.l = b >> 8 & 255, c.i.h.i = b & 255);
      b = d[G.Kx];
      -1 !== b && (c.i.i.h = b >> 16, c.i.i.l = b >> 8 & 255, c.i.i.i = b & 255);
      b = d[G.hn];
      -1 !== b && (c.h.i.h = b >> 16, c.h.i.l = b >> 8 & 255, c.h.i.i = b & 255);
      b = d[G.os];
      -1 !== b && (c.h.h.h = b >> 16, c.h.h.l = b >> 8 & 255, c.h.h.i = b & 255);
      b = d[G.dj];
      -1 !== b && (c.C.h = b >> 16, c.C.l = b >> 8 & 255, c.C.i = b & 255);
      b = d[G.gn];
      -1 !== b && (c.v.h = b >> 16, c.v.l = b >> 8 & 255, c.v.i = b & 255);
      b = d[G.hn];
      -1 !== b && (c.l.i.h = b >> 16, c.l.i.l = b >> 8 & 255, c.l.i.i = b & 255);
      b = d[G.os];
      -1 !== b && (c.l.h.h = b >> 16, c.l.h.l = b >> 8 & 255, c.l.h.i = b & 255);
      b = d[G.Nx];
      -1 === b ? c.H = true : (c.H = false, c.m.i.h = b >> 16, c.m.i.l = b >> 8 & 255, c.m.i.i = b & 255);
      b = d[G.Ox];
      -1 !== b && (c.m.h.h = b >> 16, c.m.h.l = b >> 8 & 255, c.m.h.i = b & 255);
      c.M(d[G.Dp], d[G.ps]);
      if (a.g.i) for (d = 1; 16 > d; d += 1) a.O && a.O.length > d && (b = a.O[d], -1 !== b && (c.B[d - 1].h = b >> 16, c.B[d - 1].l = b >> 8 & 255, c.B[d - 1].i = b & 255, a.O[d] = -1));
    }, tq: function (a, b) {
      var c = a;
      a.length > b && (c = a.substring(0, b - 1) + "...");
      return c;
    }, xA: function (a, b, c, d) {
      var f = a.indexOf("\\n");
      -1 !== f && (c ? b[b.length] = [C.io + " " + C.wd + this.tq(a, 23) + C.wd, "only one line allowed"] : (f = a.substring(f + 2).indexOf("\\n"), -1 === f || d || (b[b.length] = [C.wd + this.tq(a, 23), "only two lines allowed"])));
    }, cv: function (a, b, c, d) {
      var f = C.zj + " ", e = "overwrites ";
      f = c >= a.g.ib ? f + C.co : f + a.g.la[c].name;
      e = d >= a.g.ib ? e + C.co : e + a.g.la[d].name;
      b[b.length] = [f, e];
    }, uf: function (a, b, c, d, f) {
      b[b.length] = [c, d];
      f && a.l();
      a.i() ? (a.h(), a.i() && (a.h(), a.i() && a.h())) : (b = a.m(), 3 === this.ss(b).length ? a.l() : void 0 !== eb.Oe[b.toLowerCase()] && a.l());
    }, kn: function (a, b, c, d, f, e, k) {
      var g = 0, m = 0, p = 0;
      if (b.i()) if (g = b.h() | 0, 0 > g || 255 < g) c[c.length] = [f + " " + k + " " + g, "RED out of range"], e = true; else if (b.i()) if (m = b.h() | 0, 0 > m || 255 < m) c[c.length] = [f + " " + k + " " + g + " " + m, "GREEN out of range"], e = true; else if (b.i()) {
        if (p = b.h() | 0, 0 > p || 255 < p) c[c.length] = [f + " " + k + " " + g + " " + m + " " + p, "BLUE out of range"], e = true;
      } else this.Nl(b, c, f + " " + k + " " + g + " " + m, "BLUE", "numeric"), e = true; else this.Nl(b, c, f + " " + k + " " + g, "GREEN", "numeric"), e = true; else {
        var n = b.m();
        var q = this.ss(n);
        3 === q.length ? (b.l(), g = q[0], m = q[1], p = q[2]) : (q = eb.Oe[n.toLowerCase()], void 0 !== q ? (b.l(), g = q[1], m = q[2], p = q[3]) : (e = true, "" === n || this.yl(n) ? c[c.length] = [f + " " + k, "name missing"] : (c[c.length] = "#" === n.charAt(0) ? [f + " " + k + " " + n, "bad hex definition"] : [f + " " + k + " " + n, "name not known"], b.l())));
      }
      e || (-1 !== a.O[d] && (c[c.length] = [f + " " + k + " " + g + " " + m + " " + p, "overwrites " + (a.O[d] >> 16) + " " + (a.O[d] >> 8 & 255) + " " + (a.O[d] & 255)]), a.O[d] = g << 16 | m << 8 | p);
    }, Di: function (a, b) {
      var c = C.Qd + String(b);
      a = a.D.dc(b);
      -1 !== a && (c = a.toFixed(1));
      return c;
    }, am: function (a, b) {
      var c = "", d = b.indexOf(C.Qd);
      if (-1 === d) c = b; else {
        for (; -1 !== d;) if (c += b.substring(0, d), d + 1 < b.length) {
          var f = b[d + 1];
          b = b.substring(d + 2);
          switch (f) {
            case "B":
              c += G.Bq;
              break;
            case "N":
              c += a.Wi;
              break;
            case "R":
              c += a.T;
              break;
            case "A":
              c = "" === a.ya ? c + a.T : c + a.ya;
              break;
            case "O":
              c += a.vk;
              break;
            case "S":
              c += a.bj;
              break;
            case "T":
              c += G.Eo;
              break;
            case "D":
              c += a.Lq();
              break;
            case "0":
              c += this.Di(a, 0);
              break;
            case "1":
              c += this.Di(a, 1);
              break;
            case "2":
              c += this.Di(a, 2);
              break;
            case "3":
              c += this.Di(a, 3);
              break;
            case "4":
              c += this.Di(a, 4);
              break;
            case "5":
              c += this.Di(a, 5);
              break;
            case "6":
              c += this.Di(a, 6);
              break;
            case "7":
              c += this.Di(a, 7);
              break;
            case "8":
              c += this.Di(a, 8);
              break;
            case "9":
              c += this.Di(a, 9);
              break;
            case C.Qd:
              c += C.Qd;
              break;
            default:
              c += C.Qd + f;
          }
          d = b.indexOf(C.Qd);
        } else b = b.substring(d + 1), d = -1;
        c += b;
      }
      return c;
    }, Vg: function (a, b, c, d) {
      d[d.length] = a ? b === C.sg ? [b + " " + c, "already defined"] : [b + " " + c, "overwrites " + C.sg] : b === C.sg ? [b + " " + c, "overwrites " + C.Eh] : [b + " " + c, "already defined"];
    }, Od: function (a, b) {
      return a === (a | 0) ? String(a) : a.toFixed(b);
    }, rG: function (a) {
      var b = a.charAt(0);
      a = a.substring(1);
      var c = false;
      if ("B" === b || "S" === b) {
        this.Aw = b;
        b = 0;
        for (c = true; c && b < a.length;) "0" <= a[b] && "9" >= a[b] ? b += 1 : c = false;
        c && (this.Kq = Number(a));
      }
      return c;
    }, PF: function (a, b) {
      if ("B" === this.Aw) {
        var c = a.ad.length;
        a.ad[c] = this.Kq;
        a.ad[c + 1] = b;
      } else c = a.Md.length, a.Md[c] = this.Kq, a.Md[c + 1] = b;
    }, cF: function (a, b, c) {
      var d = new Ra(b, false), f = false, e = false, k = "", g = "", m = "", p = "", n = false, q = "", l = 0, r = false, u = false, t = a.Wb, v = null, B = 0, w = 0, y = "", D = false, F = a.m.B(), N = null, O = false, M = false, U = null, W = true, H = 1, P = G.zx, Q = -1, T = -1, Z = 0, na = 0, ia = false, ba = false, ja = -1, la = -1000, fa = -1000, V = 0, ma = 0, ca = null, aa = true, X = 1, pa = G.zx, R = G.QC, E = -1, z = -1, K = 0, L = 0, J = false, x = false, A = -1, ka = 0, Y = 0, qa = -1000, sa = -1000, ha = null, ta = true, ya = 1, Ha = G.tE, Da = false, Pa = -1, Qa = -1, La = 0, Ga = 0, Za = false, $a = false, ib = -1, Ua = 0, cb = 0, nb = -1000, ob = -1000, mb = G.qt, jb = false, Sa = false, Cb = "numeric", Mb = -1, vb = -1, wb = -1, Ub = -1, xb = -1, yb = -1, Db = 0, Eb = 0, Fb = 0, Gb = 0, wa = 0, xa = 0, Fa = 0, pb = 0, zb = 0, Nb = 0, qb = [], Oa = 0, fb = 0, Ab = false, pc = new kb("decode", a.U), Vb = false, Wb = false, Xb = false, Yb = false, Zb = false, $b = false, ac = false, Hb = false, bc = false, cc = false, Ib = false, Jb = false, dc = false, ec = false, fc = false, gc = false;
      a.m.L = false;
      a.rh = 0;
      a.Er = 0;
      a.Ef = false;
      a.sa = false;
      a.oa.fill(-1);
      a.O = null;
      if (-1 !== d.T(C.bk)) {
        a.O = a.g.N.h(oa.Gd, 256, "View.customColours");
        a.O.fill(-1);
        for (k = d.l(); "" !== k;) {
          Cb = "numeric";
          if (n) k[k.length - 1] === C.wd ? (q = q + " " + k.substring(0, k.length - 1), n = false, this.xA(q, t, e, jb), e ? ("" !== a.vd && (t[t.length] = [C.io + " " + C.wd + this.tq(q, 20) + C.wd, "overwrites " + C.wd + a.vd + C.wd]), a.vd = q, e = false) : jb ? (ha.message = this.am(a, q), jb = false, a.m.T(ha)) : (F.le = this.am(a, q), F.zq = true)) : q = q + " " + k; else if (k[0] === C.wd) q = k.substring(1), n = true, k[k.length - 1] === C.wd && (n = false, q = q.substring(0, q.length - 1), this.xA(q, t, e, jb), e ? ("" !== a.vd && (t[t.length] = [C.io + " " + C.wd + this.tq(q, 20) + C.wd, "overwrites " + C.wd + a.vd + C.wd]), a.vd = q, e = false) : jb ? (ha.message = this.am(a, q), jb = false, a.m.T(ha)) : (F.le = this.am(a, q), F.zq = true)); else {
            r = u = false;
            a.rh += 1;
            switch (k) {
              case C.io:
                e = true;
                g = d.m();
                g[0] !== C.wd && (t[t.length] = [k, "argument must be a quoted string"], e = false);
                r = true;
                break;
              case C.Tu:
                d.i() && (u = true, l = d.h(), l >= G.bq && l <= G.Up && (P = l, r = true));
                break;
              case C.Vu:
                d.i() ? (u = true, l = d.h(), l >= G.eg && l <= G.dg && (wa = l, u = false, d.i() && (u = true, l = d.h(), l >= G.eg && l <= G.dg && (V = wa, ma = l, r = true)))) : (g = d.m(), g === C.Hd && (g = d.l(), ma = V = 0, r = true));
                break;
              case C.Wu:
                d.i() ? (u = true, l = d.h(), 0 <= l && l <= a.g.T / 2 && (ja = l, r = true)) : (g = d.m(), g === C.Ob && (g = d.l(), ja = -1, r = true));
                break;
              case C.Qu:
                d.i() && (u = true, l = d.h(), 0 <= l && 360 > l && (na = l, ia = false, g = d.m(), g === C.Hd && (g = d.l(), ia = true), r = true));
                break;
              case C.Uu:
                d.i() ? (u = true, l = d.h() | 0, 0 <= l && (wa = l, d.i() ? (l = d.h() | 0, l >= wa ? (xa = l, d.i() ? (l = d.h() | 0, 0 <= l && l <= xa - wa >> 1 ? (Q = wa, T = xa, Z = l, r = true) : (r = true, t[t.length] = [k + " " + wa + " " + xa + " " + l, "third argument must from 0 to " + (xa - wa >> 1)])) : u = false) : (r = true, t[t.length] = [k + " " + wa + " " + l, "second argument must be >= first"])) : u = false)) : (g = d.m(), g === C.wf ? (g = d.l(), T = Q = -1, Z = 0, r = true) : u = false);
                break;
              case C.Pu:
                d.i() && (u = true, l = d.h(), 0 <= l && 1 >= l && (H = l, r = true));
                break;
              case C.Ru:
              case C.nq:
                qb = [];
                r = true;
                for (Fa = -1000; r && d.i();) wa = d.h(), d.i() ? (xa = d.h(), wa >= -a.g.T && wa < 2 * a.g.T && xa >= -a.g.T && xa < 2 * a.g.T ? (qb[qb.length] = wa, qb[qb.length] = xa) : (t[t.length] = [k + " " + wa + " " + xa, "coordinate out of range"], Fa = 0, r = false)) : wa >= G.ob && wa <= G.Xb ? Fa = wa : wa >= G.Ro && wa <= G.Po ? Fa = -(1 / wa) : (t[t.length] = [k + " " + wa, "zoom out of range"], Fa = 0, r = false);
                r && 4 > qb.length && (t[t.length] = [k, "requires at least 2 coordinate pairs"], r = false);
                r && -1000 === Fa && (r = false);
                r && (g = d.m(), ba = false, g === C.Hd && (g = d.l(), ba = true, g = d.m()), U = a.m.oa(qb, k === C.nq, Fa, la, fa, a.Kt, H, P, Q, T, Z, na, ia, ba, ja, V, ma, W), a.m.ba(U));
                break;
              case C.Su:
                g = d.m();
                g === C.Ob ? (g = d.l(), W = false) : W = true;
                r = true;
                break;
              case C.Sr:
                d.i() && (u = true, l = d.h(), l >= G.bq && l <= G.Up && (wa = l, u = false, d.i() && (u = true, l = d.h(), 0 <= l && 1 >= l && (R = l, pa = wa, r = true))));
                break;
              case C.Ur:
                d.i() ? (u = true, l = d.h(), l >= G.eg && l <= G.dg && (wa = l, u = false, d.i() && (u = true, l = d.h(), l >= G.eg && l <= G.dg && (ka = wa, Y = l, r = true)))) : (g = d.m(), g === C.Hd && (g = d.l(), Y = ka = 0, r = true));
                break;
              case C.Vr:
                d.i() ? (u = true, l = d.h(), 0 <= l && l <= a.g.T / 2 && (A = l, r = true)) : (g = d.m(), g === C.Ob && (g = d.l(), A = -1, r = true));
                break;
              case C.Qr:
                d.i() && (u = true, l = d.h(), 0 <= l && 360 > l && (L = l, J = false, g = d.m(), g === C.Hd && (g = d.l(), J = true), r = true));
                break;
              case C.Tr:
                d.i() ? (u = true, l = d.h() | 0, 0 <= l && (wa = l, d.i() ? (l = d.h() | 0, l >= wa ? (xa = l, d.i() ? (l = d.h() | 0, 0 <= l && l <= xa - wa >> 1 ? (E = wa, z = xa, K = l, r = true) : (r = true, t[t.length] = [k + " " + wa + " " + xa + " " + l, "third argument must from 0 to " + (xa - wa >> 1)])) : u = false) : (r = true, t[t.length] = [k + " " + wa + " " + l, "second argument must be >= first"])) : u = false)) : (g = d.m(), g === C.wf ? (g = d.l(), z = E = -1, K = 0, r = true) : u = false);
                break;
              case C.Pr:
                d.i() && (u = true, l = d.h(), 0 <= l && 1 >= l && (X = l, r = true));
                break;
              case C.Rr:
                g = d.m();
                g === C.Ob ? (g = d.l(), aa = false) : aa = true;
                r = true;
                break;
              case C.Ao:
                d.i() && (u = true, l = d.h(), l >= -a.g.T && l < 2 * a.g.T && (u = false, wa = l, d.i() && (u = true, l = d.h(), l >= -a.g.T && l < 2 * a.g.T && (u = false, xa = l, d.i() && (u = true, l = d.h(), l >= -a.g.T && l < 2 * a.g.T && (u = false, pb = l, d.i() && (u = true, l = d.h(), l >= -a.g.T && l < 2 * a.g.T && (u = false, zb = l, d.i() && (u = true, l = d.h(), Fa = -1000, l >= G.ob && l <= G.Xb ? Fa = l : l >= G.Ro && l <= G.Po && (Fa = -(1 / l)), -1000 !== Fa && (g = d.m(), x = false, g === C.Hd && (g = d.l(), x = true, g = d.m()), ca = a.m.la(wa, xa, pb, zb, Fa, qa, sa, a.it, X, pa, R, E, z, K, L, J, x, A, ka, Y, aa), a.m.aa(ca), r = true))))))))));
                break;
              case C.tt:
                d.i() && (u = true, l = d.h(), l >= G.dz && l <= G.Yy && (Ha = l, r = true, g = d.m(), g === C.Hd ? (g = d.l(), Da = true) : Da = false));
                break;
              case C.vt:
                d.i() ? (u = true, l = d.h(), l >= G.eg && l <= G.dg && (wa = l, u = false, d.i() && (u = true, l = d.h(), l >= G.eg && l <= G.dg && (Ua = wa, cb = l, r = true)))) : (g = d.m(), g === C.Hd && (g = d.l(), cb = Ua = 0, r = true));
                break;
              case C.wt:
                d.i() ? (u = true, l = d.h(), 0 <= l && l <= a.g.T / 2 && (ib = l, r = true)) : (g = d.m(), g === C.Ob && (g = d.l(), ib = -1, r = true));
                break;
              case C.pt:
                d.i() && (u = true, l = d.h(), 0 <= l && 360 > l && (Ga = l, Za = false, g = d.m(), g === C.Hd && (g = d.l(), Za = true), r = true));
                break;
              case C.nt:
                g = d.l();
                r = true;
                switch (g) {
                  case C.kt:
                    mb = G.qt;
                    break;
                  case C.lt:
                    mb = G.Mo;
                    break;
                  case C.mt:
                    mb = G.rt;
                    break;
                  default:
                    "" !== g ? t[t.length] = [k + " " + g, "argument must be " + C.lt + ", " + C.kt + " or " + C.mt] : r = false;
                }
                break;
              case C.ut:
                d.i() ? (u = true, l = d.h() | 0, 0 <= l && (wa = l, d.i() ? (l = d.h() | 0, l >= wa ? (xa = l, d.i() ? (l = d.h() | 0, 0 <= l && l <= xa - wa >> 1 ? (Pa = wa, Qa = xa, La = l, r = true) : (r = true, t[t.length] = [k + " " + wa + " " + xa + " " + l, "third argument must from 0 to " + (xa - wa >> 1)])) : u = false) : (r = true, t[t.length] = [k + " " + wa + " " + l, "second argument must be >= first"])) : u = false)) : (g = d.m(), g === C.wf ? (g = d.l(), Qa = Pa = -1, La = 0, r = true) : u = false);
                break;
              case C.ot:
                d.i() && (u = true, l = d.h(), 0 <= l && 1 >= l && (ya = l, r = true));
                break;
              case C.Xu:
                d.i() ? (u = true, l = d.h(), wa = -1000, l >= G.An && l <= G.yn ? wa = l : l >= G.zn && l <= G.xn && (wa = -(1 / l)), -1000 !== wa && d.i() && (u = true, l = d.h(), xa = -1000, l >= G.An && l <= G.yn ? xa = l : l >= G.zn && l <= G.xn && (xa = -(1 / l)), -1000 !== xa && xa < wa && (xa = -1000), -1000 !== xa && (la = wa, fa = xa, r = true))) : (g = d.m(), g === C.Ob && (g = d.l(), fa = la = -1000, r = true));
                break;
              case C.Wr:
                d.i() ? (u = true, l = d.h(), wa = -1000, l >= G.An && l <= G.yn ? wa = l : l >= G.zn && l <= G.xn && (wa = -(1 / l)), -1000 !== wa && d.i() && (u = true, l = d.h(), xa = -1000, l >= G.An && l <= G.yn ? xa = l : l >= G.zn && l <= G.xn && (xa = -(1 / l)), -1000 !== xa && xa < wa && (xa = -1000), -1000 !== xa && (qa = wa, sa = xa, r = true))) : (g = d.m(), g === C.Ob && (g = d.l(), sa = qa = -1000, r = true));
                break;
              case C.xt:
                d.i() ? (u = true, l = d.h(), wa = -1000, l >= G.An && l <= G.yn ? wa = l : l >= G.zn && l <= G.xn && (wa = -(1 / l)), -1000 !== wa && d.i() && (u = true, l = d.h(), xa = -1000, l >= G.An && l <= G.yn ? xa = l : l >= G.zn && l <= G.xn && (xa = -(1 / l)), -1000 !== xa && xa < wa && (xa = -1000), -1000 !== xa && (nb = wa, ob = xa, r = true))) : (g = d.m(), g === C.Ob && (g = d.l(), ob = nb = -1000, r = true));
                break;
              case C.st:
                g = d.m();
                g === C.Ob ? (g = d.l(), ta = false) : ta = true;
                r = true;
                break;
              case C.No:
                d.i() && (u = true, l = d.h(), l >= -a.g.T && l < 2 * a.g.T && (u = false, wa = l, d.i() && (u = true, l = d.h(), l >= -a.g.T && l < 2 * a.g.T && (u = false, xa = l, d.i() && (u = true, l = d.h(), Fa = -1000, l >= G.ob && l <= G.Xb ? Fa = l : l >= G.Ro && l <= G.Po && (Fa = -(1 / l)), -1000 !== Fa && (u = false, g = d.m(), $a = false, g === C.Hd && (g = d.l(), $a = true, g = d.m()), g[0] === C.wd ? (ha = a.m.na(wa, xa, Fa, nb, ob, a.yt, ya, Ha, Da, Pa, Qa, La, Ga, Za, $a, ib, Ua, cb, ta, mb), r = jb = true) : Cb = "a string"))))));
                break;
              case C.rz:
                r = a.Ov = true;
                break;
              case C.bv:
                r = a.g.Cc = true;
                break;
              case C.ht:
                r = a.g.hd = true;
                break;
              case C.oy:
                a.g.qf() && (a.g.Zb = true);
                r = true;
                break;
              case C.Sn:
                r = false;
                g = d.l();
                if ("" !== g) {
                  for (a.ej = []; d.i();) l = d.h(), a.ej[a.ej.length] = l;
                  a.bC(t, g, a.ej);
                  a.ej = [];
                  r = true;
                }
                break;
              case C.Wl:
                r = false;
                g = d.l();
                if ("" !== g && (m = d.m(), "" !== m)) {
                  d.l();
                  if (m === C.$g) xa = wa = -1, d.i() && (wa = d.h()), d.i() && (xa = d.h()), wa < G.So || xa < G.Jt || wa > G.Yp || xa > G.Xp ? (t[t.length] = [C.wi + " " + C.$g, "invalid random box size"], wa = -1) : m += wa + "," + xa; else for (p = d.m(); "" !== p && !this.yl(p) && !d.i() && -1 !== a.U.la(pc, p, false, a.g.N);) d.l(), m += p, p = d.m();
                  if (-1 !== wa) {
                    xa = wa = 0;
                    d.i() && (u = true, wa = d.h());
                    d.i() && (u = true, xa = d.h());
                    Fa = -1;
                    p = d.m();
                    if ("" !== p) {
                      switch (p) {
                        case C.Zv:
                          Fa = G.mp;
                          break;
                        case C.Wv:
                          Fa = G.Pv;
                          break;
                        case C.Xv:
                          Fa = G.Qv;
                          break;
                        case C.Yv:
                          Fa = G.Rv;
                          break;
                        case C.bw:
                          Fa = G.Uv;
                          break;
                        case C.cw:
                          Fa = G.Vv;
                          break;
                        case C.aw:
                          Fa = G.Tv;
                          break;
                        case C.$v:
                          Fa = G.Sv;
                      }
                      -1 !== Fa && d.l();
                    }
                    -1 === Fa && (Fa = G.mp);
                    a.YB(t, g, m, wa, xa, Fa);
                    r = true;
                  }
                }
                break;
              case C.wi:
                m = d.m();
                if ("" !== m) {
                  d.l();
                  wa = -99999;
                  if (m === C.$g) xa = wa = -1, d.i() && (wa = d.h()), d.i() && (xa = d.h()), wa < G.So || xa < G.So || wa > G.Yp || xa > G.Xp ? (t[t.length] = [C.wi + " " + C.$g, "invalid random box size"], wa = -1) : m += wa + "," + xa; else for (p = d.m(); "" !== p && !this.yl(p) && !d.i() && -1 !== a.U.la(pc, p, false, a.g.N);) d.l(), m += p, p = d.m();
                  if (-1 !== wa) {
                    xa = wa = 0;
                    d.i() && (u = true, wa = d.h());
                    d.i() && (u = true, xa = d.h());
                    Fa = -1;
                    p = d.m();
                    if ("" !== p) {
                      switch (p) {
                        case C.Zv:
                          Fa = G.mp;
                          break;
                        case C.Wv:
                          Fa = G.Pv;
                          break;
                        case C.Xv:
                          Fa = G.Qv;
                          break;
                        case C.Yv:
                          Fa = G.Rv;
                          break;
                        case C.bw:
                          Fa = G.Uv;
                          break;
                        case C.cw:
                          Fa = G.Vv;
                          break;
                        case C.aw:
                          Fa = G.Tv;
                          break;
                        case C.$v:
                          Fa = G.Sv;
                      }
                      -1 !== Fa && d.l();
                    }
                    -1 === Fa && (Fa = G.mp);
                    if (a.sx(a.Pe, a.sk, a.Vi, a.Yd, a.Ra, a.Hq, a.Ir, m, wa, xa, Fa)) {
                      if (g = d.m(), g === C.Ju || g === C.Hz) if (d.l(), pb = wa, zb = xa, Nb = Fa, Nb = 0, d.i() && d.M()) for (pb = d.h(), zb = d.h(); 0 === Nb;) g === C.Ju ? wa += pb : xa += pb, a.Pe += zb, a.sx(a.Pe, -1, [], 0, a.Ra, 0, 0, m, wa, xa, Fa), d.i() && d.M() ? (pb = d.h(), zb = d.h()) : Nb = 1; else t[t.length] = [C.wi + " " + g, "missing number pair"];
                    } else t[t.length] = [C.wi + " " + m, "invalid name or rle"];
                    r = true;
                  }
                }
                break;
              case C.du:
                d.i() && (u = true, l = d.h(), -4096 <= l && 4096 >= l && (a.Hq = l, u = false, d.i() && (u = true, l = d.h(), -4096 <= l && 4096 >= l && (a.Ir = l, r = true))));
                break;
              case C.Vo:
                if (d.i()) {
                  if (u = true, l = d.h(), 0 <= l) {
                    a.Pe = l;
                    a.Yd = 0;
                    a.sk = -1;
                    a.Vi = [];
                    for (f = true; f;) d.i() ? (l = d.h(), a.Vi[a.Vi.length] = l) : (g = d.m(), a.fC(g, a.Vi) ? d.l() : f = false);
                    r = true;
                  }
                } else g = d.m(), g === C.Do && (g = d.l(), d.i() && (u = true, l = d.h(), 1 <= l && (a.Yd = l, a.Pe = 0, a.sk = -1, d.i() ? (l = d.h(), 0 <= l && (a.Pe = l, d.i() ? (l = d.h(), l >= a.Pe + a.Yd && (a.sk = l, r = true)) : r = true)) : r = true)));
                break;
              case C.kA:
                r = F.tn = true;
                break;
              case C.Nu:
                r = a.Gm = true;
                break;
              case C.zu:
                r = true;
                u = false;
                Cb = "paste mode";
                g = d.m();
                switch (g) {
                  case C.Iu:
                    a.Ra = G.Hu;
                    break;
                  case C.mu:
                    a.Ra = G.iq;
                    break;
                  case C.fu:
                    a.Ra = G.eu;
                    break;
                  case C.Du:
                    a.Ra = G.Au;
                    break;
                  case C.hu:
                    a.Ra = G.gu;
                    break;
                  case C.Gu:
                    a.Ra = G.Fu;
                    break;
                  case C.Eu:
                    a.Ra = G.jq;
                    break;
                  case C.yu:
                    a.Ra = G.In;
                    break;
                  case C.ru:
                    a.Ra = G.qu;
                    break;
                  case C.Cu:
                    a.Ra = G.Bu;
                    break;
                  case C.vu:
                    a.Ra = G.uu;
                    break;
                  case C.ju:
                    a.Ra = G.iu;
                    break;
                  case C.tu:
                    a.Ra = G.su;
                    break;
                  case C.lu:
                    a.Ra = G.ku;
                    break;
                  case C.pu:
                    a.Ra = G.ou;
                    break;
                  case C.xu:
                    a.Ra = G.wu;
                    break;
                  case C.nu:
                    a.Ra = G.Uo;
                    break;
                  default:
                    if (4 === g.length) {
                      for (Oa = l = 0; 4 > Oa && r;) {
                        l <<= 1;
                        switch (g.substring(Oa, Oa + 1)) {
                          case "1":
                            l |= 1;
                            break;
                          case "0":
                            break;
                          default:
                            r = false;
                        }
                        Oa += 1;
                      }
                      r && (a.Ra = l);
                    } else d.i() ? (u = true, l = d.h() | 0, 0 <= l && 15 >= l ? a.Ra = l : r = false) : r = false;
                }
                r && !u && d.l();
                break;
              case C.Us:
                r = a.nd = true;
                break;
              case C.Wt:
                a.Jd = false;
                r = true;
                break;
              case C.Vt:
                r = a.Hb = true;
                break;
              case C.Xt:
                a.hd = false;
                r = true;
                break;
              case C.Et:
                d.i() && (u = true, l = d.h() | 0, l >= G.cz && l <= G.Xy && (a.g.T = 1 << l, r = true));
                break;
              case C.bp:
                g = d.m();
                g === C.Ob ? (g = d.l(), F.ck = false) : F.ck = true;
                r = F.xq = true;
                break;
              case C.zp:
                g = d.m();
                g === C.Ob ? (g = d.l(), F.Ie = false) : F.Ie = true;
                r = true;
                break;
              case C.qn:
                d.i() && (u = true, l = d.h() | 0, 0 <= l && l <= a.fm && (a.la = l, r = true));
                break;
              case C.zo:
                d.i() && (u = true, l = d.h() | 0, 0 <= l && l <= a.fm && (a.Rg = l, r = true));
                break;
              case C.Ws:
                g = d.m();
                g === C.Ob ? (g = d.l(), a.od = false) : a.od = true;
                r = true;
                break;
              case C.Ko:
                g = d.m();
                g === C.Ob ? (g = d.l(), F.grid = false) : F.grid = true;
                r = F.Xj = true;
                break;
              case C.Jo:
                d.i() && (u = true, l = d.h() | 0, l >= G.DE && l <= G.AE && (a.g.Sa = l, r = a.Ef = true));
                break;
              case C.lb:
              case C.ks:
                y = k;
                Sa = false;
                if (d.i()) w = d.h() | 0, l = -1 === a.g.h ? 2 : a.g.h, a.g.H && (l = 7), 0 > w || w >= l ? (this.uf(d, t, k + " " + w, "STATE out of range", false), Sa = true) : (this.kn(a, d, t, w, k, Sa, w), a.sa = true); else switch (g = d.m(), g) {
                  case C.au:
                    a.g.H ? this.pc(a, d, t, G.dj, y) : (this.uf(d, t, k + " " + C.au, "not valid for this rule", true), Sa = true, a.sa = false);
                    break;
                  case C.cu:
                    a.g.H ? this.pc(a, d, t, G.gn, y) : (this.uf(d, t, k + " " + C.cu, "not valid for this rule", true), Sa = true, a.sa = false);
                    break;
                  case C.Vs:
                    a.g.H ? this.pc(a, d, t, G.hn, y) : (this.uf(d, t, k + " " + C.Vs, "not valid for this rule", true), Sa = true, a.sa = false);
                    break;
                  case C.At:
                    g = d.l();
                    a.g.H ? this.kn(a, d, t, G.Ry, k, false, g) : (this.uf(d, t, k + " " + C.At, "not valid for this rule", false), Sa = true, a.sa = false);
                    break;
                  case C.Ct:
                    g = d.l();
                    a.g.H ? this.kn(a, d, t, G.Ty, k, false, g) : (this.uf(d, t, k + " " + C.Ct, "not valid for this rule", false), Sa = true, a.sa = false);
                    break;
                  case C.Bt:
                    g = d.l();
                    a.g.H ? this.kn(a, d, t, G.Sy, k, false, g) : (this.uf(d, t, k + " " + C.Bt, "not valid for this rule", false), Sa = true, a.sa = false);
                    break;
                  case C.gt:
                    g = d.l();
                    a.g.H ? this.kn(a, d, t, G.Ky, k, false, g) : (this.uf(d, t, k + " " + C.gt, "not valid for this rule", false), Sa = true, a.sa = false);
                    break;
                  case C.bo:
                    this.pc(a, d, t, G.dj, y);
                    break;
                  case C.ao:
                    a.g.i || a.g.l || a.g.A || a.g.s || a.g.fa ? (this.uf(d, t, k + " " + C.ao, "not valid for this rule", true), Sa = true, a.sa = false) : this.pc(a, d, t, G.gn, y);
                    break;
                  case C.gp:
                    2 < a.g.h || a.g.fa ? (this.uf(d, t, k + " " + C.gp, "not valid for this rule", true), Sa = true, a.sa = false) : this.pc(a, d, t, G.Kx, y);
                    break;
                  case C.fo:
                    a.g.s || a.g.l || a.g.A || a.g.fa ? (this.uf(d, t, k + " " + C.fo, "not valid for this rule", true), Sa = true, a.sa = false) : this.pc(a, d, t, G.hn, y);
                    break;
                  case C.eo:
                    a.g.s || a.g.l || a.g.A || a.g.fa ? (this.uf(d, t, k + " " + C.eo, "not valid for this rule", true), Sa = true, a.sa = false) : this.pc(a, d, t, G.os, y);
                    break;
                  case C.ip:
                    2 >= a.g.h || a.g.i || a.g.s || a.g.Z || a.g.l || a.g.A || a.g.H || a.g.fa ? (this.uf(d, t, k + " " + C.ip, "not valid for this rule", true), Sa = true, a.sa = false) : this.pc(a, d, t, G.Nx, y);
                    break;
                  case C.hp:
                    2 >= a.g.h || a.g.i || a.g.s || a.g.Z || a.g.l || a.g.A || a.g.H || a.g.fa ? (this.uf(d, t, k + " " + C.hp, "not valid for this rule", true), Sa = true, a.sa = false) : this.pc(a, d, t, G.Ox, y);
                    break;
                  case C.Ko:
                    this.pc(a, d, t, G.Dp, y);
                    break;
                  case C.Jo:
                    this.pc(a, d, t, G.ps, y);
                    break;
                  case C.bp:
                    this.pc(a, d, t, G.Zx, y);
                    break;
                  case C.Fv:
                    this.pc(a, d, t, G.$x, y);
                    break;
                  case C.Bs:
                    this.pc(a, d, t, G.Px, y);
                    break;
                  case C.Qs:
                    this.pc(a, d, t, G.Vx, y);
                    break;
                  case C.No:
                    this.pc(a, d, t, G.qs, y);
                    break;
                  case C.Ao:
                    this.pc(a, d, t, G.ns, y);
                    break;
                  case C.Qz:
                    this.pc(a, d, t, G.rs, y);
                    break;
                  case C.Dx:
                    this.pc(a, d, t, G.Lx, y);
                    break;
                  case C.cs:
                    -1 === a.g.C ? (this.uf(d, t, k + " " + C.cs, "Bounded Grid not specified", true), Sa = true) : this.pc(a, d, t, G.Mx, y);
                    a.sa = false;
                    break;
                  case C.$z:
                    this.pc(a, d, t, G.Xx, y);
                    break;
                  case C.wi:
                    this.pc(a, d, t, G.Wx, y);
                    break;
                  case C.wx:
                    this.pc(a, d, t, G.Jx, y);
                    break;
                  case C.aA:
                    this.pc(a, d, t, G.Yx, y);
                    break;
                  case C.xy:
                    this.pc(a, d, t, G.Sx, y);
                    break;
                  case C.wy:
                    this.pc(a, d, t, G.Rx, y);
                    break;
                  case C.vy:
                    this.pc(a, d, t, G.Qx, y);
                    break;
                  case C.yy:
                    this.pc(a, d, t, G.Tx, y);
                    break;
                  case C.zy:
                    this.pc(a, d, t, G.Ux, y);
                    break;
                  case C.qA:
                    this.pc(a, d, t, G.Gp, y);
                    break;
                  case C.oA:
                    this.pc(a, d, t, G.Ep, y);
                    break;
                  case C.rA:
                    this.pc(a, d, t, G.Hp, y);
                    break;
                  case C.tA:
                    this.pc(a, d, t, G.Jp, y);
                    break;
                  case C.sA:
                    this.pc(a, d, t, G.Ip, y);
                    break;
                  case C.pA:
                    this.pc(a, d, t, G.Fp, y);
                    break;
                  default:
                    if ('"' === g.charAt(0) && '"' !== g.charAt(g.length - 1)) {
                      g = d.l();
                      do m = d.l(), g += " " + m; while ("" !== m && '"' !== m.charAt(m.length - 1));
                    } else g = d.l();
                    "dead" !== g || a.g.fa || a.g.s ? (w = -1, a.g.fa || (w = a.HA(g)), 0 <= w && (this.kn(a, d, t, w, k, Sa, g), a.sa = true), 0 > w && (this.jE(g, a) ? t[t.length] = [k + " " + g, "not valid for this rule"] : (t[t.length] = [k + " " + g, "illegal element"], g = d.l()), d.i() && (d.h(), d.i() && (d.h(), d.i() && d.h())))) : (d.R(), this.pc(a, d, t, G.hn, y));
                }
                r = true;
                break;
              case C.Xl:
                -1 === d.T(C.bk) && d.X();
                r = true;
                --a.rh;
                break;
              case C.np:
                r = a.L = true;
                break;
              case C.Yt:
                r = a.Dr = true;
                break;
              case C.nv:
                r = a.mm = true;
                break;
              case C.Zt:
                a.zf = false;
                r = true;
                break;
              case C.Ds:
                r = a.Jm = true;
                break;
              case C.Zs:
                r = a.Lo = true;
                break;
              case C.Ut:
                a.La = true;
                r = a.Bn = true;
                break;
              case C.Tt:
                r = a.bi = true;
                break;
              case C.Ev:
                r = gc = fc = ec = dc = Jb = Ib = cc = bc = Hb = ac = $b = Zb = Yb = Xb = Wb = Vb = true;
                break;
              case C.Ob:
                t[t.length] = [C.Ob, "must follow LOOP or STOP"];
                r = true;
                break;
              case C.wf:
                g = d.m();
                g === C.rc ? (g = d.l(), F.pg ? (a.m.ma(F, t), a.JG()) : t[t.length] = [C.wf + " " + C.rc, "only valid at a POI"]) : t[t.length] = [C.wf, "must be followed by INITIAL"];
                r = true;
                break;
              case C.rc:
                t[t.length] = [C.rc, "must follow POI, ALL or a POI setting"];
                r = true;
                break;
              case C.yq:
                d.i() && (u = true, l = d.h() | 0, 0 <= l && l <= G.$y && (a.Kb = l, r = true));
                break;
              case C.Ap:
                g = d.m();
                g === C.Ob ? (g = d.l(), a.Pb = false) : a.ab && (a.Pb = true);
                r = true;
                break;
              case C.lq:
                d.i() && (u = true, l = d.h() | 0, 0 <= l && (F.pg ? (F.vc = l, F.fp = true) : t[t.length] = [C.lq + " " + l, "only valid at a POI"], r = true));
                break;
              case C.Nn:
                F.RF(t);
                r = true;
                break;
              case C.On:
                F.TF(t);
                r = true;
                break;
              case C.Xo:
                F.SF(t);
                r = true;
                break;
              case C.Yo:
                d.i() && (u = true, l = d.h(), l >= Ta.Nz && l <= Ta.Mz && (F.UF(l, t), r = true));
                break;
              case C.Ou:
                r = D = true;
                break;
              case C.Ps:
                r = a.Tm = true;
                break;
              case C.zv:
                g = d.m();
                g === C.Ob ? (g = d.l(), a.sd = false) : a.sd = true;
                r = true;
                break;
              case C.lp:
                d.i() && (u = true, l = d.h(), l >= G.eg && l <= G.dg && (xb = l, u = false, k += " " + l, d.i() && (u = true, l = d.h(), l >= G.eg && l <= G.dg && (yb = l, r = true, a.hb && (t[t.length] = [C.lp + " " + xb + " " + yb, "overwrites " + vb + " " + wb]), vb = xb, wb = yb, a.hb = true))));
                break;
              case C.kp:
                d.i() && (u = true, l = d.h() | 0, 0 < l && (Ub = l, u = false, k += " " + l, d.i() && (u = true, l = d.h(), l >= G.eg && l <= G.dg && (xb = l, u = false, k += " " + l, d.i() && (u = true, l = d.h(), l >= G.eg && l <= G.dg && (yb = l, r = true, a.Dh && (t[t.length] = [C.kp + " " + Ub + " " + xb + " " + yb, "overwrites " + Mb + " " + vb + " " + wb]), Mb = Ub, vb = xb, wb = yb, a.Dh = true, a.hb = true))))));
                break;
              case C.cm:
                d.i() && (u = true, l = d.h(), l >= G.eg && l <= G.dg && (Fb = l, u = false, k += " " + l, d.i() && (u = true, l = d.h(), l >= G.eg && l <= G.dg && (Eb = l, u = false, k += " " + l, d.i() && (u = true, l = d.h(), l >= G.eg && l <= G.dg && (Gb = l, u = false, k += " " + l, d.i() && (u = true, l = d.h(), l >= G.eg && l <= G.dg && (Db = l, r = true, Gb > Fb ? t[t.length] = [C.cm + " W " + this.Od(Gb, 2) + " E " + this.Od(Fb, 2), "W is greater than E"] : Db > Eb ? t[t.length] = [C.cm + " N " + this.Od(Db, 2) + " S " + this.Od(Eb, 2), "N is greater than S"] : (a.Bh && (t[t.length] = [C.cm + " " + this.Od(Fb, 2) + " " + this.Od(Eb, 2) + " " + this.Od(Gb, 2) + " " + this.Od(Db, 2), "overwrites " + this.Od(a.og, 2) + " " + this.Od(a.qg, 2) + " " + this.Od(a.kh, 2) + " " + this.Od(a.Ch, 2)]), a.Bh = true, a.hb = true, a.Ch = Db, a.og = Fb, a.qg = Eb, a.kh = Gb)))))))));
                break;
              case C.Ph:
                N = F;
                !F.pg && 0 < a.m.h.length && (F = a.m.C());
                d.i() ? (u = true, l = d.h() | 0, 0 < l && (!F.Oh || a.nf || Jb || (t[t.length] = -1 === F.jc ? [C.Ph + " " + l, "overwrites " + C.Ob] : [C.Ph + " " + l, "overwrites " + F.jc]), F.jc = l, F.Oh = true, Jb = a.nf = false, r = true)) : (g = d.m(), g === C.Ob ? (g = d.l(), !F.Oh || a.nf || Jb || (t[t.length] = -1 !== F.jc || a.nf ? [C.Ph + " " + C.Ob, "overwrites " + F.jc] : [C.Ph + " " + C.Ob, "overwrites " + C.Ob]), F.jc = -1, F.Oh = true, Jb = a.nf = false, r = true) : g === C.rc && (g = d.l(), a.m.l(C.Ph, F, t, a.nf), r = a.nf = true));
                F = N;
                break;
              case C.Kh:
                N = F;
                !F.pg && 0 < a.m.h.length && (F = a.m.C());
                d.i() ? (u = true, l = d.h() | 0, 0 < l && (!F.Jh || a.Ig || Ib || (t[t.length] = -1 === F.Mb ? [C.Kh + " " + l, "overwrites " + C.Ob] : [C.Kh + " " + l, "overwrites " + F.Mb]), F.Mb = l, F.Jh = true, Ib = a.Ig = false, r = true)) : (g = d.m(), g === C.Ob ? (g = d.l(), !F.Jh || a.Ig || Ib || (t[t.length] = -1 === F.Mb ? [C.Kh + " " + C.Ob, "overwrites " + C.Ob] : [C.Kh + " " + C.Ob, "overwrites " + F.Mb]), F.Mb = -1, F.Jh = true, Ib = a.Ig = false, r = true) : g === C.rc && (g = d.l(), a.m.l(C.Kh, F, t, a.Ig), r = a.Ig = true));
                F = N;
                break;
              case C.ek:
                d.i() ? (u = true, l = d.h(), l >= G.To && l <= G.Ft && (!F.yg || a.Il || Zb || (t[t.length] = [C.ek + " " + l, "overwrites " + F.Gb]), F.Gb = l, F.yg = true, Zb = a.Il = false, r = true)) : (g = d.m(), g === C.rc && (g = d.l(), a.m.l(C.ek, F, t, a.Il), r = a.Il = true));
                break;
              case C.Sj:
                d.i() ? (u = true, l = d.h() | 0, 0 <= l && 359 >= l && (!F.ig || a.ul || Yb || (t[t.length] = [C.Sj + " " + l, "overwrites " + F.angle]), F.angle = l, F.ig = true, Yb = a.ul = false, r = true)) : (g = d.m(), g === C.rc && (g = d.l(), a.m.l(C.Sj, F, t, a.ul), r = a.ul = true));
                break;
              case C.Dl:
                d.i() ? (u = true, l = d.h() | 0, l >= G.aq && l <= G.Tp && (!F.Qg || a.Bl || $b || (t[t.length] = [C.Dl + " " + l, "overwrites " + F.Aa]), F.Aa = l, F.Qg = true, $b = a.Bl = false, r = true)) : (g = d.m(), g === C.rc && (g = d.l(), a.m.l(C.Dl, F, t, a.Bl), r = a.Bl = true));
                break;
              case C.hl:
                d.i() ? (u = true, l = d.h(), l >= G.$p && l <= G.Wy && (!F.Lg || a.wl || ac || (t[t.length] = [C.hl + " " + l, "overwrites " + F.depth]), F.depth = l, F.Lg = true, ac = a.wl = false, r = true)) : (g = d.m(), g === C.rc && (g = d.l(), a.m.l(C.hl, F, t, a.wl), r = a.wl = true));
                break;
              case C.Cq:
                d.i() && (u = true, l = d.h(), l >= -a.g.T / 2 && l <= a.g.T / 2 && (a.V = l, r = true));
                break;
              case C.Dq:
                d.i() && (u = true, l = d.h(), l >= -a.g.T / 2 && l <= a.g.T / 2 && (a.$ = l, r = true));
                break;
              case C.Ke:
                d.i() ? (u = true, l = d.h(), l >= -a.g.T / 2 && l <= a.g.T / 2 && (!F.bf || a.Ll || Vb || (t[t.length] = [C.Ke + " " + l, "overwrites " + -F.x]), F.x = -l, F.bf = true, Vb = a.Ll = false, r = true)) : (g = d.m(), g === C.rc && (g = d.l(), a.m.l(C.Ke, F, t, a.Ll), r = a.Ll = true));
                break;
              case C.Me:
                d.i() ? (u = true, l = d.h(), l >= -a.g.T / 2 && l <= a.g.T / 2 && (!F.Le || a.Ol || Wb || (t[t.length] = [C.Me + " " + l, "overwrites " + -F.y]), F.y = -l, F.Le = true, Wb = a.Ol = false, r = true)) : (g = d.m(), g === C.rc && (g = d.l(), a.m.l(C.Me, F, t, a.Ol), r = a.Ol = true));
                break;
              case C.Kv:
                d.i() && (u = true, l = d.h(), l >= G.ob && l <= G.Xb ? (a.Um = true, a.Sq = l, r = true) : l >= G.Ro && l <= G.Po && (a.Um = true, a.Sq = -(1 / l), r = true));
                break;
              case C.Kr:
              case C.ee:
                d.i() ? (u = true, l = d.h(), l >= G.ob && l <= G.Xb ? (!F.de || a.Jg || Xb || (t[t.length] = 1 > F.zoom ? [C.ee + " " + l, "overwrites " + -(1 / F.zoom)] : [C.ee + " " + l, "overwrites " + F.zoom]), F.zoom = l, F.de = true, Xb = a.Jg = false, r = true) : l >= G.Ro && l <= G.Po && (F.de && !a.Jg && (t[t.length] = 1 > F.zoom ? [C.ee + " " + l, "overwrites " + -(1 / F.zoom)] : [C.ee + " " + l, "overwrites " + F.zoom]), F.zoom = -(1 / l), F.de = true, a.Jg = false, r = true)) : (g = d.m(), g === C.rc && (g = d.l(), a.m.l(C.ee, F, t, a.Jg), r = a.Jg = true));
                break;
              case C.rl:
                d.i() ? (u = true, l = d.h() | 0, l >= G.Tg && (!F.Ue || a.zl || bc || (t[t.length] = [C.rl + " " + l, "overwrites " + F.Pc]), l > a.M && (l = a.M), F.Pc = l, F.Ue = true, bc = a.zl = false, a.hw = false, r = true)) : (g = d.m(), g === C.rc && (g = d.l(), a.m.l(C.rl, F, t, a.zl), r = a.zl = true));
                break;
              case C.Lv:
                g = d.m();
                g === C.Ob ? (g = d.l(), a.Ad || (a.ga = false, a.cf = false)) : a.Ad || (a.ga = true, a.cf = true);
                r = true;
                break;
              case C.Jv:
                r = a.Qq = true;
                break;
              case C.Hv:
                g = d.m();
                g === C.Ob ? (g = d.l(), a.Ad || (a.ga = false, a.cf = false, a.ci = false, a.D.ta = false)) : a.Ad || (a.ga = true, a.cf = true, a.ci = true, a.D.ta = true);
                r = true;
                break;
              case C.Iv:
                d.i() && (u = true, l = d.h() | 0, l >= G.gz && l <= G.az && (a.Yb = l, r = true));
                break;
              case C.zj:
                d.i() ? (u = true, l = d.h() | 0, 0 <= l && l < a.g.ib && (!F.pe || a.we || Hb || this.cv(a, t, l, F.Dc), F.Dc = l, F.pe = true, Hb = a.we = false, r = true)) : (g = d.m(), g === C.co ? (g = d.l(), a.sa ? (F.pe && !a.we && this.cv(a, t, a.g.ib, F.Dc), F.Dc = a.g.ib, F.pe = true, a.we = false) : t[t.length] = [C.zj + " " + C.co, "no custom THEME defined"], r = true) : (l = a.oB(g), -1 !== l ? (g = d.l(), !F.pe || a.we || Hb || this.cv(a, t, l, F.Dc), F.Dc = l, F.pe = true, Hb = a.we = false, r = true) : g === C.rc && (g = d.l(), a.m.l(C.zj, F, t, a.we), r = a.we = true)), r || (r = true, t[t.length] = [k, "invalid specification"]));
                break;
              case C.Tz:
                2 < a.g.h || a.g.Ea || a.g.i || a.g.H || a.g.l || a.g.A || a.g.s || (a.g.Vb = true, a.$u = true);
                r = true;
                break;
              case C.bk:
                t[t.length] = [k, "already in a script block"];
                r = true;
                break;
              case C.uv:
                a.Ja = !a.Ja;
                r = true;
                break;
              case C.vv:
                a.Ii.current = a.Fh([true], true, a);
                r = true;
                break;
              case C.Es:
                a.Fl.current = a.Ar([true], true, a);
                r = true;
                break;
              case C.tv:
                r = a.xs = true;
                break;
              case C.vs:
                d.i() && (u = true, l = d.h() | 0, l >= G.bz && l <= G.Vy && (r = true, a.g.Ge = l));
                break;
              case C.gq:
                r = a.cc = true;
                break;
              case C.Pp:
                r = a.Fa = true;
                break;
              case C.Ls:
                d.i() && (u = true, l = d.h(), 0 <= l && 1 >= l && (r = true, a.Ya = l));
                break;
              case C.Ms:
                a.pd = false;
                r = true;
                break;
              case C.dw:
                a.g.X && (a.g.va = false);
                r = true;
                break;
              case C.Rs:
                a.g.ha && (a.g.va = false);
                r = true;
                break;
              case C.vq:
                r = a.g.va = true;
                break;
              case C.bs:
                r = a.g.Va = true;
                break;
              case C.jv:
                d.i() && (u = true, l = d.h() | 0, l >= G.So && l <= G.Yp && (a.qo = l, r = true));
                break;
              case C.ev:
                d.i() && (u = true, l = d.h() | 0, l >= G.Jt && l <= G.Xp && (a.jo = l, r = true));
                break;
              case C.dv:
                d.i() && (u = true, l = d.h() | 0, l >= G.cq && l <= G.Wp && (a.aj = l, r = true));
                break;
              case C.fv:
                r = a.lo = true;
                break;
              case C.hv:
                r = a.no = true;
                break;
              case C.pq:
                u = false;
                Cb = "a valid item";
                g = d.m();
                switch (g) {
                  case C.Hd:
                    g = d.l();
                    r = true;
                    a.Lk = true;
                    break;
                  case C.wf:
                    g = d.l();
                    d.i() && (u = true, l = d.h() | 0, 0 <= l && 100 >= l && (a.Se = l, r = true));
                    break;
                  case C.oq:
                    g = d.l();
                    d.i() && (u = true, l = d.h() | 0, 0 <= l && 100 >= l && (a.Te = l, r = true));
                    break;
                  case C.qq:
                    g = d.l();
                    d.i() && (u = true, l = d.h() | 0, 0 <= l && 100 >= l && (a.Sf = l, r = true));
                    break;
                  default:
                    this.rG(g) && (g = d.l(), d.i() && (u = true, l = d.h() | 0, 0 <= l && 100 >= l && (this.PF(a, l), r = true)));
                }
                break;
              case C.$g:
                t[t.length] = [k, "only valid after " + C.wi];
                r = true;
                break;
              case C.lv:
                a.Rk = true;
                a.Nk = false;
                r = true;
                break;
              case C.kv:
                a.Rk = true;
                r = a.Nk = true;
                break;
              case C.gv:
                g = d.m();
                "" !== g && g !== C.Xl && (a.bj = d.l(), r = a.et = true);
                break;
              case C.sg:
                g = d.m();
                switch (g) {
                  case C.Ke:
                    F.Aj && this.Vg(F.zg, C.sg, C.Ke, t);
                    F.zg = true;
                    F.Aj = true;
                    g = d.l();
                    break;
                  case C.Me:
                    F.Bj && this.Vg(F.Ag, C.sg, C.Me, t);
                    F.Ag = true;
                    F.Bj = true;
                    g = d.l();
                    break;
                  case C.ee:
                    F.Cj && this.Vg(F.Bg, C.sg, C.ee, t);
                    F.Bg = true;
                    F.Cj = true;
                    g = d.l();
                    break;
                  case C.wf:
                    F.Aj && this.Vg(F.zg, C.sg, C.Ke, t);
                    F.Bj && this.Vg(F.Ag, C.sg, C.Me, t);
                    F.Cj && this.Vg(F.Bg, C.sg, C.ee, t);
                    F.zg = true;
                    F.Aj = true;
                    F.Ag = true;
                    F.Bj = true;
                    F.Bg = true;
                    F.Cj = true;
                    g = d.l();
                    break;
                  default:
                    this.Nl(d, t, C.sg, "argument", C.wf + ", " + C.Ke + ", " + C.Me + " or " + C.ee);
                }
                r = true;
                break;
              case C.Eh:
                g = d.m();
                switch (g) {
                  case C.Ke:
                    F.Aj && this.Vg(F.zg, C.Eh, C.Ke, t);
                    F.zg = false;
                    F.Aj = true;
                    g = d.l();
                    break;
                  case C.Me:
                    F.Bj && this.Vg(F.Ag, C.Eh, C.Me, t);
                    F.Ag = false;
                    F.Bj = true;
                    g = d.l();
                    break;
                  case C.ee:
                    F.Cj && this.Vg(F.Bg, C.Eh, C.ee, t);
                    F.Bg = false;
                    F.Cj = true;
                    g = d.l();
                    break;
                  case C.wf:
                    F.Aj && this.Vg(F.zg, C.Eh, C.Ke, t);
                    F.Bj && this.Vg(F.Ag, C.Eh, C.Me, t);
                    F.Cj && this.Vg(F.Bg, C.Eh, C.ee, t);
                    F.zg = false;
                    F.Aj = true;
                    F.Ag = false;
                    F.Bj = true;
                    F.Bg = false;
                    F.Cj = true;
                    g = d.l();
                    break;
                  default:
                    this.Nl(d, t, C.Eh, "argument", C.wf + ", " + C.Ke + ", " + C.Me + " or " + C.ee);
                }
                r = true;
                break;
              case C.mq:
                M = true;
                a.m.add(F, a);
                F = a.m.B();
                F.pg = true;
                g = d.m();
                g === C.rc && (g = d.l(), -1 !== a.ah && (t[t.length] = [C.mq + " " + C.rc, "overrides previous initial POI"]), a.ah = a.m.i.length);
                a.kD();
                r = true;
                break;
              case C.ep:
                d.i() && (u = true, l = d.h() | 0, 0 <= l && (O = true, 0 < l && (a.m.add(F, a), F = a.m.B()), F.vc = l, r = F.fp = true));
                break;
              case C.$l:
                d.i() ? (u = true, l = d.h() | 0, l >= G.tg && l <= G.ni && (!F.ve || a.El || cc || (t[t.length] = [C.$l + " " + l, "overwrites " + F.step]), F.step = l, F.ve = true, cc = a.El = false, a.mw = false, r = true)) : (g = d.m(), g === C.rc && (g = d.l(), a.m.l(C.$l, F, t, a.El), r = a.El = true));
                break;
              case C.Ku:
                d.i() && (u = true, l = d.h(), 0 <= l && (O = true, a.m.add(F, a), F = a.m.B(), l < G.dA && (l = G.dA), F.ud = l, r = F.jA = true));
                break;
              case C.po:
                d.i() && (u = true, l = d.h() | 0, a.Ad || (-1 === a.Oa || dc || (t[t.length] = [C.po + " " + l, "overwrites " + a.Oa]), a.Oa = l), dc = false, r = true);
                break;
              case C.pn:
                d.i() && (u = true, l = d.h() | 0, a.Ad || (-1 === a.fb || ec || (t[t.length] = [C.pn + " " + l, "overwrites " + a.fb]), a.fb = l), ec = false, r = true);
                break;
              case C.$o:
                d.i() && (u = true, l = d.h() | 0, -1 === a.ec || fc || (t[t.length] = [C.$o + " " + l, "overwrites " + a.ec]), a.ec = l, fc = false, r = true);
                break;
              case C.Zo:
                d.i() && (u = true, l = d.h() | 0, -1 === a.qd || gc || (t[t.length] = [C.Zo + " " + l, "overwrites " + a.qd]), a.qd = l, gc = false, r = true);
                break;
              default:
                t[t.length] = [k, "unknown or misspelt command"], r = true;
            }
            r || (u ? t[t.length] = [k + " " + l, "argument out of range"] : this.Nl(d, t, k, "argument", Cb));
          }
          "" !== k && (k = d.l());
        }
        n && (t[t.length] = [C.wd + q, "unterminated string"]);
        F.pe && (a.g.l || a.g.A || a.g.s || a.g.fa) && (F.pe = false);
        O && a.hb && (v = a.Bh ? C.cm : a.Dh ? C.kp : C.lp, t[t.length] = [v, "can not be used with Waypoints"], a.hb = false, a.Bh = false, a.Dh = false);
        a.Bh || !a.hb && !a.Dh || (a.Dh && (0 < a.g.Sa && (Mb *= a.g.Sa), F.Mb = Mb), a.Ch = wb, a.og = vb, a.qg = wb, a.kh = vb);
        if (O || M) {
          a.m.add(F, a);
          F = a.m.C();
          O ? a.Ca = true : -1 !== a.ah && (a.Gc = a.ah, N = a.m.i[a.ah], N.bf && (F.bf = N.bf, F.x = N.x), N.Le && (F.Le = N.Le, F.y = N.y), N.de && (F.de = N.de, F.zoom = N.zoom), N.ig && (F.ig = N.ig, F.angle = N.angle), N.yg && (F.yg = N.yg, F.Gb = N.Gb), N.Lg && (F.Lg = N.Lg, F.depth = N.depth), N.Qg && (F.Qg = N.Qg, F.Aa = N.Aa), N.pe && (F.pe = N.pe, F.Dc = N.Dc), N.Ue && (F.Ue = N.Ue, F.Pc = N.Pc), N.ve && (F.ve = N.ve, F.step = N.step), N.Oh && (F.Oh = N.Oh, F.jc = N.jc), N.Jh && (F.Jh = N.Jh, F.Mb = N.Mb));
          if (O) {
            for (Oa = 0; Oa < a.m.h.length; Oa += 1) F = a.m.h[Oa], F.Ie && (F.bf || F.Le || F.de) && (q = "", F.bf ? (q = "X " + F.x, F.Le ? q = F.de ? q + (", Y " + F.y + " and ZOOM " + F.zoom) : q + (" and Y " + F.y) : F.de && (q += " and ZOOM " + F.zoom)) : F.Le ? (q = "Y " + F.y, F.de && (q += " and ZOOM " + F.zoom)) : F.de && (q = "ZOOM " + F.zoom), t[t.length] = [C.zp, "overwrites " + q]);
            F = a.m.C();
          }
          M && F.h === Ta.play && a.ab && (a.Pb = true);
        }
        F.Ie && (a.ea = true);
        F.Le && (a.g.da = a.g.height / 2 - F.y);
        F.bf && (a.g.ea = a.g.width / 2 - F.x, a.g.ha && (a.g.ea -= a.g.da / 2));
        F.de && (a.g.zoom = F.zoom);
        a.g.X || a.g.ha || (F.ig && (a.g.angle = F.angle), F.yg && (a.g.Gb = F.Gb), a.g.fa || (F.Lg && (a.g.Ub = F.depth / G.gl + G.$p), F.Qg && (a.g.Aa = F.Aa)));
        F.pe && (a.Qm = F.Dc);
        F.Ue && (a.fa = F.Pc, a.Y = G.tg);
        F.ve && (a.Y = F.step, 1 < a.Y && (a.fa = a.M));
        F.zq && (a.D.notification.notify(F.le, 15, 1e3, 15, false), a.He = F.le);
        a.jc = F.jc;
        a.Mb = F.Mb;
        F.de && (a.Nv = true);
        F.bf && (a.ov = true);
        F.Le && (a.wv = true);
        F.Xj && (a.g.Ia = F.grid);
        F.xq && (a.rd = F.ck);
        for (Oa = 0; Oa < c; Oa += 1) -1 !== a.O[Oa] && (B += 1, a.sa = true);
        if (0 < B) {
          a.Zr = true;
          for (Oa = 0; Oa < c; Oa += 1) a.U.Z[Oa] ? -1 === a.O[Oa] ? (a.Zr = false, a.zm[Oa] = G.hA) : a.zm[Oa] = G.eG : a.zm[Oa] = G.gA;
          a.ro = a.Zr ? "(custom)" : a.ro + " (custom*)";
        } else a.O = null;
        if (a.sa || a.Ef || -1 !== a.Bm || -1 !== a.Dm) Oa = -1, F.pe && (Oa = F.Dc), this.VF(a, Oa), F.pe = true, F.Dc = a.g.ib, a.Qm = F.Dc;
        a.L && (v = "not possible due to " + C.np, a.Pb && (t[t.length] = [C.Ap, v], a.Pb = false), -1 !== a.Kb && (t[t.length] = [C.yq + " " + a.Kb, v], a.Kb = -1), -1 !== a.jc && (t[t.length] = [C.Ph + " " + a.jc, v]), -1 !== a.Mb && (t[t.length] = [C.Kh + " " + a.Mb, v]));
        0 !== a.V && a.A + G.ni + 2 * Math.abs(a.V) >= a.g.T && (t[t.length] = [C.Cq + " " + a.V, "pattern does not fit on grid at view offset"], a.V = 0);
        0 !== a.$ && a.B + G.ni + 2 * Math.abs(a.$) >= a.g.T && (t[t.length] = [C.Dq + " " + a.$, "pattern does not fit on grid at view offset"], a.$ = 0);
        a.Er = t.length;
      }
      "" !== a.vd && (a.vd = this.am(a, a.vd));
      a.ea && (a.Ln = true);
      a.Fa && a.cc && (t[t.length] = [C.Pp, "not valid with " + C.gq], a.Fa = false);
      -1 !== a.Oa && (fb = G.Xc, a.Oa >= G.ez && a.Oa < fb && (a.Oa = fb), a.La && (fb = G.EE), a.Oa < fb && (t[t.length] = [C.po + " " + a.Oa, "argument out of range"], Ab = true));
      -1 !== a.fb && (fb = G.Ug, a.La && (fb = G.fz), a.fb < fb || a.fb > G.Qo) && (t[t.length] = [C.pn + " " + a.fb, "argument out of range"], Ab = true);
      -1 !== a.Oa && !Ab && a.Oa > a.Jc && (l = a.Jc / a.Oa, a.Oa = a.Jc, a.fb = -1 !== a.fb ? a.fb * l | 0 : a.displayHeight * l | 0, fb = G.Ug, a.La && (fb = G.fz), a.fb < fb && (a.fb = fb));
      a.Ad && (-1 !== a.ec && (a.ec >= G.ez && a.ec < G.Xc && (a.ec = G.Xc), a.ec < G.Xc || a.ec > a.Jc) && (t[t.length] = [C.$o + " " + a.ec, "argument out of range"], a.ec = -1, Ab = true), -1 !== a.qd && (a.qd < G.Ug || a.qd > G.Qo) && (t[t.length] = [C.Zo + " " + a.qd, "argument out of range"], a.qd = -1, Ab = true));
      if (Ab || t.length) -1 !== a.Oa && (a.Oa < G.Xc ? a.Oa = G.Xc : a.Oa > a.Jc && (a.Oa = a.Jc)), -1 !== a.fb && (a.fb < G.Zj ? a.fb = G.Zj : a.fb > G.Qo && (a.fb = -1)), a.La = false;
      a.h.I = a.La;
      a.D.aa = a.La;
      a.D.eb = a.bi;
      a.La && (a.Pb = false, a.ga = false, a.ci = false, a.Fa = false, a.Fh([false], true, a), a.Ar([false], true, a), a.vp([false], true, a), a.Ja = false, a.nd = false);
      a.Dr && (a.element.style = "display:none", a.element.parentNode && a.element.parentNode.parentNode && a.element.parentNode.parentNode.className === Ca.Mp && (a.element.parentNode.parentNode.style = "display:none;"));
      D && a.EB();
      a.m.Sa();
    }}, Ca = {tagName: "LifeViewer", vD: "fullscreen", VD: "hide", PE: "multi", vE: "limit", Lp: "rle", Kn: "code", kq: 37, Ts: true, fullScreen: false, Oo: false, vb: false, Mp: "codebox", mv: "", Zz: "", ke: []}, G = {bA: "LV", GA: "yDirection", dD: "Ctrl", YC: "Cmd", KC: "Alt", aF: "Option", JC: "0123456789rtyopasghjklxcbn", qt: 0, Mo: 1, rt: 2, qj: 10, ky: "workaround", Ht: 18, Gt: 10, $y: 4194304, xf: 0, Go: 1, Fs: 2, Rn: 64, So: 1, Yp: 4096, Jt: 1, Xp: 4096, cq: 1, Wp: 100, iG: [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3], jp: [1, 10, 11, 17, 18, 2, 3, 4, 5, 7, 12, 13, 14, 15, 16, 0, 6, 8, 9, 19, 20], Jn: 0, Bz: 1, Cz: 2, zz: 3, Ez: 4, Dz: 5, Fz: 6, Gz: 7, Az: 8, vz: 9, dF: "Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"), Op: 15, WE: 5, $h: 1e8, mp: 0, Pv: 1, Qv: 2, Rv: 3, Uv: 4, Vv: 5, Tv: 6, Sv: 7, Hu: 0, iq: 1, eu: 2, Au: 3, gu: 4, Fu: 5, jq: 6, In: 7, qu: 8, Bu: 9, uu: 10, iu: 11, su: 12, ku: 13, ou: 14, wu: 15, Uo: 3, fw: [1, 3, 7, 6], bG: [0, 1], cG: [0, 1], XD: [0, 1, 0, 1, 0, 1, 0], YD: [0, 1, 2, 3, 4, 5, 6], hG: [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1], gG: [0, 1, 2, 3, 4, 5, 6, 3, 4, 1, 0, 1, 0, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1], Yn: Math.sqrt(3), dm: Math.sqrt(3), tl: 1 / Math.sqrt(3) * 1.5, RD: 13750737, SD: 15066597, Ns: 7368816, Os: 5263440, dA: 0.016, WF: 16, uz: 16384, ey: 0.7, hq: 16384, QF: "Script errors", eg: -8, dg: 8, gz: 2, az: 4, gy: 4, wA: 16.7, cz: 9, Xy: 14, eD: 13, Rp: null, bz: 1, Vy: 16, by: 3, dj: 0, gn: 1, Kx: 2, hn: 3, os: 4, Dp: 5, ps: 6, Zx: 7, $x: 8, Lx: 9, Sx: 10, Rx: 11, Qx: 12, Tx: 13, Ux: 14, Px: 15, qs: 16, Nx: 17, Ox: 18, Gp: 19, Ep: 20, Hp: 21, Jp: 22, Ip: 23, Fp: 24, ns: 25, rs: 26, Mx: 27, Xx: 28, Wx: 29, Jx: 30, Yx: 31, Vx: 32, XE: 0, YE: 1, WD: 2, Ry: 3, Ty: 4, Sy: 5, Ky: 6, yb: [0, 6, 2, 5, 3, 4, 1], Je: "dead alive history mark1 markoff mark2 kill".split(" "), YG: "OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "), Jz: 0, Iz: 16, PG: false, Cs: 1800, Eo: "LifeViewer", Bq: 1142, aG: "Standard", Zu: "Pro", yA: "Chris Rowett", aq: 1, Tp: 10, Qt: 0, Cn: 1, je: 2, ui: 3, $j: 0, ak: 1, ti: 2, Eq: 1.25, eE: 0.99, $p: 0, Wy: 10, gl: 10, Uy: 32, ob: 0.03125, Xb: 64, To: -5, Ft: 5, Ro: -32, Po: -1, zn: -2048, xn: -1, An: 0.00048828125, yn: 2048, Tg: 1, tg: 1, ni: 64, ay: 0.1, Tj: 0.05, py: "Courier", jw: "Arial", gg: "18px Arial", fg: "14px Arial", uq: "9px Arial", yp: "rgb(240,255,255)", RC: "rgb(0,0,0)", Oz: "rgb(240,255,255)", Pz: "rgb(0,0,0)", zx: 2, bq: 1, Up: 64, QC: 0.2, Ny: "rgb(240,255,255)", uE: "rgb(0,0,0)", tE: 18, dz: 4, Yy: 128, sE: "Arial", Ih: "rgb(32,255,255)", Hh: "rgb(255,48,48)", EE: 64, fz: 64, ez: 480, Xc: 600, CE: 4096, TD: 80, Ug: 240, Qo: 4096, Zj: 480, Yu: 560, op: 172, Fq: 292, gA: 0, eG: 1, hA: 2, DE: 0, AE: 32, hg: 0, ft: 1, rv: 2, Sp: 3, Gv: 4, ls: 5, Jr: 6, It: 7, Mr: 8}, Aa = {N: new gb, cd: [], yv: -1, Pn: null, ke: [], Gx: "", wq: function () {
      var a = null;
      -1 !== this.yv && (a = this.cd[this.yv]);
      return a;
    }, qD: function (a) {
      for (var b = null, c = 0; c < Aa.cd.length;) {
        if (Aa.cd[c][0].tabIndex === a) {
          b = Aa.cd[c][1];
          break;
        }
        c += 1;
      }
      return b;
    }, xD: function (a) {
      var b = null;
      0 <= a && a < this.cd.length && (b = this.cd[a][1]);
      return b;
    }, SG: function (a) {
      var b = null;
      0 <= a && a < this.cd.length && (b = this.cd[a][0]);
      return b;
    }, WG: function () {
      return this.cd.length;
    }, sG: function () {
      var a = 0, b;
      for (b = 0; b < this.cd.length; b += 1) {
        var c = this.cd[b][1];
        c.Fb && (a += 1);
      }
      return a;
    }, Wz: function () {
      var a, b = 0;
      for (a = 0; a < this.cd.length; a += 1) {
        var c = this.cd[a][1];
        c.$b.current = c.xd(G.Qt, true, c);
        c.D.ue(true);
        b += 1;
      }
      return b;
    }, iA: function () {
      var a, b = 0;
      for (a = 0; a < this.cd.length; a += 1) {
        var c = this.cd[a][1];
        c.Fb && !c.Lo && (c.$b.current = c.xd(G.je, true, c), b += 1);
      }
      return b;
    }, Dv: function (a) {
      var b, c = 0;
      for (b = 0; b < this.cd.length; b += 1) {
        var d = this.cd[b][1];
        d !== a && d.Fb && !d.Lo && (d.$b.current = d.xd(G.je, true, d), c += 1);
      }
      return c;
    }};
    Qb.prototype.l = function () {
      var a = this.buffer[this.i >> 3] >> 7 - (this.i & 7) & 1;
      this.i += 1;
      this.i === this.m && (console.log("end of buffer"), --this.i);
      return a;
    };
    Qb.prototype.h = function (a) {
      for (var b = 0; 0 < a;) --a, b |= this.l() << a;
      return b;
    };
    ea.prototype.FF = function (a, b) {
      localStorage.setItem(G.bA + a, b ? "1" : "0");
    };
    ea.prototype.nB = function (a) {
      var b = false;
      a = localStorage.getItem(G.bA + a);
      null !== a && "1" === a && (b = true);
      return b;
    };
    ea.prototype.bB = function (a) {
      var b = false;
      switch (a) {
        case C.fo:
        case C.eo:
        case C.ao:
        case C.gp:
        case C.ip:
        case C.hp:
        case C.bo:
          b = true;
      }
      return b;
    };
    ea.prototype.Kw = function (a) {
      for (var b = false, c = 0; c < G.Je.length && !b;) a === G.Je[c] ? b = true : c += 1;
      return b;
    };
    ea.prototype.Mw = function (a) {
      for (var b = false, c = 0; c < I.En.length && !b;) a === I.En[c] ? b = true : c += 1;
      return b;
    };
    ea.prototype.Hw = function (a) {
      for (var b = false, c = 0; c < I.Dn.length && !b;) a === I.Dn[c] ? b = true : c += 1;
      return b;
    };
    ea.prototype.Oj = function () {
      var a, b = this.Xa, c = this.mc, d = [];
      for (a = 0; a < G.qj; a += 1) {
        var f = a === c ? "current " : "activate ";
        f += "clipboard";
        null !== b[a] ? (f += " (" + b[a].width + " x " + b[a].height + ", " + b[a].count + " cell", 1 !== b[a].count && (f += "s"), f += ")") : f += " (empty)";
        d[a] = f + " [" + this.C + " " + a + "]";
      }
      this.Jj.S = d;
    };
    ea.prototype.Sw = function (a) {
      window.confirm("Open last saved pattern?") && ub(a.element);
    };
    ea.prototype.ei = function () {
      var a = 1 << G.Op, b = this.Ma >> G.Op;
      b === this.Zg.length && (this.Zg[b] = this.g.N.h(oa.Gd, a, "View.currentEdit" + b));
      return this.Zg[b];
    };
    ea.prototype.Fj = function (a, b) {
      var c = [true, a, b], d = this.g.za, f = this.g.ya, e = this.g.T, k;
      if (a !== (a & d) || b !== (b & f)) {
        c[0] = false;
        var g = this.g.width < this.g.T && a !== (a & d);
        for (k = this.g.height < this.g.T && b !== (b & f); g || k;) (g || k) && this.g.Ff(g, k, true), g && (a += this.g.width >> 2), k && (b += this.g.height >> 2), g = this.g.width < e && a !== (a & d), k = this.g.height < e && b !== (b & f);
        a === (a & d) && b === (b & f) && (c[0] = true, c[1] = a, c[2] = b);
      }
      if (this.g.Ea && (d = this.Ji(), d = d + 1 >> 1, 0 > a - d || a + d >= this.g.width || 0 > b - d || b + d >= this.g.height)) {
        c[0] = false;
        g = this.g.width < e && (0 > a - d || a + d >= this.g.width);
        for (k = this.g.height < e && (0 > b - d || b + d >= this.g.height); g || k;) (g || k) && this.g.Ff(g, k, true), g && (a += this.g.width >> 2), k && (b += this.g.height >> 2), g = this.g.width < e && (0 > a - d || a + d >= this.g.width), k = this.g.height < e && (0 > b - d || b + d >= this.g.height);
        0 > a - d || a + d >= this.g.width || 0 > b - d || b + d >= this.g.height || (c[0] = true, c[1] = a, c[2] = b);
      }
      return c;
    };
    ea.prototype.pa = function (a, b, c, d) {
      var f = this.Ma, e = G.Op;
      var k = f >> e;
      var g = 1 << e, m = g - 1, p = this.Zg;
      var n = this.g.h;
      var q = 2 < n && !(this.g.fa || this.g.i || this.g.s || this.g.l || this.g.A), l = false;
      var r = 0;
      var u = this.g.Z ? -1 : 0;
      var t = Math.round((this.g.width - this.g.R) / 2) + u;
      var v = Math.round((this.g.height - this.g.M) / 2) + u, B = t + this.g.R - 1, w = v + this.g.M - 1;
      u = this.g.o;
      var y = this.g.m;
      b = this.Fj(a, b);
      if (b[0]) {
        a = b[1];
        b = b[2];
        var D = (this.g.width >> 1) - (this.A >> 1);
        var F = (this.g.height >> 1) - (this.B >> 1);
      } else return 0;
      if (-1 !== this.g.C && (0 === this.g.R && (t = 0, B = this.g.width - 1), 0 === this.g.M && (v = 0, w = this.g.height - 1), !(a >= t && a <= B && b >= v && b <= w))) if (d) a < t && (a = t), a > B && (a = B), b < v && (b = v), b > w && (b = w); else return 0;
      (this.g.i || this.g.s || this.g.l || this.g.A) && 0 !== (this.g.counter & 1) && (y = this.g.W);
      t = y[b][a];
      d = this.g.Ra(a, b, false);
      0 < d && q && (d = n - d);
      -1 === n && (n = this.g.H ? 7 : 2);
      0 > c ? c = 0 : c >= n && (c = n - 1);
      c !== d && (this.Hb || (k >= p.length && this.ei(), n = p[k], f &= m, q = c << 16 | d << 8 | t, 0 < f && (4 <= f ? (r = n[f - 1], 4194304 <= r ? n[f - 3] === q && n[f - 2] === b - F && n[f - 4] === a - D - (r - 4194304) - 2 && (n[f - 1] += 1, l = true) : n[f - 2] === q && n[f - 1] === b - F && n[f - 3] === a - D - 1 && (n[f] = 4194304, f += 1, this.Ma += 1, f === g && this.ei(), l = true)) : (k = this.Ma, r = p[k - 1 >> e][k - 1 & m], 4194304 <= r ? n[k - 3 >> e][k - 3 & m] === q && n[k - 2 >> e][k - 2 & m] === b - F && n[k - 4 >> e][k - 4 & m] === a - D - (r - 4194304) - 2 && (n[k - 1 >> e][k - 1 & m] += 1, l = true) : p[k - 2 >> e][k - 2 & m] === q && p[k - 1 >> e][k - 1 & m] === b - F && p[k - 3 >> e][k - 3 & m] === a - D - 1 && (n[f] = 4194304, f += 1, this.Ma += 1, f === g && (n = this.ei()), l = true))), l || (n[f] = a - D, f += 1, this.Ma += 1, f === g && (n = this.ei(), f = 0), n[f] = c << 16 | d << 8 | t, f += 1, this.Ma += 1, f === g && (n = this.ei(), f = 0), n[f] = b - F, this.Ma += 1, f + 1 === g && this.ei())), r = this.g.rd(a, b, c, true), this.g.o !== u && (this.Ab = -1), this.cc || 0 !== this.g.counter || this.g.Hg());
      return r;
    };
    ea.prototype.$r = function (a, b) {
      var c = 0, d = (this.g.width >> 1) - (this.A >> 1), f = (this.g.height >> 1) - (this.B >> 1), e = 0, k = this.g.m;
      (this.g.i || this.g.s || this.g.l || this.g.A) && 0 !== (this.g.counter & 1) && (k = this.g.W);
      if (a) if (b) for (c = a.length; 0 < c;) {
        var g = a[c - 1];
        4194304 <= g && --c;
        c -= 3;
        b = a[c] + d;
        var m = a[c + 1] >> 8 & 255;
        var p = a[c + 1] & 255;
        var n = a[c + 2] + f;
        e |= this.g.rd(b, n, m, true);
        k[n][b] = p;
        if (4194304 <= g) for (g -= 4194304; 0 <= g;) b += 1, e |= this.g.rd(b, n, m, true), k[n][b] = p, --g;
      } else for (; c < a.length;) if (b = a[c] + d, m = (a[c + 1] & 16711680) >> 16, n = a[c + 2] + f, e |= this.g.rd(b, n, m, true), c += 3, g = a[c], 4194304 <= g) for (c += 1, g -= 4194304; 0 <= g;) b += 1, e |= this.g.rd(b, n, m, true), --g;
      (this.g.H || this.g.l) && e && this.g.gb();
      this.cc || 0 !== this.g.counter || this.g.Hg();
    };
    ea.prototype.Em = function (a) {
      for (var b = this.ka - 1, c = this.ba, d = false; 0 <= b && !d;) this.Zb[b].cg <= a ? ("advance outside" === this.Zb[b].action && --b, d = true) : --b;
      d && (this.ka = b + 1, a = this.ka >= this.qh ? this.Zb[this.ka - 1] : this.Zb[this.ka], a.selection ? (c.F = a.selection.F, c.G = a.selection.G, c.J = a.selection.J, c.K = a.selection.K, this.R = true) : this.R = false, this.Qc = false, this.sp());
    };
    ea.prototype.sp = function () {
      var a = this.ka, b = this.qh, c = this.Zb;
      if (1 < a) {
        var d = "undo ";
        var f = c[a - 1];
        if (null === f.kl) {
          var e = f.cg;
          1 < a && (e = c[a - 2].cg);
          this.g.counter === e ? d += f.action : (d = 1 < this.g.counter - e ? d + "play" : d + "step", d += " from " + e);
        } else d = "" === f.action ? d + "edit" : d + f.action;
        "undo " === d && (d = "undo");
        this.Sd.S = d + " [" + this.u + " Z]";
      }
      a < b && (d = "redo ", f = c[a], null === f.kl ? (e = f.cg, e === this.g.counter ? d += f.action : (d = 1 < e - this.g.counter ? d + "play" : d + "step", d += " to " + e)) : d = "" === f.action ? d + "edit" : d + f.action, "redo " === d && (d = "redo"), this.wh.S = d + " [" + this.u + " Y]");
    };
    ea.prototype.mF = function (a) {
      var b = this.R ? this.ba : null;
      return null === a && null === b ? true : null === a && null !== b || null !== a && null === b ? false : a.F === b.F && a.G === b.G && a.J === b.J && a.K === b.K ? true : false;
    };
    ea.prototype.px = function (a, b, c, d) {
      var f = false;
      if (0 < this.ka) {
        var e = this.Zb[this.ka - 1];
        e.cg === a && null === b && "" === c && this.mF(e.selection) && (f = true);
      }
      f || (this.Zb[this.ka] = {cg: a, kl: b, action: c, selection: d}, this.ka += 1);
    };
    ea.prototype.X = function (a) {
      var b = this.g.counter, c = null, d = null, f = this.ba, e = null, k = G.Op, g = 1 << k, m = g - 1;
      k = this.Ma >> k;
      if (!this.Hb) {
        this.Fb && (0 < this.ka && (e = this.Zb[this.ka - 1]), e && e.selection && (d = new Ma(e.selection.F, e.selection.G, e.selection.J, e.selection.K)), this.px(b, c, "", d), d = null);
        this.R && (d = new Ma(f.F, f.G, f.J, f.K));
        if (0 < this.Ma) {
          c = this.g.N.h(oa.Gd, this.Ma, "View.editCells" + this.ka);
          for (e = f = 0; f < k;) c.set(this.Zg[f].slice(), e), f += 1, e += g;
          this.Ma & m && c.set(this.Zg[f].slice(0, this.Ma & m), e);
          this.Ma = 0;
        }
        this.px(b, c, a, d);
        this.qh = this.ka;
        this.sp();
        this.ea && 0 < this.g.o && (this.g.Wb = true, this.g.dc(), this.ub(true, true, G.xf));
      }
    };
    ea.prototype.dr = function (a) {
      var b = a.g.counter, c = a.ka, d = a.ba, f = 1, e = false;
      if (!a.Hb) {
        a.Ab = -1;
        a.Fb && (a.$b.current = a.xd(G.je, true, a), c = a.ka);
        if (0 < c) for (; 0 < f;) {
          var k = a.Zb[c - 1];
          var g = k.cg;
          var m = k.selection;
          e || "advance outside" !== k.action || (e = true, f = 3);
          null === k.kl && 1 < c && (g = a.Zb[c - 2].cg);
          1 < c && (m = a.Zb[c - 2].selection);
          if (g < b) {
            var p = a.g.Xa;
            0 === g ? a.reset(a) : a.Gq(g);
            b = a.g.counter;
            a.g.Xa = p;
            a.yh(a.Fb);
          } else a.$r(k.kl, true);
          m ? (d.F = m.F, d.G = m.G, d.J = m.J, d.K = m.K, a.R = true) : a.R = false;
          a.Qc = false;
          "reverse playback" === k.action && (a.g.Xa = !a.g.Xa, a.g.zb = false, a.yh(a.Fb));
          --c;
          a.ka = c;
          --f;
        } else 0 < b && a.reset(a);
        a.sp();
        a.g.dc();
        this.ea && this.ub(true, true, G.xf);
      }
    };
    ea.prototype.jt = function (a) {
      var b = a.g.counter, c = a.ba, d = 1, f = false;
      if (!a.Hb) {
        for (; 0 < d && a.ka < a.qh;) {
          var e = a.Zb[a.ka];
          f || "advance outside" !== e.action || (f = true, d = 3);
          e.cg === b && null === e.kl && "" === e.action && (a.ka += 1);
          e.cg > b ? (a.oF(e.cg), b = a.g.counter) : a.$r(e.kl, false);
          e.selection ? (c.F = e.selection.F, c.G = e.selection.G, c.J = e.selection.J, c.K = e.selection.K, a.R = true) : a.R = false;
          a.Qc = false;
          "reverse playback" === e.action && (a.g.Xa = !a.g.Xa, a.yh(a.Fb));
          a.ka += 1;
          --d;
        }
        a.sp();
        a.g.dc();
        (a.g.H || a.g.l) && a.g.gb();
        this.ea && this.ub(true, true, G.xf);
      }
    };
    ea.prototype.Lq = function () {
      var a = "";
      if (this.g.Z) a = "Margolus"; else if (-1 !== this.g.Id) a = "1D"; else if (this.g.jh) {
        a = "Hexagonal";
        if (this.g.lg === this.U.oa || this.g.Ea && this.g.O.type === this.U.B) a = "Tripod";
        this.g.Ea && this.g.O.type === this.U.u && (a = "Asterisk");
        1 < this.g.O.l && (a += " range " + this.g.O.l);
      } else if (this.g.Ea) {
        switch (this.g.O.type) {
          case this.U.s:
            a = "Corner/Edge";
            break;
          case this.U.i:
            a = "Moore";
            break;
          case this.U.m:
            a = "von Neumann";
            break;
          case this.U.X:
            a = "Circular";
            break;
          case this.U.R:
            a = "Cross";
            break;
          case this.U.V:
            a = "Saltire";
            break;
          case this.U.W:
            a = "Star";
            break;
          case this.U.Y:
            a = "L2";
            break;
          case this.U.H:
            a = "Hexagonal";
            break;
          case this.U.O:
            a = "Checkerboard";
            break;
          case this.U.M:
            a = "Aligned Checkerboard";
            break;
          case this.U.T:
            a = "Hash";
            break;
          case 10:
            a = "Custom";
            break;
          case this.U.B:
            a = "Tripod";
            break;
          case this.U.u:
            a = "Asterisk";
            break;
          case this.U.L:
            a = "Triangular";
            break;
          case this.U.v:
            a = "Gaussian";
            break;
          case 15:
            a = "Weighted";
        }
        this.g.O.type === this.U.s ? a += " range " + this.g.O.Z + "/" + this.g.O.$ : 1 < this.g.O.l && (a += " range " + this.g.O.l);
        this.g.O.V && (a += " (non-deterministic)");
      } else if (this.g.X) switch (a = "Triangular", this.g.ng) {
        case this.U.ga:
          a += " Edges";
          break;
        case this.U.ia:
          a += " Vertices";
          break;
        case this.U.sa:
          a += " Inner";
          break;
        case this.U.ta:
          a += " Outer";
          break;
        case this.U.ra:
          a += " Biohazard";
          break;
        case this.U.ua:
          a += " Radiation";
      } else if (this.g.s) if (null === this.g.Pb) a = 4 === this.g.zd ? "von Neumann" : "Moore"; else switch (this.g.Mc) {
        case Ba.Ai:
          a = "von Neumann";
          break;
        case Ba.vg:
          a = "Moore";
          break;
        case Ba.ug:
          a = "Hexagonal";
          break;
        case Ba.wj:
          a = "1D";
          break;
        default:
          a = "unknown";
      } else a = this.g.Zc || this.g.i ? "von Neumann" : "Moore";
      this.g.fa && (a = "none");
      return a;
    };
    ea.prototype.nx = function (a, b, c, d) {
      var f = [];
      d = this.re[d];
      var e = d[0], k = d[1], g = d[2], m = d[3], p = new kb("rleToCellList", this.U), n = C.$g.length;
      d = 2 >= this.g.h ? 2 : this.g.h;
      var q = 2 < d && !(this.g.fa || this.g.i || this.g.s || this.g.l || this.g.A);
      var l = this.aj / 100;
      var r = false;
      if (a.substring(0, n) === C.$g) {
        a = a.substring(n);
        b = parseInt(a.substring(0, a.indexOf(",")), 10);
        c = parseInt(a.substring(a.indexOf(",") + 1), 10);
        for (k = a = 0; k < c; k += 1) for (e = 0; e < b; e += 1) this.g.i ? (n = 0, this.H.random() <= l && (n |= 1), this.H.random() <= l && (n |= 2), this.H.random() <= l && (n |= 4), this.H.random() <= l && (n |= 8), f[a] = e, f[a + 1] = k, f[a + 2] = n, a += 3) : 2 === d ? this.H.random() <= l && (f[a] = e, f[a + 1] = k, f[a + 2] = 1, a += 3) : this.H.random() <= l && (f[a] = e, f[a + 1] = k, n = (this.H.random() * (d - 1) | 0) + 1, q && (n = d - n), f[a + 2] = n, a += 3);
        r = true;
      } else if (a += " ", -1 !== this.U.la(p, a, false, this.g.N) && -1 !== this.U.la(p, a, true, this.g.N)) {
        for (l = 0; l < p.height; l += 1) for (r = p.ka[l], a = 0; a < p.width; a += 1) n = r[a], q && 0 < n && (n = d - n), f[f.length] = b + a * e + l * k, f[f.length] = c + a * g + l * m, f[f.length] = n;
        r = true;
      }
      r || (f[0] = "error");
      return f;
    };
    ea.prototype.TE = function (a) {
      var b = 0, c = a.indexOf("["), d = a.indexOf("]");
      if (-1 !== c && -1 !== d && c < d && d === a.length - 1) {
        for (c += 1; c < d && 0 <= b;) {
          var f = a.charCodeAt(c) - 48;
          0 > f || 9 < f ? b = -1 : (b = 10 * b + f, c += 1);
        }
        0 < b && (this.nn = true);
      }
      return b;
    };
    ea.prototype.jG = function (a) {
      var b = 0 > this.Mf ? -this.Mf : this.Mf, c = 0 > this.Pf ? -this.Pf : this.Pf;
      b = 2 * (b < c ? c : b);
      a < b && (a = b);
      return a;
    };
    ea.prototype.XF = function (a) {
      var b = 0 > this.Lf ? -this.Lf : this.Lf, c = 0 > this.Qf ? -this.Qf : this.Qf;
      b = 2 * (b < c ? c : b);
      a < b && (a = b);
      return a;
    };
    ea.prototype.fC = function (a, b) {
      var c, d = false;
      for (c = 0; !d && c < this.ae.length;) a === this.ae[c].name ? d = true : c += 1;
      if (d) for (a = this.ae[c].fD, c = 0; c < a.length; c += 1) b[b.length] = a[c];
      return d;
    };
    ea.prototype.bC = function (a, b, c) {
      var d, f = false;
      if (Kb.yl(b)) a[a.length] = [C.Sn + " " + b, "name is reserved word"]; else {
        for (d = 0; !f && d < this.ae.length;) b === this.ae[d].name ? f = true : d += 1;
        if (f) a[a.length] = [C.Sn + " " + b, "name already defined"]; else {
          f = false;
          for (d = 0; !f && d < c.length;) 1 > c[d] ? f = true : d += 1;
          f ? a[a.length] = [C.Sn + " " + b + " " + c[d], "invalid delta"] : (a = c.slice(), this.ae[this.ae.length] = {name: b, fD: a});
        }
      }
    };
    ea.prototype.YB = function (a, b, c, d, f, e) {
      var k, g = false;
      if (Kb.yl(b)) a[a.length] = [C.Wl + " " + b, "name is reserved word"]; else if (-1 !== b.indexOf("[")) a[a.length] = [C.Wl + " " + b, "name can not contain ["]; else {
        for (k = 0; !g && k < this.Nd.length;) b === this.Nd[k].name ? g = true : k += 1;
        g ? a[a.length] = [C.Wl + " " + b, "name already defined"] : (c = this.nx(c, d, f, e), "error" !== c[0] ? this.Nd[this.Nd.length] = {name: b, cells: c} : a[a.length] = [C.Wl + " " + b, "invalid RLE"]);
      }
    };
    ea.prototype.sx = function (a, b, c, d, f, e, k, g, m, p, n) {
      var q = 0, l = false, r = [], u = this.re[n], t = u[0], v = u[1], B = u[2], w = u[3];
      u = G.$h;
      var y = -G.$h, D = G.$h, F = -G.$h, N = g.indexOf("["), O = g, M = 0, U = [], W = C.$g.length, H = 2 >= this.g.h ? 2 : this.g.h, P = 2 < H && !(this.g.fa || this.g.i || this.g.s || this.g.l || this.g.A), Q = this.aj / 100;
      -1 !== N && (O = g.substring(0, N), M = this.TE(g));
      if (O.substring(0, W) === C.$g) {
        O = O.substring(W);
        l = parseInt(O.substring(0, O.indexOf(",")), 10);
        O = parseInt(O.substring(O.indexOf(",") + 1), 10);
        for (W = q = 0; W < O; W += 1) for (N = 0; N < l; N += 1) if (2 === H) this.H.random() <= Q && (r[q] = N, r[q + 1] = W, r[q + 2] = 1, q += 3); else if (this.H.random() <= Q) {
          r[q] = N;
          r[q + 1] = W;
          var T = (this.H.random() * (H - 1) | 0) + 1;
          P && (T = H - T);
          r[q + 2] = T;
          q += 3;
        }
        l = true;
      } else for (; q < this.Nd.length && !l;) this.Nd[q].name === O ? (l = true, r = this.Nd[q].cells.slice()) : q += 1;
      if (l) for (q = 0; q < r.length;) g = r[q], n = r[q + 1], r[q] = m + g * t + n * v, r[q + 1] = p + g * B + n * w, q += 3; else r = this.nx(g, m, p, n), "error" !== r[0] && (l = true);
      -1 === M && (l = false);
      if (l && 0 < r.length) {
        for (q = 0; q < r.length;) m = r[q], p = r[q + 1], m < u && (u = m), m > y && (y = m), p < D && (D = p), p > F && (F = p), q += 3;
        m < this.Mf && (this.Mf = m);
        m > this.Pf && (this.Pf = m);
        p < this.Lf && (this.Lf = p);
        p > this.Qf && (this.Qf = p);
        t = Array.matrix(oa.Ka, F - D + 1, y - u + 1, 0, this.g.N, "View.rle" + this.Zc.length);
        for (q = 0; q < r.length;) m = r[q], p = r[q + 1], t[p - D][m - u] = r[q + 2], q += 3;
        U[0] = a;
        for (q = 0; q < c.length; q += 1) U[U.length] = U[U.length - 1] + c[q];
        this.Zc[this.Zc.length] = {fi: U, end: b, every: d, mode: f, cells: r, map: t, F: u, G: D, width: y - u + 1, height: F - D + 1, oD: M, deltaX: e, deltaY: k};
        0 < d && (this.Ql = true);
        U[U.length - 1] > this.Xd && (this.Xd = U[U.length - 1]);
      }
      return l;
    };
    ea.prototype.BC = function () {
      var a, b, c = this.g.width, d, f = this.g.u;
      for (a = 0; a < this.Zc.length; a += 1) {
        var e = this.Zc[a];
        var k = e.oD;
        if (0 < k) {
          var g = e.cells;
          var m = (c >> 1) - (e.width >> 1);
          var p = (c >> 1) - (e.height >> 1);
          var n = 0;
          f.F = m;
          f.J = m + e.width - 1;
          f.G = p;
          f.K = p + e.height - 1;
          for (this.g.counter = 0; n < g.length;) this.g.rd(m + g[n] - e.F, p + g[n + 1] - e.G, g[n + 2], true), n += 3;
          for (; 0 < k;) this.g.hf(true), this.g.te(), this.g.rf(this), --k;
          g = [];
          n = 0;
          var q = d = G.$h;
          for (b = f.G; b <= f.K; b += 1) for (k = f.F; k <= f.J; k += 1) {
            var l = this.g.Ra(k, b, false);
            0 !== l && (g[n] = k - m + e.F, g[n + 1] = b - p + e.G, g[n + 2] = l, g[n] < d && (d = g[n]), g[n + 1] < q && (q = g[n + 1]), n += 3);
          }
          e.cells = g.slice();
          e.width = f.J - f.F + 1;
          e.height = f.K - f.G + 1;
          e.G = q;
          e.F = d;
          e.map = Array.matrix(oa.Ka, e.height, e.width, 0, this.g.N, "View.rle" + a);
          for (n = 0; n < g.length;) k = g[n], b = g[n + 1], e.map[b - e.G][k - e.F] = g[n + 2], n += 3;
          this.g.rh();
        }
      }
      this.nn && this.g.rh();
    };
    ea.prototype.dC = function (a) {
      var b = false, c = this.g.counter;
      var d = false;
      if (this.g.Z || this.g.i) c = this.g.Hb;
      0 !== a.every && (this.g.Z || this.g.i) && null !== this.g.bb && c < this.g.fe && (b = false, d = true);
      if (!d) if (0 !== a.every && c >= a.fi[0] && 0 === (c - a.fi[0]) % a.every) -1 !== a.end && c > a.end || (b = true); else for (d = 0; d < a.fi.length && !b;) c === a.fi[d] ? b = true : d += 1;
      return b;
    };
    ea.prototype.Cm = function (a, b, c, d) {
      var f = 0;
      b = this.Fj(a, b);
      b[0] && (a = b[1], b = b[2], f = this.g.rd(a, b, c, d));
      return f;
    };
    ea.prototype.Pm = function (a, b) {
      var c = 0;
      b = this.Fj(a, b);
      b[0] && (a = b[1], b = b[2], c = this.g.Ra(a, b, false));
      return c;
    };
    ea.prototype.tk = function () {
      var a, b = this.g.counter, c = this.g.width, d = this.g.height, f, e = 0, k = this.g.width, g = this.g.height, m = this.g.h - 1, p = 0;
      if (!this.g.fa) {
        -2 === m && (m = this.g.H ? 6 : 1);
        for (a = 0; a < this.Zc.length; a += 1) {
          var n = this.Zc[a];
          if (this.dC(n)) {
            var q = n.mode;
            var l = (k >> 1) - (this.A >> 1);
            var r = (g >> 1) - (this.B >> 1);
            var u = n.map;
            if (0 !== n.every && (0 !== n.deltaX || 0 !== n.deltaY)) {
              var t = (b - n.fi[0]) / n.every;
              l += n.deltaX * t;
              r += n.deltaY * t;
            }
            l += n.F;
            r += n.G;
            for (n = 0; n < u.length; n += 1) {
              var v = u[n];
              if (2 <= m && !(this.g.H || this.g.fa || this.g.i || this.g.s || this.g.l || this.g.A)) for (t = 0; t < v.length; t += 1) {
                var B = v[t];
                for (f = this.Pm(l + t, r + n); c !== this.g.width || d !== this.g.height;) c !== this.g.width && (c <<= 1, l += c >> 2, this.ta += c >> 2, this.za += c >> 2, this.da += c >> 2), d !== this.g.height && (d <<= 1, r += d >> 2, this.zb += d >> 2, this.Jb += d >> 2, this.Z += d >> 2);
                switch (q) {
                  case G.Hu:
                    e = 0;
                    break;
                  case G.iq:
                    e = B & f;
                    break;
                  case G.eu:
                    e = B & m - f;
                    break;
                  case G.Au:
                    e = B;
                    break;
                  case G.gu:
                    e = m - B & f;
                    break;
                  case G.Fu:
                    e = f;
                    break;
                  case G.jq:
                    e = B ^ f;
                    break;
                  case G.In:
                    e = B | f;
                    break;
                  case G.qu:
                    e = m - (B | f);
                    break;
                  case G.Bu:
                    e = m - (B ^ f);
                    break;
                  case G.uu:
                    e = m - f;
                    break;
                  case G.iu:
                    e = B | m - f;
                    break;
                  case G.su:
                    e = m - B;
                    break;
                  case G.ku:
                    e = m - B | f;
                    break;
                  case G.ou:
                    e = m - (B & f);
                    break;
                  case G.wu:
                    e = 1;
                }
                0 > e ? e = 0 : e > m && (e = m);
                B === f && q !== G.Uo || this.Cm(l + t, r + n, e, true);
              } else if (this.g.i || this.g.s || this.g.A) for (t = 0; t < v.length; t += 1) {
                B = v[t];
                for (f = this.Pm(l + t, r + n); c !== this.g.width || d !== this.g.height;) c !== this.g.width && (c <<= 1, l += c >> 2, this.ta += c >> 2, this.za += c >> 2, this.da += c >> 2), d !== this.g.height && (d <<= 1, r += d >> 2, this.zb += d >> 2, this.Jb += d >> 2, this.Z += d >> 2);
                switch (q) {
                  case G.Hu:
                    e = 0;
                    break;
                  case G.iq:
                    e = B & f;
                    break;
                  case G.eu:
                    e = B & m - f;
                    break;
                  case G.Au:
                    e = B;
                    break;
                  case G.gu:
                    e = m - B & f;
                    break;
                  case G.Fu:
                    e = f;
                    break;
                  case G.jq:
                    e = B ^ f;
                    break;
                  case G.In:
                    this.g.A ? (e = f, 0 != B && (e = B)) : e = B | f;
                    break;
                  case G.qu:
                    e = m - (B | f);
                    break;
                  case G.Bu:
                    e = m - (B ^ f);
                    break;
                  case G.uu:
                    e = m - f;
                    break;
                  case G.iu:
                    e = B | m - f;
                    break;
                  case G.su:
                    e = m - B;
                    break;
                  case G.ku:
                    e = m - B | f;
                    break;
                  case G.ou:
                    e = m - (B & f);
                    break;
                  case G.wu:
                    e = 1;
                }
                0 > e ? e = 0 : e > m && (e = m);
                this.Cm(l + t, r + n, e, true);
              } else if (this.g.H || this.g.l) for (t = 0; t < v.length; t += 1) {
                B = v[t];
                for (f = this.Pm(l + t, r + n); c !== this.g.width || d !== this.g.height;) c !== this.g.width && (c <<= 1, l += c >> 2, this.ta += c >> 2, this.za += c >> 2, this.da += c >> 2), d !== this.g.height && (d <<= 1, r += d >> 2, this.zb += d >> 2, this.Jb += d >> 2, this.Z += d >> 2);
                if (q === G.Uo) {
                  e = B;
                  var w = 1;
                  var y = 0;
                  B === f && (y = 1);
                } else w = B & 1, y = f & 1, e = 0 === (q & 8 >> (w + w | y)) ? 0 : 1;
                w !== y && (p |= this.Cm(l + t, r + n, e, false));
              } else for (t = 0; t < v.length; t += 1) {
                B = v[t];
                w = 0 === B ? 0 : 1;
                f = this.Pm(l + t, r + n);
                for (y = 0 === f ? 0 : 1; c !== this.g.width || d !== this.g.height;) c !== this.g.width && (c <<= 1, l += c >> 2, this.ta += c >> 2, this.za += c >> 2, this.da += c >> 2), d !== this.g.height && (d <<= 1, r += d >> 2, this.zb += d >> 2, this.Jb += d >> 2, this.Z += d >> 2);
                e = 0 === (q & 8 >> (w + w | y)) ? 0 : 1;
                e === f && q !== G.Uo || 0 === B && 0 === f || this.Cm(l + t, r + n, e, false);
              }
            }
          }
        }
        (this.g.H || this.g.l) && p && this.g.gb();
        this.bx();
      }
    };
    ea.prototype.bx = function () {
      var a, b = this.g.counter;
      for (a = 0; a < this.ka; a += 1) this.Zb[a].cg === b && this.$r(this.Zb[a].kl, false);
      this.g.dc();
    };
    ea.prototype.Ey = function (a) {
      this.Ig = this.nf = this.zl = this.El = this.we = this.Bl = this.wl = this.Il = this.ul = this.Jg = this.Ol = this.Ll = a;
    };
    ea.prototype.kD = function () {
      this.Ey(false);
    };
    ea.prototype.JG = function () {
      this.Ey(true);
    };
    ea.prototype.iy = function () {
      this.Vm = [];
      this.Wm = [];
    };
    ea.prototype.LC = function (a) {
      var b = document.createElement("a");
      a.yw(b);
      b.href = a.bb.toDataURL("image/png");
      b.download = "screenshot.png";
      b.click();
      b.remove();
      a.D.notification.notify("Image saved", 15, 300, 15, true);
    };
    ea.prototype.lA = function (a) {
      if ("Oscillator" !== a.pb) a.D.notification.notify("No Cell Map", 15, 300, 15, true); else {
        var b = document.createElement("a");
        a.yw(b);
        b.href = a.g.Ic.toDataURL("image/png");
        b.download = "cellmap.png";
        b.click();
        b.remove();
        a.D.notification.notify("Cell Map saved", 15, 300, 15, true);
      }
    };
    ea.prototype.XA = function (a) {
      var b = this.g.wa, c = this.g.m, d = this.g.W, f = this.g.Ca, e = a.width, k = a.height, g = this.da, m = this.Z;
      var p = Math.round(-this.g.R / 2);
      var n = Math.floor((this.g.R - 1) / 2);
      var q = Math.round(-this.g.M / 2);
      var l = Math.floor((this.g.M - 1) / 2);
      var r = g - (this.g.width >> 1), u = r + e - 1, t = m - (this.g.height >> 1), v = t + k - 1, B = this.g.h, w = 2 === B && this.g.Ea, y = true;
      if (-1 !== this.g.C) {
        if (0 !== this.g.R) {
          if (r < p || u > n) this.wp = true;
        } else p = -this.g.width >> 1, n = (this.g.width >> 1) - 1;
        if (0 !== this.g.M) {
          if (v > l || t < q) this.wp = true;
        } else q = -this.g.height >> 1, l = (this.g.height >> 1) - 1;
      }
      a.o && (0 !== (g & 1) && (g += 1), 0 !== (m & 1) && (m += 1), r = g - (this.g.width >> 1), u = r + e - 1, t = m - (this.g.height >> 1), v = t + k - 1);
      a.da && (0 === (g & 1) && --g, 0 === (m & 1) && --m, r = g - (this.g.width >> 1), u = r + e - 1, t = m - (this.g.height >> 1), v = t + k - 1);
      -1 !== this.g.C && (r = p, u = n, t = q, v = l);
      r += this.g.width >> 1;
      u += this.g.width >> 1;
      t += this.g.height >> 1;
      v += this.g.height >> 1;
      0 > r && (r = 0);
      u >= this.g.width && (u = this.g.width - 1);
      0 > t && (t = 0);
      v >= this.g.height && (v = this.g.height - 1);
      g >= r && g <= u && e + g >= r && e - 1 + g <= u && (y = false);
      for (n = 0; n < k; n += 1) {
        var D = a.R[n];
        if (n + m >= t && n + m <= v) {
          var F = b[n + m];
          if (this.Na || this.g.i || this.g.s || this.g.l || this.g.A || !this.ab) {
            q = a.ka[n];
            var N = c[n + m];
            if (y) for (p = 0; p < e; p += 1) p + g >= r && p + g <= u && (l = q[p], 0 < l && (l += this.la), N[p + g] = l); else for (p = 0; p < e; p += 1) l = q[p], 0 < l && (l += this.la), N[p + g] = l;
          } else if (2 < B) if (q = a.ka[n], N = c[n + m], y) for (p = 0; p < e; p += 1) p + g >= r && p + g <= u && (l = q[p], 0 < l && !this.g.fa && (l = B + this.la - l), N[p + g] = l); else for (p = 0; p < e; p += 1) l = q[p], 0 < l && !this.g.fa && (l = B + this.la - l), N[p + g] = l;
          if (w) if (N = c[n + m], y) for (p = 0; p < e; p += 1) p + g >= r && p + g <= u && 0 !== (D[p >> 4] & 1 << (~p & 15)) && (F[p + g >> 4] |= 1 << (~(p + g) & 15), N[p + g] = I.Wa); else for (p = 0; p < e; p += 1) 0 !== (D[p >> 4] & 1 << (~p & 15)) && (F[p + g >> 4] |= 1 << (~(p + g) & 15), N[p + g] = I.Wa); else if (y) for (p = 0; p < e; p += 1) p + g >= r && p + g <= u && 0 !== (D[p >> 4] & 1 << (~p & 15)) && (F[p + g >> 4] |= 1 << (~(p + g) & 15)); else for (p = 0; p < e; p += 1) 0 !== (D[p >> 4] & 1 << (~p & 15)) && (F[p + g >> 4] |= 1 << (~(p + g) & 15));
        }
      }
      if (f) for (n = 0; n < k; n += 1) if (n + m >= t && n + m <= v) if (q = a.ka[n], b = f[n + m], y) for (p = 0; p < e; p += 1) p + g >= r && p + g <= u && (l = q[p]) && (b[p + g] = G.yb[l] + 128); else for (p = 0; p < e; p += 1) (l = q[p]) && (b[p + g] = G.yb[l] + 128);
      (this.g.i || this.g.s || this.g.l || this.g.A) && d.ca.set(c.ca);
    };
    ea.prototype.Lm = function () {
      var a = false;
      -1 !== this.g.C && 0 !== this.g.R && 0 !== this.g.M && (a = true);
      return a;
    };
    ea.prototype.DG = function () {
      var a = false;
      -1 === this.g.C || 0 !== this.g.R && 0 !== this.g.M || (a = true);
      return a;
    };
    ea.prototype.up = function (a, b, c) {
      a = a[0];
      b && (c.Ya = a);
      return [a, 100 * a];
    };
    ea.prototype.sr = function (a, b, c) {
      b && (c.uc = a[0]);
      return [c.uc, G.dF[c.uc + 0.5 | 0]];
    };
    ea.prototype.HB = function (a) {
      a.L || (a.uc = (a.uc + 0.5 | 0) + 1, a.uc >= G.vz && (a.uc = 0), a.sh.current = a.sr([a.uc, a.uc], true, a));
    };
    ea.prototype.Vw = function (a, b, c) {
      b && (c.Ib = a[0], c.Ib < G.cq && (c.Ib = G.cq), c.Ib > G.Wp && (c.Ib = G.Wp));
      return [c.Ib, c.Ib];
    };
    ea.prototype.yr = function (a, b, c) {
      b && (c.ic = (c.g.h - c.tc) * a[0] | 0);
      a[1] = "";
      0 < c.ic && (a[1] = "<");
      a[1] += c.ic + "-" + (c.ic + c.tc - 1);
      c.ic + c.tc < c.g.h && (a[1] += ">");
      return a;
    };
    ea.prototype.Td = function (a, b, c) {
      var d = a[0];
      b ? (c.nc = true, c.g.zoom = G.ob * Math.pow(G.Xb / G.ob, a[0]) / c.g.Ga) : (d = Math.log(c.g.zoom * c.g.Ga / G.ob) / Math.log(G.Xb / G.ob), 0 > d ? d = 0 : 1 < d && (d = 1));
      a = this.hb && !this.Nb ? c.g.zoom * c.g.Ga : c.g.zoom;
      a < G.ob ? a = G.ob : a > G.Xb && (a = G.Xb);
      1 > a && (a = -1 / a);
      return [d, a];
    };
    ea.prototype.rC = function (a) {
      var b = a / 6e4 | 0;
      a = a % 6e4 / 1e3;
      var c = "";
      0 < b && (c = b + ":", 10 > a && (c += "0"));
      return c += a.toFixed(2);
    };
    ea.prototype.ub = function (a, b, c) {
      var d = this.g.zoom, f = this.g.ea, e = this.g.da, k = 6, g = G.TD, m = this.Rb, p = this.ba;
      var n = (this.g.width >> 1) - (this.A >> 1) + (this.V << 1);
      var q = (this.g.height >> 1) - (this.B >> 1) + (this.$ << 1);
      c === G.Go && (m.F = p.F + n, m.J = p.J + n, m.F > m.J && (n = m.J, m.J = m.F, m.F = n), m.G = p.G + q, m.K = p.K + q, m.G > m.K && (n = m.K, m.K = m.G, m.G = n));
      this.ga ? (c = this.g.Ni(c, m, this.displayWidth * this.Yb, this.displayHeight * this.Yb, G.ob, G.Xb, G.Eq, this.A, this.B, this.L && this.Na, this.od, this.sd, this.ea), c[0] /= this.Yb) : (this.La && (g = 0), c = this.g.Ni(c, m, this.displayWidth, this.displayHeight - g, G.ob, G.Xb, G.Eq, this.A, this.B, this.L && this.Na, this.od, this.sd, this.ea));
      this.ea && !a ? (16 <= this.g.zoom && (k = 2), 1 < this.Y && this.Fb && (k = 1), this.g.zoom = (this.g.zoom * (k - 1) + c[0]) / k, this.g.ea = (this.g.ea * (k - 1) + c[1]) / k, this.g.da = (this.g.da * (k - 1) + c[2]) / k, a = this.g.zoom > d ? this.g.zoom / d - 1 : d / this.g.zoom - 1, f = this.g.ea > f ? this.g.ea - f : f - this.g.ea, e = this.g.da > e ? this.g.da - e : e - this.g.da, this.Sg = a, f > this.Sg && (this.Sg = f), e > this.Sg && (this.Sg = e), 0.001 >= this.Sg && (this.g.zoom = c[0], this.g.ea = c[1], this.g.da = c[2])) : (this.Zf = this.g.width / 2 - this.g.ea, this.$f = this.g.height / 2 - this.g.da, this.Ah = this.g.zoom, this.Xf = this.g.angle, this.Yf = this.g.Gb, this.jf = this.g.width / 2 - c[1], this.Fi = this.g.height / 2 - c[2], this.Gi = c[0], this.Ek = this.Xf, this.Ei = this.Yf, this.Cl = Ta.Wo, b ? this.Lc = 0 : (this.Lc = Ta.Wo, this.fr()));
      this.ac && (this.ac.current = this.Td([this.g.zoom, this.g.zoom], false, this));
      this.na && (this.na.current = this.rg([this.g.angle, this.g.angle], false, this));
      this.$a && (this.$a.current = this.vj([this.Kj(this.g.Gb), this.g.Gb], false, this));
    };
    ea.prototype.nG = function (a, b, c, d) {
      -1 !== this.g.C ? this.kc ? (this.da = Math.round(this.g.width / 2) + this.V, this.Z = Math.round(this.g.height / 2) + this.$) : (this.da = Math.round((this.g.width - c) / 2), this.Z = Math.round((this.g.height - d) / 2)) : (this.da = Math.round((this.g.width - a) / 2) + this.V, this.Z = Math.round((this.g.height - b) / 2) + this.$);
      !this.L && this.g.H || !this.U.gj || -1 === this.g.h || (this.L = this.Na = true);
    };
    ea.prototype.cl = function (a) {
      var b = a;
      0 > a && (a = -a);
      var c = a + String();
      1e9 <= a ? c = "1B+" : 1e8 <= a ? c = (a / 1e6 | 0) + "M" : 1e7 <= a ? c = (Math.floor(Number(a / 1e5)) / 10).toFixed(1) + "M" : 1e6 <= a ? c = (Math.floor(Number(a / 1e4)) / 100).toFixed(2) + "M" : 1e5 <= a && (c = (a / 1e3 | 0) + "K");
      0 > b && (c = "-" + c);
      return c;
    };
    ea.prototype.ik = function (a, b) {
      var c = this.D.T, d = this.D.V;
      b = a + b;
      var f = -this.g.angle, e = Math.sin(f / 180 * Math.PI);
      f = Math.cos(f / 180 * Math.PI);
      0 > b ? b = 0 : 1 < b && (b = 1);
      a = G.ob * Math.pow(G.Xb / G.ob, a);
      b = G.ob * Math.pow(G.Xb / G.ob, b);
      b < G.ob ? b = G.ob : b > G.Xb && (b = G.Xb);
      c -= this.displayWidth / 2;
      d -= this.displayHeight / 2;
      c = (c - b / a * c) / b;
      a = (d - b / a * d) / b;
      this.g.ea -= c * f + a * -e;
      this.g.da -= c * e + a * f;
      b = Math.log(b / G.ob) / Math.log(G.Xb / G.ob);
      this.ac.current = this.Td([b, b], true, this);
    };
    ea.prototype.Ji = function () {
      var a = 32;
      this.g.Ea && (a = 4 * this.g.O.o + 1, -1 !== this.g.C && (a += 2 * this.g.O.o), this.g.O.type === this.U.m && (a = -1 !== this.g.C ? a + this.g.M / 2 : a + this.g.O.m / 2));
      return a;
    };
    ea.prototype.Gj = function (a, b) {
      a.g.$k(a, b, a.Ji());
    };
    ea.prototype.Hx = function (a) {
      var b = false, c = a.ba;
      var d = a.Rb;
      var f = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1);
      var e = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1);
      d.F = c.F + f;
      d.G = c.G + e;
      d.J = c.J + f;
      d.K = c.K + e;
      d.F > d.J && (f = d.J, d.J = d.F, d.F = f);
      d.G > d.K && (f = d.K, d.K = d.G, d.G = f);
      a.Gj(a, d);
      d = 0;
      var k = a.g.width - 1;
      var g = 0;
      var m = a.g.height - 1;
      a.g.Ea && (d += 2 * a.g.O.o + 1, k -= 2 * a.g.O.o + 1, g += 2 * a.g.O.l + 1, m -= 2 * a.g.O.l + 1);
      f = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1);
      e = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1);
      c.F + f < d && (c.F = -f, b = true);
      c.F + f > k && (c.F = a.g.width - 1 - f, b = true);
      c.J + f < d && (c.J = -f, b = true);
      c.J + f > k && (c.J = a.g.width - 1 - f, b = true);
      c.G + e < g && (c.G = -e, b = true);
      c.G + e > m && (c.G = a.g.height - 1 - e, b = true);
      c.K + e < g && (c.K = -e, b = true);
      c.K + e > m && (c.K = a.g.height - 1 - e, b = true);
      return b;
    };
    ea.prototype.hF = function (a) {
      a.yf.current = 100 * (1 - (a.Kb - a.g.counter) / a.ol);
      a.yf.I = false;
      a.mb.v = 0;
    };
    ea.prototype.VE = function (a, b) {
      a.yf.current = a.g.counter / b * 100;
      a.yf.I = false;
      a.mb.v = 0;
    };
    ea.prototype.OE = function (a) {
      var b = false, c = false, d = 0;
      a.va || -1 === a.Mb || (b = true);
      !a.ib && a.Ca && (c = true);
      if (b || c) {
        var f = false;
        if (c && b) d = a.elapsedTime / a.m.ua(a.Mb); else if (c) {
          if (b = a.m.Ca().ud) d = a.elapsedTime / b, 1 < d && (f = true);
        } else 0 < a.Mb && (d = a.g.counter / a.Mb);
        1 < d && (d = 1);
        a.yf.current = 100 * d;
      } else f = true;
      a.yf.I = f;
      a.mb.v = f ? a.h.$ : 0;
    };
    ea.prototype.aD = function () {
      this.Pd.o(this.g.width / 2 - this.g.Sb, this.g.height / 2 - this.g.Rb, this.g.$, this.g.ra, this.g.displayWidth, this.g.displayHeight, this.g.Oc, this.g.fb[0]);
    };
    ea.prototype.jx = function () {
      var a = this.h.v - this.displayWidth / 2, b = this.h.B - this.displayHeight / 2, c = this.Z - this.g.da, d = this.da - this.g.ea - (this.g.ha ? this.g.da / 2 : 0), f = this.g.Ba, e = this.g.pa, k = this.g.zoom;
      var g = this.g.tc(this.g.zoom);
      var m = -1;
      -1 !== this.h.v && (0 !== this.g.ra && (m = Math.sqrt(a * a + b * b), b = 180 / Math.PI * Math.atan2(b, a), b -= this.g.ra, a = m * Math.cos(Math.PI / 180 * b), b = m * Math.sin(Math.PI / 180 * b)), e = b / g - c + e, g = e - Math.floor(e), e -= g, a = a / k + (this.g.ha ? c / 2 + e / 2 : 0) - d + f, this.g.X && (a -= 0.5), c = a - Math.floor(a), a -= c, this.g.X && (0 === (a + this.da + e + this.Z & 1) ? 1 < c + g && (a += 1) : 1 > 1 - c + g && (a += 1)), m = this.g.Ra(a + this.da, e + this.Z, this.Na && this.L));
      return m;
    };
    ea.prototype.uj = function (a, b) {
      var c = a - this.displayWidth / 2, d = b - this.displayHeight / 2;
      b = this.Z - this.g.da;
      var f = this.da - this.g.ea - (this.g.ha ? this.g.da / 2 : 0), e = this.g.Ba, k = this.g.pa, g = 0, m = 0, p = 0, n = 0, q = this.g.zoom, l = this.g.tc(this.g.zoom);
      -1 !== a && (0 !== this.g.ra && (a = Math.sqrt(c * c + d * d), d = 180 / Math.PI * Math.atan2(d, c), d -= this.g.ra, c = a * Math.cos(Math.PI / 180 * d), d = a * Math.sin(Math.PI / 180 * d)), g = d / l - b + k, p = g - Math.floor(g), g -= p, m = c / q + (this.g.ha ? b / 2 + g / 2 : 0) - f + e, this.g.X && !this.g.va && (m -= 0.5), n = m - Math.floor(m), m -= n, this.g.ha && (0.25 > n ? 0.1 > p ? (--g, --m) : 0.9 <= p && (g += 1) : 0.75 <= n && (0.1 > p ? --g : 0.9 <= p && (g += 1, m += 1))));
      this.g.X && !this.g.va && (0 === (m + this.da + g + this.Z & 1) ? 1 < n + p && (m += 1) : 1 > 1 - n + p && (m += 1));
      this.Ec = m + this.da;
      this.Fc = g + this.Z;
    };
    ea.prototype.MC = function (a, b, c, d, f) {
      var e = Math.abs(c - a), k = Math.abs(d - b), g = a < c ? 1 : -1, m = b < d ? 1 : -1, p = e - k, n = this.g.width, q = this.g.height, l;
      for (l = this.pa(a, b, f, true); n !== this.g.width || q !== this.g.height;) n !== this.g.width && (n <<= 1, a += n >> 2, c += n >> 2, this.ta += n >> 2, this.za += n >> 2, this.g.ha && (this.ta -= q >> 3, this.za -= q >> 3), this.da += n >> 2), q !== this.g.height && (q <<= 1, b += q >> 2, d += q >> 2, this.zb += q >> 2, this.Jb += q >> 2, this.Z += q >> 2);
      for (; a !== c || b !== d;) {
        var r = p + p;
        r > -k && (p -= k, a += g);
        r < e && (p += e, b += m);
        for (l |= this.pa(a, b, f, true); n !== this.g.width || q !== this.g.height;) n !== this.g.width && (n <<= 1, a += n >> 2, c += n >> 2, this.ta += n >> 2, this.za += n >> 2, this.g.ha && (this.ta -= q >> 3, this.za -= q >> 3), this.da += n >> 2), q !== this.g.height && (q <<= 1, b += q >> 2, d += q >> 2, this.zb += q >> 2, this.Jb += q >> 2, this.Z += q >> 2);
      }
      return l;
    };
    ea.prototype.Py = function () {
      var a = 170, b = this.Wk.la, c = this.Wk.ia, d = this.Wh.ia;
      this.Fe.setPosition(da.Ua, 0, a - 48);
      this.Ym.s(a - 48);
      this.Ed.s(a - 48 + 45);
      this.mk.s(a - 48 + 170);
      this.Li.s(a - 48 + 215);
      this.Zh.s(a - 48 + 260);
      this.Wk.setPosition(da.Ua, c, a);
      this.Wh.setPosition(da.Ua, d, a);
      a += b;
      "Oscillator" === this.pb && (this.Rq.setPosition(da.Ua, c, a), this.Uk.setPosition(da.Ua, d, a), a += b);
      this.g.ha || this.g.X || (this.Tq.setPosition(da.Ua, c, a), this.Xm.setPosition(da.Ua, d, a), a += b);
      "Spaceship" !== this.pb || this.g.ha || this.g.X || (this.Xq.setPosition(da.Ua, c, a), this.Zm.setPosition(da.Ua, d, a), a += b);
      "Still Life" !== this.pb && (this.ar.setPosition(da.Ua, c, a), this.$m.setPosition(da.Ua, d, a), a += b, this.g.ha || this.g.X || (this.Xh.setPosition(da.Ua, c, a), this.Yh.setPosition(da.Ua, d, a), a += b));
      "Spaceship" === this.pb && (this.g.ha || this.g.X || (this.cr.setPosition(da.Ua, c, a), this.bn.setPosition(da.Ua, d, a), a += b), this.er.setPosition(da.Ua, c, a), this.$k.setPosition(da.Ua, d, a), a += b);
      "Still Life" === this.pb || this.g.s && 2 < this.g.h && !this.g.H || this.g.eb || -1 !== this.g.C || (this.Zq.setPosition(da.Ua, c, a), this.Yk.setPosition(da.Ua, d, a), a += b);
      "Oscillator" === this.pb && (-1 !== this.g.C || this.g.s && 2 < this.g.h || (this.gr.setPosition(da.Ua, c, a), this.bl.setPosition(da.Ua, d, a), a += b), this.ir.setPosition(da.Ua, c, a), this.km.setPosition(da.Ua, d, a), a += b);
      "Still Life" === this.pb && (this.Xh.setPosition(da.Ua, c, a), this.Yh.setPosition(da.Ua, d, a));
    };
    ea.prototype.GF = function (a) {
      var b = 0;
      this.oj[this.mj] = a;
      this.mj += 1;
      this.mj >= G.WE && (this.mj = 0);
      for (a = 0; a < this.oj.length; a += 1) b += this.oj[a];
      b /= this.oj.length;
      this.nj.wb = String(Math.round(b));
      this.nj.I = false;
    };
    ea.prototype.qy = function () {
      var a;
      for (a = 0; a < this.oj.length; a += 1) this.oj[a] = 0;
      this.mj = 0;
      this.nj.I = true;
    };
    ea.prototype.Iq = function (a, b) {
      var c = 0, d = 0, f = this.Z - this.g.da, e = this.da - this.g.ea - (this.g.ha ? this.g.da / 2 : 0), k = this.g.Ba, g = this.g.pa, m = this.g.zoom, p = this.g.tc(this.g.zoom), n = 0, q = 0;
      if (0 !== this.g.ra) {
        var l = Math.sqrt(c * c + d * d);
        d = 180 / Math.PI * Math.atan2(d, c);
        d -= this.g.ra;
        c = l * Math.cos(Math.PI / 180 * d);
        d = l * Math.sin(Math.PI / 180 * d);
      }
      g = d / p - f + g;
      if (this.g.X && !this.g.va || this.g.ha) n = g - Math.floor(g), g -= n;
      c = c / m + (this.g.ha ? f / 2 + g / 2 : 0) - e + k;
      this.g.X && !this.g.va && (c -= this.g.zoom / 32 * 0.2);
      if (this.g.X && !this.g.va || this.g.ha) q = c - Math.floor(c), c -= q;
      this.g.ha && (0.25 > q ? 0.1 > n ? (--g, --c) : 0.9 <= n && (g += 1) : 0.75 <= q && (0.1 > n ? --g : 0.9 <= n && (g += 1, c += 1)));
      this.g.X && !this.g.va && (0 === (c + this.da + g + this.Z & 1) ? 1 < q + n && (c += 1) : 1 > 1 - q + n && (c += 1));
      return Math.sqrt((c - a) * (c - a) + (g - b) * (g - b));
    };
    ea.prototype.RA = function () {
      var a = 9999 < this.g.T ? 99999 : 9999;
      var b = this.g.Z ? -1 : 0;
      var c = Math.round(-this.g.R / 2) + b, d = Math.round(-this.g.M / 2) + b, f = c + this.g.R - 1, e = d + this.g.M - 1;
      if (-1 === this.h.v) this.kb.wb = "", this.kb.I = !this.kg; else {
        this.uj(this.h.v, this.h.B);
        var k = this.g.Ra(this.Ec, this.Fc, this.Na && this.L);
        var g = this.g.Ra(this.Ec, this.Fc, true);
        var m = this.Ec - this.da + this.V;
        b = this.Fc - this.Z + this.$;
        -1 === this.g.C || this.kc || (m -= Math.floor(this.A / 2 + (this.ra - this.A) / 2), b -= Math.floor(this.B / 2 + (this.qa - this.B) / 2));
        var p = m < -a || m > a ? Number(m / 1e3).toFixed(1) + "K" : String(m);
        a = b < -a || b > a ? this.te ? Number(-b / 1e3).toFixed(1) + "K" : Number(b / 1e3).toFixed(1) + "K" : this.te ? String(-b) : String(b);
        -1 !== this.g.C ? (0 === this.g.R && (c = -this.g.T, f = this.g.T), 0 === this.g.M && (d = -this.g.T, e = this.g.T), m < c || m > f || b < d || b > e ? (m === c - 1 || m === f + 1) && b >= d - 1 && b <= e + 1 || (b === d - 1 || b === e + 1) && m >= c - 1 && m <= f + 1 ? (this.kb.wb = p + "," + a + "=[bounded]", this.bg && (this.kb.wb += " " + String(g))) : this.kb.wb = p + "," + a + "=[boundary]" : (this.kb.wb = p + "," + a + "=" + k + " (" + this.eh(k) + ")", this.bg && (this.kb.wb += " " + String(g)))) : (c = -(this.g.T - this.A) >> 1, f = c + this.g.T - 1, d = -(this.g.T - this.B) >> 1, e = d + this.g.T - 1, this.kb.wb = m < c || m > f || b < d || b > e ? p + "," + a + "=[boundary]" : p + "," + a + "=" + k + " (" + this.eh(k) + ")", this.bg && (this.kb.wb += " " + String(g)));
        this.kb.I = false;
      }
      this.kb.B = this.kg || !this.Fb && -1 !== this.h.v ? this.s || this.aa || 0 === this.A ? false : true : false;
      !this.R && !this.gd || this.s && !this.aa ? this.fe.B = false : (this.fe.B = true, this.fe.I = false, m = this.ba.J > this.ba.F ? this.ba.J - this.ba.F + 1 : this.ba.F - this.ba.J + 1, b = this.ba.K > this.ba.G ? this.ba.K - this.ba.G + 1 : this.ba.G - this.ba.K + 1, this.fe.wb = m + " x " + b);
    };
    ea.prototype.FC = function (a) {
      if (!this.La && !this.ga) if (0 < this.s) 0 < a ? this.ym(this, a / 125 * 3) : this.wm(this, -a / 125 * 3); else if (0 < this.aa) 0 < a ? this.um(this, a / 125 * 3) : this.sm(this, -a / 125 * 3); else if (!this.Va && !this.ac.locked) {
        var b = this.ac.current[0];
        this.ik(b, a / 125 * 0.05);
      }
    };
    ea.prototype.nE = function (a) {
      var b = a.g.counter, c = " ";
      if (a.g.Z || a.g.i) b = a.g.Hb;
      a.De ? (0 > b && (c = ""), a.mb.i[0] = "+" + c + a.cl(b), a.mb.S = ["toggle generation statistics [G]\ngeneration +" + b]) : (0 > b + a.Ia && (c = ""), a.mb.i[0] = "T" + c + a.cl(b + a.Ia), a.mb.S = ["toggle generation statistics [G]\ngeneration " + (b + a.Ia)]);
      if (a.De) {
        if (a.g.Z || a.g.i) b = a.g.counter;
        a.jd.wb = 1e9 <= b ? "1B+" : String(b);
        a.jd.wb = String(b);
        a.jd.S = "generation " + b;
      } else b += a.Ia, a.jd.wb = 1e9 <= b ? "1B+" : String(b), a.jd.S = "absolute generation " + b;
      a.lf.S = a.jd.S;
    };
    ea.prototype.rf = function () {
      return this.Rl && !(this.Yd || this.g.counter <= this.Xd);
    };
    ea.prototype.OG = function (a, b) {
      var c = b.m.current;
      var d = false, f = false, e = false, k = false, g = false, m = b.g.counter;
      var p = 0;
      var n = 1e3 / b.M;
      var q;
      b.Va = false;
      b.pr && (b.pr = false, a = 0);
      b.L || b.OE(b);
      b.xs && (b.mb.current = b.vp([true], true, b), b.xs = false, b.D.i = true);
      b.My(b.hc.current[0]);
      b.Fb ? (a > n && (a - 0.3 > n && (f = true), a = n), !b.Fb || b.Ca && !b.ib || (b.ia += b.fa * b.Y, p = b.ia / b.M | 0, p > m ? b.dd = true : b.elapsedTime += a)) : b.dd && (g = true, b.ia = b.xv ? b.ia + b.M : b.ia + b.Y * b.M, p = b.ia / b.M | 0);
      b.Jl();
      b.Ca && !b.ib && b.Fb ? (b.m.L && (b.nc && !b.m.V(b.elapsedTime + a) && (b.nc = false, b.elapsedTime = b.m.pa(b.g.width / 2 - b.g.ea, b.g.height / 2 - b.g.da, b.g.zoom, b.g.angle, b.g.Gb, b.g.Aa, b.g.Ub * G.gl, b.g.Lb, b.fa, b.Y, b.g.counter, b.elapsedTime)), c.Ie && (b.ub(true, false, G.xf), b.nc = false, c.x = b.g.width / 2 - b.g.ea, c.y = b.g.height / 2 - b.g.da, b.ga && (b.g.zoom *= b.Yb), c.zoom = b.g.zoom)), (e = b.m.O(b, b.elapsedTime + a, b.g.counter, true)) ? (c.Ie && (c.Ie = false, b.ga && (b.g.zoom = c.zoom / b.Yb), b.ac && (b.ac.current = b.Td([b.g.zoom, b.g.zoom], false, b))), b.ia += b.fa * b.Y, p = b.ia / b.M | 0, p > m && (b.dd = true)) : (b.m.L && (b.Fb && (b.Va = true), b.g.da = b.g.height / 2 - c.y, b.g.ea = b.g.width / 2 - c.x, b.g.ha && (b.g.ea -= b.g.da / 2), b.g.zoom = c.zoom, b.ga && (b.g.zoom /= b.Yb), b.ac && (b.ac.current = b.Td([b.g.zoom, b.g.zoom], false, b)), b.g.ha || b.g.X || b.g.fa || (b.g.angle = c.angle, b.na && (b.na.current = [b.g.angle, b.g.angle]), b.g.Gb = c.Gb, b.$a && (b.$a.current = [b.Kj(b.g.Gb), b.g.Gb]), b.g.Aa = c.Aa, b.eb && (b.eb.current = [b.g.Aa, b.g.Aa]), b.g.Ub = c.depth / G.gl + G.$p, b.Ha && (b.Ha.current = [Math.sqrt(b.g.Ub), b.g.Ub * G.gl]))), b.fa = c.Pc, b.Y = c.step, b.hc.current = b.Mc([b.Wf(), 1], true, b), c.vc > b.g.counter ? (b.dd = true, b.ia = c.vc * b.M, p = b.ia / b.M | 0) : b.dd = false, c.le !== b.He && ("" === c.le ? b.D.notification.clear(false, false) : b.D.notification.notify(Kb.am(b, c.le), 15, 21600, 15, false), b.He = c.le), c.Dc !== b.xr && (b.Tf(c.Dc, b.g.se, b), b.xr = c.Dc)), b.dd || (b.elapsedTime += a)) : b.ea && b.Fb && (b.Va = true);
      b.Va && (b.Lc = -1);
      c = 0;
      if (b.dd) {
        n = performance.now();
        var l = p - m;
        var r = 0;
        for (q = b.rf(); !k && b.g.counter < p;) {
          c = performance.now() - n;
          if (b.g.counter === b.jc - 1 && !b.Lb || c > G.wA && !g) k = b.g.counter !== b.jc - 1 || b.Lb ? b.zf : true;
          b.g.zb && b.X("reverse playback");
          b.vi();
          r += 1;
          if (-1 !== b.Mb && b.g.counter >= b.Mb && !b.va) {
            for (p = 1; p <= r; p += 1) b.om(m + p, a, r);
            b.elapsedTime = 0;
            b.reset(b);
            p = m = 0;
            b.Pb && b.sc && (b.$b.current = b.xd(G.je, true, b), b.D.notification.notify("LOOP reached - Play to continue ", 15, 180, 15, true));
            e && (b.Va = true);
          }
          b.rf() && !q && (k = true);
        }
        for (p = 1; p <= r; p += 1) b.om(m + p, a, l);
        b.rf() && -1 === b.Ab && (b.Ab = b.g.counter, b.hd && (-1 === b.Mb || b.va) && (b.g.i || b.g.Z ? b.D.notification.notify("Life ended at generation " + (b.g.Hb + b.Ia), 15, 600, 15, false) : b.D.notification.notify("Life ended at generation " + (b.g.counter + b.Ia), 15, 600, 15, false)), q || -1 !== b.Mb && !b.va || (b.$b.current = b.xd(G.je, true, b)));
        b.ia -= (l - r) * b.M;
        0 > b.ia && (b.ia = 0);
        r < l && (b.g.counter !== b.jc || b.Lb) && b.Jd ? b.GF(r) : b.qy();
        b.g.counter !== b.jc || b.Lb || (b.$b.current = b.xd(G.je, true, b), this.ea && b.ub(true, false, G.xf), b.hd && b.D.notification.notify("STOP reached - Play to continue ", 15, 180, 15, true));
      } else b.qy();
      b.dd && !b.Fb && b.X("");
      b.na.locked = b.Va && b.Ca || b.g.ha || b.g.X || b.g.fa;
      b.$a.locked = b.Va && b.Ca || b.g.ha || b.g.X || b.g.fa;
      b.Vd.locked = b.Va && b.Ca;
      b.kf.locked = b.Va || b.ea && b.Fb;
      b.hc.locked = b.Va && b.Ca;
      b.ml.locked = b.Va && b.Ca;
      b.td.locked = b.Va && b.Ca;
      b.ac.locked = b.Va || b.ea;
      b.eb.locked = b.Va && b.Ca || b.g.ha || b.g.X || b.g.fa;
      b.Ha.locked = b.Va && b.Ca || b.g.ha || b.g.X || b.g.fa;
      b.jl.locked = b.g.ha || b.g.X || b.g.fa;
      b.di && (b.FC(b.di), b.di = 0);
      b.so(b, f, c, g);
      b.dd = false;
      b.xv = false;
      if (b.Fb || b.ea && 0.001 < b.Sg || -1 !== b.Lc) d = true;
      b.D.ue(d);
    };
    ea.prototype.so = function (a, b, c, d) {
      a.ea && a.Fb && a.ub(false, false, G.xf);
      a.g.vn(a.Rj, a.rd);
      a.rd && a.aD();
      a.Rj && a.D.ue(true);
      a.g.yh(!(this.R || this.gd || this.ua || a.wa.current !== G.ti));
      !a.g.va && a.g.ha && 4 <= a.g.zoom ? a.g.cj() : !a.g.va && a.g.X && 4 <= a.g.zoom && a.g.hj();
      a.xh && (2 === a.xh && a.g.ej(a.pd, 1, true, a.ga, a), a.LC(a), 2 === a.xh && (a.g.yh(!(this.R || this.gd || this.ua || a.wa.current !== G.ti)), !a.g.va && a.g.ha && 4 <= a.g.zoom ? a.g.cj() : !a.g.va && a.g.X && 4 <= a.g.zoom && a.g.hj()), a.xh = 0);
      a.g.Nk(a);
      a.g.counter && 0 < a.g.o && (a.Rb.F = a.g.u.F, a.Rb.G = a.g.u.G, a.Rb.J = a.g.u.J, a.Rb.K = a.g.u.K, a.Gj(a, a.Rb));
      a.ge && a.m.qa(a);
      !a.Fa || a.cb || a.Ac || a.g.ej(a.pd, a.Ya, false, a.ga, a);
      a.Vb && 0 < a.Kd && null !== a.g.ie && 0 === a.s && 0 === a.aa && false === a.ja.current[0] && (1 === a.Kd ? a.g.Hk(a.Fe) : a.g.Fk(a.Fe));
      a.s ? Xa.ly(a) : a.aa && Xa.hD(a);
      a.nE(a);
      a.hf.wb = a.rC(a.elapsedTime);
      a.Ld.wb = a.cl(a.g.o);
      a.Lm() ? a.fd.wb = a.g.i ? (25 * a.g.o / (a.g.M * a.g.R) | 0) + "%" : (100 * a.g.o / (a.g.M * a.g.R) | 0) + "%" : (a.fd.wb = a.cl(a.g.ma), a.Be.wb = a.cl(a.g.aa));
      a.Ld.S = "alive " + a.g.o;
      a.Lm() ? a.fd.S = a.g.i ? "density " + (25 * a.g.o / (a.g.M * a.g.R) | 0) + "%" : "density " + (100 * a.g.o / (a.g.M * a.g.R) | 0) + "%" : (a.fd.S = "births " + a.g.ma, a.Be.S = "deaths " + a.g.aa);
      a.Jd ? a.iE(c, b, d, a) : a.hc.oc = a.kf.oc;
      a.RA();
      -1 !== a.Lc && a.fr();
      a.rE();
      a.$F();
      a.zE();
      a.DA(0 !== a.s || 0 !== a.aa);
      !a.ja.current[0] || a.nd && a.Fb || (a.Ta.globalAlpha = 0.7, a.Ta.fillStyle = a.D.oc, a.Ta.fillRect(0, 0, a.bb.width, a.bb.height), a.Ta.globalAlpha = 1);
    };
    ea.prototype.iE = function (a, b, c, d) {
      var f = 255, e = 48, k = 48;
      (b || a > G.wA) && !c ? d.$i < G.Iz && (d.$i += 1) : d.$i > G.Jz && --d.$i;
      var g = d.$i / (G.Iz - G.Jz);
      a = d.rp >> 16;
      b = d.rp >> 8 & 255;
      c = d.rp & 255;
      d.Tc && (f = d.Tc[0], e = d.Tc[1], k = d.Tc[2]);
      d.hc.oc = "rgb(" + (f * g + a * (1 - g) | 0) + "," + (e * g + b * (1 - g) | 0) + "," + (k * g + c * (1 - g) | 0) + ")";
    };
    ea.prototype.NG = function () {
      var a = this.lf.R, b = this.hf.R, c = this.kb.R;
      this.Rc.I && this.Ae.I ? (this.Re.s(c), this.Ld.s(c)) : this.Ae.I ? (this.Re.s(b), this.Ld.s(b), this.Rc.s(c), this.fd.s(c)) : (this.Re.s(a), this.Ld.s(a), this.Rc.s(b), this.fd.s(b), this.Ae.s(c), this.Be.s(c));
    };
    ea.prototype.Jl = function () {
      var a = this.ia / this.M;
      if (this.hb && !this.Nb) {
        this.g.Ba = a * (this.og + this.kh) / 2;
        this.g.pa = a * (this.Ch + this.qg) / 2;
        var b = this.g.Rj(0, this.Ch, this.og, this.qg, this.kh, this.displayWidth, this.displayHeight - 80, G.ob, G.Xb, G.Eq);
        a = this.g.Rj(a, this.Ch, this.og, this.qg, this.kh, this.displayWidth, this.displayHeight - 80, G.ob, G.Xb, G.Eq);
        this.g.Ga = a / b;
      } else this.g.Ba = 0, this.g.pa = 0, this.g.Ga = 1;
      this.ac.current = this.Td([this.g.zoom, this.g.zoom], false, this);
    };
    ea.prototype.DA = function (a) {
      var b = !(this.s && this.Cd === G.hg), c, d = [], f = [], e = this.ja.current[0];
      this.$b.o[1] = this.Hb || 0 === this.g.counter && (!this.g.Z && !this.g.i || null === this.g.bb) ? true : false;
      var k = a || !this.ie;
      for (c = 0; c <= this.g.ib; c += 1) this.Ba[c].I = k;
      this.Lz.I = k;
      this.qz.I = k;
      this.Sz.I = k;
      this.xz.I = k;
      for (c = 0; c < G.jp.length; c += 1) G.jp[c] === this.g.ib && (this.Ba[c].locked = !(this.sa || this.Ef || -1 !== this.Bm || -1 !== this.Dm));
      k = a || !this.Vb || "Empty" === this.pb || "none" === this.pb || e;
      this.Ym.I = a || !this.Vb || e;
      this.Ed.I = a || !this.Vb || null === this.g.ie || e;
      this.mk.I = a || !this.Vb || null === this.g.ie || e;
      k = k || 2 === this.Kd;
      k = (this.Fe.I = k) || 0 < this.Kd;
      this.Wk.I = k;
      this.Tq.I = k || this.g.ha || this.g.X;
      this.Xq.I = k || "Spaceship" !== this.pb || this.g.ha || this.g.X;
      this.ar.I = k || "Still Life" === this.pb;
      this.Xh.I = k || this.g.ha || this.g.X;
      this.Rq.I = k || "Oscillator" !== this.pb;
      this.cr.I = k || "Spaceship" !== this.pb || this.g.ha || this.g.X;
      this.er.I = k || "Spaceship" !== this.pb;
      this.Zq.I = k || "Still Life" === this.pb || this.g.eb || this.g.s && 2 < this.g.h || -1 !== this.g.C;
      this.gr.I = k || "Oscillator" !== this.pb || -1 !== this.g.C || this.g.s && 2 < this.g.h;
      this.ir.I = k || "Oscillator" !== this.pb;
      this.Wh.I = k;
      this.Xm.I = k || this.g.ha || this.g.X;
      this.Zm.I = k || "Spaceship" !== this.pb || this.g.ha || this.g.X;
      this.$m.I = k || "Still Life" === this.pb;
      this.Yh.I = k || this.g.ha || this.g.X;
      this.Uk.I = k || "Oscillator" !== this.pb;
      this.bn.I = k || "Spaceship" !== this.pb || this.g.ha || this.g.X;
      this.$k.I = k || "Spaceship" !== this.pb;
      this.Yk.I = k || "Still Life" === this.pb || this.g.eb || -1 !== this.g.C || this.g.s && 2 < this.g.h;
      this.bl.I = k || "Oscillator" !== this.pb || -1 !== this.g.C || this.g.s && 2 < this.g.h;
      this.km.I = k || "Oscillator" !== this.pb;
      k = a || !this.Vb || 1 !== this.Kd || 0 === this.g.Uc || e;
      this.Li.I = k;
      this.Zh.I = k;
      this.Li.locked = 0 === this.g.cb;
      this.Zh.locked = this.g.cb === this.g.Uc;
      this.wh.locked = this.ka === this.qh;
      this.Sd.locked = 1 >= this.ka || this.Sd.S === "undo [" + this.u + " Z]";
      this.Vd.I = a;
      this.ac.I = a;
      this.kf.I = a;
      this.kd.I = a;
      this.Xg.I = a;
      this.lg.I = a;
      this.Nc.I = a;
      this.sf.I = a;
      this.wa.I = a;
      k = (this.xi.I = a) || !this.Fa || this.cb || this.Ac || e;
      this.Ui.I = k;
      this.Pq.I = k;
      this.Si.I = k;
      this.bc.I = k || -1 !== this.g.C;
      this.mi.I = !(this.nb && -1 === this.g.Be || -1 !== this.Kb);
      this.mi.locked = false;
      this.lf.I = a;
      this.jd.I = a;
      this.rj.I = a;
      this.hf.I = a;
      this.Re.I = a;
      k = (this.Ld.I = a) || this.DG();
      this.Rc.I = k;
      k = (this.fd.I = k) || this.Lm();
      this.Ae.I = k;
      this.Be.I = k;
      this.be.I = a;
      this.NG();
      this.kf.I = a;
      this.el.I = a || !this.cf;
      this.bh.I = !this.Ad;
      this.Xe || this.We || this.Ye || this.he || this.Ze || this.ie || this.Ve ? (this.zd.wb = "Back", this.zd.S = "back to previous menu [Backspace]") : (this.zd.wb = "Close", this.zd.S = "close menu [Backspace]");
      this.Ud.locked = !(this.g.Z && 2 === this.g.Sa);
      this.Ud.current = this.Ud.locked ? [false] : [this.g.ad];
      k = (this.zd.I = a) || this.ie;
      this.Ha.I = k;
      this.na.I = k;
      this.$a.I = k;
      this.eb.I = k;
      k = a || this.ie || this.We || this.he || this.Xe || this.Ye || this.Ze || this.he || this.Ve;
      this.uk.I = k;
      this.oo.I = k;
      this.td.I = k;
      this.pl.I = k;
      this.Qj.I = k;
      this.Hr.I = k;
      this.Mn.I = k;
      this.Ee.I = k;
      k = a || !this.We;
      this.Gr.I = k;
      this.Xs.I = k;
      this.nm.I = k;
      this.Lj.I = k;
      this.vo.I = k;
      this.Fn.I = k;
      this.pm.I = k;
      this.$s.I = k;
      this.dt.I = k;
      k = a || !this.he;
      this.zt.I = k;
      this.nk.I = k;
      this.Br.I = k;
      this.zr.I = k;
      this.Pk.I = k;
      this.Tk.I = k;
      this.Vh.I = k;
      this.bm.I = k;
      this.bu.I = k;
      this.St.I = k;
      k = a || !this.Ye;
      this.Ii.I = k;
      this.Fl.I = k;
      this.fj.I = k;
      this.fj.locked = !this.gk;
      this.Im.I = k;
      this.Km.I = k;
      this.uo.I = k;
      this.Mi.I = k;
      this.dh.I = k;
      this.dh.locked = !this.g.s || this.g.s && !this.g.qf();
      this.ql.I = k;
      this.xj.I = k;
      k = a || !this.Xe;
      this.Dd.I = k;
      this.li.I = k;
      this.Fd.I = k;
      this.kj.I = k;
      this.qf.I = k;
      this.ji.I = k;
      this.Ud.I = k;
      this.uh.I = k;
      this.Hk.I = k;
      this.mn.I = k;
      k = a || !this.Ve;
      this.Vn.I = k;
      this.mo.I = k;
      this.jl.I = k;
      this.qm.I = k;
      this.wo.I = k;
      this.Nm.I = k;
      k = a || !this.Ze;
      this.Rm.I = k;
      this.Uh.I = k;
      this.mg.I = k;
      this.Uf.I = k;
      this.Ge.I = k;
      this.ki.I = k;
      k = this.g.fa || !this.ab;
      this.Pk.locked = k || this.g.s;
      this.Tk.locked = k;
      this.Vh.locked = k || this.L || this.g.O.V || -1 !== this.g.C && (0 === this.g.R || 0 === this.g.M) || this.g.eb;
      this.bm.locked = k || this.L || "Empty" === this.pb || "none" === this.pb || "" === this.pb;
      this.nm.locked = k;
      this.Lj.locked = k || !(this.g.s && 2 === this.g.h && !this.g.Ne && (!this.g.Pb || this.g.Mc !== Ba.wj));
      this.vo.locked = k;
      this.pm.locked = k;
      this.Fn.locked = k || null === this.Xa[this.mc];
      this.Rm.locked = !this.ab || this.L;
      this.uh.locked = 2 < this.g.h || this.g.Ea || this.g.i || this.g.H || this.g.l || this.g.A || this.g.s;
      this.nk.locked = k;
      this.Nm.locked = k;
      this.Sm.I = a || !(this.Xe || this.We || this.Ye || this.Ze || this.he || this.Ve) || this.displayHeight < G.Yu;
      this.Sm.wb = this.Xe ? "Display" : this.Ye ? "Advanced" : this.Ze ? "Playback" : this.he ? "Pattern" : this.We ? "Clipboard" : this.Ve ? "General" : "";
      this.Ge.locked = -1 !== this.g.Id || this.g.jh || this.g.Ea && 1 < this.g.O.o || this.g.X || this.g.Zc || this.g.ha || -1 !== this.g.C || this.g.Z || 2 < this.g.h || this.g.s;
      this.Ge.locked && (this.Ge.current = [false]);
      this.td.locked = this.Na || this.g.fa || this.g.s || this.g.l || this.g.A;
      this.Fd.locked = this.g.ha && !this.g.va || this.g.X && !this.g.va || 0 === this.g.Sa;
      this.Dd.locked = !(this.g.ha || this.g.X);
      k = a || 0 === this.m.i.length || e;
      this.gm.I = k;
      this.Ck.I = k;
      k = a || !this.Ja || this.cb || this.Ac || this.Fa;
      this.ll.I = k;
      this.Gg.I = k;
      this.nl.I = k;
      this.Hg.I = k;
      this.il.I = k;
      this.jh.I = k;
      this.kr.I = k;
      this.cn.I = k;
      this.fn.I = k;
      this.ln.I = k;
      this.dn.I = k;
      this.Cg.I = k;
      this.Eg.I = k;
      this.Fg.I = k;
      this.Dg.I = k;
      this.fs.I = 0 === this.aa || 0 !== this.s;
      this.ow.I = !(this.ho && this.s && this.Cd === G.hg);
      this.qp.I = !(this.s && this.Cd !== G.hg);
      this.ld.I = !(this.s && this.Cd !== G.hg) || !this.ij;
      this.Ok.I = b;
      this.Qk.I = b;
      this.Mk.I = b;
      this.Sk.I = b || this.g.fa || this.g.l || this.g.A || this.g.s;
      this.Sh.I = b;
      this.Qh.I = b;
      this.ih.I = b;
      this.Rh.I = b || 0 === this.m.A();
      this.Am.I = !(this.s && this.Cd !== G.hg) || this.ij;
      if (this.hr) {
        this.hr = false;
        b = this.ld.y;
        for (c = 0; c < this.v.length && b < this.displayHeight - 66 * this.h.C;) d[c] = this.v[c][1], f[c] = "Top" === d[c] ? "go to top of topic [Home]" : "", b += 26 * this.h.C, c += 1;
        this.ld.i = d;
        this.ld.S = f;
        this.ld.wa(26 * d.length);
        this.ld.current = 0;
      }
      k = a || !this.Ac || e;
      this.al.I = k;
      this.Wg.I = k;
      this.jk.I = k;
      this.Ne.I = k;
      this.Jj.I = k;
      this.sh.I = k;
      this.Id.I = k;
      this.Mj.I = k;
      this.Pj.I = k;
      this.rk.I = k;
      k = a || !this.Ac || e;
      this.Ej.I = k;
      this.jm.I = k;
      this.pk.I = k;
      this.qk.I = k;
      this.im.I = k;
      this.Gk.I = k;
      this.Ik.I = k;
      this.Zk.I = k;
      this.Xk.I = k;
      this.pf.I = k;
      this.Ij.I = k;
      this.Hj.I = k;
      this.Bf.I = k || !(this.g.H || this.g.l);
      this.Af.I = k;
      this.xc.I = k;
      this.$d.I = k;
      k = a || !this.Ac || e || 2 >= this.g.h || this.g.fa;
      this.vh.I = k || this.g.i;
      k = this.L;
      this.sh.locked = k;
      this.Id.locked = k;
      k = !this.R;
      this.Mj.locked = k;
      this.jk.locked = k;
      k = !(this.R || this.ua) || this.L;
      this.Ej.m(k);
      this.xc.m(k);
      this.vh.m(k);
      this.$d.m(k);
      this.jm.m(k);
      this.pk.m(k);
      this.qk.m(k);
      this.im.m(k);
      this.Gk.m(k);
      this.Ik.m(k);
      this.Zk.m(k);
      this.Xk.m(k);
      this.pf.m(k);
      this.Ij.m(k);
      this.Hj.m(k);
      this.Bf.m(k);
      this.Af.m(k);
      k = !this.R || this.L;
      this.Pj.locked = k;
      k = !this.Dj || this.ua || null === this.Xa[this.mc] || this.L;
      this.rk.locked = k;
      k = a || !this.cb || !this.Vf || e;
      this.Sa.I = k;
      this.ma.I = k;
      if (2 >= this.g.h && !this.g.s) for (c = 0; c < this.ma.i.length; c += 1) b = 2 >= c ? 0 === c ? c : 1 === c ? I.Wa : I.Gh : 128 + G.yb[c], this.ma.M[c] = "rgb(" + this.g.ja[b] + "," + this.g.ia[b] + "," + this.g.ga[b] + ")"; else for (c = 0; c < this.ma.i.length; c += 1) b = 0 === c + this.ic ? 0 : this.g.fa || this.g.i || this.g.s || this.g.l || this.g.A ? c + this.ic + this.la : this.la + this.g.h - (c + this.ic), this.ma.M[c] = "rgb(" + this.g.ja[b] + "," + this.g.ia[b] + "," + this.g.ga[b] + ")";
      k = a || !this.cb || e;
      this.$c.I = k;
      this.wk.I = k;
      this.jj.I = k;
      this.lj.I = k;
      this.vl.I = a || !this.cb || !this.Vf || this.g.h <= this.tc || e;
      this.xl.I = a || !this.cb || !this.Vf || this.g.h <= this.tc || e;
      this.g.h > this.tc && this.iw();
      if (0 < this.s) {
        c = 0;
        for (b = -1; c < this.v.length && -1 === b;) this.v[c][0] > this.s ? b = this.v[c][0] : c += 1;
        c === this.v.length && (b = c);
        -1 !== b && (this.ld.current = c - 1);
      }
      this.nd && (this.h.I = this.Fb ? true : false);
      k = this.displayHeight < G.Zj;
      this.ja.locked = k;
    };
    ea.prototype.zE = function () {
      var a = -(this.g.width / 2 - this.g.ea - this.g.Ba | 0), b = -(this.g.height / 2 - this.g.da - this.g.pa | 0), c = String(a), d = String(b);
      this.ll.I = !this.Ja;
      this.Gg.I = !this.Ja;
      this.nl.I = !this.Ja;
      this.Hg.I = !this.Ja;
      this.il.I = !this.Ja;
      this.jh.I = !this.Ja;
      this.kr.I = !this.Ja;
      this.cn.I = !this.Ja;
      this.fn.I = !this.Ja;
      this.ln.I = !this.Ja;
      this.dn.I = !this.Ja;
      this.Cg.I = !this.Ja;
      this.Eg.I = !this.Ja;
      this.Dg.I = !this.Ja;
      this.Fg.I = !this.Ja;
      if (-99999 > a || 99999 < a) c = (a / 1e3 | 0) + "K";
      if (-99999 > b || 99999 < b) d = (b / 1e3 | 0) + "K";
      this.Gg.wb = c;
      this.Hg.wb = d;
      this.jh.wb = this.g.angle.toFixed(0) + "°";
      this.Cg.wb = this.rm.toFixed(3);
      this.Eg.wb = this.vm.toFixed(3);
      this.Fg.wb = this.xm.toFixed(3);
      this.Dg.wb = this.tm.toFixed(3);
    };
    ea.prototype.$F = function () {
      0 === this.g.counter ? this.xm = this.rm = this.vm = this.tm = 0 : (this.vm = (this.g.u.K - this.g.$a.K) / this.g.counter, this.tm = (this.g.u.G - this.g.$a.G) / this.g.counter, this.rm = (this.g.u.J - this.g.$a.J) / this.g.counter, this.xm = (this.g.u.F - this.g.$a.F) / this.g.counter);
    };
    ea.prototype.rE = function () {
      this.Vd.current = [this.ea];
      this.Xg.current = [!this.sc && this.Pb];
      this.Xg.locked = !this.Pb;
      this.hb ? (this.Nc.i[0] = "TRACK", this.Nc.current = [!this.Nb && this.hb], this.Nc.locked = !this.hb, this.Nc.S = ["toggle track mode [W]"]) : (this.Nc.i[0] = "WAYPT", this.Nc.current = [!this.ib && this.Ca], this.Nc.locked = !this.Ca, this.Nc.S = ["toggle waypoint mode [W]"]);
      this.sf.current = [!this.va && -1 !== this.Mb];
      this.sf.locked = -1 === this.Mb;
      this.sf.S = ["loop at " + this.Mb + " [Shift P]"];
      this.lg.current = [!this.Lb && -1 !== this.jc];
      this.lg.locked = -1 === this.jc;
      this.lg.S = ["stop at " + this.jc + " [" + this.C + " P]"];
    };
    ea.prototype.om = function (a, b, c) {
      if (a >= this.Ce.length) {
        var d = this.g.N.h(oa.Yc, this.Ce.length + G.uz, "View.elapsedTimes");
        d.set(this.Ce);
        this.Ce = d;
      }
      this.elapsedTime += b / c;
      this.Ce[a] = this.elapsedTime;
    };
    ea.prototype.vi = function () {
      var a = this.g.u, b = this.g.Oa, c = this.g.o;
      this.g.Kj.set(a);
      this.g.Lj.set(b);
      this.g.hf(this.Hb);
      this.g.te();
      this.g.rf(this);
      this.tk();
      this.g.Jg();
      0 === this.g.o && (a.set(this.g.Kj), b.set(this.g.Lj));
      this.Rl = 0 === this.g.o && 0 !== c ? true : false;
      this.g.counter && 0 < this.g.o && (this.Rb.F = this.g.u.F, this.Rb.G = this.g.u.G, this.Rb.J = this.g.u.J, this.Rb.K = this.g.u.K, this.Gj(this, this.Rb));
    };
    ea.prototype.QB = function () {
      null !== this.g.Pb && this.g.Mc === Ba.vg && 4 < this.g.h ? this.g.hb = 0 : this.g.Ek();
    };
    ea.prototype.FG = function (a, b) {
      0 === a.g.hb && (a.g.Ye = performance.now());
      do {
        this.g.xk();
        var c = performance.now() - b;
      } while (14 > c && -1 !== a.g.hb);
      -1 === a.g.hb && (a.g.Ye = performance.now() - a.g.Ye, a.D.M = 10);
      a.D.ue(true);
    };
    ea.prototype.Al = function (a, b, c) {
      a.h.locked = false;
      b ? c && a.D.notification.notify("Cancelled", 15, 80, 15, true) : a.hd && (c || -1 !== a.If) && (a.D.notification.notify("Arrived at generation " + a.g.counter, 15, 150, 15, true), -1 !== a.If && (c = (performance.now() - a.If) / 1e3, b = a.ol / c | 0, a.D.notification.notify("Calculated " + a.ol + " gens in " + c.toFixed(1) + "s = " + b + "gps", 15, 1200, 15, false), a.on = c, a.rr = a.ol));
      -1 === a.If && (0 !== a.g.o || a.Yd || a.g.counter <= a.Xd) && a.D.notification.clear(false, false);
      a.X("");
      a.Kb = -1;
      a.If = -1;
    };
    ea.prototype.SA = function (a) {
      var b = performance.now();
      for (a.h.locked = true; !a.rf() && a.g.counter < a.Kb && (-1 !== a.If || 13 > performance.now() - b);) a.vi(), a.rf() && -1 === a.Ab && (a.Ab = a.g.counter, a.hd && (-1 === a.Mb || a.va) && (a.g.i || a.g.Z ? a.D.notification.notify("Life ended at generation " + (a.g.Hb + a.Ia), 15, 600, 15, false) : a.D.notification.notify("Life ended at generation " + (a.g.counter + a.Ia), 15, 600, 15, false))), a.om(a.g.counter, 0, 1);
      a.so(a, false, 0, false);
      a.hF(a);
      a.ia = a.g.counter * a.M;
      a.D.ue(true);
      (a.g.counter >= a.Kb || a.rf()) && a.Al(a, 0 === a.g.o && !(a.Yd || a.g.counter <= a.Xd), false);
    };
    ea.prototype.AG = function (a) {
      var b = performance.now();
      a.h.locked = true;
      a.ia = a.g.counter * a.M;
      for (a.Jl(); a.nb && 13 > performance.now() - b && (0 < a.g.o || a.Yd || a.g.counter <= a.Xd);) {
        -1 === a.g.Be && (a.vi(), 0 === a.g.o && -1 === a.Ab && (a.Ab = a.g.counter, a.hd && (a.Ql || a.g.counter <= a.Xd || (a.g.i || a.g.Z ? a.D.notification.notify("Life ended at generation " + (a.g.Hb + a.Ia), 15, 600, 15, false) : a.D.notification.notify("Life ended at generation " + (a.g.counter + a.Ia), 15, 600, 15, false)))), a.om(a.g.counter, 0, 1));
        if (0 < a.g.o || a.Yd || a.g.counter <= a.Xd) {
          var c = a.g.Wm(a);
          0 < c.length && (c[0] === I.Ex ? (c[0] = "Nothing Identified", a.tr = "none", a.pb = "none", a.Yl = "", a.Ri = "", a.Vl = "", a.un = "", a.Ni = "", a.em = "", a.Qi = "", a.Oi = "", a.nh = "", a.mh = "", a.Pi = "", a.rn = "", a.vn = "", a.sn = "") : (a.tr = c[0], a.pb = c[1], "Empty" !== a.pb && (a.Yl = c[2], a.Ri = c[3], a.Vl = c[4], a.un = c[5], a.Ni = c[6], a.em = c[7], a.Qi = c[8], a.Oi = c[9], a.nh = c[10], a.mh = c[11], a.Pi = c[12], a.rn = c[13], a.vn = c[14], a.sn = c[15], a.Wh.wb = a.Ni, a.Wh.S = -1 === a.Ni.indexOf("|") ? "" : "min | max | average", a.Xm.wb = a.Vl, a.Zm.wb = a.Yl, a.$m.wb = a.Qi, a.bn.wb = a.em, a.$k.wb = a.Ri, a.$k.S = -1 === a.Ri.indexOf("|") ? "" : "simplified | unsimplified", a.Yk.wb = a.Oi, a.Yk.S = -1 === a.Oi.indexOf("|") ? "" : "min | max | average", a.km.wb = "" === a.mh ? a.nh + " | N/A" : a.nh + " | " + a.mh, a.km.S = "normal | strict", a.Yh.wb = a.Pi, a.Uk.wb = a.rn, a.Uk.S = "rotor | stator | total", a.bl.wb = a.vn, a.bl.S = "active | rotor", "Still Life" === a.pb ? (a.Yh.wb = a.sn, a.Xh.wb = "Density") : a.Xh.wb = "Mod"), a.Vb = true, a.Py()), a.nb = false, a.Fb && (a.$b.current = a.xd(G.je, true, a)), a.X(""), a.Fe.wb = c[0], "Empty" === a.pb || "none" === a.pb || "" === a.pb ? (a.D.notification.notify(c[0], 15, 240, 15, false), a.Vb = false) : (a.D.notification.clear(true, false), a.D.notification.clear(false, false), a.ia = a.g.counter * a.M, a.Jl(), a.ub(true, false, G.xf)), a.g.Qf(a.nb), a.h.locked = false);
        } else a.nb = false, a.Fb && (a.$b.current = a.xd(G.je, true, a)), a.X(""), a.Vb = false, a.g.Qf(a.nb), a.h.locked = false;
        if (-1 !== a.g.Be) {
          a.mi.locked = true;
          break;
        }
      }
      a.so(a, false, 0, false);
      a.ia = a.g.counter * a.M;
      a.D.ue(true);
    };
    ea.prototype.wG = function (a) {
      for (var b = a.Gs, c = performance.now(), d = this.Hb, f = 51 * I.ap; a.g.counter < b && 13 > performance.now() - c;) this.Hb = b - 1 - a.g.counter <= f ? false : d, a.vi();
      a.g.counter === b ? (a.Yg = false, a.zs && a.D.notification.clear(true, false), a.ia = a.g.counter * a.M, a.h.locked = false) : a.h.locked = true;
      a.VE(a, b);
      a.so(a, false, 0, false);
      a.Hb = d;
      a.D.ue(true);
    };
    ea.prototype.KG = function (a) {
      var b = a.g.zc ? 4278190080 : 255;
      this.yf.I = true;
      a.ph === G.Ht && (a.h.locked = true, a.kb.B = false, a.fe.B = false, a.DA(false), a.D.ue(true), a.g.Oc && a.g.Oc.fill(b));
      a.ph === G.Gt && (a.uw = performance.now());
      --a.ph;
      0 === a.ph && (a.Fr = performance.now(), a.M = Math.round(1e3 / ((a.Fr - a.uw) / (G.Gt - 1))), 62 >= a.M && (a.M = 60), a.D.sa = a.M, a.mw && (a.Y = 1), a.hw && (a.fa = a.M), a.hc.current = 1 === a.Y && 60 === a.fa ? a.Mc([1, 1], true, a) : a.Mc([a.Wf(), 1], true, a), a.h.locked = false);
      a.g.yh(false);
    };
    ea.prototype.qG = function (a, b) {
      var c = performance.now();
      0 < b.ph ? b.KG(b) : b.Yg ? b.wG(b) : b.nb ? b.AG(b) : -1 !== b.Kb ? b.SA(b) : (b.OG(a, b), b.g.s && -1 !== b.g.hb && b.FG(b, c));
    };
    ea.prototype.kw = function (a) {
      a.g.counter = 0;
      a.g.Hb = 0;
      a.g.fe = 0;
      a.ia = 0;
      a.elapsedTime = 0;
      a.g.ea = a.g.width >> 1;
      a.g.da = a.g.height >> 1;
      a.g.ea &= a.g.width - 1;
      a.g.da &= a.g.height - 1;
      a.pr = true;
      a.Ab = -1;
      a.ph = G.Ht;
    };
    ea.prototype.Zw = function (a, b, c) {
      b && (c.rd = a[0]);
      return [c.rd];
    };
    ea.prototype.Lw = function (a, b, c) {
      b && (c.od = a[0]);
      return [c.od];
    };
    ea.prototype.Rw = function (a, b, c) {
      b && (c.g.Rc = a[0]);
      return [c.g.Rc];
    };
    ea.prototype.Nw = function (a, b, c) {
      b && (c.Ja = a[0]);
      return [c.Ja];
    };
    ea.prototype.Iw = function (a, b, c) {
      b && (c.g.Zb = a[0]);
      return [c.g.Zb];
    };
    ea.prototype.ax = function (a, b, c) {
      b && (c.bg = a[0]);
      return [c.bg];
    };
    ea.prototype.ex = function (a, b, c) {
      b && (c.te = a[0], c.FF(G.GA, c.te));
      return [c.te];
    };
    ea.prototype.Ml = function (a, b, c) {
      b && (c.hh = a[0], c.fh = a[1], c.gh = a[2]);
      return [c.hh, c.fh, c.gh];
    };
    ea.prototype.tp = function (a, b, c) {
      b && (c.wa.current !== G.ti && (c.wa.current = c.se(G.ti, true, c)), c.ja.current[0] && (c.ja.current = c.ef([false], true, c)), c.Fa = a[0]);
      return [c.Fa];
    };
    ea.prototype.dB = function (a, b, c) {
      b && (c.g.hd = a[0]);
      return [c.g.hd];
    };
    ea.prototype.Pw = function (a, b, c) {
      b && (c.ge = a[0]);
      return [c.ge];
    };
    ea.prototype.Cw = function (a, b, c) {
      b && (c.g.Va = a[0]);
      return [c.g.Va];
    };
    ea.prototype.KA = function (a, b, c) {
      b && (c.ed = a[0], c.ed && !c.g.Ia && (c.cb || c.Ac) && (c.kd.current = c.sj([true], true, c)));
      return [c.ed];
    };
    ea.prototype.ur = function (a, b, c) {
      b && (c.g.Vb = a[0], c.g.Il(), c.g.sh(), 0 === (c.g.counter & 1) ? c.g.nf(c.g.wa) : c.g.nf(c.g.Qa));
      return [c.g.Vb];
    };
    ea.prototype.IA = function (a, b, c) {
      b && (c.g.ad = a[0]);
      return [c.g.ad];
    };
    ea.prototype.zw = function (a, b, c) {
      b && (c.nd = a[0]);
      return [c.nd];
    };
    ea.prototype.nr = function (a, b, c) {
      b && (c.g.va = a[0], c.vA());
      return [c.g.va];
    };
    ea.prototype.Ar = function (a, b, c) {
      b && (c.D.C = a[0]);
      c.D.ue(true);
      return [c.D.C];
    };
    ea.prototype.Fh = function (a, b, c) {
      b && (c.D.H = a[0]);
      c.D.ue(true);
      return [c.D.H];
    };
    ea.prototype.Tf = function (a, b, c) {
      if (c.g.Lb !== a) {
        c.g.um(a, b, c);
        1 < c.g.se && (c.D.M = c.g.se);
        for (b = 0; b <= this.g.ib; b += 1) this.Ba[b].current = a !== G.jp[b] ? [false] : [true];
        c.l.o = true;
        c.l.L = c.g.Dd;
        c.Fd.current = [c.g.Rc && 0 < c.g.Sa];
      }
    };
    ea.prototype.Wf = function () {
      var a = G.ay;
      this.fa > this.M && (this.fa = this.M);
      var b = Math.sqrt((this.fa - G.Tg) / (this.M - G.Tg));
      var c = (this.Y - G.tg) / (G.ni - G.tg);
      return 0 === c ? b * (1 - a) : c * (1 - a) + 1 + a;
    };
    ea.prototype.My = function (a) {
      var b = G.ay;
      this.fa > this.M && (this.fa = this.M);
      a <= 1 - b ? (a /= 1 - b, this.fa = Math.round(G.Tg + a * a * (this.M - G.Tg)), this.Y = 1) : (a < 1 + b ? a = 0 : (a -= 1 + b, a /= 1 - b), this.fa = this.M, this.Y = Math.round(G.tg + a * (G.ni - G.tg)));
    };
    ea.prototype.Mc = function (a, b, c) {
      var d = c.Wf();
      b && (d = a[0], c.My(d));
      c.fa > c.M && (c.fa = c.M);
      return [d, Math.round(c.fa) < c.M ? String(Math.round(c.fa)) + "/s" : String(Math.round(c.Y)) + "x"];
    };
    ea.prototype.Lt = function (a) {
      a.hj = a.g.zoom;
      a.ga && (a.hj *= a.Yb);
      a.Mu = a.g.angle;
      a.Ix = a.g.Gb;
      a.za = a.g.ea;
      a.Jb = a.g.da;
    };
    ea.prototype.mx = function (a) {
      a.Zf = a.g.width / 2 - a.g.ea;
      a.$f = a.g.height / 2 - a.g.da;
      a.Ah = a.g.zoom;
      a.Xf = a.g.angle;
      a.Yf = a.g.Gb;
      a.jf = a.g.width / 2 - a.za;
      a.Fi = a.g.height / 2 - a.Jb;
      a.Ek = a.Mu;
      a.Ei = a.Ix;
      a.Gi = a.ga ? a.hj / a.Yb : a.hj;
      a.Lc = 0;
    };
    ea.prototype.yE = function (a, b) {
      a.g.zoom = a.Xz;
      a.ga && (a.g.zoom /= a.Yb);
      a.ac && (a.ac.current = a.Td([a.g.zoom, a.g.zoom], false, a));
      a.g.angle = a.yi;
      a.na && (a.na.current = [a.yi, a.yi]);
      a.g.Gb = a.Bi;
      a.$a && (a.$a.current = [a.Kj(a.Bi), a.Bi]);
      a.g.ea = a.ta;
      a.g.da = a.zb;
      b && (a.Tf(a.Fm, 1, a), a.Na && (a.g.re = 0), a.fa = a.Kz, a.Y = a.Rz, a.hc.current = 1 === a.Y ? a.Mc([1, 1], true, a) : a.Mc([a.Wf(), 1], true, a), a.g.Aa = a.zi, a.eb.current = [a.zi, a.zi], b = Math.sqrt(a.Lu), a.Ha.current = a.ff([b, b], true, a), a.uh.current = this.ur([this.$u], true, a));
    };
    ea.prototype.ux = function (a) {
      a ? (this.g.ea += this.g.Ba, this.g.da += this.g.pa, this.g.zoom *= this.g.Ga) : (this.Jl(), this.g.ea -= this.g.Ba, this.g.da -= this.g.pa, this.g.zoom /= this.g.Ga, this.Jl());
      this.g.zoom < G.ob ? this.g.zoom = G.ob : this.g.zoom > G.Xb && (this.g.zoom = G.Xb);
    };
    ea.prototype.kx = function (a) {
      a.elapsedTime = 0;
      a.Na || (a.g.Yf(a, a.Hb), a.g.Gg());
    };
    ea.prototype.reset = function (a) {
      var b = false, c = false, d = a.m.C();
      this.Rl = false;
      this.Rj && this.g.oj();
      0 === a.g.counter && a.D.zb();
      if (0 === a.elapsedTime || a.Tm) b = true;
      a.va || -1 === a.Mb || a.g.counter >= a.Mb && (c = true);
      a.g.Hb = 0;
      a.g.fe = 0;
      c || b || (a.Ca && (a.ib = true), a.hb && (a.Nb = true), -1 !== a.Mb && (a.va = true), -1 !== a.jc && (a.Lb = true), a.Ln && (a.ea = false));
      a.elapsedTime = 0;
      a.g.Ba = 0;
      a.g.pa = 0;
      a.g.Ga = 1;
      if (b) {
        (this.g.Z || this.g.i) && null !== this.g.bb && a.mm && (a.g.zb = true);
        a.Ca && (a.ib = false);
        a.hb && (a.Nb = false);
        a.Ln && (a.ea = true);
        if (!c || a.Ca && a.m.L || a.ea) a.yE(a, b), a.ea && a.ub(true, false, G.xf);
        a.va = false;
        c || (a.Lb = false);
      }
      a.Na || (a.g.Yf(a, a.Hb), Array.jg(a.g.L, a.g.qa), Array.jg(a.g.L, a.g.B), -1 !== a.g.C && a.g.bg(), a.g.H || (-1 === a.g.h ? a.g.nf(a.g.wa) : a.g.te()));
      a.cc || a.g.Hg();
      a.g.Gg();
      a.xr = -1;
      a.nc = false;
      a.m.Ra();
      a.nb && (a.nb = false, a.D.notification.clear(true, false));
      a.g.Qf(a.nb);
      b ? d && d.zq ? d.le !== a.He && (a.D.notification.notify(Kb.am(a, d.le), 15, 21600, 15, false), a.He = d.le) : (a.D.notification.clear(false, false), a.He = "") : (a.D.notification.clear(false, false), a.He = "");
      a.Ab = -1;
      a.g.Vf = 0;
      a.Em(a.g.counter);
      a.Vb = false;
      a.bx();
    };
    ea.prototype.yh = function (a) {
      var b = this.g.Xa;
      if (a) {
        var c = "pause";
        a = "pause [Enter]";
      } else a = "play [Enter]", this.g.Z || this.g.i ? (this.g.zb && (b = !b), c = b ? "reverse" : "play") : c = "play";
      if (this.g.Z || this.g.i) if (b = this.g.Xa, this.g.zb && (b = !b), b) {
        var d = "stepback";
        b = "stepforward";
        var f = "step back [Shift Tab]";
        var e = "step forward [Tab]";
      } else d = "stepforward", b = "stepback", f = "step forward [Tab]", e = "step back [Shift Tab]"; else d = "stepforward", b = "stepback", f = "step forward [Tab]", e = "step back [Shift Tab]";
      this.$b.h[G.je] = this.l.h(d);
      d = this.$b.S;
      d[G.je] = f;
      this.$b.S = d;
      this.$b.h[G.Cn] = this.l.h(b);
      d = this.$b.S;
      d[G.Cn] = e;
      this.$b.S = d;
      this.$b.h[G.ui] = this.l.h(c);
      this.$b.S[G.ui] = a;
    };
    ea.prototype.ZB = function (a) {
      localStorage.setItem(G.ky, "y");
      a.Bx();
    };
    ea.prototype.Kc = function (a, b) {
      b.Cd = a;
      b.s = 1;
      b.ij = true;
      b.Vm = [];
      b.Wm = [];
      this.hr = true;
    };
    ea.prototype.fB = function (a) {
      a.Kc(G.ft, a);
    };
    ea.prototype.vG = function (a) {
      a.Kc(G.rv, a);
    };
    ea.prototype.MG = function (a) {
      a.Kc(G.Sp, a);
    };
    ea.prototype.wB = function (a) {
      a.Kc(G.Gv, a);
    };
    ea.prototype.eF = function (a) {
      a.Kc(G.ls, a);
    };
    ea.prototype.jC = function (a) {
      a.Kc(G.Jr, a);
    };
    ea.prototype.yB = function (a) {
      a.Kc(G.It, a);
    };
    ea.prototype.nC = function (a) {
      a.Kc(G.Mr, a);
    };
    ea.prototype.$A = function (a, b, c) {
      b && (c.s = c.v[a][0], c.ij = false);
      return a;
    };
    ea.prototype.jr = function (a, b, c) {
      b && (c.Wd = a[0], c.Wd && c.kk(c));
      return [c.Wd];
    };
    ea.prototype.ZA = function (a) {
      a.kk(a);
    };
    ea.prototype.lr = function (a, b, c) {
      b && (c.Cc = a[0], c.Cc && (c.Mm = true));
      return [c.Cc];
    };
    ea.prototype.se = function (a, b, c) {
      var d = a;
      if (b) {
        switch (a) {
          case G.$j:
            c.Ki = false;
            c.L || c.g.fa ? d = c.wa.current : (c.cb = true, c.$c.current = c.qe([false], true, c), c.Ac = false);
            c.Tn(c);
            c.ed && (c.kd.current = c.sj([true], true, c));
            break;
          case G.ak:
            c.cb = false;
            c.$c.current = c.qe([false], true, c);
            c.Ac = true;
            c.ed && (c.kd.current = c.sj([true], true, c));
            break;
          case G.ti:
            c.cb = false, c.Ac = false, c.$c.current = c.qe([false], true, c), c.Tn(c), c.ed && (c.kd.current = c.sj([false], true, c));
        }
        c.Vm = [];
        c.Wm = [];
        c.ja.current[0] && (c.ja.current = c.ef([false], true, c), c.D.i = true);
        c.Fa && (c.Fa = false, c.Ee.current = c.tp([c.Fa], true, c));
      }
      c.pv(d);
      return d;
    };
    ea.prototype.pv = function (a) {
      if (this.s || this.aa) this.h.Z("grab"); else switch (a) {
        case G.$j:
          this.h.Z("auto");
          break;
        case G.ti:
          this.h.Z("grab");
          break;
        case G.ak:
          this.h.Z("crosshair");
      }
    };
    ea.prototype.Ew = function (a, b, c) {
      b && (c.mc = a, c.Oj(), c.Ne.current = [false], c.D.i = true, c.ua ? c.gs(c, a) : c.D.notification.notify("Clipboard " + a + " active", 15, 80, 15, true));
      return c.mc;
    };
    ea.prototype.$E = function () {
      return G.fw[this.Id.current];
    };
    ea.prototype.qr = function (a, b, c) {
      b && (c.Nf = a, c.Ra = G.fw[a]);
      return c.Nf;
    };
    ea.prototype.KB = function (a) {
      a.L || (a.Nf += 1, 3 < a.Nf && (a.Nf = 0), a.Id.current = a.qr(a.Nf, true, a));
    };
    ea.prototype.Nq = function (a) {
      var b = -1, c, d = 0, f = 0, e = 0, k = 0;
      for (c = 0; c < a.length && -1 === b;) {
        switch (a.charAt(c)) {
          case "N":
            d += 1;
            break;
          case "S":
            f += 1;
            break;
          case "E":
            e += 1;
            break;
          case "W":
            k += 1;
            break;
          default:
            b = -2;
        }
        c += 1;
      }
      if (1 < d || 1 < f || 1 < e || 1 < k) b = -2;
      -2 !== b && (b = d | e << 1 | f << 2 | k << 3);
      return b;
    };
    ea.prototype.HA = function (a) {
      var b = -1, c;
      '"' === a.charAt(0) && (a = a.substring(1, a.length - 1));
      if (this.g.s) for (c = 0; c < this.Je.length && -1 === b;) void 0 !== this.Je[c] && this.Je[c] === a && (b = c), c += 1; else if (2 >= this.g.h) if (this.g.H) for (c = 0; c < G.Je.length && -1 === b;) G.Je[c] === a && (b = c), c += 1; else "alive" === a ? b = 1 : "dead" === a && (b = 0); else if ("dead" === a) b = 0; else if (this.g.i) b = this.Nq(a); else if (this.g.l) for (c = 0; c < I.En.length && -1 === b;) I.En[c] === a && (b = c), c += 1; else if (this.g.A) for (c = 0; c < I.Dn.length && -1 === b;) I.Dn[c] === a && (b = c), c += 1; else "alive" === a ? b = 1 : "dying " === a.substring(0, 6) && (b = Number(a.substring(6)) + 1, b >= this.g.h && (b = -1));
      return b;
    };
    ea.prototype.eh = function (a) {
      var b = "";
      if (this.g.s) b = void 0 === this.Je[a] ? "state " + String(a) : this.Je[a]; else if (2 >= this.g.h) if (this.g.H) b = G.Je[a]; else switch (a) {
        case 0:
          b = "dead";
          break;
        case 1:
          b = "alive";
          break;
        default:
          b = "state " + String(a);
      } else 0 === a ? b = this.g.fa ? "state 0" : "dead" : this.g.i ? (0 !== (a & 1) && (b += "N"), 0 !== (a & 2) && (b += "E"), 0 !== (a & 4) && (b += "S"), 0 !== (a & 8) && (b += "W")) : b = this.g.l ? I.En[a] : this.g.A ? I.Dn[a] : this.g.fa ? "state " + String(a) : 1 === a ? "alive" : "dying " + String(a - 1);
      return b;
    };
    ea.prototype.wr = function (a, b, c) {
      var d = a;
      b && (2 >= c.g.h ? c.Qe = a : (a += c.ic, c.Qe = 0 === a ? 0 : c.g.fa || c.g.i || c.g.s || c.g.l || c.g.A ? a : c.g.h - a), c.th ? c.D.notification.notify("Replace: Now click on a cell", 15, 180, 15, true) : (c.$c.current = c.qe([false], true, c), c.D.notification.notify("Drawing with state " + a + " (" + c.eh(a) + ")", 15, 120, 15, true)));
      return d;
    };
    ea.prototype.Rd = function (a) {
      var b = this.g.h, c = this.tc;
      -1 === b && (c = b = 2);
      this.g.H && (c = b = 7);
      a < b && (a >= c ? (this.ic = a - c + 1, a = c - 1) : a >= this.ic ? a -= this.ic : (this.ic = a, a = 0), this.Sa.current = this.wr(a, true, this), this.vl.current = this.yr([this.ic / (this.g.h - this.tc), 0], true, this));
    };
    ea.prototype.lB = function (a, b, c) {
      var d = 0;
      if (b) for (; d < a.length;) a[d] && (a[d] = false, c.Sa.current = c.wr(d, true, c)), d += 1;
      return a;
    };
    ea.prototype.mE = function (a) {
      var b = 0, c = this.Qe, d = this.g.Oa;
      var f = this.ba;
      var e = d.F, k = d.J;
      var g = d.G;
      d = d.K;
      var m = (this.g.width >> 1) - (this.A >> 1) + (this.V << 1);
      var p = (this.g.height >> 1) - (this.B >> 1) + (this.$ << 1);
      2 < this.g.h && !(this.g.fa || this.g.i || this.g.s || this.g.l || this.g.A) && 0 < a && (a = this.g.h - a);
      this.R && (e = f.F + m, k = f.J + m, e > k && (m = k, k = e, e = m), g = f.G + p, d = f.K + p, g > d && (m = d, d = g, g = m));
      if (c !== a) {
        for (; g <= d; g += 1) for (f = e; f <= k; f += 1) p = this.g.Ra(f, g, false), 2 < this.g.h && !(this.g.l || this.g.A || this.g.i || this.g.s) && 0 < p && (p = this.g.h - p), p === a && (this.pa(f, g, c, false), b += 1);
        0 < b && (!this.g.H && !this.g.l || 6 !== a && 6 !== c || this.g.gb(), this.X("replace states"));
      } else this.D.notification.notify("Cell and drawing state are the same", 15, 120, 15, true);
    };
    ea.prototype.ko = function (a, b, c) {
      var d = a.Qe, f = a.g.Oa, e = 0, k = 0;
      if (0 < d) if (2 < a.g.h && !(a.g.fa || a.g.i || a.g.s || a.g.l || a.g.A) && (d = a.g.h - d), a.g.H && 1 < d && (k = d & 1), a.g.H && b) if (c) {
        for (c = f.G; c <= f.K; c += 1) for (b = f.F; b <= f.J; b += 1) {
          var g = a.g.Ra(b, c, false);
          3 <= g && 5 >= g && (a.pa(b, c, g & 1, false), e += 1);
        }
        0 < e && (a.g.l ? a.X("clear [R]Super marked cells") : a.X("clear [R]History marked cells"));
      } else {
        for (c = f.G; c <= f.K; c += 1) for (b = f.F; b <= f.J; b += 1) g = a.g.Ra(b, c, false), 1 < g && (a.pa(b, c, g & 1, false), e += 1);
        0 < e && (a.g.l ? a.X("clear Super cells") : (this.g.gb(), a.X("clear History cells")));
      } else {
        for (c = f.G; c <= f.K; c += 1) for (b = f.F; b <= f.J; b += 1) g = a.g.Ra(b, c, false), g === d && (a.pa(b, c, k, false), e += 1);
        0 < e && ((a.g.H || a.g.l) && 6 === d && this.g.gb(), a.X("clear state " + d + " cells"));
      }
      return e;
    };
    ea.prototype.xd = function (a, b, c) {
      var d = a, f = c.Lb, e = c.va, k = c.ib, g = c.sc, m = c.ea, p = c.Nb, n = 40, q = 0, l = 0, r = 0, u = 0, t = 0, v = 0, B = 0;
      if (b) {
        c.Ki = false;
        switch (a) {
          case G.Qt:
            c.sc = c.Tm || c.Pb && 0 === c.g.counter && 0 === c.elapsedTime ? false : true;
            c.Pb && !c.sc ? (a = G.ui, c.Fb = true) : (a = G.je, c.Fb = false);
            c.X("");
            c.reset(c);
            b = "Reset";
            !c.va && e && -1 !== c.Mb && (l = 1);
            c.va && !e && -1 !== c.Mb && (l = -1);
            !c.Lb && f && -1 !== c.jc && (r = 1);
            c.Lb && !f && -1 !== c.jc && (r = -1);
            !m && c.ea && (B = 1);
            m && !c.ea && (B = -1);
            !c.ib && k && (u = 1);
            c.ib && !k && (u = -1);
            !c.Nb && p && (t = 1);
            c.Nb && !p && (t = -1);
            !c.sc && g && c.Pb && (v = 1);
            c.sc && !g && c.Pb && (v = -1);
            if (0 !== l || 0 !== r || 0 !== u || 0 !== t || 0 !== v || 0 !== B) b = "", 0 !== l && (q += 1, b += "Loop"), 0 !== r && (0 < q && (b = 0 < Math.abs(u) + Math.abs(t) + Math.abs(v) + Math.abs(B) ? b + ", " : b + " and "), q += 1, b += "Stop"), 0 !== u && (0 < q && (b = 0 < Math.abs(t) + Math.abs(v) + Math.abs(B) ? b + ", " : b + " and "), q += 1, b += "Waypoints"), 0 !== t && (0 < q && (b = 0 < Math.abs(v) + Math.abs(B) ? b + ", " : b + " and "), q += 1, b += "Track"), 0 !== v && (0 < q && (b = 0 !== B ? b + ", " : b + " and "), q += 1, b += "AutoStart"), 0 !== B && (0 < q && (b += " and "), b += "AutoFit"), b = 0 < r || 0 < l || 0 < u || 0 < t || 0 < v || 0 < B ? b + " On" : b + " Off", n = 120;
            c.D.notification.notify(b, 15, n, 15, true);
            break;
          case G.ui:
            c.Fb ? (c.Fb = false, c.X(""), (c.g.counter !== c.jc || c.Lb || c.hd) && c.D.notification.notify("Pause", 15, 40, 15, true), c.oh = performance.now() - c.oh, c.Gm && c.D.notification.notify("Playback time " + (c.oh / 1e3).toFixed(2), 15, 300, 15, false)) : (c.Ca && !c.ib && (c.g.Z || c.g.i) && (c.g.Xa || !c.g.Xa && c.g.zb) && c.gw(c), c.Fb = true, c.X(""), c.Jm && Aa.Dv(c), c.D.notification.notify("Play", 15, 40, 15, true), c.oh = performance.now());
            break;
          case G.Cn:
            if (c.Fb) c.Fb = false, c.X(""), c.D.notification.notify("Pause", 15, 40, 15, true); else {
              if ((c.g.Z || c.g.i) && null !== c.g.bb) {
                c.g.zb = !c.g.zb;
                c.g.zb && c.X("reverse playback");
                c.X("");
                for (f = 0; f < c.Y; f += 1) c.vi(), c.ia = c.g.counter * c.M, c.rf() && -1 === c.Ab && (c.Ab = c.g.counter, c.hd && (-1 === c.Mb || c.va) && (c.g.i || c.g.Z ? c.D.notification.notify("Life ended at generation " + (c.g.Hb + c.Ia), 15, 600, 15, false) : c.D.notification.notify("Life ended at generation " + (c.g.counter + c.Ia), 15, 600, 15, false)));
                c.g.zb = true;
              } else 0 < c.g.counter && (c.Em(c.g.counter - c.Y), q = c.g.o, c.Gq(c.g.counter - c.Y), 0 === q && 0 < c.g.o && (c.Ab = -1), 0 === c.g.counter && (c.g.H || (-1 === c.g.h ? c.g.nf(c.g.wa) : c.g.te())));
              c.ea && c.ub(true, true, G.xf);
            }
            break;
          case G.je:
            c.Fb ? (c.Fb = false, c.X(""), (c.g.counter !== c.jc || c.Lb || c.hd) && c.D.notification.notify("Pause", 15, 40, 15, true), c.oh = performance.now() - c.oh, c.Gm && c.D.notification.notify("Playback time " + (c.oh / 1e3).toFixed(2), 15, 300, 15, false)) : (c.dd = true, c.X(""));
        }
        d = a;
        c.yh(c.Fb);
      }
      return d;
    };
    ea.prototype.rg = function (a, b, c) {
      b && (c.nc = true, c.g.angle = a[0]);
      return [c.g.angle, c.g.angle];
    };
    ea.prototype.Kj = function (a) {
      var b = 0.5 / (0.5 - G.Tj / 2);
      a = (a - G.To) / (G.Ft - G.To);
      a < 0.5 - G.Tj / 2 ? a *= b : a > 0.5 + G.Tj / 2 ? (a -= 0.5 + G.Tj / 2, a = a * b + 0.5) : a = 0.5;
      return a;
    };
    ea.prototype.HG = function (a) {
      var b = 0.5 / (0.5 - G.Tj / 2);
      a < 0.5 - G.Tj / 2 ? a *= b : a > 0.5 + G.Tj / 2 ? (a -= 0.5 + G.Tj / 2, a = a * b + 0.5) : a = 0.5;
      return (G.Ft - G.To) * a + G.To;
    };
    ea.prototype.vj = function (a, b, c) {
      b && (c.nc = true, c.g.Gb = c.HG(a[0]));
      return [a[0], c.g.Gb];
    };
    ea.prototype.Pl = function (a, b, c) {
      b ? (c.nc = true, c.g.Aa = a[0] + 0.5 | 0, a = a[0]) : a = c.g.Aa;
      return [a, c.g.Aa];
    };
    ea.prototype.ff = function (a, b, c) {
      return b ? (c.nc = true, c.g.Ub = a[0] * a[0], [a[0], c.g.Ub * G.gl]) : [Math.sqrt(c.g.Ub), c.g.Ub * G.gl];
    };
    ea.prototype.VC = function (a, b, c, d) {
      var f = Math.round(-this.g.R / 2), e = Math.floor((this.g.R - 1) / 2), k = Math.round(-this.g.M / 2), g = Math.floor((this.g.M - 1) / 2), m = this.Qe;
      if (-1 === c && -1 === d) {
        if (-1 !== this.g.C && (0 === this.g.R && (f = -this.g.width / 2, e = this.g.width / 2 - 1), 0 === this.g.M && (k = -this.g.height / 2, g = this.g.height / 2 - 1), this.uj(a, b), c = this.Ec - this.g.width / 2, d = this.Fc - this.g.height / 2, c < f || c > e || d < k || d > g)) return true;
        this.xk = this.jx();
        2 < this.g.h && !(this.g.fa || this.g.i || this.g.s || this.g.l || this.g.A) && (m = this.g.h - m);
        this.xk = this.zh && this.xk === m ? 0 : this.Qe;
      } else this.uj(c, d), c = this.Ec, d = this.Fc, this.uj(a, b), a = this.Ec, b = this.Fc, this.MC(c, d, a, b, this.xk) && this.g.gb();
      0 < this.g.o && (this.Ab = -1);
      return false;
    };
    ea.prototype.FA = function () {
      var a = Math.abs(this.Js - this.Hs), b = Math.abs(this.bt - this.Ys), c = Math.abs(this.zk - this.yk), d = Math.abs(this.Bk - this.Ak), f = G.ob * Math.pow(G.Xb / G.ob, this.ac.current[0]);
      f *= Math.sqrt(c * c + d * d) / Math.sqrt(a * a + b * b);
      f < G.ob ? f = G.ob : f > G.Xb && (f = G.Xb);
      f = Math.log(f / G.ob) / Math.log(G.Xb / G.ob);
      this.ac.current = this.Td([f, f], true, this);
      this.Hs = this.yk;
      this.Ys = this.Ak;
      this.Js = this.zk;
      this.bt = this.Bk;
    };
    ea.prototype.hB = function (a, b, c, d, f, e) {
      if (!e.La) switch (f) {
        case 0:
          e.Hs = a;
          e.Ys = b;
          e.Js = c;
          e.bt = d;
          e.yk = a;
          e.Ak = b;
          e.zk = c;
          e.Bk = d;
          break;
        case 1:
          e.yk = a;
          e.Ak = b;
          e.FA();
          break;
        case 2:
          e.zk = a, e.Bk = b, e.FA();
      }
      e.D.ue(true);
    };
    ea.prototype.pB = function (a, b, c, d) {
      d.nd && !c && (d.$b.current = d.xd(G.je, true, d));
    };
    ea.prototype.WA = function (a, b, c, d) {
      d.La || d.Gw(a, b, c, d, false);
    };
    ea.prototype.wC = function (a, b) {
      b = (a.Ic - b) / a.Kk;
      -1 !== a.Ic && (0 < b ? a.wm(a, b) : 0 > b && a.ym(a, -b));
    };
    ea.prototype.sC = function (a, b) {
      b = (a.Ic - b) / a.Kk;
      -1 !== a.Ic && (0 < b ? a.sm(a, b) : 0 > b && a.um(a, -b));
    };
    ea.prototype.MA = function (a, b) {
      b = (a.Ic - b) / (24 * this.h.s);
      -1 !== a.Ic && (a.g.cb += b, 0 > a.g.cb && (a.g.cb = 0), a.g.cb > a.g.Uc && (a.g.cb = a.g.Uc));
    };
    ea.prototype.AC = function (a, b, c) {
      b = (a.lh - b) / a.g.$;
      c = (a.Ic - c) / a.g.$ / a.g.kj();
      if (!a.ea && -1 !== a.Ic) {
        var d = a.g.ha || a.g.X ? 0 : -a.g.angle;
        if (a.Va) a.Ca && !a.ib && (a.$b.current = a.xd(G.je, true, a)); else {
          var f = Math.sin(d / 180 * Math.PI);
          d = Math.cos(d / 180 * Math.PI);
          a.nc = true;
          a.g.ea += b * d + c * -f;
          a.g.da += b * f + c * d;
        }
      }
    };
    ea.prototype.cC = function (a, b, c) {
      var d = a.Fb, f = a.Ma, e = false;
      a.Zd || (a.Fb && a.Zi && (a.Fb = false, a.Ki = true), d && (a.Ma = 0, a.X(""), a.Ma = f), e = a.VC(b, c, a.lh, a.Ic), d && a.X(""));
      return e;
    };
    ea.prototype.EC = function (a, b, c) {
      a.ua || a.VB(a, b, c);
    };
    ea.prototype.EA = function (a, b) {
      var c = this.g.width >> 1, d = this.g.height >> 1;
      this.kc ? (c -= Math.floor(this.ra / 2) - this.V - this.V, d -= Math.floor(this.qa / 2) - this.$ - this.$) : (c -= Math.floor(this.ra / 2), d -= Math.floor(this.qa / 2));
      0 === this.g.R ? (a.F = 0, a.J = this.g.width - 1) : (a.F = Math.round((this.g.width - this.g.R) / 2) + b, a.J = a.F + this.g.R - 1);
      0 === this.g.M ? (a.G = 0, a.K = this.g.height - 1) : (a.G = Math.round((this.g.height - this.g.M) / 2) + b, a.K = a.G + this.g.M - 1);
      return [c, d];
    };
    ea.prototype.VB = function (a, b, c) {
      var d = a.ba, f = new Ma(0, 0, 0, 0), e = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1), k = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1), g = a.g.Z ? -1 : 0;
      -1 !== a.g.C && (k = a.EA(f, g), e = k[0], k = k[1]);
      if (-1 !== b && -1 !== c) if (a.R && a.Vk(a), a.uj(b, c), -1 === a.Ic) a.sy = b, a.uy = c, a.R = false, a.Qc = false; else {
        if (a.gd) d.J = a.Ec - e, d.K = a.Fc - k; else if (b !== a.sy || c !== a.uy) b = false, -1 !== a.g.C && (a.Ec < f.F || a.Ec > f.J || a.Fc < f.G || a.Fc > f.K) && (b = true), b || (a.gd = true, d.F = a.Ec - e, d.J = d.F, d.G = a.Fc - k, d.K = d.G);
        a.gd && (a.Hx(a), -1 !== a.g.C ? (k = a.EA(f, g), e = k[0], k = k[1]) : (e = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1), k = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1)));
        a.gd && -1 !== a.g.C && (f.F -= e, f.J -= e, f.G -= k, f.K -= k, d.F < d.J ? (d.F < f.F && (d.F = f.F), d.J > f.J && (d.J = f.J)) : (d.J < f.F && (d.J = f.F), d.F > f.J && (d.F = f.J)), d.G < d.K ? (d.G < f.G && (d.G = f.G), d.K > f.K && (d.K = f.K)) : (d.K < f.G && (d.K = f.G), d.G > f.K && (d.G = f.K)));
      }
    };
    ea.prototype.Vk = function (a) {
      a.R = false;
      a.Qc = false;
      a.X("cancel selection");
      a.gd = false;
    };
    ea.prototype.oC = function (a) {
      a.ua ? a.As(a, a.Ec, a.Fc, true) : a.RB(a);
    };
    ea.prototype.kk = function (a) {
      var b = a.ba, c = a.g.u, d = b.F, f = b.G, e = b.J, k = b.K, g, m = 0, p = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1), n = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1);
      a.g.Wb = true;
      a.g.dc();
      if (d > e) {
        var q = d;
        d = e;
        e = q;
      }
      f > k && (q = f, f = k, k = q);
      d < c.F - p && (d = c.F - p);
      f < c.G - n && (f = c.G - n);
      e > c.J - p && (e = c.J - p);
      k > c.K - n && (k = c.K - n);
      c = e + 1;
      q = d - 1;
      var l = k + 1;
      var r = f - 1;
      for (g = f; g <= k; g += 1) for (f = d; f <= e; f += 1) {
        var u = a.g.Ra(f + p, g + n, false);
        0 < u && (g < l && (l = g), g > r && (r = g), f < c && (c = f), f > q && (q = f), m += 1);
      }
      0 < m && (b.F = c, b.G = l, b.J = q, b.K = r);
    };
    ea.prototype.RB = function (a) {
      var b = a.ba;
      if (a.gd) if (a.R = true, a.gd = false, a.Qc = false, a.Wd && a.kk(a), a.R) {
        var c = b.J < b.F ? b.F - b.J + 1 : b.J - b.F + 1;
        b = b.K < b.G ? b.G - b.K + 1 : b.K - b.G + 1;
        a.X("selection (" + c + " x " + b + ")");
      } else a.Vk(a);
    };
    ea.prototype.kC = function (a, b, c) {
      -1 !== b && -1 !== c && (a.mr = true, b = a.jx(), a.th ? (a.mE(b), a.th = false, a.$c.current = a.qe([false], true, a)) : (a.xk = b, a.Rd(b)));
    };
    ea.prototype.gC = function (a) {
      a.Ki && (a.Fb = true, a.Ki = false, a.D.ue(true));
      0 < a.Ma && (a.g.dc(), a.X(""));
    };
    ea.prototype.Gw = function (a, b, c, d, f) {
      var e = false;
      -1 !== a && -1 !== b && d.D.o && (c ? (d.ja.current[0] || (d.s ? d.wC(d, b) : d.aa ? d.sC(d, b) : d.Vb && 1 === d.Kd && 0 !== d.g.Uc ? d.MA(d, b) : !d.cb && !d.Ac || f ? d.AC(d, a, b) : d.cb ? e = d.cC(d, a, b) : d.Ac && d.EC(d, a, b)), e || (d.lh = a, d.Ic = b)) : -1 !== d.lh ? (d.s || d.ja.current[0] || (d.cb ? d.Zd ? d.kC(d, a, b) : d.gC(d) : d.Ac && d.oC(d)), d.lh = -1, d.Ic = -1) : d.s || d.ja.current[0] || (d.Zd ? d.th ? d.D.notification.notify("Replace: Now click on a cell", 15, 180, 15, true) : d.D.notification.notify("Pick: Now click on a cell", 15, 180, 15, true) : d.ua && d.D.notification.notify("Now click to paste", 15, 180, 15, true)));
    };
    ea.prototype.tf = function (a, b) {
      this.ea || (8 > this.g.zoom && (0 > a ? a = -8 : 0 < a && (a = 8), 0 > b ? b = -8 : 0 < b && (b = 8)), this.Ic = this.lh = 0, this.Gw(a, b, true, this, true), this.Ic = this.lh = -1);
    };
    ea.prototype.Sb = function (a) {
      return Math.ceil(Math.log2(a + 1));
    };
    ea.prototype.zC = function (a) {
      var b = new Uint8Array(6 * Math.ceil(a.length / 8)), c, d, f, e;
      var k = 7;
      for (e = c = d = 0; d < a.length;) {
        var g = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(d));
        for (f = 5; 0 <= f; --f) e |= (g >> f & 1) << k, --k, 0 > k && (b[c] = e, e = 0, k = 7, c += 1);
        d += 1;
      }
      7 > k && (b[c] = e);
      return b;
    };
    ea.prototype.decode = function (a) {
      a = new Qb(this.zC(a));
      var b, c = a.h(12);
      var d = a.h(12);
      var f = a.h(4);
      var e = c / d;
      var k = c / e, g = new Uint8Array(e), m = new Uint8Array(e), p = new Uint8Array(e), n = c, q = d - 2 * f, l = 0, r = 0, u = 0, t = 0;
      for (b = 0; b < e; b += 1) g[b] = a.h(4), m[b] = a.h(4), n -= g[b] + m[b];
      var v = this.Sb(e);
      for (b = 0; b < e; b += 1) p[b] = a.h(v);
      v = this.Sb(Math.ceil(-1 + Math.sqrt(1 - 8 * -n * q) / 2));
      var B = a.h(v);
      var w = a.h(this.Sb(n));
      var y = new Uint32Array(B);
      y[0] = a.h(this.Sb(n));
      var D = a.h(this.Sb(B));
      for (b = 1; 0 < D;) y[b] = y[b - 1] + 1, b += 1, --D;
      D = b + a.h(this.Sb(B));
      for (v = 2; b < D;) y[b] = y[b - 1] + a.h(v) + 1, b += 1;
      D = b + a.h(this.Sb(B));
      for (v = 3; b < D;) y[b] = y[b - 1] + a.h(v) + 1, b += 1;
      for (v = this.Sb(w); b < B;) y[b] = y[b - 1] + a.h(v), b += 1;
      v = this.Sb(Math.ceil(-1 + Math.sqrt(1 - 8 * -n * q) / 2));
      w = a.h(v);
      var F = a.h(this.Sb(n));
      B = new Uint32Array(w);
      B[0] = a.h(this.Sb(n));
      D = a.h(this.Sb(w));
      for (b = 1; 0 < D;) B[b] = B[b - 1] + 1, b += 1, --D;
      D = b + a.h(this.Sb(w));
      for (v = 2; b < D;) B[b] = B[b - 1] + a.h(v) + 1, b += 1;
      D = b + a.h(this.Sb(w));
      for (v = 3; b < D;) B[b] = B[b - 1] + a.h(v) + 1, b += 1;
      for (v = this.Sb(F); b < w;) B[b] = B[b - 1] + a.h(v), b += 1;
      v = this.Sb(q);
      w = new Uint32Array(q);
      for (b = 0; b < q; b += 1) w[b] = a.h(v);
      v = new Uint32Array(n);
      for (b = F = 0; b < e; b += 1) {
        var N = g[b];
        var O = m[b];
        for (D = 0; D < k - N - O; D += 1) v[F] = p[b] * k + N + D, F += 1;
      }
      D = document.createElement("canvas");
      D.width = c;
      D.height = d;
      b = D.getContext("2d");
      b.clearRect(0, 0, c, d);
      p = b.createImageData(c, d);
      F = new Uint32Array(p.data.buffer);
      k = -1;
      m = g = 0;
      d = this.Sb(y.length);
      for (e = this.Sb(B.length); m < q;) if (-1 === k) u = a.h(1), r = a.h(1), k = (w[m] + f) * c, l = 0; else {
        D = a.h(2);
        switch (D) {
          case 0:
            D = a.h(1);
            t = 0 === D ? 4 : 3;
            break;
          case 1:
            t = 0;
            break;
          case 2:
            D = a.h(1);
            1 === D ? t = 2 : (D = a.h(1), 0 === D ? t = 5 : (D = a.h(1), t = 0 === D ? 6 : 7));
            break;
          case 3:
            t = 1;
        }
        0 === t && (0 === r ? (t = a.h(d), t = t === y.length ? n - l : y[t]) : (t = a.h(e), t = t === B.length ? n - l : B[t]));
        for (D = 0; D < t; D += 1) 1 === r && (F[k + v[l]] = 4294967295), 1 === u && (F[k + v[l]] ^= F[g + v[l]]), l += 1;
        r = 1 - r;
        l === n && (g = k, m += 1, k = -1);
      }
      b.putImageData(p, 0, 0);
      return b;
    };
    ea.prototype.xB = function (a) {
      var b = G.Rp, c = [8, 11, 16, 17, 44], d, f, e;
      null === b && (b = this.decode("dYAoERERERISIiIiIiIiJEM1WIZofMZlWId3d3iHd3iYiIiIiIiIh3uIuJi///M5mZMyC0EbBhyUl4KjK22WobTmDU1FnYowAQgxBSlXHn5JaKT5p7jeDIBDMugiAAgSABKlFgQIAoGA8EIEE80EEEQkdAREbIKgUAQwKWOERomkoiqgsecuwaYy0WU24SQ68O+MLBCJEHGFICBKT58+egefPnz458+fPQFQFQFQDJTROEXxnGg9L/pz7947/886KzofQOLLR0kNoL6KgNADA7oD6KgONC8kyDsX0DUlLTpGSUQIAwEEJ/////+l16AZIJYVBSoOxUVRUoEDISQK4hBAiQOgO3//6z//8oC1nBLnz58mTnQ5SxTn3vnH6Av+is6RmyM5kr9DaC/H/oApbRG0FTm/H635d5bKQLJA75rVAVAVAV1/n+255aF0NovxcVG8tJUVE9P49CUVDVB2KhKgQZT7pHFQ+stDbOq91NoID9IagotoqEqNILHqaB3fMIwYMGC4tDlLFQdKAseeo/SHk4/YdygNKm1B2mgBB3tnFukclD1nqnKB9RHKp4iQKaIKkQLJA75r1AVAVAba0dUdVH/f/EdOktI9IvfQdloDlUZeoWWUBoe9QJtQdpJBQdt7wgdI2lD1WUZkcVIVHBHVF1K1F8tAcv1JoKDeoa+RGmBUFCFqMoq4UDuFCL3fMG9N6b03pvWvE4Sf6HKWKdqA5f99AaL/R+eL31jURL/QGh6iag6gCCg6UUBJ+EPWeqckrCGt6I0RorvLunqKpUCyQO+atQFQFQFdWMX/yOdQehtE45n0VijSdQ1g3QGhqif0D+gaKg6P+UZyt5Ieo7lpXQWzamaiqiqdRaDuc9Q1vwKiNFCQRVReNj407u/nz589Dz58+eDem9N6b07chSlLFRZsgL/+pdCG6wqGsG6A4vxUT+gf0DRUHZoBBWkoXqFPTVypyW3OcEdp+VRFRIkE/jUyBZIHfz58+el58+fODBgwULUBUBXCUsVOfvcZrEx3Glaiu6UqGqDqb0Dp7SOnND6A04qUtTtR9FQeoNEfpD/+o/VVWKCP/9L8tGf/6A3fz58+el58+fODBgwW3CrKWKdvn+/f/x3U1Q2deaAPoDi+kf5/oPGg7CROVDejTiBXKnGSKcEegbSiCiBIO/nz589Lz58+cGDBgoCoCoCoCt0pYp3N+3/t+X6G0NobRGi8YxqiqmxULjQX4/U2oc06W5adVKOqGo8IbT2i9F8+MrFXUR3SBCWoqiRFQFRCJDNZ2QqylinvPnH8dvqQovXfK99Aaa7x3SdhMnMYx6JPTVypxmLjBlMKASCg7oYiQLvmnoCoC3i3bxtR1pUHHLye7Dtxyx2ohSgM26Co9TOoGpzQfSFqM0DoXPc6F5VHVIWqqEdUHVLULornpzRv9qKqW1ZXfOyFWUsU/f+f358ah0ZqtT8iLP+iqUB/H6F7oKxakpC1A4wjUElcqccQSDInhIaGEgoAhiJAu+aYkJGZbKZBlLFP95d83jjQdptuiNM40BjWiFKTRFQX4/RBS+htHaE18qT9VNT+mtF30YesaqDQG752Qqylinv47e+f0n//p/VOhu2IJlejQOgNAIUMEDYoR39LU4x35o3RE1cqcaMyKKm6Q0MJBQBD0W0V3zA4MGDBjqCoKgsMuEWoQRSxTxJIuO/oc220qjGgsap0JRUkhUFQOmcaF0BoLGgdBaZIKKVJ2q2oHRWgdMaR+o0pPCJDIkVUMijlu+YHBgwYLbjhSlLFP8u/jHfxrbVOhu2IFj9AaA0BoKEQEBYs0f+lB0aBQJxAkiCCCFTjRVAUSjQSQJxNLGMbvmBwYMGDHUFQVBYZUcKUpYp/FjP//fxr7GhMbMhK4/ROnNMUcsVYaAx/////6cqxqA6ZG6D0to/SGgMrFnU9jd8wKb03pvTencpSxT3L//+35a61RobtA8Efz0DoDHERoIIDioFDf0pMaBPJMSyk6LKiumYQlCgiiChEEkCcTO+YN6b03pvTcICoCoCt82o60p6x+L5zR+tv5Y0NjT2eNQVD1Pc9M5590DRIVAUSFFR1+Wh6jgjqatLOoSoXSmk81T61stEZ7u+YN6b03pvTeuUpYp7t7Fz047rYqfQ3aReXbeegdAZ0ToEToqDmNLHot4JnPRUyUpjQGN0TtmKChQdRFQqCSBOpTnvLu75g3pvTem9N7agKgKgKp9HaE0dzkjpZGAAMHkjpG/mO28u0yR0k5joAuNM2dE1BCCUXP6NK5qD0bgWgIvGMAAYwABmreoLGi9JaC0BUTF8oPYtSInXfz58+el58+fKmDBgwU/Lnz58miUsU7/bPjj9d6mvJAd/xeXcaA0BoDvO9n2Ql4qFg30zREuJJKUbtkhMTt9D6I0MgkgTyS13rQ8+fPnoPQOgc4YjSGKNIY4qOsskAAG/xUdULbUHT/8qjrGmYAAEXQWif56P0TpFVajs6ZRoqERCFIAAKKoIAAkAAC7+fPnz0PPnz59YEufPnyaJSxUvabLPa0v40B34PIDQGgNAaE0JIILUTT/6ZNkhYSUJ6oSu+auaM0ZpqkqQqAqQqAqQoNIAANIqQqE7xfv2nsVIVO4wABjTGdBaAUr+xp6otEiESAIAAIqKIAAkAAC753FLFT6B8xWn8tBn72oAhCgkKD/QcgiSJC13zVqAqAqAqiqSsqkrKpKkpYmpKozp9DVJVN40dj0SINmkFaDKDWJEha75hGDBgwXMUsVLzx9itQomEHu+a9QFQFQGn6lKKlKKlLL/////////4qUssaB73jlUpU9pDCQpIqG3fMG9N6b03pvXKwUHGgO/tiHfNaoCoCoCp+pa2pa2pap6paoynQlOkrV50loaHfMCm9N6b03p3KwUGLeWdE6WXu+acqgqCoFCEgAEgLRo7FTlGjsUY7Y7UJRo7BS5Shd8wODBgwXOwVFQFnu8nz589A8+fPnoHnz56EqAqAqAsufPnu+d4"));
      var k = b.getImageData(0, 0, b.canvas.width, b.canvas.height);
      var g = new Uint32Array(k.data.buffer);
      for (d = 0; d < c.length; d += 1) for (e = 0; 40 > e; e += 1) {
        var m = e * b.canvas.width + 40 * c[d];
        for (f = 0; 40 > f; f += 1) 0 !== g[m + f] && (g[m + f] = 4285558896);
      }
      b.putImageData(k, 0, 0);
      this.l = new rb(b, a);
      this.l.add("play", 40, 40);
      this.l.add("pause", 40, 40);
      this.l.add("tostart", 40, 40);
      this.l.add("menu", 40, 40);
      this.l.add("stepback", 40, 40);
      this.l.add("stepforward", 40, 40);
      this.l.add("autofit", 40, 40);
      this.l.add("fit", 40, 40);
      this.l.add("grid", 40, 40);
      this.l.add("shrink", 40, 40);
      this.l.add("draw", 40, 40);
      this.l.add("hexgrid", 40, 40);
      this.l.add("lines", 40, 40);
      this.l.add("pan", 40, 40);
      this.l.add("pick", 40, 40);
      this.l.add("states", 40, 40);
      this.l.add("hexagongrid", 40, 40);
      this.l.add("trianglegrid", 40, 40);
      this.l.add("inside", 40, 40);
      this.l.add("undo", 40, 40);
      this.l.add("redo", 40, 40);
      this.l.add("drawpause", 40, 40);
      this.l.add("invertselection", 40, 40);
      this.l.add("autoshrink", 40, 40);
      this.l.add("selectlibrary", 40, 40);
      this.l.add("cut", 40, 40);
      this.l.add("copy", 40, 40);
      this.l.add("paste", 40, 40);
      this.l.add("flipx", 40, 40);
      this.l.add("flipy", 40, 40);
      this.l.add("rotatecw", 40, 40);
      this.l.add("rotateccw", 40, 40);
      this.l.add("random", 40, 40);
      this.l.add("smart", 40, 40);
      this.l.add("outside", 40, 40);
      this.l.add("select", 40, 40);
      this.l.add("reverse", 40, 40);
      this.l.add("uturn", 40, 40);
      this.l.add("nudgeright", 40, 40);
      this.l.add("nudgeleft", 40, 40);
      this.l.add("nudgeup", 40, 40);
      this.l.add("nudgedown", 40, 40);
      this.l.add("shrinksel", 40, 40);
      this.l.add("cancelsel", 40, 40);
      this.l.add("trirectgrid", 40, 40);
      this.l.add("download", 40, 40);
      this.l.add("changestate", 40, 40);
    };
    ea.prototype.xw = function (a) {
      var b = "", c, d = null;
      "" === a && (a = "Life");
      a = a.replace(/[\n\r]/g, "\n");
      for (c = a.indexOf("\n"); 0 === c || 0 < c && "#" === a[0];) a = a.substring(c + 1), c = a.indexOf("\n");
      c = a.indexOf("\n");
      -1 !== c && (a = a.substring(0, c).trim(), c = a.indexOf("rule="), -1 !== c ? a = a.substring(c + 6).trim() : (c = a.indexOf("rule ="), -1 !== c && (a = a.substring(c + 7).trim())));
      try {
        d = this.U.create("", "x = 1, y = 1, rule = " + (a + "\nb!"), this.g.N, null, null, [], this);
      } catch (f) {
        d = null;
      }
      d && d.R && (b = a);
      return b;
    };
    ea.prototype.xx = function (a) {
      var b = window.prompt("Change rule", ("" === a.ya ? a.T : a.ya) + a.Rf);
      if (null !== b) if (b = a.xw(b), "" !== b) {
        var c = b.indexOf(":");
        -1 !== c ? (a.T = b.substring(0, c), a.Rf = b.substring(c)) : (a.T = b, a.Rf = "");
        a.ya = "";
        c = a.g.rg(a, a.g, true, a.g.h, a.g.h, [], true);
        a.Ad && (a.displayWidth = a.Kf, a.displayHeight = a.Jf);
        a.xg(c, false);
      } else a.D.notification.notify("Invalid rule", 15, 180, 15, true);
    };
    ea.prototype.Is = function (a, b, c, d, f) {
      var e = this.T;
      "" !== a && (e = e.substring(0, e.length - a.length));
      this.ya = this.T = e += b;
      a = this.g.rg(this, this.g, true, c, d, f, true);
      this.Ad && (this.displayWidth = this.Kf, this.displayHeight = this.Jf);
      this.xg(a, false);
    };
    ea.prototype.CG = function (a) {
      a.Is(a.g.H ? "History" : "", "Super", a.g.H ? 7 : 2, 26, a.g.H ? G.YD : G.cG);
    };
    ea.prototype.tG = function (a) {
      a.Is(a.g.l ? "Super" : "", "History", a.g.l ? 26 : 2, 7, a.g.l ? G.gG : G.bG);
    };
    ea.prototype.xG = function (a) {
      a.Is(a.g.H ? "History" : "Super", "", a.g.H ? 7 : 26, 2, a.g.H ? G.XD : G.hG);
    };
    ea.prototype.Iy = function () {
      var a = this.g.O.l;
      var b = "", c, d;
      var f = "R" + a + ",C" + (this.g.O.X + ",");
      a = this.U.pa(a, this.g.O.type, this.g.O.ma);
      switch (this.g.O.type) {
        case this.U.s:
          b = "FC" + this.g.O.Z + "E" + this.g.O.$;
          break;
        case this.U.i:
          b = "";
          break;
        case this.U.m:
          b = "N";
          break;
        case this.U.X:
          b = "C";
          break;
        case this.U.Y:
          b = "2";
          break;
        case this.U.R:
          b = "+";
          break;
        case this.U.V:
          b = "X";
          break;
        case this.U.W:
          b = "*";
          break;
        case this.U.H:
          b = "H";
          break;
        case this.U.O:
          b = "B";
          break;
        case this.U.M:
          b = "D";
          break;
        case this.U.T:
          b = "#";
          break;
        case 10:
          b = "@" + this.g.O.L;
          this.g.ha ? b += "H" : this.g.X && (b += "L");
          break;
        case this.U.B:
          b = "3";
          break;
        case this.U.u:
          b = "A";
          break;
        case this.U.L:
          b = "L";
          break;
        case this.U.v:
          b = "G";
          break;
        case 15:
          b = "W" + this.g.O.L, this.g.ha ? b += "H" : this.g.X && (b += "L");
      }
      var e = this.H.random() * a / a;
      f += "S";
      var k = -1;
      for (c = d = 0; d < a;) this.H.random() < e ? -1 === k && (0 < c && (f += ","), f += String(d), k = d, c += 1) : -1 !== k && (k !== d - 1 && (f += "-" + String(d - 1)), k = -1), d += 1;
      -1 !== k && k !== d - 1 && (f += "-" + String(d - 1));
      0 === c && (k = this.H.random() * a | 0, f += String(k));
      f += ",B";
      e = this.H.random() * (a - 1) / (a - 1);
      k = -1;
      d = 1;
      for (c = 0; d < a;) this.H.random() < e ? -1 === k && (0 < c && (f += ","), f += String(d), k = d, c += 1) : -1 !== k && (k !== d - 1 && (f += "-" + String(d - 1)), k = -1), d += 1;
      -1 !== k && k !== d - 1 && (f += "-" + String(d - 1));
      0 === c && (k = this.H.random() * (a - 1) | 1, f += String(k));
      "" !== b && (f += ",N" + b);
      this.g.O.V && (f += ",P", -1 !== this.g.O.ia && (f = -1 > this.g.O.ia ? f + "#" : f + this.g.O.ia, -1 !== this.g.O.ga && (f = -1 > this.g.O.ga ? f + ",#" : f + ("," + this.g.O.ga), -1 !== this.g.O.Y && (f = -1 > this.g.O.Y ? f + ",#" : f + ("," + this.g.O.Y)))));
      return f;
    };
    ea.prototype.Ly = function () {
      var a = this.g.O.l;
      var b = "";
      var c = "R" + a + ",C" + (this.g.O.X + ",");
      c += "M1,";
      a = this.U.pa(a, this.g.O.type, this.g.O.ma);
      a += 1;
      switch (this.g.O.type) {
        case this.U.s:
          b = "FC" + this.g.O.Z + "E" + this.g.O.$;
          break;
        case this.U.i:
          b = "M";
          break;
        case this.U.m:
          b = "N";
          break;
        case this.U.X:
          b = "C";
          break;
        case this.U.Y:
          b = "2";
          break;
        case this.U.R:
          b = "+";
          break;
        case this.U.V:
          b = "X";
          break;
        case this.U.W:
          b = "*";
          break;
        case this.U.H:
          b = "H";
          break;
        case this.U.O:
          b = "B";
          break;
        case this.U.M:
          b = "D";
          break;
        case this.U.T:
          b = "#";
          break;
        case 10:
          b = "@" + this.g.O.L;
          this.g.ha ? b += "H" : this.g.X && (b += "L");
          break;
        case this.U.B:
          b = "3";
          break;
        case this.U.u:
          b = "A";
          break;
        case this.U.L:
          b = "L";
          break;
        case this.U.v:
          b = "G";
          break;
        case 15:
          b = "W" + this.g.O.L, this.g.ha ? b += "H" : this.g.X && (b += "L");
      }
      var d = this.H.random() * a | 0;
      c += "S" + String(d);
      d = (this.H.random() * (a - d) | 0) + d;
      c += ".." + String(d);
      d = (this.H.random() * (a - 1) | 0) + 1;
      c += ",B" + String(d);
      d = (this.H.random() * (a - d) | 0) + d;
      c += ".." + String(d);
      return c + (",N" + b);
    };
    ea.prototype.pz = function () {
      var a = "W";
      var b = 2 * (127 * this.H.random() | 0);
      return a += String(b);
    };
    ea.prototype.Oy = function (a) {
      var b = "B", c, d, f = 8, e = "";
      if (this.g.ha) switch (this.g.lg) {
        case this.U.na:
          f = 6;
          e = this.U.Ma;
          break;
        case this.U.oa:
          f = 3, e = this.U.Ab;
      } else if (this.g.X) switch (this.g.ng) {
        case this.U.ga:
          f = 3;
          e = this.U.Ca;
          break;
        case this.U.sa:
          f = 6;
          e = this.U.bb;
          break;
        case this.U.ta:
          f = 6;
          e = this.U.cb;
          break;
        case this.U.ia:
          f = 9;
          e = this.U.Fa;
          break;
        case this.U.da:
          f = 12;
          e = this.U.Da;
          break;
        case this.U.ra:
          f = 9;
          e = this.U.$a;
          break;
        case this.U.ua:
          f = 3, e = this.U.eb;
      } else this.g.Zc && (f = 4, e = this.U.hb);
      var k = new Uint8Array(f + 1);
      var g = new Uint8Array(f + 1);
      var m = d = 50;
      -1 !== this.Se && (m = d = this.Se);
      -1 !== this.Te && (d = this.Te);
      -1 !== this.Sf && (m = this.Sf);
      for (c = 0; c <= f; c += 1) k[c] = d, g[c] = m;
      -1 === this.Se && -1 === this.Te && (k[0] = 25);
      for (c = 0; c < this.ad.length; c += 2) this.ad[c] <= f && (k[this.ad[c]] = this.ad[c + 1]);
      for (c = 0; c < this.Md.length; c += 2) this.Md[c] <= f && (g[this.Md[c]] = this.Md[c + 1]);
      for (c = 2 < this.g.h || a ? 1 : 0; c <= f;) 100 * this.H.random() <= k[c] && (b += String(c)), c += 1;
      b += "/S";
      for (c = 0; c <= f; c += 1) 100 * this.H.random() <= g[c] && (b += String(c));
      2 < this.g.h && !this.g.l && !this.g.A && (b += "/" + this.g.h);
      return b += e.toUpperCase();
    };
    ea.prototype.hz = function (a) {
      var b = a ? "2PCA4," : "M", c, d = false;
      var f = 0;
      var e = [];
      var k = this.g.hc;
      if (this.no) {
        d = new Uint8Array(16);
        a = new Uint8Array(16);
        for (c = 0; 16 > c; c += 1) d[c] = c, a[c] = k[c];
        for (c = 0; 16 > c; c += 1) {
          var g = k[c];
          for (f = a = 0; 16 > f; f += 1) g === k[f] && (a += 1);
          var m = new Uint8Array(a);
          for (f = a = 0; 16 > f; f += 1) g === k[f] && (m[a] = f, a += 1);
          e[c] = m;
        }
        for (c = 1; 16 > c; c += 1) 0.5 >= this.H.random() && (m = e[c], a = this.H.random() * m.length | 0, a = m[a], k = d[c], d[c] = d[a], d[a] = k);
        for (c = 0; 15 > c; c += 1) b += d[c] + ",";
        b += d[c];
      } else if (this.lo) {
        c = 16;
        a ? (a = 0, f |= 1) : (a = 16 * this.H.random() | 0, 15 === a ? (d = true, f |= 32769, --c) : (a = 0, f |= 1));
        b += String(a);
        for (--c; 65535 !== f;) {
          a = this.H.random() * c | 0;
          for (g = 0; 0 <= a;) 0 === (f & 1 << g) && --a, g += 1;
          b += "," + String(g - 1);
          f |= 1 << g - 1;
          --c;
        }
        d && (b += ",0");
      } else {
        a ? a = 0 : (a = 16 * this.H.random() | 0, 15 === a ? d = true : a = 0);
        b += String(a) + ",";
        for (c = 1; 15 > c; c += 1) a = 16 * this.H.random() | 0, b += String(a) + ",";
        a = d ? 0 : 16 * this.H.random() | 0;
        b += String(a);
      }
      return b;
    };
    ea.prototype.Jk = function (a, b) {
      var c = "", d, f, e = 0, k, g = [], m = a.jo, p = a.qo, n = a.aj / 100, q = false;
      -1 !== a.T.indexOf("|") && (q = true);
      if (2 >= a.g.h || a.Nk) {
        g[0] = "b";
        g[1] = "o";
        var l = 2;
      } else for (l = a.g.h, g[0] = ".", f = 0; f < l - 1; f += 1) g[f + 1] = 24 <= f ? String.fromCharCode(112 + (f / 24 | 0) - 1) + String.fromCharCode(65 + f % 24) : String.fromCharCode(65 + f);
      -1 !== a.g.Id && (m = 1);
      for (d = 0; d < m; d += 1) {
        if (this.g.i) {
          var r = 0;
          this.H.random() <= n && (r |= 1);
          this.H.random() <= n && (r |= 2);
          this.H.random() <= n && (r |= 4);
          this.H.random() <= n && (r |= 8);
        } else r = this.H.random() <= n ? (this.H.random() * (l - 1) | 0) + 1 : 0;
        for (f = k = 1; f < p; f += 1) this.g.i ? (e = 0, this.H.random() <= n && (e |= 1), this.H.random() <= n && (e |= 2), this.H.random() <= n && (e |= 4), this.H.random() <= n && (e |= 8)) : e = this.H.random() <= n ? (this.H.random() * (l - 1) | 0) + 1 : 0, e !== r && (1 < k && (c += k), c += g[r], k = 0, r = e), k += 1;
        0 !== e && (1 < k && (c += k), c += g[e]);
        d < m - 1 && (c += "$\n");
      }
      c += "!\n";
      a.Lk || b || (a.g.s || (a.g.Z || a.g.i ? (a.T = a.hz(a.g.i), q && (a.T += "|" + a.hz(a.g.i))) : a.g.Ea ? a.Cr ? (a.T = a.Ly(), q && (a.T += "|" + a.Ly())) : (a.T = a.Iy(), q && (a.T += "|" + a.Iy())) : -1 !== a.g.Id ? (a.T = a.pz(), q && (a.T += "|" + a.pz())) : (a.T = a.Oy(q), q && (a.T += "|" + a.Oy(q)))), a.g.H && (a.T += "History"), a.g.l && (a.T += "Super"), a.g.A && (a.T += "Investigator"), b = bb.Ho(a.T), a.ya = null !== b ? b : "");
      b = a.g.mh;
      b += "x = " + G.Rn + ", y = " + G.Rn + ", rule = ";
      b += ("" === a.ya ? a.T : a.ya) + a.Rf + "\n";
      b = b + c + a.g.lh;
      if (a.Sd.locked || a.cj || 2 === a.ka && 0 !== a.Zb[1].cg || window.confirm("Create new random pattern?")) a.Ad && (a.displayWidth = a.Kf, a.displayHeight = a.Jf), a.xg(b, false), a.yx(a);
    };
    ea.prototype.Ww = function (a) {
      var b = window.prompt("Create new pattern with rule", ("" === a.ya ? a.T : a.ya) + a.Rf);
      null !== b && (b = a.xw(b), "" !== b ? (a.Ad && (a.displayWidth = a.Kf, a.displayHeight = a.Jf), a.xg("x = 1, y = 1, rule = " + (b + "\nb!"), false)) : a.D.notification.notify("Invalid rule", 15, 180, 15, true));
    };
    ea.prototype.vA = function () {
      this.kd.h = this.g.ha ? this.g.va ? [this.l.h("hexgrid")] : [this.l.h("hexagongrid")] : this.g.X ? this.g.va ? [this.l.h("trirectgrid")] : [this.l.h("trianglegrid")] : [this.l.h("grid")];
    };
    ea.prototype.tB = function (a, b) {
      a.D.o && (a.Yg || (a.di = -b.deltaY, 1 === b.deltaMode && (a.di *= 45), a.D.ue(true)), b.preventDefault());
    };
    ea.prototype.fr = function () {
      var a = this.m.W(0 === this.Cl ? 0 : this.Lc / this.Cl), b = this.Xf, c = this.Ek, d = this.Yf, f = this.Ei;
      this.g.ea = this.g.width / 2 - (this.Zf + a * (this.jf - this.Zf));
      this.g.da = this.g.height / 2 - (this.$f + a * (this.Fi - this.$f));
      this.g.zoom = this.Ah * Math.pow(this.Gi / this.Ah, a);
      180 < c - b ? b += 360 : -180 > c - b && (c += 360);
      this.g.angle = (b + a * (c - b)) % 360;
      this.g.Gb = d + a * (f - d);
      this.Hm && (this.g.Ub = this.pw + a * (this.qw - this.pw), this.Ha.current = this.ff([this.g.Ub, this.g.Ub], false, this));
      this.wn && (this.g.Aa = this.rw + a * (this.sw - this.rw), this.eb.current = this.Pl([this.g.Aa, this.g.Aa], false, this));
      this.Lc += 1;
      this.Lc > this.Cl && (this.Lc = -1, this.g.zoom = this.Gi, this.g.angle = c % 360, this.g.Gb = this.Ei, this.g.ea = this.g.width / 2 - this.jf, this.g.da = this.g.height / 2 - this.Fi, this.Hm && (this.g.Ub = this.qw, this.Ha.current = this.ff([this.g.Ub, this.g.Ub], false, this)), this.wn && (this.g.Aa = this.sw, this.eb.current = this.Pl([this.g.Aa, this.g.Aa], false, this)));
      this.ac && (this.ac.current = this.Td([this.g.zoom, this.g.zoom], false, this));
      this.na && (this.na.current = this.rg([this.g.angle, this.g.angle], false, this));
      this.$a && (this.$a.current = this.vj([this.Kj(this.g.Gb), this.g.Gb], false, this));
    };
    ea.prototype.EB = function () {
      var a = this.m, b = a.m.length, c, d = this.A, f = this.B, e = a.B();
      for (c = 0; c < b; c += 1) {
        var k = a.m[c];
        e.pg = true;
        e.x = -k.x + d / 2;
        e.bf = true;
        e.y = -k.y + f / 2;
        e.Le = true;
        e.zoom = k.zoom;
        e.de = true;
        a.add(e, this);
        c < b - 1 && (e = a.B());
      }
    };
    ea.prototype.av = function (a, b) {
      var c = a.m.i[b];
      a.Zf = a.g.width / 2 - a.g.ea;
      a.$f = a.g.height / 2 - a.g.da;
      a.Ah = a.g.zoom;
      a.Xf = a.g.angle;
      a.Yf = a.g.Gb;
      a.jf = c.bf ? c.x : a.Zf;
      a.Fi = c.Le ? c.y : a.$f;
      a.Gi = c.de ? c.zoom : a.Ah;
      a.Ek = c.ig ? c.angle : a.Xf;
      a.Ei = c.yg ? c.Gb : a.Yf;
      a.g.ha && (a.jf += a.g.da / 2);
      a.Hm = c.Lg;
      a.Hm && (a.pw = a.g.Ub, a.qw = c.depth / G.gl);
      a.wn = c.Qg;
      a.wn && (a.rw = a.g.Aa, a.sw = c.Aa);
      a.Lc = 0;
      a.Cl = c.i;
      a.fr();
      c.l && a.kx(a);
      c.h === Ta.play ? a.$b.current = a.xd(G.ui, true, a) : c.h === Ta.stop && a.Fb && (a.$b.current = a.xd(G.je, true, a));
      c.pe && a.Tf(c.Dc, a.g.se, a);
      a.D.notification.notify("POI " + (b + 1), 15, 60, 15, true);
      "" !== c.le ? a.D.notification.notify(c.le, 15, 180, 15, false) : a.D.notification.clear(false, true);
      c.Oh && (a.jc = c.jc);
      c.Jh && (a.Mb = c.Mb);
      c.Ue && (a.fa = Math.sqrt((c.Pc - G.Tg) / (a.M - G.Tg)));
      c.ve && (a.Y = c.step);
      if (c.Ue || c.ve) a.hc.current = a.Mc([a.Wf(), 1], true, a);
      c.fp && (a.g.counter > c.vc && a.kx(a), a.g.counter < c.vc && (a.Yg = true, a.Gs = c.vc, a.zs = false));
      c.Xj && (a.g.Ia = c.grid);
      c.xq && (this.rd = c.ck);
    };
    ea.prototype.Sc = function (a, b, c) {
      var d = b / a.g.Ga;
      c && (b = 1 <= b ? Math.round(b) : 1 / Math.round(1 / b), d = b / a.g.Ga);
      a.Va || (a.Zf = a.g.width / 2 - a.g.ea, a.$f = a.g.height / 2 - a.g.da, a.Ah = a.g.zoom, a.Xf = a.g.angle, a.Yf = a.g.Gb, a.jf = a.Zf, a.Fi = a.$f, a.Gi = d, a.Ek = a.Xf, a.Ei = a.Yf, a.Lc = 0);
    };
    ea.prototype.cB = function (a) {
      a.hc.current = a.Mc([1, 1], true, a);
    };
    ea.prototype.bE = function (a) {
      a.dr(a);
    };
    ea.prototype.hE = function (a) {
      a.jt(a);
    };
    ea.prototype.DC = function (a) {
      a.nb && a.an(a);
      -1 !== a.Kb && a.Al(a, true, true);
    };
    ea.prototype.lk = function (a) {
      a.Xe || a.Ye || a.We || a.he || a.Ze || a.ie || a.Ve ? (a.Xe = false, a.Ye = false, a.he = false, a.We = false, a.Ze = false, a.Ve = false, a.ie = false) : a.ja.current = [false];
    };
    ea.prototype.FE = function (a) {
      a.We = true;
    };
    ea.prototype.lC = function (a) {
      a.he = true;
    };
    ea.prototype.NB = function (a) {
      a.Xe = true;
    };
    ea.prototype.UB = function (a) {
      a.Ve = true;
    };
    ea.prototype.pC = function (a) {
      a.Ze = true;
    };
    ea.prototype.IG = function (a) {
      a.Ye = true;
    };
    ea.prototype.BB = function (a) {
      a.Ww(a);
    };
    ea.prototype.tD = function (a) {
      a.Jk(a, false);
    };
    ea.prototype.mD = function (a) {
      a.Jk(a, true);
    };
    ea.prototype.Cx = function (a) {
      a.yx(a);
      a.R ? a.D.notification.notify("Selection saved", 15, 120, 15, true) : a.D.notification.notify("Pattern saved", 15, 120, 15, true);
    };
    ea.prototype.rB = function (a) {
      a.Sw(a);
    };
    ea.prototype.gF = function (a) {
      a.xx(a);
    };
    ea.prototype.sB = function (a) {
      a.ie = true;
    };
    ea.prototype.gb = function (a, b, c) {
      c && (b[0] ? (this.Tf(G.jp[a], 1, this), this.ja.current[0] && (this.ja.current = this.ef([false], true, this))) : (this.ja.current[0] && (this.ja.current = this.ef([false], true, this)), b[0] = true));
      return b;
    };
    ea.prototype.JB = function (a, b, c) {
      return c.gb(0, a, b);
    };
    ea.prototype.MB = function (a, b, c) {
      return c.gb(1, a, b);
    };
    ea.prototype.CC = function (a, b, c) {
      return c.gb(2, a, b);
    };
    ea.prototype.OA = function (a, b, c) {
      return c.gb(3, a, b);
    };
    ea.prototype.OC = function (a, b, c) {
      return c.gb(4, a, b);
    };
    ea.prototype.XC = function (a, b, c) {
      return c.gb(5, a, b);
    };
    ea.prototype.cD = function (a, b, c) {
      return c.gb(6, a, b);
    };
    ea.prototype.gD = function (a, b, c) {
      return c.gb(7, a, b);
    };
    ea.prototype.nD = function (a, b, c) {
      return c.gb(8, a, b);
    };
    ea.prototype.uD = function (a, b, c) {
      return c.gb(9, a, b);
    };
    ea.prototype.PB = function (a, b, c) {
      return c.gb(10, a, b);
    };
    ea.prototype.TB = function (a, b, c) {
      return c.gb(11, a, b);
    };
    ea.prototype.XB = function (a, b, c) {
      return c.gb(12, a, b);
    };
    ea.prototype.aC = function (a, b, c) {
      return c.gb(13, a, b);
    };
    ea.prototype.eC = function (a, b, c) {
      return c.gb(14, a, b);
    };
    ea.prototype.iC = function (a, b, c) {
      return c.gb(15, a, b);
    };
    ea.prototype.mC = function (a, b, c) {
      return c.gb(16, a, b);
    };
    ea.prototype.qC = function (a, b, c) {
      return c.gb(17, a, b);
    };
    ea.prototype.uC = function (a, b, c) {
      return c.gb(18, a, b);
    };
    ea.prototype.yC = function (a, b, c) {
      return c.gb(19, a, b);
    };
    ea.prototype.GC = function (a, b, c) {
      return c.gb(20, a, b);
    };
    ea.prototype.Vq = function (a) {
      a.Vb = false;
    };
    ea.prototype.yG = function (a) {
      a.lA(a);
    };
    ea.prototype.Dw = function (a) {
      a.g.mk();
    };
    ea.prototype.Bw = function (a) {
      a.g.Yk();
    };
    ea.prototype.uG = function (a) {
      a.g.Wk();
    };
    ea.prototype.oG = function (a) {
      a.g.Uk();
    };
    ea.prototype.eA = function (a) {
      "Empty" === a.pb || "none" === a.pb || "" === a.pb ? a.D.notification.notify("No Identify Results", 15, 120, 15, false) : (0 !== a.s && (a.s = 0, a.md.current = a.df([0 !== a.s], true, a)), a.ja.current[0] && (a.ja.current = a.ef([false], true, a), a.D.i = true), a.g.cb = 0, a.Ed.current = a.ng(0, true, a), a.Vb = true);
    };
    ea.prototype.nF = function (a) {
      a.Fa = false;
      a.Ee.current = a.tp([a.Fa], true, a);
    };
    ea.prototype.lD = function () {
      Sb();
    };
    ea.prototype.RE = function (a) {
      a.Wb = [];
      a.aa = 0;
      a.pv(a.wa.current);
    };
    ea.prototype.hx = function (a) {
      --a.Gc;
      0 > a.Gc && (a.Gc = a.m.i.length - 1);
      a.av(a, a.Gc);
    };
    ea.prototype.Yw = function (a) {
      a.Gc += 1;
      a.Gc >= a.m.i.length && (a.Gc = 0);
      a.av(a, a.Gc);
    };
    ea.prototype.IB = function (a) {
      a.Ga += 1;
      a.Ga >= Aa.ke.length && (a.Ga = 0);
      a.xg(Aa.ke[a.Ga].pattern, false);
    };
    ea.prototype.tC = function (a) {
      --a.Ga;
      0 > a.Ga && (a.Ga = Aa.ke.length - 1);
      a.xg(Aa.ke[a.Ga].pattern, false);
    };
    ea.prototype.VA = function (a) {
      a.vw();
      a.s && (a.s = 0);
      a.ja.current[0] = false;
      a.D.i = true;
    };
    ea.prototype.zG = function (a) {
      a.ij = true;
    };
    ea.prototype.QD = function (a) {
      a.Kc(G.hg, a);
    };
    ea.prototype.ZD = function (a, b) {
      var c = 0;
      if ((a.g.H || a.g.l) && b) for (; c < a.W.length;) 1 < a.W[c] && (a.W[c] &= 1), c += 1; else for (; c < a.W.length;) a.W[c] = 0, c += 1;
    };
    ea.prototype.my = function (a) {
      var b = a.ba, c = b.F, d = b.J, f = b.G;
      b = b.K;
      var e = a.g.u, k;
      var g = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1);
      var m = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1);
      var p = 0;
      if (!a.L && a.R) {
        -1 !== a.g.C && (g += Math.round((a.A - a.ra) / 2), m += Math.round((a.B - a.qa) / 2));
        if (c > d) {
          var n = d;
          d = c;
          c = n;
        }
        f > b && (n = b, b = f, f = n);
        c += g;
        d += g;
        f += m;
        b += m;
        a.g.Wb = true;
        a.g.dc();
        n = e.F;
        m = e.G;
        g = e.J;
        e = e.K;
        for (k = m; k <= e; k += 1) for (m = n; m <= g; m += 1) if (!(k >= f && k <= b && m >= c && m <= d)) {
          var q = a.g.Ra(m, k, false);
          0 !== q && (p |= a.pa(m, k, 0, false));
        }
        (a.g.H || a.g.l) && p && this.g.gb();
        a.g.Wb = true;
        a.g.dc();
        a.X("clear cells outside selection");
      }
    };
    ea.prototype.oE = function (a, b) {
      var c = a.ba, d = c.F, f = c.J, e = c.G;
      c = c.K;
      var k = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1), g = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1);
      if (!a.L && a.R) {
        -1 !== a.g.C && (k += Math.round((a.A - a.ra) / 2), g += Math.round((a.B - a.qa) / 2));
        if (d > f) {
          var m = f;
          f = d;
          d = m;
        }
        e > c && (m = c, c = e, e = m);
        if ((a.g.H || a.g.l) && b) for (m = e; m <= c; m += 1) for (e = d; e <= f; e += 1) {
          var p = a.g.Ra(e + k, m + g, false);
          1 < p && a.pa(e + k, m + g, p & 1, false);
        } else for (m = e; m <= c; m += 1) for (e = d; e <= f; e += 1) p = a.g.Ra(e + k, m + g, false), 0 !== p && a.pa(e + k, m + g, 0, false);
        (a.g.H || a.g.l) && this.g.gb();
        a.g.Wb = true;
        a.g.dc();
        a.Qc = false;
        (a.g.H || a.g.l) && b ? a.g.H ? a.X("clear History cells in selection") : a.X("clear Super cells in selection") : a.X("clear cells in selection");
      }
    };
    ea.prototype.QA = function (a) {
      a.Sc(a, a.g.zoom * a.g.Ga, true);
    };
    ea.prototype.$D = function (a) {
      a.ub(true, true, G.Go);
    };
    ea.prototype.UC = function (a) {
      a.ub(true, true, G.Fs);
    };
    ea.prototype.lw = function (a, b) {
      a.L || (a.ua ? a.ZD(a, b) : a.oE(a, b));
    };
    ea.prototype.wE = function (a) {
      a.lw(a, false);
    };
    ea.prototype.rD = function (a) {
      a.my(a);
    };
    ea.prototype.kE = function (a) {
      a.lw(a, true);
    };
    ea.prototype.ww = function (a) {
      a.wa.current !== G.$j && (a.wa.current = a.se(G.$j, true, a));
      a.th = true;
      a.$c.current = a.qe([true], true, a);
    };
    ea.prototype.ny = function (a) {
      var b = a.ba, c = a.g.u, d = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1), f = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1);
      0 < a.g.o ? (a.g.Wb = true, a.g.dc(), -1 !== a.g.C && (d -= Math.floor((a.ra - a.A) / 2), f -= Math.floor((a.qa - a.B) / 2)), a.g.l || a.g.A || a.g.s || !(a.g.i || a.g.Ea && 2 === a.g.h || 2 < a.g.h) ? (b.F = c.F - d, b.G = c.G - f, b.J = c.J - d, b.K = c.K - f) : (a.g.Vk(b), b.F -= d, b.J -= d, b.G -= f, b.K -= f), a.R = true, a.Qc = false, c = b.J < b.F ? b.F - b.J + 1 : b.J - b.F + 1, b = b.K < b.G ? b.G - b.K + 1 : b.K - b.G + 1, a.X("select all (" + c + " x " + b + ")")) : (a.D.notification.notify("No live cells to Select", 15, 120, 15, false), a.R && a.Vk(a));
    };
    ea.prototype.ix = function (a, b, c) {
      a.L || (!a.bi && a.Cc && (b ? a.Nj(a) : a.L ? a.Nj(a) : c ? a.to(a, true) : a.to(a, false)), a.Rt(a, a.mc, false, false));
    };
    ea.prototype.wz = function (a) {
      a.ix(a, false, false);
    };
    ea.prototype.Rt = function (a, b, c, d) {
      var f = a.ba, e = f.F, k = f.J, g = f.G;
      f = f.K;
      var m, p = 0, n = a.g.h, q = 2 < n && !(this.g.fa || this.g.i || this.g.s || this.g.l || this.g.A), l = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1), r = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1), u = 0;
      if (a.R) {
        if (e > k) {
          var t = k;
          k = e;
          e = t;
        }
        g > f && (t = f, f = g, g = t);
        var v = k - e + 1;
        var B = f - g + 1;
        -1 !== a.g.C && (l += Math.round((a.A - a.ra) / 2), r += Math.round((a.B - a.qa) / 2));
        var w = a.g.N.h(oa.Ka, v * B, "View.pasteBuffer" + b);
        t = 0;
        for (m = g; m <= f; m += 1) for (g = e; g <= k; g += 1) {
          var y = a.g.Ra(g + l, m + r, false);
          0 < y && q && (y = n - y);
          w[t] = y;
          0 < y && (p += 1);
          u |= a.pa(g + l, m + r, 0, false);
          t += 1;
        }
        (a.g.H || a.g.l) && u && this.g.gb();
        a.Xa[b] = {buffer: w, width: v, height: B, count: p};
        a.W = w;
        a.Ub = v;
        a.Tb = B;
        a.Oj();
        a.g.Wb = true;
        a.g.dc();
        a.Dj = true;
        a.Qa = false;
        a.Qc = true;
        d || (c ? a.X("advance outside") : a.X("cut"));
      }
    };
    ea.prototype.Un = function (a, b, c) {
      0 !== a.s ? (Xa.ms = true, Xa.fl = "", Xa.ly(a), a.ye(a, Xa.fl), Xa.ms = false, Xa.fl = "") : (a.bi || !a.Cc && a.R || (b ? a.Nj(a) : a.L ? a.Nj(a) : c ? a.to(a, true) : a.to(a, false)), a.R && (a.iB(a, a.mc), a.Mm || (a.Mm = true, a.D.notification.notify("Disable Sync for faster internal clipboard", 15, 360, 15, false))));
    };
    ea.prototype.hC = function (a) {
      a.Fk(a, true, false);
    };
    ea.prototype.uB = function (a) {
      a.Un(a, false, true);
    };
    ea.prototype.TA = function (a) {
      a.Un(a, true, false);
    };
    ea.prototype.PA = function (a) {
      a.Dy(a);
    };
    ea.prototype.aB = function (a) {
      a.lm(a, false);
    };
    ea.prototype.mB = function (a) {
      a.lm(a, true);
    };
    ea.prototype.$w = function (a) {
      navigator.clipboard.readText().then(b => a.vB(a, b));
    };
    ea.prototype.eB = function (a) {
      a.Un(a, false, false);
    };
    ea.prototype.qB = function (a) {
      var b = a.ba, c = b.F, d = b.G, f = b.J, e = b.K, k, g, m = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1), p = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1), n = true;
      b = [];
      if (a.R) {
        if (c > f) {
          var q = c;
          c = f;
          f = q;
        }
        d > e && (q = d, d = e, e = q);
        q = f - c + 1;
        if (q !== e - d + 1) a.D.notification.notify("Weighted needs a square selection", 15, 180, 15, true), n = false; else if (0 === (q & 1)) a.D.notification.notify("Weighted size must be odd", 15, 180, 15, true), n = false; else if (3 > q || 99 < q) a.D.notification.notify("Weighted size must be >= 3 and <= 99", 15, 180, 15, true), n = false;
        if (n) {
          n = "";
          var l = 0;
          for (g = d; g <= e; g += 1) for (k = c; k <= f; k += 1) d = a.g.Ra(k + m, g + p, false), b[b.length] = d, d > l && (l = d);
          if (7 >= l) for (c = 0; c < b.length; c += 1) d = b[c], n += "0123456789abcdef"[d]; else for (c = 0; c < b.length; c += 1) d = b[c], n += "0123456789abcdef"[d >> 4], n += "0123456789abcdef"[d & 15];
          a.g.ha ? n += "H" : a.g.X && (n += "L");
          a.ye(a, n);
          a.D.notification.notify("Weighted R" + (q - 1 >> 1) + " copied to clipboard", 15, 180, 15, true);
        }
      } else a.D.notification.notify("Weighted needs a selection", 15, 180, 15, true);
    };
    ea.prototype.LG = function (a) {
      var b = a.ba, c = b.F, d = b.G, f = b.J;
      b = b.K;
      var e = 0, k, g = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1), m = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1);
      var p = true;
      if (a.R) {
        if (c > f) {
          var n = c;
          c = f;
          f = n;
        }
        d > b && (n = d, d = b, b = n);
        n = f - c + 1;
        if (n !== b - d + 1) a.D.notification.notify("CoordCA needs a square selection", 15, 180, 15, true), p = false; else if (0 === (n & 1)) a.D.notification.notify("CoordCA size must be odd", 15, 180, 15, true), p = false; else if (3 > n || 99 < n) a.D.notification.notify("CoordCA size must be >= 3 and <= 99", 15, 180, 15, true), p = false;
        if (p) {
          var q = "";
          var l = d + (b - d + 1 >> 1);
          p = c + (f - c + 1 >> 1);
          var r = 3;
          for (k = d; k <= b; k += 1) for (d = c; d <= f; d += 1) if (k !== l || d !== p) {
            var u = a.g.Ra(d + g, k + m, false);
            0 < u && (e |= 1 << r);
            --r;
            0 > r && (q += "0123456789abcdef"[e], r = 3, e = 0);
          }
          a.g.ha ? q += "H" : a.g.X && (q += "L");
          a.ye(a, q);
          a.D.notification.notify("CoordCA R" + (n - 1 >> 1) + " copied to clipboard", 15, 180, 15, true);
        }
      } else a.D.notification.notify("CoordCA needs a selection", 15, 180, 15, true);
    };
    ea.prototype.Dy = function (a) {
      2 < a.g.h ? a.qB(a) : a.LG(a);
    };
    ea.prototype.iB = function (a, b) {
      var c = a.ba, d = c.F, f = c.G, e = c.J;
      c = c.K;
      var k, g = 0, m = a.g.h, p = 2 < m && !(a.g.fa || a.g.i || a.g.s || a.g.l || a.g.A), n = a.da - a.V, q = a.Z - a.$;
      if (a.R) {
        if (d > e) {
          var l = d;
          d = e;
          e = l;
        }
        f > c && (l = f, f = c, c = l);
        var r = e - d + 1;
        var u = c - f + 1;
        a.kc && (-1 !== a.g.C ? (n += a.dc - d, q += a.wc - f) : (n += 2 * a.dc, q += 2 * a.wc));
        var t = a.g.N.h(oa.Ka, r * u, "View.pasteBuffer" + b);
        l = 0;
        for (k = f; k <= c; k += 1) for (f = d; f <= e; f += 1) {
          var v = a.g.Ra(f + n, k + q, false);
          0 < v && p && (v = m - v);
          t[l] = v;
          0 < v && (g += 1);
          l += 1;
        }
        a.Xa[b] = {buffer: t, width: r, height: u, count: g};
        a.W = t;
        a.Ub = r;
        a.Tb = u;
        a.Oj();
        a.Dj = true;
        a.Qa = false;
        a.Qc = true;
      }
    };
    ea.prototype.Tn = function (a) {
      a.ua = false;
      a.D.notification.clear(true, false);
      a.Qa && a.dr(a);
      a.Qa = false;
    };
    ea.prototype.sD = function (a, b) {
      var c = this.Id.current, d = this.Cc;
      b ? a.R ? (a.Rt(a, a.mc, true, false), a.g.hf(a.Hb), a.g.te(), a.g.rf(a), a.X(""), this.Id.current = 1, a.Fk(a, true, true), this.Id.current = c) : a.D.notification.notify("Advance Outside needs a selection", 15, 180, 15, true) : a.Qa ? (a.uA(a), a.Qa || a.D.notification.notify("Advance Selection all cells died", 15, 180, 15, true)) : a.R ? (a.Qc || (this.Cc = false, a.wz(a), this.Cc = d), a.Dj && (a.uA(a), a.Qa || a.D.notification.notify("Advance Selection no live cells", 15, 180, 15, true))) : a.D.notification.notify("Advance Selection needs a selection", 15, 180, 15, true);
    };
    ea.prototype.uA = function (a) {
      var b, c, d, f = a.Ub, e = a.Tb, k = a.W, g = a.ba, m = a.g.u, p = a.g.Oa, n = a.Hi, q = a.g.grid, l = a.g.Ec, r = a.g.m, u = a.g.jd, t = a.g.sa, v = a.g.Da, B = a.g.W, w = a.g.L, y = a.g.V, D = a.g.qa, F = a.g.B, N = a.g.Na, O = a.g.width, M = a.g.height, U = a.g.wa, W = a.g.Qa, H = a.g.ef, P = a.g.ed, Q = a.g.Ja, T = a.g.oa, Z = a.g.ba, na = a.g.Y, ia = a.g.za, ba = a.g.ya, ja = a.g.counter, la = new Ma(m.F, m.G, m.J, m.K), fa = new Ma(p.F, p.G, p.J, p.K), V = a.g.wc, ma = a.g.Tc, ca = a.g.sd, aa = a.g.yc, X = a.g.Ca, pa = a.g.Ya, R = a.g.Xe, E = a.g.Ed, z = null, K = null, L = a.g.o, J = a.g.ma, x = a.g.aa;
      a.g.Ea && (z = a.g.O.h, K = a.g.O.ja, a.g.O.resize(1024, 1024));
      a.g.Sk();
      var A = Math.round((a.g.width - a.A) / 2);
      var ka = Math.round((a.g.height - a.B) / 2);
      for (d = b = 0; d < e; d += 1) for (c = 0; c < f; c += 1) {
        var Y = k[b];
        0 < Y && a.g.rd(c + A, d + ka, Y, true);
        b += 1;
      }
      a.g.hf(true);
      a.g.te();
      a.g.rf(a);
      if (0 < a.g.o) {
        a.Ub = m.J - m.F + 1;
        a.Tb = m.K - m.G + 1;
        a.W = a.g.N.h(oa.Ka, a.Ub * a.Tb, "View.pasteBuffer");
        b = 0;
        for (d = m.G; d <= m.K; d += 1) for (c = m.F; c <= m.J; c += 1) Y = a.g.Ra(c, d, false), 0 < Y && 2 < a.g.h && !(a.g.l || a.g.A || a.g.i || a.g.s) && (Y = a.g.h - Y), a.W[b] = Y, b += 1;
        a.Qa ? (n.F += m.F - A, n.G += m.G - ka) : (n.F = g.F < g.J ? g.F + m.F - A : g.J + m.F - A, n.G = g.G < g.K ? g.G + m.G - ka : g.K + m.G - ka);
        n.J = n.F + a.Ub - 1;
        n.K = n.G + a.Tb - 1;
        a.Qa = true;
      } else a.Qa = false;
      a.g.grid = q;
      a.g.Ec = l;
      a.g.m = r;
      a.g.jd = u;
      a.g.sa = t;
      a.g.Da = v;
      a.g.W = B;
      a.g.L = w;
      a.g.V = y;
      a.g.qa = D;
      a.g.B = F;
      a.g.Na = N;
      a.g.width = O;
      a.g.height = M;
      a.g.wa = U;
      a.g.Qa = W;
      a.g.u.F = la.F;
      a.g.ef = H;
      a.g.ed = P;
      a.g.Ja = Q;
      a.g.oa = T;
      a.g.ba = Z;
      a.g.Y = na;
      a.g.za = ia;
      a.g.ya = ba;
      a.g.counter = ja;
      a.g.wc = V;
      a.g.Tc = ma;
      a.g.sd = ca;
      a.g.yc = aa;
      a.g.Ca = X;
      a.g.Ya = pa;
      a.g.Xe = R;
      a.g.Ed = E;
      m.F = la.F;
      m.G = la.G;
      m.J = la.J;
      m.K = la.K;
      p.F = fa.F;
      p.G = fa.G;
      p.J = fa.J;
      p.K = fa.K;
      a.g.ma = J;
      a.g.aa = x;
      a.g.o = L;
      a.g.Ea && (a.g.O.h = z, a.g.O.ja = K);
    };
    ea.prototype.As = function (a, b, c, d) {
      var f = a.Ub, e = a.Tb, k = a.W;
      var g = a.Rb;
      var m = a.g.width;
      var p = a.g.height;
      var n = 0;
      switch (a.uc + 0.5 | 0) {
        case G.Bz:
          b -= f >> 1;
          break;
        case G.Cz:
          b -= f - 1;
          break;
        case G.Gz:
          c -= e >> 1;
          break;
        case G.Az:
          b -= f >> 1;
          c -= e >> 1;
          break;
        case G.zz:
          b -= f - 1;
          c -= e >> 1;
          break;
        case G.Fz:
          c -= e - 1;
          break;
        case G.Dz:
          b -= f >> 1;
          c -= e - 1;
          break;
        case G.Ez:
          b -= f - 1, c -= e - 1;
      }
      g.F = b;
      g.G = c;
      g.J = b + f;
      g.K = c + e;
      for (a.Gj(a, g); m !== a.g.width;) b += m >> 1, m <<= 1;
      for (; p !== a.g.height;) c += p >> 1, p <<= 1;
      switch (this.$E()) {
        case G.In:
          for (p = g = 0; p < e; p += 1) for (m = 0; m < f; m += 1) {
            var q = k[g];
            if (this.g.i) {
              var l = this.g.Ra(b + m, c + p, false);
              n |= a.pa(b + m, c + p, l | q, false);
            } else 0 < q && (n |= a.pa(b + m, c + p, q, false));
            g += 1;
          }
          break;
        case G.Uo:
          for (p = g = 0; p < e; p += 1) for (m = 0; m < f; m += 1) q = k[g], n |= a.pa(b + m, c + p, q, false), g += 1;
          break;
        case G.jq:
          for (p = g = 0; p < e; p += 1) for (m = 0; m < f; m += 1) q = k[g], l = this.g.Ra(b + m, c + p, false), n |= a.pa(b + m, c + p, l ^ q, false), g += 1;
          break;
        case G.iq:
          for (p = g = 0; p < e; p += 1) for (m = 0; m < f; m += 1) q = k[g], l = this.g.Ra(b + m, c + p, false), n |= a.pa(b + m, c + p, l & q, false), g += 1;
      }
      (a.g.H || a.g.l || a.g.A) && n && this.g.gb();
      a.ua = false;
      a.Qa = false;
      a.D.notification.clear(true, false);
      d && a.X("paste");
    };
    ea.prototype.Of = function (a, b, c) {
      var d = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1), f = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1), e = a.ba, k = e.F, g = e.G, m = e.J, p = e.K;
      var n = 0;
      var q = a.g.width - 1;
      var l = 0;
      var r = a.g.height - 1, u = 0;
      if (!a.L && a.R) {
        if (k > m) {
          var t = m;
          m = k;
          k = t;
        }
        g > p && (t = p, p = g, g = t);
        t = m - k + 1;
        var v = p - g + 1;
        -1 !== a.g.C && (d += Math.round((a.A - a.ra) / 2), f += Math.round((a.B - a.qa) / 2));
        -1 !== a.g.C && (0 !== a.g.R ? (n = Math.round((a.g.width - a.g.R) / 2) - 1, q = n + a.g.R - 1 + 2) : (n = 0, q = a.g.width - 1), 0 !== a.g.M ? (l = Math.round((a.g.height - a.g.M) / 2) - 1, r = l + a.g.M - 1 + 2) : (l = 0, r = a.g.height - 1));
        -1 === a.g.C && (a.Fj(k + d + b, g + f + c), d = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1), f = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1), e = a.ba, k = e.F, g = e.G, m = e.J, p = e.K, k > m && (m = k), g > p && (p = g), -1 !== a.g.C && (d += Math.round((a.A - a.ra) / 2), f += Math.round((a.B - a.qa) / 2)), a.Fj(m + d + b, p + f + c), d = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1), f = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1), e = a.ba, k = e.F, g = e.G, m = e.J, p = e.K, k > m && (t = m, m = k, k = t), g > p && (t = p, p = g, g = t), t = m - k + 1, v = p - g + 1, -1 !== a.g.C && (d += Math.round((a.A - a.ra) / 2), f += Math.round((a.B - a.qa) / 2)));
        a.g.Ea && (-1 === a.g.C ? (n += 2 * a.g.O.o + 1, q -= 2 * a.g.O.o + 1, l += 2 * a.g.O.l + 1, r -= 2 * a.g.O.l + 1) : (n += 1, --q, l += 1, --r));
        if (k + d + b >= n && m + d + b <= q && g + f + c >= l && p + f + c <= r) {
          a.Xa[G.qj] = null;
          a.Rt(a, G.qj, false, true);
          d += b;
          f += c;
          n = 0;
          m = a.Xa[G.qj].buffer;
          for (l = 0; l < v; l += 1) for (q = 0; q < t; q += 1) p = m[n], u |= a.pa(k + q + d, g + l + f, p, false), n += 1;
          a.Xa[G.qj] = null;
          (a.g.H || a.g.l) && u && this.g.gb();
          e.F += b;
          e.J += b;
          e.G += c;
          e.K += c;
          a.X("nudge " + (0 === b ? -1 === c ? "up" : "down" : -1 === b ? "left" : "right"));
        } else a.D.notification.notify("No room to nudge selection", 15, 180, 15, true);
      }
    };
    ea.prototype.YF = function (a, b, c) {
      a = this.U.create("", a, this.g.N, null, null, null, this);
      var d, f, e = 0, k = 0, g = this.g.h, m = 2 < g && !(this.g.fa || this.g.i || this.g.s || this.g.l || this.g.A);
      if ("" == this.U.P) {
        -1 === g && (g = 2);
        var p = a.width;
        var n = a.height;
        var q = this.g.N.h(oa.Ka, p * n, "View.pasteBuffer" + this.mc);
        for (f = 0; f < n; f += 1) {
          var l = a.ka[f];
          for (d = 0; d < p; d += 1) {
            var r = l[d];
            0 < r && m && (r = g - r);
            0 > r ? r = 0 : r >= g && (r = 1);
            q[e] = r;
            0 < r && (k += 1);
            e += 1;
          }
        }
        this.Xa[this.mc] = {buffer: q, width: p, height: n, count: k};
        this.W = q;
        this.Ub = p;
        this.Tb = n;
        this.Oj();
        this.ws(b, c);
      } else this.D.notification.notify("Could not decode system clipboard", 15, 180, 15, true), console.log(this.U.P);
    };
    ea.prototype.EF = function (a, b) {
      this.ws(a, b);
    };
    ea.prototype.aE = function (a, b) {
      wc(this, a, b);
    };
    ea.prototype.ws = function (a, b) {
      var c = (this.g.width >> 1) - (this.A >> 1) + (this.V << 1), d = (this.g.height >> 1) - (this.B >> 1) + (this.$ << 1), f = this.ba, e = this.Hi, k = f.F, g = f.G, m = f.J;
      f = f.K;
      var p;
      if (null !== this.Xa[this.mc]) if (a) if (this.R || this.Qa) if (this.Qa && (k = e.F, g = e.G, m = e.J, f = e.K), k > m && (a = k, k = m, m = a), g > f && (a = g, g = f, f = a), m = m - k + 1, f = f - g + 1, this.Ub > m || this.Tb > f) this.D.notification.notify("Paste does not fit in selection", 15, 180, 15, true); else {
        a = this.uc;
        this.uc = G.Jn;
        for (p = g; p <= g + f - this.Tb; p += this.Tb) for (e = k; e <= k + m - this.Ub; e += this.Ub) this.As(this, e + c, p + d, false);
        this.uc = a;
        this.Wd && this.kk(this);
        b ? this.X("advance outside") : this.X("paste to selection");
        this.Qa = false;
      } else this.D.notification.notify("Paste to Selection needs a selection", 15, 180, 15, true); else this.gs(this, this.mc), this.Qa = false, this.D.notification.notify("Now click to paste", 15, 180, 15, true);
    };
    ea.prototype.Fk = function (a, b, c) {
      a.L || (a.Cc ? a.aE(b, c) : a.ws(b, c));
    };
    ea.prototype.$B = function (a) {
      a.Qa ? (a.Fk(a, true, false), a.Qc = false) : a.As(a, a.Ec, a.Fc, true);
    };
    ea.prototype.gx = function (a) {
      a.Fk(a, false, false);
    };
    ea.prototype.gs = function (a, b) {
      0 <= b && b < a.Xa.length && (null !== a.Xa[b] ? (a.ua = true, a.Qa = false, a.W = a.Xa[b].buffer, a.Ub = a.Xa[b].width, a.Tb = a.Xa[b].height, a.wa.current !== G.ak && (a.wa.current = a.se(G.ak, true, a))) : (a.ua = false, a.Qa = false, a.D.notification.notify("Clipboard empty", 15, 180, 15, true)));
    };
    ea.prototype.NC = function (a, b) {
      var c, d = a.g.h;
      -1 === d && (d = 2);
      if (a.g.i) for (c = 0; c < a.W.length; c += 1) {
        var f = 0;
        100 * a.H.random() <= a.Ib && (f |= 1);
        100 * a.H.random() <= a.Ib && (f |= 2);
        100 * a.H.random() <= a.Ib && (f |= 4);
        100 * a.H.random() <= a.Ib && (f |= 8);
        a.W[c] = f;
      } else for (c = 0; c < a.W.length; c += 1) f = 100 * a.H.random() <= a.Ib ? 2 === d || b ? a.Qe : (a.H.random() * (d - 1) | 0) + 1 : 0, a.W[c] = f;
    };
    ea.prototype.bD = function (a, b) {
      var c = a.ba, d = c.F, f = c.J, e = c.G;
      c = c.K;
      var k = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1), g = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1), m = a.g.h, p = 0;
      if (a.R) {
        if (d > f) {
          var n = f;
          f = d;
          d = n;
        }
        e > c && (n = c, c = e, e = n);
        -1 === m && (m = 2);
        -1 !== a.g.C && (k += Math.round((a.A - a.ra) / 2), g += Math.round((a.B - a.qa) / 2));
        if (a.g.i) for (n = e; n <= c; n += 1) for (e = d; e <= f; e += 1) {
          var q = 0;
          100 * a.H.random() <= a.Ib && (q |= 1);
          100 * a.H.random() <= a.Ib && (q |= 2);
          100 * a.H.random() <= a.Ib && (q |= 4);
          100 * a.H.random() <= a.Ib && (q |= 8);
          p = a.pa(e + k, n + g, q, false);
        } else for (n = e; n <= c; n += 1) for (e = d; e <= f; e += 1) q = 100 * a.H.random() <= a.Ib ? 2 === m || b ? a.Qe : (a.H.random() * (m - 1) | 0) + 1 : 0, p |= a.pa(e + k, n + g, q, false);
        (a.g.H || a.g.l) && p && this.g.gb();
        a.g.Wb = true;
        a.g.dc();
        a.X("random " + a.Ib + "%");
      }
    };
    ea.prototype.Xn = function (a, b) {
      a.L || (a.ua ? a.NC(a, b) : a.bD(a, b));
    };
    ea.prototype.WC = function (a) {
      a.L || a.Xn(a, false);
    };
    ea.prototype.NA = function (a) {
      a.Xn(a, true);
    };
    ea.prototype.lE = function (a) {
      var b = a.Ub, c = a.Tb, d = b >> 1, f, e, k;
      for (e = k = 0; e < c; e += 1) {
        if (a.g.i) for (f = 0; f < d; f += 1) {
          var g = a.W[k + f];
          var m = a.W[k + b - f - 1];
          a.W[k + f] = m & 5 | (m & 2) << 2 | (m & 8) >> 2;
          a.W[k + b - f - 1] = g & 5 | (g & 2) << 2 | (g & 8) >> 2;
        } else for (f = 0; f < d; f += 1) g = a.W[k + f], a.W[k + f] = a.W[k + b - f - 1], a.W[k + b - f - 1] = g;
        k += b;
      }
    };
    ea.prototype.pE = function (a) {
      var b = a.ba, c = b.F, d = b.J, f = b.G;
      b = b.K;
      var e, k = a.g.h, g = 2 < k && !(this.g.fa || this.g.i || this.g.s || this.g.l || this.g.A), m = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1), p = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1), n = 0;
      if (a.R) {
        if (c > d) {
          var q = d;
          d = c;
          c = q;
        }
        f > b && (q = b, b = f, f = q);
        -1 !== a.g.C && (m += Math.round((a.A - a.ra) / 2), p += Math.round((a.B - a.qa) / 2));
        q = a.g.N.h(oa.Ka, d - c + 1, "View.flipRow");
        for (e = f; e <= b; e += 1) {
          for (f = c; f <= d; f += 1) {
            var l = a.g.Ra(f + m, e + p, false);
            g && 0 < l && (l = k - l);
            q[f - c] = l;
          }
          if (a.g.i) for (f = c; f <= d; f += 1) l = q[d - f], a.pa(f + m, e + p, l & 5 | (l & 2) << 2 | (l & 8) >> 2, false); else for (f = c; f <= d; f += 1) n |= a.pa(f + m, e + p, q[d - f], false);
        }
        (a.g.H || a.g.l) && n && this.g.gb();
        a.g.Wb = true;
        a.g.dc();
        a.X("flip horizontally");
      }
    };
    ea.prototype.xE = function (a) {
      var b = a.Ub, c = a.Tb, d = c >> 1, f, e, k;
      for (f = k = 0; f < b; f += 1) {
        if (a.g.i) for (e = 0; e < d; e += 1) {
          var g = a.W[k + e * b];
          var m = a.W[k + (c - e - 1) * b];
          a.W[k + e * b] = m & 10 | (m & 1) << 2 | (m & 4) >> 2;
          a.W[k + (c - e - 1) * b] = g & 10 | (g & 1) << 2 | (g & 4) >> 2;
        } else for (e = 0; e < d; e += 1) g = a.W[k + e * b], a.W[k + e * b] = a.W[k + (c - e - 1) * b], a.W[k + (c - e - 1) * b] = g;
        k += 1;
      }
    };
    ea.prototype.ME = function (a) {
      var b = a.ba, c = b.F, d = b.J, f = b.G;
      b = b.K;
      var e, k = a.g.h, g = 2 < k && !(this.g.fa || this.g.i || this.g.s || this.g.l || this.g.A), m = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1), p = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1), n = 0;
      if (a.R) {
        if (c > d) {
          var q = d;
          d = c;
          c = q;
        }
        f > b && (q = b, b = f, f = q);
        -1 !== a.g.C && (m += Math.round((a.A - a.ra) / 2), p += Math.round((a.B - a.qa) / 2));
        for (q = a.g.N.h(oa.Ka, b - f + 1, "View.flipColumn"); c <= d; c += 1) {
          for (e = f; e <= b; e += 1) {
            var l = a.g.Ra(c + m, e + p, false);
            g && 0 < l && (l = k - l);
            q[e - f] = l;
          }
          if (a.g.i) for (e = f; e <= b; e += 1) l = q[b - e], a.pa(c + m, e + p, l & 10 | (l & 1) << 2 | (l & 4) >> 2, false); else for (e = f; e <= b; e += 1) n |= a.pa(c + m, e + p, q[b - e], false);
        }
        (a.g.H || a.g.l) && n && this.g.gb();
        a.g.Wb = true;
        a.g.dc();
        a.X("flip vertically");
      }
    };
    ea.prototype.tx = function (a, b) {
      var c = a.Ub, d = a.Tb, f, e, k = a.g.N.h(oa.Ka, c * d, "View.pasteBuffer");
      for (e = 0; e < d; e += 1) for (f = 0; f < c; f += 1) if (a.g.i) if (b) {
        var g = a.W[e * c + f];
        k[f * d + (d - e - 1)] = g << 1 & 15 | (g & 8) >> 3;
      } else g = a.W[e * c + f], k[(c - f - 1) * d + e] = g >> 1 & 15 | (g & 1) << 3; else b ? k[f * d + (d - e - 1)] = a.W[e * c + f] : k[(c - f - 1) * d + e] = a.W[e * c + f];
      a.W = k;
      a.Ub = d;
      a.Tb = c;
    };
    ea.prototype.vx = function (a, b, c) {
      a.bF(a, b, c);
    };
    ea.prototype.bF = function (a, b, c) {
      var d = a.ba, f = d.F, e = d.J, k = d.G, g = d.K, m = 0, p = a.g.h;
      var n = true;
      var q = 2 < p && !(this.g.fa || this.g.i || this.g.s || this.g.l || this.g.A), l = a.g.Z ? -1 : 0;
      var r = Math.round((a.g.width - a.g.R) / 2) + l;
      var u = Math.round((a.g.height - a.g.M) / 2) + l;
      var t = r + a.g.R - 1;
      var v = u + a.g.M - 1;
      l = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1);
      var B = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1), w = 0;
      if (a.R) {
        -1 !== a.g.C && (l += Math.round((a.A - a.ra) / 2), B += Math.round((a.B - a.qa) / 2));
        if (f > e) {
          var y = e;
          e = f;
          f = y;
        }
        k > g && (y = g, g = k, k = y);
        y = f + (e - f + 1 - 1 >> 1);
        var D = k + (g - k + 1 - 1 >> 1);
        var F = y + k - D;
        var N = D + f - y;
        var O = y + g - D;
        D = D + e - y;
        var M = d.F;
        var U = d.G;
        var W = d.J;
        var H = d.K;
        d.F = F;
        d.G = N;
        d.J = O;
        d.K = D;
        d.F > d.J && (y = d.F, d.F = d.J, d.J = y);
        d.G > d.K && (y = d.G, d.G = d.K, d.K = y);
        if (-1 !== a.g.C) {
          if (d.F + l < r || d.J + l > t || d.G + B < u || d.K + B > v) a.D.notification.notify("Rotation does not fit in bounded grid", 15, 180, 15, true), n = false;
        } else a.Hx(a) ? (a.D.notification.notify("Rotation does not fit on grid", 15, 180, 15, true), n = false) : (l = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1), B = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1), -1 !== a.g.C && (l += Math.round((a.A - a.ra) / 2), B += Math.round((a.B - a.qa) / 2)));
        if (n) {
          b ? (n = N, v = O, t = 1, u = -1) : (n = D, v = F, t = -1, u = 1);
          r = a.g.N.h(oa.xo, 3 * (e - f + 1) * (g - k + 1), "View.rotateCells");
          for (O = k; O <= g; O += 1) {
            y = n;
            for (F = f; F <= e; F += 1) N = a.g.Ra(F + l, O + B, false), q ? 0 < N && (N = p - N) : a.g.i && (N = b ? N << 1 & 15 | (N & 8) >> 3 : N >> 1 & 15 | (N & 1) << 3), r[m] = v, r[m + 1] = y, r[m + 2] = N, m += 3, y += t;
            v += u;
          }
          l = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1);
          B = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1);
          -1 !== a.g.C && (l += Math.round((a.A - a.ra) / 2), B += Math.round((a.B - a.qa) / 2));
          for (m = 0; m < r.length;) F = r[m], O = r[m + 1], N = r[m + 2], w |= a.pa(F + l, O + B, N, false), m += 3;
          for (F = f; F < d.F; F += 1) for (O = k; O <= g; O += 1) w |= a.pa(F + l, O + B, 0, false);
          for (F = d.J + 1; F <= e; F += 1) for (O = k; O <= g; O += 1) w |= a.pa(F + l, O + B, 0, false);
          for (O = k; O < d.G; O += 1) for (F = f; F <= e; F += 1) w |= a.pa(F + l, O + B, 0, false);
          for (O = d.K + 1; O <= g; O += 1) for (F = f; F <= e; F += 1) w |= a.pa(F + l, O + B, 0, false);
          (a.g.H || a.g.l) && w && this.g.gb();
          a.g.Wb = true;
          a.g.dc();
          a.X(c);
        } else d.F = M, d.G = U, d.J = W, d.K = H;
      }
    };
    ea.prototype.LA = function (a) {
      a.Vk(a);
    };
    ea.prototype.OB = function (a) {
      a.L || a.Of(a, -1, 0);
    };
    ea.prototype.SB = function (a) {
      a.L || a.Of(a, 1, 0);
    };
    ea.prototype.WB = function (a) {
      a.L || a.Of(a, 0, -1);
    };
    ea.prototype.LB = function (a) {
      a.L || a.Of(a, 0, 1);
    };
    ea.prototype.zA = function (a) {
      a.L || (a.ua ? a.lE(a) : a.pE(a));
    };
    ea.prototype.CA = function (a) {
      a.L || (a.ua ? a.xE(a) : a.ME(a));
    };
    ea.prototype.qx = function (a) {
      a.L || (a.ua ? a.tx(a, true) : a.vx(a, true, "rotate clockwise"));
    };
    ea.prototype.ox = function (a) {
      a.L || (a.ua ? a.tx(a, false) : a.vx(a, false, "rotate counter-clockwise"));
    };
    ea.prototype.UA = function (a) {
      var b = 0, c = a.g.h;
      if (!a.L) for (-1 === c && (c = 2); b < a.W.length;) {
        var d = a.W[b];
        a.W[b] = c - d - 1;
        b += 1;
      }
    };
    ea.prototype.YA = function (a) {
      var b = a.ba, c = b.F, d = b.J, f = b.G;
      b = b.K;
      var e = (a.g.width >> 1) - (a.A >> 1) + (a.V << 1), k = (a.g.height >> 1) - (a.B >> 1) + (a.$ << 1), g = a.g.h, m = 0;
      if (!a.L && a.R) {
        if (c > d) {
          var p = d;
          d = c;
          c = p;
        }
        f > b && (p = b, b = f, f = p);
        -1 === g && (g = 2);
        -1 !== a.g.C && (e += Math.round((a.A - a.ra) / 2), k += Math.round((a.B - a.qa) / 2));
        for (p = f; p <= b; p += 1) for (f = c; f <= d; f += 1) {
          var n = a.g.Ra(f + e, p + k, false);
          !(a.g.l || a.g.A || a.g.i || a.g.s) && 2 < g && 0 < n && (n = g - n);
          m |= a.pa(f + e, p + k, g - n - 1, false);
        }
        (a.g.H || a.g.l) && m && this.g.gb();
        a.g.Wb = true;
        a.g.dc();
        a.X("invert cells in selection");
      }
    };
    ea.prototype.Fw = function (a) {
      a.L || (a.ua ? a.UA(a) : a.YA(a));
    };
    ea.prototype.gw = function (a) {
      a.g.zb = a.g.zb ? false : true;
      a.yh(a.Fb);
      var b = a.g.Xa;
      a.g.zb && (b = !b);
      a.D.notification.notify("Playback " + (b ? "Reverse" : "Forward"), 15, 40, 15, true);
    };
    ea.prototype.OD = function (a) {
      a.ub(true, true, G.xf);
      a.Fb || (a.nc = true);
    };
    ea.prototype.ty = function (a) {
      if (a.g.s && 2 === a.g.h) {
        var b = a.g.so();
        a.ye(a, b);
      }
    };
    ea.prototype.Gy = function (a) {
      var b = a.T;
      a.g.s && (b = Ya.wD(b), "" === b && (b = a.U.Xa));
      a.ye(a, b);
    };
    ea.prototype.kG = function (a) {
      if (0 !== a.s || 0 !== a.aa) a.s = 0, a.md.current = a.df([0 !== a.s], true, a), a.aa = 0;
      0 === a.g.o ? (a.D.notification.notify("No live cells to Identify", 15, 120, 15, false), a.nb = false, a.Vb = false) : (a.nb ? (a.nb = false, a.D.notification.notify("Identify cancelled", 15, 120, 15, false)) : (a.nb = true, a.Vb = false, a.g.cb = 0, a.D.notification.notify("Identifying...", 15, 216e3, 15, false)), a.X(""));
      a.g.Qf(a.nb);
      a.s = 0;
      a.lk(a);
      a.lk(a);
      a.D.i = true;
      a.h.locked = false;
      a.Ed.current = a.ng(0, true, a);
    };
    ea.prototype.lG = function (a) {
      a.xh = 1;
    };
    ea.prototype.ZF = function (a) {
      a.xh = 2;
    };
    ea.prototype.JA = function (a) {
      var b = window.prompt("Enter generation", String(a.g.counter)), c = false;
      a.If = -1;
      if (null !== b) {
        "b" === b.substring(b.length - 1).toLowerCase() && (b = b.substring(0, b.length - 1), c = true);
        if ("+" === b.charAt(0)) {
          var d = a.g.counter;
          d += parseInt(b.substring(1), 10);
        } else "-" === b.charAt(0) ? (d = a.g.counter, d -= parseInt(b.substring(1), 10)) : d = parseInt(b, 10);
        0 <= d && d <= G.$y ? d !== a.g.counter && (a.rf() ? a.D.notification.notify("No live cells", 15, 360, 15, false) : (a.Kb = d, a.ja.current = a.ef([false], true, a), a.D.i = true, a.hd && a.D.notification.notify("Going to generation " + d, 15, 1e4, 15, false), a.D.notification.clear(true, false), d < a.g.counter && (a.g.Yf(a, false), a.Em(a.g.counter)), c && (a.If = performance.now()), a.ol = d - a.g.counter)) : a.D.notification.notify("Invalid generation specified", 15, 240, 15, true);
      }
    };
    ea.prototype.an = function (a) {
      a.kG(a);
    };
    ea.prototype.sj = function (a, b, c) {
      b && (c.g.Ia = a[0]);
      return [c.g.Ia];
    };
    ea.prototype.fA = function (a, b, c) {
      b && (c.pd = a[0]);
      return [c.pd];
    };
    ea.prototype.mA = function (a, b, c) {
      b && (c.Zi = a[0]);
      return [c.Zi];
    };
    ea.prototype.Uq = function (a, b, c) {
      b && (c.Jd = a[0]);
      return [c.Jd];
    };
    ea.prototype.$q = function (a, b, c) {
      b && (c.zf = a[0]);
      return [c.zf];
    };
    ea.prototype.ef = function (a, b, c) {
      b && (0 === c.s && 0 === c.aa || !a[0] || (c.s = 0, c.md.current = c.df([0 !== c.s], true, c), c.aa = 0), !a[0] && 0 < c.Wb.length && (c.aa = 1), a[0] || c.lk(c), a[0] && (c.D.notification.clear(false, false), c.D.notification.clear(true, false)));
      return a;
    };
    ea.prototype.Wq = function (a, b, c) {
      b && (c.zh = a[0]);
      return [c.zh];
    };
    ea.prototype.Yq = function (a, b, c) {
      b && (c.Vf = a[0]);
      return [c.Vf];
    };
    ea.prototype.ng = function (a, b, c) {
      b && (c.Kd = a);
      return c.Kd;
    };
    ea.prototype.qe = function (a, b, c) {
      b && (c.Zd = a[0], c.Zd ? c.th ? c.D.notification.notify("Replace: Now click on a cell", 15, 180, 15, true) : c.D.notification.notify("Pick: Now click on a cell", 15, 180, 15, true) : (c.mr || c.D.notification.clear(true, false), c.mr = false, c.th = false));
      return [c.Zd];
    };
    ea.prototype.Yz = function (a, b, c) {
      b && (c.ea = a[0], c.ea && !c.Fb && c.ub(true, true, G.xf));
      return [c.ea];
    };
    ea.prototype.CB = function (a, b, c) {
      b && -1 !== c.Mb && (c.va = !a[0], c.Ca ? (c.ib = c.va, c.D.notification.notify("Loop and Waypoints " + (c.va ? "Off" : "On"), 15, 40, 15, true)) : c.hb ? (c.Nb = c.va, c.D.notification.notify("Loop and Track " + (c.va ? "Off" : "On"), 15, 40, 15, true), c.ux(c.Nb)) : c.D.notification.notify("Loop " + (c.va ? "Off" : "On"), 15, 40, 15, true));
      return [c.va];
    };
    ea.prototype.zB = function (a, b, c) {
      b && c.Pb && (c.sc = !a[0]);
      return [c.sc];
    };
    ea.prototype.GB = function (a, b, c) {
      b && -1 !== c.jc && (c.Lb = !a[0]);
      return [c.Lb];
    };
    ea.prototype.br = function (a, b, c) {
      b && (c.hb ? (c.Nb = !a[0], c.ux(c.Nb), -1 !== c.Mb && (c.va = c.Nb)) : c.Ca && (c.ib = !a[0], c.ib ? (c.D.notification.clear(false, false), c.He = "") : (c.nc = true, c.elapsedTime = c.m.va(c.g.counter), c.m.O(c, c.elapsedTime, c.g.counter, false), c.m.O(c, c.elapsedTime, c.g.counter, false)), -1 !== c.Mb && (c.va = c.ib)));
      return c.hb ? [c.Nb] : [c.ib];
    };
    ea.prototype.df = function (a, b, c) {
      b && (c.s = a[0] ? 1 : 0, c.s ? (c.ja.current[0] && (c.ja.current = c.ef([false], true, c)), c.D.notification.clear(false, false), c.D.notification.clear(true, false)) : (c.Kc(G.hg, c), c.s = 0));
      c.pv(c.wa.current);
      return [0 !== c.s];
    };
    ea.prototype.pG = function (a) {
      a.Lt(a);
    };
    ea.prototype.UE = function (a) {
      a.mx(a);
    };
    ea.prototype.jB = function (a) {
      a.eA(a);
    };
    ea.prototype.iz = function (a) {
      var b = a.na.current[0];
      b = 45 * Math.floor((b + 22.5) / 45);
      360 <= b && (b = 0);
      a.na.current = a.rg([b, b], true, a);
    };
    ea.prototype.gB = function () {
      Aa.iA();
    };
    ea.prototype.kB = function (a) {
      Aa.Dv(a);
    };
    ea.prototype.qE = function () {
      Aa.Wz();
    };
    ea.prototype.ZC = function (a) {
      a.ko(a, false, false);
    };
    ea.prototype.Xw = function (a, b, c) {
      b && (c.De = a[0]);
      return [c.De];
    };
    ea.prototype.Tw = function (a, b, c) {
      b && (c.g.Cc = a[0], c.g.Bi());
      return [c.g.Cc];
    };
    ea.prototype.vp = function (a, b, c) {
      b && (c.kg = a[0]);
      c.D.ue(true);
      return [c.kg];
    };
    ea.prototype.um = function (a, b) {
      1 < a.aa && (a.aa -= b, 1 > a.aa && (a.aa = 1));
    };
    ea.prototype.sm = function (a, b) {
      a.aa < a.Wb.length - a.Da + 1 && (a.aa += b, a.aa > a.Wb.length - a.Da + 1 && (a.aa = a.Wb.length - a.Da + 1));
    };
    ea.prototype.ym = function (a, b) {
      1 < a.s && (a.s -= b, 1 > a.s && (a.s = 1));
    };
    ea.prototype.wm = function (a, b) {
      a.s < a.Ti - a.Da && (a.s += b, a.s > a.Ti - a.Da && (a.s = a.Ti - a.Da));
    };
    ea.prototype.xC = function (a) {
      for (var b = a.v.length - 1, c = false; 0 <= b && !c;) a.s <= a.v[b][0] ? --b : c = true;
      c && (a.s = a.v[b][0]);
    };
    ea.prototype.FB = function (a) {
      for (var b = 0, c = false; b < a.v.length && !c;) a.s >= a.v[b][0] ? b += 1 : c = true;
      c && (a.s = a.v[b][0]);
    };
    ea.prototype.oF = function (a) {
      for (this.g.i && this.g.counter < a && (1 === (this.g.counter & 1) ? this.g.m.ca.fill(0) : this.g.W.ca.fill(0)); this.g.counter < a;) this.g.hf(false), this.g.te(), this.g.Jg(), this.g.rf(this), this.tk();
      this.elapsedTime = this.Ce[a];
      this.ia = a * this.M;
    };
    ea.prototype.Gq = function (a) {
      var b = this.la + (0 < this.g.h ? this.g.h : 0);
      !this.Hb && this.D.Xa && (this.D.Xa = false, 0 > a && (a = 0), this.elapsedTime = this.Ce[a], this.ia = a * this.M, -1 !== this.Ab && a > this.Ab + b ? this.g.counter = a : this.g.Gk(a, this), this.elapsedTime = this.Ce[a], this.ia = a * this.M, this.m.Ya(this.elapsedTime), this.nc = true, a !== this.g.counter && (this.Yg = true, this.Gs = a, this.g.Yf(this, false), this.D.notification.notify("Computing previous generations", 15, 1e4, 15, true), this.zs = true));
    };
    ea.prototype.yw = function (a) {
      a.style.width = "2em";
      a.style.height = "2em";
      a.style.padding = 0;
      a.style.border = "none";
      a.style.outline = "none";
      a.style.boxShadow = "none";
      a.style.background = "transparent";
      a.style.position = "fixed";
      a.style.left = "-100px";
      a.style.top = "0px";
    };
    ea.prototype.ye = function (a, b) {
      var c = document.getElementById("ViewerCopy");
      Aa.Gx = b;
      if (window.ClipboardItem) {
        const d = new ClipboardItem({"text/plain": xc().then(() => new Promise(async f => {
          f(new Blob([b], {type: "text/plain"}));
        }))});
        navigator.clipboard.write([d]);
      } else navigator.clipboard.writeText(b);
      a.D.notification.notify("Copied to external clipboard", 15, 180, 15, true);
      c && (c.innerHTML = b);
    };
    ea.prototype.yd = function (a) {
      var b = eb.Oe, c = Object.keys(b), d = a.h, f = a.l;
      a = a.i;
      for (var e = "", k = false, g = null, m = 0; m < c.length && !k;) g = b[c[m]], g[1] === d && g[2] === f && g[3] === a ? (k = true, m = c.length) : m += 1;
      k ? e = g[0] : e = d + " " + f + " " + a;
      return e;
    };
    ea.prototype.gi = function (a, b) {
      return a.h === b.h && a.l === b.l && a.i === b.i;
    };
    ea.prototype.lm = function (a, b) {
      var c = "#C " + C.bk + " ", d = String(-(a.g.width / 2 - a.g.ea - a.g.Ba | 0)), f = String(-(a.g.height / 2 - a.g.da - a.g.pa | 0)), e = a.g.zoom, k = String(a.g.angle | 0), g = String(a.g.Gb | 0), m = a.g.la[a.g.Lb];
      0 !== a.g.counter && (c += C.ep + " " + a.g.counter + " ");
      c += C.Ke + " " + d + " " + C.Me + " " + f + " ";
      c += C.ee + " " + (e === (e | 0) ? String(e) : String(e.toFixed(2))) + " ";
      c += C.Sj + " " + k + " ";
      0 !== a.g.Gb && (c += C.ek + " " + g + " ");
      c += C.Xl + "\n";
      if (b) {
        c += "#C " + C.bk + " ";
        if (a.sa) {
          if (2 < a.g.h) {
            if (c += C.lb + " " + C.bo + " " + a.yd(m.C), c += " " + C.lb + " " + C.ao + " " + a.yd(m.v), a.gi(m.l.i, m.C) || (c += " " + C.lb + " " + C.fo + " " + a.yd(m.l.i)), a.gi(m.l.h, m.l.i) || (c += " " + C.lb + " " + C.eo + " " + a.yd(m.l.h)), m.H || (c += " " + C.lb + " " + C.ip + " " + a.yd(m.m.i)), m.H || !a.gi(m.m.h, m.m.i)) c += " " + C.lb + " " + C.hp + " " + a.yd(m.m.h);
          } else c += C.lb + " " + C.bo + " " + a.yd(m.u), c += " " + C.lb + " " + C.ao + " " + a.yd(m.i.h), a.gi(m.i.h, m.i.i) || (c += " " + C.lb + " " + C.gp + " " + a.yd(m.i.i)), a.gi(m.h.i, m.u) || (c += " " + C.lb + " " + C.fo + " " + a.yd(m.h.i)), a.gi(m.h.h, m.h.i) || (c += " " + C.lb + " " + C.eo + " " + a.yd(m.h.h));
          c += " " + C.Xl + "\n#C " + C.bk + " ";
        }
        c += C.zj + " " + m.name + " ";
        a.la !== a.fm && (c += C.qn + " " + a.la + " ");
        a.Rg !== a.Uw && (c += C.zo + " " + a.Rg + " ");
        c += C.po + " " + a.displayWidth + " ";
        c += C.pn + " " + a.displayHeight + " ";
        c += C.Xl + "\n";
      }
      a.ye(a, c);
    };
    ea.prototype.yx = function (a) {
      a.element.innerHTML = a.g.rg(a, a.g, true, a.g.h, a.g.h, [], false);
      a.element.value = a.element.innerHTML;
    };
    ea.prototype.vB = function (a, b) {
      if (a.Sd.locked || a.cj || window.confirm("Open clipboard?")) a.element.innerHTML = b, a.element.value = a.element.innerHTML, ub(a.element);
    };
    ea.prototype.Nj = function (a) {
      Ca.vb ? a.ye(a, Aa.ke[a.Ga].pattern) : a.ye(a, Bb(a.element));
    };
    ea.prototype.to = function (a, b) {
      a.ye(a, a.g.rg(a, a.g, b, a.g.h, a.g.h, [], false));
    };
    ea.prototype.Ow = function (a, b) {
      var c = b.charCode || b.keyCode;
      if (a.Yg ? Ob.kF(a, c, b) : a.nb ? Ob.lF(a, c, b) : -1 !== a.Kb ? Ob.jF(a, c, b) : Ob.iF(a, c, b)) a.D.ue(true), b.preventDefault(), b.stopPropagation();
    };
    ea.prototype.pF = function () {
      this.g.H || this.g.l ? (this.Af.setPosition(da.Db, -85, -130), this.pf.setPosition(da.Db, -130, -130), this.g.H ? (this.xc.setPosition(da.Db, -175, -130), this.xc.S = "random fill [Shift 5]", this.$d.setPosition(da.Db, -280, -130)) : (this.xc.setPosition(da.Db, -220, -130), this.xc.S = "random multi-state fill [Shift 5]", this.vh.setPosition(da.Db, -175, -130), this.$d.setPosition(da.Db, -325, -130))) : 2 >= this.g.h ? (this.Af.setPosition(da.Db, -40, -130), this.pf.setPosition(da.Db, -85, -130), this.xc.setPosition(da.Db, -130, -130), this.xc.S = "random fill [Shift 5]", this.$d.setPosition(da.Db, -235, -130)) : (this.Af.setPosition(da.Db, -40, -130), this.pf.setPosition(da.Db, -85, -130), this.g.i ? (this.xc.setPosition(da.Db, -130, -130), this.xc.S = "random multi-state fill [Shift 5]", this.$d.setPosition(da.Db, -235, -130)) : (this.xc.setPosition(da.Db, -175, -130), this.xc.S = "random multi-state fill [Shift 5]", this.vh.setPosition(da.Db, -130, -130), this.$d.setPosition(da.Db, -280, -130)));
    };
    ea.prototype.AA = function () {
      var a = !(this.g.fa || this.g.l || this.g.A || this.g.s);
      if (this.displayHeight < G.Zj) {
        var b = 50;
        this.Ok.setPosition(da.bd, 10, b);
        this.Qk.setPosition(da.Ua, 0, b);
        this.Mk.setPosition(da.lc, -160, b);
        b += 50;
        a ? (this.Sk.setPosition(da.bd, 10, b), this.Sh.setPosition(da.Ua, 0, b), this.Qh.setPosition(da.lc, -160, b), 0 < this.m.A() ? (this.ih.setPosition(da.bd, 10, 150), this.Rh.setPosition(da.lc, -160, 150)) : this.ih.setPosition(da.Ua, 0, 150)) : (this.Sh.setPosition(da.bd, 10, b), this.Qh.setPosition(da.Ua, 0, b), this.ih.setPosition(da.lc, -160, b), 0 < this.m.A() && this.Rh.setPosition(da.Ua, 0, b + 50));
      } else b = 0 < this.m.A() ? -175 : -150, this.Ok.setPosition(da.Za, 0, b), b += 50, this.Qk.setPosition(da.Za, 0, b), b += 50, this.Mk.setPosition(da.Za, 0, b), b += 50, a && (this.Sk.setPosition(da.Za, 0, b), b += 50), this.Sh.setPosition(da.Za, 0, b), b += 50, this.Qh.setPosition(da.Za, 0, b), b += 50, this.ih.setPosition(da.Za, 0, b), this.Rh.setPosition(da.Za, 0, b + 50);
    };
    ea.prototype.Jy = function () {
      var a = "white", b = "black", c = "rgb(0,240,32)", d = "blue", f = "grey", e = "white";
      var k = this.oa[G.Gp];
      -1 !== k ? (a = "rgb(" + (k >> 16) + "," + (k >> 8 & 255) + "," + (k & 255) + ")", this.l.o = true) : (this.l.o = true, k = 16777215);
      this.l.O = this.g.zc ? -16777216 | (k & 255) << 16 | (k >> 8 & 255) << 8 | k >> 16 : k >> 16 << 24 | (k >> 8 & 255) << 16 | (k & 255) << 8 | 255;
      k = this.oa[G.Dp];
      -1 !== k ? this.l.o = true : (this.l.o = true, k = 7368816);
      this.l.L = this.g.zc ? -16777216 | (k & 255) << 16 | (k >> 8 & 255) << 8 | k >> 16 : k >> 16 << 24 | (k >> 8 & 255) << 16 | (k & 255) << 8 | 255;
      k = this.oa[G.Ep];
      -1 !== k ? b = "rgb(" + (k >> 16) + "," + (k >> 8 & 255) + "," + (k & 255) + ")" : k = 0;
      this.rp = k;
      this.l.R = this.g.zc ? -16777216 | (k & 255) << 16 | (k >> 8 & 255) << 8 | k >> 16 : k >> 16 << 24 | (k >> 8 & 255) << 16 | (k & 255) << 8 | 255;
      k = this.oa[G.Hp];
      -1 !== k && (c = "rgb(" + (k >> 16) + "," + (k >> 8 & 255) + "," + (k & 255) + ")");
      k = this.oa[G.Jp];
      -1 !== k && (d = "rgb(" + (k >> 16) + "," + (k >> 8 & 255) + "," + (k & 255) + ")");
      k = this.oa[G.Ip];
      -1 !== k ? f = "rgb(" + (k >> 16) + "," + (k >> 8 & 255) + "," + (k & 255) + ")" : k = 8421504;
      this.l.M = this.g.zc ? -16777216 | (k & 255) << 16 | (k >> 8 & 255) << 8 | k >> 16 : k >> 16 << 24 | (k >> 8 & 255) << 16 | (k & 255) << 8 | 255;
      k = this.oa[G.Fp];
      -1 !== k && (e = "rgb(" + (k >> 16) + "," + (k >> 8 & 255) + "," + (k & 255) + ")");
      this.D.Pb(a, b, c, d, f, e, this.Ih);
      this.bh.oc = "red";
    };
    ea.prototype.AB = function () {
      var a, b = 0;
      this.ph = 10;
      this.h = this.D.Zb(this.qG, this.kw, this);
      this.h.O = this.WA;
      this.h.la = this.pB;
      this.D.ma = this.hB;
      this.Fe = this.h.l(da.Ua, 0, 52, 480, 48, "Banner");
      this.Fe.Qb("32px Arial");
      this.Wk = this.h.l(da.Ua, -160, 140, 160, 32, "Cells");
      this.Tq = this.h.l(da.Ua, -160, 180, 160, 32, "Bounding Box");
      this.Xq = this.h.l(da.Ua, -160, 240, 160, 32, "Direction");
      this.ar = this.h.l(da.Ua, -160, 280, 160, 32, "Period");
      this.cr = this.h.l(da.Ua, -160, 320, 160, 32, "Slope");
      this.er = this.h.l(da.Ua, -160, 360, 160, 32, "Speed");
      this.Zq = this.h.l(da.Ua, -160, 400, 160, 32, "Heat");
      this.ir = this.h.l(da.Ua, -160, 440, 160, 32, "Volatility");
      this.Xh = this.h.l(da.Ua, -160, 460, 160, 32, "Mod");
      this.Rq = this.h.l(da.Ua, -160, 500, 160, 32, "Active Cells");
      this.gr = this.h.l(da.Ua, -160, 540, 160, 32, "Temperature");
      this.Wh = this.h.l(da.Ua, 80, 140, 320, 32, "");
      this.Xm = this.h.l(da.Ua, 80, 180, 320, 32, "");
      this.Zm = this.h.l(da.Ua, 80, 220, 320, 32, "");
      this.$m = this.h.l(da.Ua, 80, 260, 320, 32, "");
      this.bn = this.h.l(da.Ua, 80, 300, 320, 32, "");
      this.$k = this.h.l(da.Ua, 80, 340, 320, 32, "");
      this.Yk = this.h.l(da.Ua, 80, 380, 320, 32, "");
      this.km = this.h.l(da.Ua, 80, 420, 320, 32, "");
      this.Yh = this.h.l(da.Ua, 80, 460, 320, 32, "");
      this.Uk = this.h.l(da.Ua, 80, 500, 320, 32, "");
      this.bl = this.h.l(da.Ua, 80, 540, 320, 32, "");
      this.ll = this.h.l(da.bd, 0, 40, 16, 20, "X");
      this.ll.Qb(G.fg);
      this.ll.V = da.ne;
      this.nl = this.h.l(da.bd, 70, 40, 16, 20, "Y");
      this.nl.Qb(G.fg);
      this.nl.V = da.ne;
      this.il = this.h.l(da.bd, 140, 40, 16, 20, "A");
      this.il.Qb(G.fg);
      this.il.V = da.ne;
      this.Gg = this.h.l(da.bd, 16, 40, 54, 20, "");
      this.Gg.Qb(G.fg);
      this.Gg.l = da.right;
      this.Gg.S = "camera X position";
      this.Hg = this.h.l(da.bd, 86, 40, 54, 20, "");
      this.Hg.Qb(G.fg);
      this.Hg.l = da.right;
      this.Hg.S = "camera Y position";
      this.jh = this.h.l(da.bd, 156, 40, 40, 20, "");
      this.jh.Qb(G.fg);
      this.jh.l = da.right;
      this.jh.S = "camera angle";
      this.kr = this.h.l(da.bd, 196, 40, 4, 20, "");
      this.cn = this.h.l(da.lc, -280, 40, 20, 20, "E");
      this.cn.Qb(G.fg);
      this.fn = this.h.l(da.lc, -210, 40, 20, 20, "S");
      this.fn.Qb(G.fg);
      this.ln = this.h.l(da.lc, -140, 40, 20, 20, "W");
      this.ln.Qb(G.fg);
      this.dn = this.h.l(da.lc, -70, 40, 20, 20, "N");
      this.dn.Qb(G.fg);
      this.Cg = this.h.l(da.lc, -260, 40, 50, 20, "");
      this.Cg.Qb(G.fg);
      this.Cg.l = da.right;
      this.Cg.S = "bounding box east edge velocity";
      this.Eg = this.h.l(da.lc, -190, 40, 50, 20, "");
      this.Eg.Qb(G.fg);
      this.Eg.l = da.right;
      this.Eg.S = "bounding box south edge velocity";
      this.Fg = this.h.l(da.lc, -120, 40, 50, 20, "");
      this.Fg.Qb(G.fg);
      this.Fg.l = da.right;
      this.Fg.S = "bounding box west edge velocity";
      this.Dg = this.h.l(da.lc, -50, 40, 50, 20, "");
      this.Dg.Qb(G.fg);
      this.Dg.l = da.right;
      this.Dg.S = "bounding box north edge velocity";
      this.Xg = this.h.m(this.zB, da.lc, -210, 0, 38, 20, ["START"], [false], da.vb);
      this.Xg.Qb(G.uq);
      this.Xg.S = ["autostart [" + this.C + " O]"];
      this.lg = this.h.m(this.GB, da.lc, -210, 20, 38, 20, ["STOP"], [false], da.vb);
      this.lg.Qb(G.uq);
      this.lg.S = ["stop [" + this.C + " P]"];
      this.Nc = this.h.m(this.br, da.lc, -172, 0, 38, 20, ["WAYPT"], [false], da.vb);
      this.Nc.Qb(G.uq);
      this.Nc.S = ["toggle waypoint mode [W]"];
      this.sf = this.h.m(this.CB, da.lc, -172, 20, 38, 20, ["LOOP"], [false], da.vb);
      this.sf.Qb(G.uq);
      this.sf.S = ["toggle loop mode [Shift P]"];
      this.wa = this.h.m(this.se, da.bd, 90, 0, 120, 40, ["", "", ""], G.ti, da.yj);
      this.wa.h = [this.l.h("draw"), this.l.h("select"), this.l.h("pan")];
      this.wa.S = ["draw [F2]", "select [F4]", "pan [F5]"];
      this.ld = this.h.m(this.$A, da.lc, -80, 100, 80, 60, ["1", "2"], 0, da.yj);
      this.ld.orientation = da.vertical;
      this.ld.S = ["", ""];
      this.ld.Qb("14px Arial");
      this.ow = this.h.i(this.ZB, da.lc, -110, 40, 60, "OK");
      this.ow.S = "confirm setting disabled and hide warning";
      this.md = this.h.m(this.df, da.lc, -40, 0, 40, 40, ["Help"], [false], da.vb);
      this.md.S = ["toggle help display [H]"];
      this.md.Qb("16px Arial");
      this.qp = this.h.i(this.QD, da.lc, -40, 50, 40, "^");
      this.qp.S = "show help topics [Backspace]";
      this.Am = this.h.i(this.zG, da.lc, -40, 100, 40, "<");
      this.Am.S = "show help sections [Ins]";
      this.Ok = this.h.i(this.fB, da.Ua, 0, 50, 150, "Keys");
      this.Ok.S = "show keyboard shortcuts [K]";
      this.Qk = this.h.i(this.vG, da.Ua, 0, 100, 150, "Scripts");
      this.Qk.S = "show script commands [S]";
      this.Mk = this.h.i(this.MG, da.Ua, 0, 150, 150, "Info");
      this.Mk.S = "show pattern and engine information [I]";
      this.Sk = this.h.i(this.wB, da.Ua, 0, 200, 150, "Themes");
      this.Sk.S = "show colour Themes [T]";
      this.Sh = this.h.i(this.eF, da.Ua, 0, 250, 150, "Colours");
      this.Sh.S = "show colour names [C]";
      this.Qh = this.h.i(this.jC, da.Ua, 0, 300, 150, "Aliases");
      this.Qh.S = "show rule aliases [A]";
      this.ih = this.h.i(this.yB, da.Ua, 0, 350, 150, "Memory");
      this.ih.S = "show memory usage [Y]";
      this.Rh = this.h.i(this.nC, da.Ua, 0, 350, 150, "Annotations");
      this.Rh.S = "show annotations [N]";
      this.Vd = this.h.m(this.Yz, da.bd, 0, 0, 40, 40, ["Auto"], [false], da.vb);
      this.Vd.h = [this.l.h("autofit")];
      this.Vd.S = ["toggle autofit [Shift F]"];
      this.Vd.Qb("16px Arial");
      this.kf = this.h.i(this.OD, da.bd, 45, 0, 40, "");
      this.kf.h = this.l.h("fit");
      this.kf.S = "fit pattern to display [F]";
      this.kd = this.h.m(this.sj, da.lc, -85, 0, 40, 40, ["Grid"], [false], da.vb);
      this.kd.h = [this.l.h("grid")];
      this.kd.S = ["toggle gridlines [X]"];
      this.kd.Qb("16px Arial");
      this.yf = this.h.Ba(da.wg);
      this.yf.locked = true;
      this.lf = this.h.l(da.wg, 0, -130, 42, 30, "Gen");
      this.lf.l = da.left;
      this.lf.Qb(G.gg);
      this.lf.S = "generation";
      this.jd = this.h.l(da.wg, 42, -130, 98, 30, "");
      this.jd.l = da.right;
      this.jd.Qb(G.gg);
      this.jd.S = "generation";
      this.rj = this.h.l(da.wg, 0, -100, 70, 30, "Time");
      this.rj.l = da.left;
      this.rj.Qb(G.gg);
      this.rj.S = "elapsed time";
      this.hf = this.h.l(da.wg, 70, -100, 70, 30, "");
      this.hf.l = da.right;
      this.hf.Qb(G.gg);
      this.hf.S = "elapsed time";
      this.fe = this.h.l(da.wg, 210, -70, 130, 30, "");
      this.fe.l = da.left;
      this.fe.Qb(G.gg);
      this.fe.S = "selection size";
      this.kb = this.h.l(da.wg, 0, -70, 210, 30, "");
      this.kb.l = da.left;
      this.kb.Qb(G.gg);
      this.kb.S = "cell state at cursor position";
      this.mb = this.h.m(this.vp, da.wg, 0, -40, 100, 40, ["T 0"], [this.kg], da.vb);
      this.mb.S = ["toggle generation statistics [G]\ngeneration " + (this.g.counter + this.Ia)];
      this.yc = this.h.l(da.wg, 0, -40, this.displayWidth - 40, 40, "");
      this.yc.l = da.left;
      this.yc.I = true;
      this.Re = this.h.l(da.Db, -70, -130, 70, 30, "Alive");
      this.Re.l = da.left;
      this.Re.Qb(G.gg);
      this.Re.S = "current population";
      this.Ld = this.h.l(da.Db, -140, -130, 70, 30, "");
      this.Ld.l = da.right;
      this.Ld.Qb(G.gg);
      this.Ld.S = "alive";
      this.Rc = this.h.l(da.Db, -70, -100, 70, 30, "Births");
      this.Rc.l = da.left;
      this.Rc.Qb(G.gg);
      this.Rc.S = "cells born this generation";
      this.fd = this.h.l(da.Db, -140, -100, 70, 30, "");
      this.fd.l = da.right;
      this.fd.Qb(G.gg);
      this.fd.S = "births";
      this.Ae = this.h.l(da.Db, -70, -70, 70, 30, "Deaths");
      this.Ae.l = da.left;
      this.Ae.Qb(G.gg);
      this.Ae.S = "cells died this generation";
      this.Be = this.h.l(da.Db, -140, -70, 70, 30, "");
      this.Be.l = da.right;
      this.Be.Qb(G.gg);
      this.Be.S = "deaths";
      this.be = this.h.l(da.wg, 0, -160, 140, 30, this.T);
      this.be.Qb(G.gg);
      this.ac = this.h.H(this.Td, da.Ua, 0, 0, G.op, 40, 0, 1, 0.1, "Zoom ", "", 1);
      this.ac.S = "camera zoom [[ / ]]";
      this.eb = this.h.H(this.Pl, da.Np, -84, 0, 40, 292, G.Tp, G.aq, 1, "Layers ", "", 0);
      this.eb.S = "number of layers [Q / A]";
      this.Ha = this.h.H(this.ff, da.Np, -40, 0, 40, 292, 1, 0, 0.1, "Depth ", "", 2);
      this.Ha.S = "depth between layers [P / L]";
      this.$a = this.h.H(this.vj, da.nw, 0, 0, 40, 292, 0, 1, 0.5, "Tilt ", "", 1);
      this.$a.S = "camera tilt [' / /]";
      this.na = this.h.H(this.rg, da.Ua, 0, 50, 390, 40, 0, 359, 0, "Angle ", "°", 0);
      this.na.S = "camera angle [< / >]";
      this.el = this.h.i(this.VA, da.Db, -40, -90, 40, "");
      this.el.h = this.l.h("shrink");
      this.el.S = "shrink to thumbnail [N]";
      this.Sm = this.h.l(da.Ua, 0, 100, 120, 40, "");
      this.Dd = this.h.m(this.nr, da.Za, -100, -100, 180, 40, ["Use Rectangles"], [this.g.va], da.vb);
      this.Dd.S = ["toggle hexagonal cells [?]"];
      this.li = this.h.m(this.Cw, da.Za, 100, -100, 180, 40, ["Cell Borders"], [this.g.Va], da.vb);
      this.li.S = ["toggle cell borders [" + this.C + " B]"];
      this.Fd = this.h.m(this.Rw, da.Za, -100, -50, 180, 40, ["Major GridLines"], [this.g.Rc], da.vb);
      this.Fd.S = ["toggle major gridlines [Shift X]"];
      this.kj = this.h.m(this.Zw, da.Za, 100, -50, 180, 40, ["Starfield"], [this.rd], da.vb);
      this.kj.S = ["toggle starfield display [S]"];
      this.qf = this.h.m(this.Pw, da.Za, -100, 0, 180, 40, ["Annotations"], [this.ge], da.vb);
      this.qf.S = ["toggle annotations [" + this.C + " L]"];
      this.uh = this.h.m(this.ur, da.Za, 100, 0, 180, 40, ["Rainbow"], [this.g.Vb], da.vb);
      this.uh.S = ["toggle rainbow mode [" + this.C + " W]"];
      this.ji = this.h.m(this.KA, da.Za, -100, 50, 180, 40, ["Auto GridLines"], [this.ed], da.vb);
      this.ji.S = ["automatically turn on gridlines for Draw and Select and off for Pan [" + this.u + " G]"];
      this.Ud = this.h.m(this.IA, da.Za, 100, 50, 180, 40, ["Alt GridLines"], [this.g.ad], da.vb);
      this.Ud.S = ["toggle alternating gridlines [" + this.C + " D]"];
      this.mn = this.h.i(this.QA, da.Za, -100, 100, 180, "Integer Zoom");
      this.mn.S = "set zoom to nearest integer [Shift 1]";
      this.Hk = this.h.m(this.Tw, da.Za, 100, 100, 180, 40, ["Render Quality"], [this.g.Cc], da.vb);
      this.Hk.S = ["toggle anti-aliased cell display [" + this.u + " Q]"];
      this.Rm = this.h.i(this.JA, da.Za, -100, -50, 180, "Go To Gen");
      this.Rm.S = "go to specified generation [Shift N]";
      this.Uh = this.h.m(this.Lw, da.Za, 100, -50, 180, 40, ["AutoFit History"], [this.od], da.vb);
      this.Uh.S = ["toggle AutoFit History [Shift H]"];
      this.mg = this.h.m(this.$q, da.Za, -100, 0, 180, 40, ["Throttle"], [this.zf], da.vb);
      this.mg.S = ["toggle playback throttling [" + this.C + " T]"];
      this.Uf = this.h.m(this.Uq, da.Za, 100, 0, 180, 40, ["Perf. Warning"], [this.Jd], da.vb);
      this.Uf.S = ["toggle performance warning display [Shift W]"];
      this.Ge = this.h.m(this.dB, da.Za, -100, 50, 180, 40, ["Kill Gliders"], [this.g.hd], da.vb);
      this.Ge.S = ["toggle kill escaping gliders [" + this.u + " L]"];
      this.ki = this.h.m(this.zw, da.Za, 100, 50, 180, 40, ["AutoHide UI"], [this.nd], da.vb);
      this.ki.S = ["toggle hide UI on playback [" + this.C + " U]"];
      this.zt = this.h.i(this.gF, da.Za, -100, -100, 180, "Change Rule");
      this.zt.S = "change rule [" + this.C + " R]";
      this.Br = this.h.i(this.BB, da.Za, 100, -100, 180, "New Pattern");
      this.Br.S = "new pattern [" + this.C + " N]";
      this.zr = this.h.i(this.rB, da.Za, -100, -50, 180, "Load Pattern");
      this.zr.S = "load last saved pattern [" + this.u + " O]";
      this.nk = this.h.i(this.Cx, da.Za, 100, -50, 180, "Save Pattern");
      this.nk.S = "save pattern [" + this.u + " S]";
      this.Pk = this.h.i(this.tD, da.Za, -100, 0, 180, "Rand All");
      this.Pk.S = "randomize pattern and rule [" + this.C + " Z]";
      this.Tk = this.h.i(this.mD, da.Za, 100, 0, 180, "Rand Pattern");
      this.Tk.S = "randomize pattern and keep rule [" + this.u + " " + this.C + " Z]";
      this.Vh = this.h.i(this.an, da.Za, -100, 50, 180, "Identify");
      this.Vh.S = "identify oscillator or spaceship period [F6]";
      this.bm = this.h.i(this.jB, da.Za, 100, 50, 180, "Last Identify");
      this.bm.S = "show last identify results [Shift F6]";
      this.bu = this.h.i(this.lG, da.Za, -100, 100, 180, "Save Image");
      this.bu.S = "save image [O]";
      this.St = this.h.i(this.ZF, da.Za, 100, 100, 180, "Save Graph");
      this.St.S = "save population graph image [Shift O]";
      this.Gr = this.h.i(this.$w, da.Za, -100, -100, 180, "Open Clipboard");
      this.Gr.S = "open clipboard as pattern [" + this.u + " Shift O]";
      this.Xs = this.h.i(this.TA, da.Za, 100, -100, 180, "Copy Original");
      this.Xs.S = "copy original pattern [" + this.u + " Shift C]";
      this.nm = this.h.i(this.Gy, da.Za, -100, -50, 180, "Copy Rule");
      this.nm.S = "copy rule definition [" + this.u + " J]";
      this.Lj = this.h.i(this.ty, da.Za, 100, -50, 180, "Copy as MAP");
      this.Lj.S = "copy rule definition as MAP [" + this.C + " M]";
      this.vo = this.h.i(this.PA, da.Za, -100, 0, 180, "Copy Nhood");
      this.vo.S = "copy CoordCA neighbourhood definition [" + this.u + " B]";
      this.pm = this.h.i(this.uB, da.Za, 100, 0, 180, "Copy All");
      this.pm.S = "copy current pattern with comments [" + this.u + " " + this.C + " C]";
      this.$s = this.h.i(this.aB, da.Za, -100, 50, 180, "Copy Position");
      this.$s.S = "copy camera position [K]";
      this.dt = this.h.i(this.mB, da.Za, 100, 50, 180, "Copy View");
      this.dt.S = "copy camera position and view [Shift K]";
      this.Fn = this.h.i(this.hC, da.Za, -100, 100, 180, "Paste To Seln");
      this.Fn.S = "paste to selection [" + this.u + " Shift V]";
      this.Dk = this.h.i(this.tC, da.Zl, -135, -100, 120, "Prev");
      this.Dk.S = "go to previous universe [Page Up]";
      this.hm = this.h.i(this.IB, da.Zl, 135, -100, 120, "Next");
      this.hm.S = "go to next universe [Page Down]";
      this.bh = this.h.i(this.lD, da.Db, -40, -85, 40, "X");
      this.bh.S = "close window";
      this.bh.Qb("24px Arial");
      this.bh.oc = "red";
      this.fs = this.h.i(this.RE, da.Db, -40, -85, 40, "X");
      this.fs.S = "close errors [Esc]";
      this.Ck = this.h.i(this.hx, da.nw, 10, 0, 40, "<");
      this.Ck.S = "go to previous POI [Shift J]";
      this.gm = this.h.i(this.Yw, da.Np, -50, 0, 40, ">");
      this.gm.S = "go to next POI [J]";
      this.Ui = this.h.H(this.up, da.Ua, 0, 45, 172, 40, 0, 1, this.Ya, "Opacity ", "%", 0);
      this.Ui.S = "graph opacity [7 / 9]";
      this.Ym = this.h.i(this.Vq, da.lc, -40, 45, 40, "X");
      this.Ym.S = "close results [Esc]";
      this.Ed = this.h.m(this.ng, da.lc, -40, 45, 40, 120, ["Res", "Tbl", "Map"], this.Kd, da.yj);
      this.Ed.S = ["show Identify results [Shift F6]", "toggle cell period table [E]", "toggle cell period map [D]"];
      this.Ed.Qb("15px Arial");
      this.Ed.V = da.ne;
      this.mk = this.h.i(this.yG, da.lc, -40, 45, 40, "");
      this.mk.S = "download cell period map [Shift D]";
      this.mk.h = this.l.h("download");
      this.Li = this.h.i(this.Dw, da.lc, -40, 45, 40, "");
      this.Li.h = this.l.h("nudgeup");
      this.Li.S = "scroll table up [PgUp]";
      this.Zh = this.h.i(this.Bw, da.lc, -40, 45, 40, "");
      this.Zh.h = this.l.h("nudgedown");
      this.Zh.S = "scroll table down [PgDown]";
      this.Pq = this.h.i(this.nF, da.lc, -40, 45, 40, "X");
      this.Pq.S = "close graph [Y]";
      this.Si = this.h.m(this.fA, da.lc, -85, 45, 40, 40, [""], [false], da.vb);
      this.Si.h = [this.l.h("lines")];
      this.Si.S = ["toggle graph lines/points [Shift Y]"];
      this.bc = this.h.m(this.Ml, da.lc, -210, 45, 120, 40, ["Pop", "Bth", "Dth"], [this.hh, this.fh, this.gh], da.vb);
      this.bc.S = ["toggle population [Shift F3]", "toggle births [Shift F4]", "toggle deaths [Shift F5]"];
      this.bc.Qb("15px Arial");
      this.$c = this.h.m(this.qe, da.bd, 0, 45, 40, 40, [""], [this.Zd], da.vb);
      this.$c.h = [this.l.h("pick")];
      this.$c.S = ["pick state [F3]"];
      this.lj = this.h.m(this.Yq, da.bd, 45, 45, 40, 40, [""], [this.Vf], da.vb);
      this.lj.h = [this.l.h("states")];
      this.lj.S = ["toggle states display [" + this.u + " D]"];
      this.wk = this.h.m(this.mA, da.bd, 90, 45, 40, 40, [""], [this.Zi], da.vb);
      this.wk.h = [this.l.h("drawpause")];
      this.wk.S = ["toggle pause playback while drawing [" + this.u + " P]"];
      this.jj = this.h.m(this.Wq, da.bd, 135, 45, 40, 40, [""], [this.zh], da.vb);
      this.jj.h = [this.l.h("smart")];
      this.jj.S = ["toggle smart drawing [Shift F2]"];
      this.ja = this.h.m(this.ef, da.Db, -40, -40, 40, 40, [""], [false], da.vb);
      this.ja.h = [this.l.h("menu")];
      this.ja.S = ["toggle settings menu [M]"];
      this.uk = this.h.i(this.lC, da.Za, -100, -75, 150, "Pattern");
      this.uk.S = "pattern actions";
      this.oo = this.h.i(this.FE, da.Za, 100, -75, 150, "Clipboard");
      this.oo.S = "clipboard actions";
      this.td = this.h.i(this.sB, da.Za, -100, 75, 150, "Theme");
      this.td.S = "choose colour theme";
      this.Ee = this.h.m(this.tp, da.Za, 100, 75, 150, 40, ["Graph"], [this.Fa], da.vb);
      this.Ee.S = ["toggle population graph display [Y]"];
      this.Qj = this.h.i(this.NB, da.Za, -100, -25, 150, "Display");
      this.Qj.S = "display settings";
      this.Mn = this.h.i(this.pC, da.Za, 100, -25, 150, "Playback");
      this.Mn.S = "playback settings and actions";
      this.Hr = this.h.i(this.UB, da.Za, -100, 25, 150, "General");
      this.Hr.S = "general actions";
      this.Nm = this.h.i(this.$D, da.Za, -100, -50, 180, "Fit Selection");
      this.Nm.S = "fit selection to display [" + this.u + " F]";
      this.Vn = this.h.i(this.UC, da.Za, 100, -50, 180, "Center Pattern");
      this.Vn.S = "center pattern [" + this.u + " M]";
      this.mo = this.h.i(this.ZC, da.Za, -100, 0, 180, "Clear Drawing");
      this.mo.S = "clear drawing state cells [" + this.u + " " + this.C + " K]";
      this.jl = this.h.i(this.iz, da.Za, 100, 0, 180, "Snap Angle");
      this.jl.S = "snap angle to nearest 45 degrees [" + this.C + " /]";
      this.qm = this.h.i(this.pG, da.Za, -100, 50, 180, "Save View");
      this.qm.S = "save current view [Shift V]";
      this.wo = this.h.i(this.UE, da.Za, 100, 50, 180, "Restore View");
      this.wo.S = "restore saved view [V]";
      this.pl = this.h.i(this.IG, da.Za, 100, 25, 150, "Advanced");
      this.pl.S = "advanced settings and actions";
      this.Ii = this.h.m(this.Fh, da.Za, -100, -100, 180, 40, ["Frame Times"], [this.D.H], da.vb);
      this.Ii.S = ["toggle timing display [T]"];
      this.Fl = this.h.m(this.Ar, da.Za, 100, -100, 180, 40, ["Timing Details"], [this.D.C], da.vb);
      this.Fl.S = ["toggle timing details [Shift T]"];
      this.fj = this.h.m(this.Xw, da.Za, -100, -50, 180, 40, ["Relative Gen"], [this.De], da.vb);
      this.fj.S = ["toggle absolute/relative generation display [Shift G]"];
      this.uo = this.h.i(this.qE, da.Za, 100, -50, 180, "Reset All");
      this.uo.S = "reset all Viewers [Shift R]";
      this.Im = this.h.i(this.gB, da.Za, -100, 0, 180, "Stop All");
      this.Im.S = "stop all Viewers [Shift Z]";
      this.Km = this.h.i(this.kB, da.Za, 100, 0, 180, "Stop Others");
      this.Km.S = "stop other Viewers [Z]";
      this.Mi = this.h.m(this.Nw, da.Za, -100, 50, 180, 40, ["Info Bar"], [this.Ja], da.vb);
      this.Mi.S = ["toggle Information Bar [Shift I]"];
      this.dh = this.h.m(this.Iw, da.Za, 100, 50, 180, 40, ["Fast Lookup"], [this.g.Zb], da.vb);
      this.dh.S = ["toggle fast lookup [F7]"];
      this.ql = this.h.m(this.ax, da.Za, -100, 100, 180, 40, ["State Number"], [this.bg], da.vb);
      this.ql.S = ["toggle state number display [F8]"];
      this.xj = this.h.m(this.ex, da.Za, 100, 100, 180, 40, ["Y Direction"], [this.te], da.vb);
      this.xj.S = ["toggle y coordinate direction [F9]"];
      this.zd = this.h.i(this.lk, da.Zl, 0, -100, 120, "Back");
      this.zd.S = "back to previous menu [Backspace]";
      this.mi = this.h.i(this.DC, da.Zl, 0, -100, 120, "Cancel");
      this.mi.S = "cancel operation [Esc]";
      this.mi.L = true;
      var c = -1;
      for (a = 0; a <= this.g.ib; a += 1) {
        var d = G.jp[a];
        var f = G.iG[a];
        f !== c ? (b = 120, c = f) : b += 60;
        this.Ba[a] = this.h.m(null, da.Ua, 140 * f - 210, b, 120, 40, [this.Om(d)], [false], da.vb);
        this.Ba[a].S = ["select " + this.Om(d) + " theme"];
        this.Ba[a].Qb("20px Arial");
      }
      this.Ba[0].qc = this.JB;
      this.Ba[1].qc = this.MB;
      this.Ba[2].qc = this.CC;
      this.Ba[3].qc = this.OA;
      this.Ba[4].qc = this.OC;
      this.Ba[5].qc = this.XC;
      this.Ba[6].qc = this.cD;
      this.Ba[7].qc = this.gD;
      this.Ba[8].qc = this.nD;
      this.Ba[9].qc = this.uD;
      this.Ba[10].qc = this.PB;
      this.Ba[11].qc = this.TB;
      this.Ba[12].qc = this.XB;
      this.Ba[13].qc = this.aC;
      this.Ba[14].qc = this.eC;
      this.Ba[15].qc = this.iC;
      this.Ba[16].qc = this.mC;
      this.Ba[17].qc = this.qC;
      this.Ba[18].qc = this.uC;
      this.Ba[19].qc = this.yC;
      this.Ba[20].qc = this.GC;
      this.Lz = this.h.l(da.Ua, -210, 60, 120, 40, "Default");
      this.qz = this.h.l(da.Ua, -70, 60, 120, 40, "Classic");
      this.Sz = this.h.l(da.Ua, 70, 60, 120, 40, "Program");
      this.xz = this.h.l(da.Ua, 210, 60, 120, 40, "Basic");
      this.ml = this.h.i(this.cB, da.Db, -405, -40, 40, "1x");
      this.ml.S = "set 1x playback speed [0]";
      this.hc = this.h.H(this.Mc, da.Db, -360, -40, 105, 40, 0, 2, 1, "", "", -1);
      this.hc.S = "playback speed [+ / -]";
      this.nj = this.h.l(da.Db, -284, -30, 27, 20, "0");
      this.nj.Qb(G.gg);
      this.nj.I = true;
      this.Sd = this.h.i(this.bE, da.Db, -495, -40, 40, "");
      this.Sd.h = this.l.h("undo");
      this.Sd.S = "undo [" + this.u + " Z]";
      this.wh = this.h.i(this.hE, da.Db, -450, -40, 40, "");
      this.wh.h = this.l.h("redo");
      this.wh.S = "redo [" + this.u + " Y]";
      this.xi = this.h.m(this.lr, da.lc, -130, 0, 40, 40, ["Sync"], [this.Cc], da.vb);
      this.xi.S = ["sync cut and copy with external clipboard [" + this.C + " S]"];
      this.xi.Qb("15px Arial");
      this.$b = this.h.m(this.xd, da.Db, -205, -40, 160, 40, ["", "", "", ""], G.je, da.yj);
      this.$b.h = [this.l.h("tostart"), this.l.h("stepback"), this.l.h("stepforward"), this.l.h("play")];
      this.$b.S = ["reset [R]", "previous generation [Shift Tab]", "next generation [Tab]", "play [Enter]"];
      this.Sa = this.h.m(this.wr, da.lc, -280, 45, 280, 20, "0123456".split(""), this.Qe, da.yj);
      this.Sa.S = "dead;alive;history;mark 1;mark off;mark 2;kill".split(";");
      this.Sa.Qb("14px Arial");
      this.ma = this.h.m(this.lB, da.lc, -280, 65, 280, 20, "      ".split(" "), [false, false, false, false, false, false, false], da.vb);
      this.ma.S = "dead;alive;history;mark 1;mark off;mark 2;kill".split(";");
      this.ma.v = 1;
      this.xl = this.h.i(null, da.bd, 175, 45, 5, "");
      this.xl.v = 0;
      this.xl.locked = true;
      this.xl.border = 0;
      this.vl = this.h.H(this.yr, da.bd, 180, 45, 130, 40, 0, 1, 0, "", "", -1);
      this.vl.S = "select drawing states range";
      this.al = this.h.i(this.ny, da.bd, 0, 45, 40, "All");
      this.al.h = this.l.h("select");
      this.al.S = "select all cells [" + this.u + " A]";
      this.al.Qb("16px Arial");
      this.Wg = this.h.m(this.jr, da.bd, 45, 45, 40, 40, ["Auto"], [this.Wd], da.vb);
      this.Wg.h = [this.l.h("autoshrink")];
      this.Wg.S = ["toggle auto shrink selection [" + this.C + " A]"];
      this.Wg.Qb("16px Arial");
      this.jk = this.h.i(this.ZA, da.bd, 90, 45, 40, "");
      this.jk.h = this.l.h("shrinksel");
      this.jk.S = "shrink selection [Shift A]";
      this.Ne = this.h.m(null, da.bd, 135, 45, 40, 40, [""], [false], da.vb);
      this.Ne.h = [this.l.h("selectlibrary")];
      this.Ne.S = ["toggle clipboard library [Shift B]"];
      this.Jj = this.h.m(this.Ew, da.Ua, 0, 90, 400, 40, "0123456789".split(""), this.mc, da.yj);
      this.Oj();
      this.Id = this.h.m(this.qr, da.lc, -160, 45, 160, 40, ["AND", "CPY", "OR", "XOR"], G.fw[this.Nf], da.yj);
      this.Id.S = ["paste mode [Shift M]", "paste mode [Shift M]", "paste mode [Shift M]", "paste mode [Shift M]"];
      this.Id.Qb("16px Arial");
      this.Pj = this.h.i(this.wz, da.bd, 180, 45, 40, "");
      this.Pj.h = this.l.h("cut");
      this.Pj.S = "cut [" + this.u + " X]";
      this.Mj = this.h.i(this.eB, da.bd, 225, 45, 40, "");
      this.Mj.h = this.l.h("copy");
      this.Mj.S = "copy [" + this.u + " C]";
      this.rk = this.h.i(this.gx, da.bd, 270, 45, 40, "");
      this.rk.h = this.l.h("paste");
      this.rk.S = "paste [" + this.u + " V]";
      this.Ej = this.h.i(this.LA, da.Db, -220, -175, 40, "");
      this.Ej.h = this.l.h("cancelsel");
      this.Ej.S = "cancel selection [" + this.u + " K]";
      this.jm = this.h.i(this.OB, da.Db, -175, -175, 40, "");
      this.jm.h = this.l.h("nudgeleft");
      this.jm.S = "nudge left [" + this.C + " Left]";
      this.pk = this.h.i(this.SB, da.Db, -130, -175, 40, "");
      this.pk.h = this.l.h("nudgeright");
      this.pk.S = "nudge right [" + this.C + " Right]";
      this.qk = this.h.i(this.WB, da.Db, -85, -175, 40, "");
      this.qk.h = this.l.h("nudgeup");
      this.qk.S = "nudge up [" + this.C + " Up]";
      this.im = this.h.i(this.LB, da.Db, -40, -175, 40, "");
      this.im.h = this.l.h("nudgedown");
      this.im.S = "nudge down [" + this.C + " Down]";
      this.Gk = this.h.i(this.zA, da.Db, -265, -85, 40, "");
      this.Gk.h = this.l.h("flipx");
      this.Gk.S = "flip horizontally [" + this.C + " X]";
      this.Ik = this.h.i(this.CA, da.Db, -220, -85, 40, "");
      this.Ik.h = this.l.h("flipy");
      this.Ik.S = "flip vertically [" + this.C + " Y]";
      this.Zk = this.h.i(this.qx, da.Db, -175, -85, 40, "");
      this.Zk.h = this.l.h("rotatecw");
      this.Zk.S = "rotate clockwise [>]";
      this.Xk = this.h.i(this.ox, da.Db, -130, -85, 40, "");
      this.Xk.h = this.l.h("rotateccw");
      this.Xk.S = "rotate counter-clockwise [<]";
      this.Ij = this.h.i(this.wE, da.Db, -85, -85, 40, "");
      this.Ij.h = this.l.h("inside");
      this.Ij.S = "clear cells in selection [Del]";
      this.Hj = this.h.i(this.rD, da.Db, -40, -85, 40, "");
      this.Hj.h = this.l.h("outside");
      this.Hj.S = "clear cells outside selection [Shift Del]";
      this.Bf = this.h.i(this.kE, da.Db, -40, -130, 40, "R");
      this.Bf.h = this.l.h("select");
      this.Bf.S = "clear History cells [" + this.u + " Del]";
      this.Bf.Qb("16px Arial");
      this.Af = this.h.i(this.ww, da.Db, -40, -130, 40, "");
      this.Af.h = this.l.h("changestate");
      this.Af.S = "change cells to drawing state [" + this.C + " K]";
      this.pf = this.h.i(this.Fw, da.Db, -85, -130, 40, "");
      this.pf.h = this.l.h("invertselection");
      this.pf.S = "invert cells in selection [" + this.u + " I]";
      this.xc = this.h.i(this.WC, da.Db, -130, -130, 40, "");
      this.xc.h = this.l.h("random");
      this.xc.S = "random fill [Shift 5]";
      this.vh = this.h.i(this.NA, da.Db, -175, -130, 40, "2");
      this.vh.h = this.l.h("random");
      this.vh.S = "random 2-state fill [" + this.u + " Shift 5]";
      this.$d = this.h.H(this.Vw, da.Db, -275, -130, 100, 40, 1, 100, this.Ib, "", "%", 0);
      this.$d.S = "random fill density";
      this.sh = this.h.H(this.sr, da.lc, -265, 45, 100, 40, 0, G.vz - 1, this.uc, "", "", -1);
      this.sh.S = "paste location [Shift L]";
      this.sh.Qb("16px Arial");
      this.Ci = this.h.i(this.gw, da.Db, -250, -40, 40, "");
      this.Ci.h = this.l.h("uturn");
      this.Ci.S = "reverse playback direction [U]";
      this.Ne.da([this.Jj]);
      this.ja.da([this.Sm, this.eb, this.Ha, this.na, this.$a, this.zd, this.td, this.uk, this.oo, this.pl, this.Qj, this.Mn, this.mg, this.Uf, this.el, this.bh, this.ki, this.ji, this.Ud, this.mn, this.Vn, this.Dd, this.li, this.qf, this.Ge, this.Ee, this.Ii, this.mo, this.Fl, this.Mi, this.kj, this.uo, this.Im, this.Km, this.jl, this.Uh, this.Fd, this.Dk, this.hm, this.Hr, this.qm, this.wo, this.bm]);
      this.mb.da([this.Re, this.Ld, this.Rc, this.fd, this.Ae, this.Be, this.lf, this.jd, this.rj, this.hf, this.be]);
      this.md.da([this.ld, this.qp, this.Am]);
    };
    ea.prototype.vC = function (a) {
      var b = this, c = 0, d = 0;
      this.bb = a;
      this.bb.getContext && (c = this.bb.width, d = this.bb.height, c !== this.Jc && Ca.Oo && (c = this.Jc), c < G.Xc && (c = G.Xc), d < G.Ug && (d = G.Ug), c &= -8, this.bb.width !== c && (this.bb.width = c), this.bb.height !== d && (this.bb.height = d), this.Ta = this.bb.getContext("2d", {alpha: false}), this.Ta.globalAlpha = 1, this.Ta.fillStyle = "black", this.Ta.imageSmoothingEnabled = false, this.Ta.imageSmoothingQuality = "low", this.Ta.fillRect(0, 0, this.bb.width, this.bb.height), this.Ta.textAlign = "left", this.Ta.textBaseline = "middle", this.displayWidth = this.bb.width, this.displayHeight = this.bb.height, this.g = new ra(this.Ta, this.displayWidth, this.displayHeight, 512, 256, this.U, this), this.g.ko(this.Ta, this.displayWidth, this.displayHeight), this.Ce = this.g.N.h(oa.Yc, G.uz, "View.elapsedTimes"), this.Pd = new Pb(G.hq, this.g.N), this.xB(this.Ta), this.D = new Ja(this.bb, this.Ta, "24px Arial", this.l, this, this.fF), this.D.H = false, this.g.sk(), this.AB(), Ia(this.bb, "wheel", function (f) {
        b.tB(b, f);
      }, false), this.D.notification.T = true, this.D.Sb(this.h), this.Ad ? (Ia(Aa.Pn.l, "keydown", function (f) {
        b.Ow(b, f);
      }, false), Aa.Pn.D = this.D) : Ia(this.bb, "keydown", function (f) {
        b.Ow(b, f);
      }, false));
    };
    ea.prototype.Om = function (a) {
      var b = this.g.la, c = "";
      a |= 0;
      a < b.length && (c = b[a].name);
      return c;
    };
    ea.prototype.oB = function (a) {
      var b = false, c = this.g.la, d = 0;
      for (a = a.toLowerCase(); d < c.length - 1 && !b;) c[d].name.toLowerCase() === a ? b = true : d += 1;
      b || (d = -1);
      return d;
    };
    ea.prototype.mG = function (a) {
      var b = this.m.C();
      b.bf || (b.x = this.g.width / 2 - this.g.ea);
      b.Le || (b.y = this.g.height / 2 - this.g.da);
      b.de || (b.zoom = this.g.zoom);
      b.ig || (b.angle = this.g.angle);
      b.yg || (b.Gb = this.g.Gb);
      b.Qg || (b.Aa = this.g.Aa);
      b.Lg || (b.depth = this.g.Ub);
      b.Ue || (b.Pc = this.fa);
      b.ve || (b.step = this.Y);
      b.pe || (b.Dc = this.g.Lb);
      this.m.Qa(a, this);
    };
    ea.prototype.gE = function (a) {
      var b = a, c = this.Ta, d = a.length;
      c.font = (18 * this.h.C | 0) + "px " + G.jw;
      var f = c.measureText(a).width;
      if (500 < f) {
        --d;
        for (f = c.measureText(a.substring(0, d) + "...").width; 500 < f;) --d, f = c.measureText(a.substring(0, d) + "...").width;
        b = b.substring(0, d) + "...";
      }
      return b;
    };
    ea.prototype.PD = function (a, b) {
      Kb.cF(this, a, b);
    };
    ea.prototype.NE = function () {
      this.Ov = this.Gm = false;
      this.$u = this.g.Vb = false;
      this.Kb = -1;
      this.Lo = this.Jm = false;
      this.g.T = 1 << G.eD;
      this.ah = this.Qm = -1;
      this.La = false;
      this.Nk = this.Rk = this.et = this.bi = this.Dr = this.Bn = this.D.aa = false;
      this.g.Ba = 0;
      this.g.pa = 0;
      this.g.Ga = 1;
      this.Ja = this.Ln = this.ea = false;
      this.Tc = this.Uc = this.O = null;
      this.Hh = G.Hh;
      this.ze = null;
      this.Ih = G.Ih;
      this.g.md = this.g.Ml;
      this.g.ld = this.g.Jl;
      this.g.kd = this.g.Fl;
      this.g.nd = this.g.Pl;
      this.g.od = this.g.Ln;
      this.sc = this.Pb = this.Tm = false;
      this.jc = -1;
      this.Lb = false;
      this.Mb = -1;
      this.kg = this.Nb = this.Dh = this.hb = this.Bh = this.Ca = this.ib = this.va = false;
      this.la = this.fm = 2 < this.g.h ? 63 < 256 - this.g.h ? 63 : 256 - this.g.h : 63;
      this.Rg = this.Uw;
      this.cb = false;
      this.g.hd = false;
      this.g.Vf = 0;
    };
    ea.prototype.tw = function () {
      this.ci ? (Lb(this.element), this.D.o = false) : (this.displayWidth = this.pj, this.displayHeight = this.Jq, this.ea ? (this.ga = false, this.ub(true, false, G.xf)) : this.g.zoom = this.Oq, this.ac && (this.ac.current = this.Td([this.g.zoom, this.g.zoom], false, this)), this.s = this.Mq, this.ga = false, this.D.W = false, this.h.I = false, this.D.u || this.D.notification.notify("Shrink with hotkey N", 15, 100, 15, true), this.resize());
    };
    ea.prototype.fF = function (a) {
      a.ga ? (a.tw(), a.Qq && !a.Fb && (a.$b.current = a.xd(G.ui, true, a))) : a.La && (a.bi || a.Nj(a));
    };
    ea.prototype.resize = function () {
      this.Qn && (Aa.Pn.B = this.vr - this.displayWidth, this.vr = this.displayWidth, this.Qn = false);
      this.bb.width = this.displayWidth;
      this.bb.height = this.displayHeight;
      this.Ta.textBaseline = "middle";
      this.g.Ij(this.displayWidth, this.displayHeight);
      "Empty" !== this.pb && "none" !== this.pb && "" !== this.pb && null !== this.g.Ma && this.g.Yi(this.Fe, this);
      this.ea && this.ub(true, false, G.xf);
    };
    ea.prototype.vw = function () {
      this.pj = this.displayWidth;
      this.Jq = this.displayHeight;
      this.Oq = this.g.zoom;
      this.Mq = this.s;
      this.displayWidth = this.displayWidth / this.Yb | 0;
      this.displayHeight = this.displayHeight / this.Yb | 0;
      this.g.zoom /= this.Yb;
      this.displayWidth &= -8;
      this.h.I = true;
      this.D.W = true;
      this.D.fb = this.Yb;
      this.D.o = false;
      this.ga = true;
      this.resize();
    };
    ea.prototype.iw = function () {
      var a = this.g.h, b;
      a > this.tc && (a = this.tc);
      this.Sa.i = [];
      this.Sa.S = [];
      this.Sa.gf(40 * a);
      this.ma.i = [];
      this.ma.S = [];
      this.ma.current = [];
      this.ma.gf(40 * a);
      this.ma.v = 1;
      for (b = 0; b < a; b += 1) {
        var c = b + this.ic;
        this.Sa.i[b] = String(c);
        var d = this.eh(c);
        10 > c && (d += " [" + this.u + " " + c + "]");
        this.Sa.S[b] = d;
        this.ma.i[b] = "";
        this.ma.S[b] = d;
        this.ma.current[b] = false;
      }
      c = this.Qe;
      0 < c && (this.g.fa || this.g.i || this.g.s || this.g.l || this.g.A || (c = this.g.h - c));
      this.Sa.current = c - this.ic;
    };
    ea.prototype.cA = function () {
      var a = this.g.h, b = this.h.s;
      this.Qe = 1;
      this.ic = 0;
      this.lj.current = [this.Yq([true], true, this)];
      this.tc = 7 + ((this.displayWidth / b - G.Xc) / (40 * b) | 0);
      this.tc > a && (this.tc = a);
      this.g.H ? (this.Sa.i = "0123456".split(""), this.Sa.gf(280), this.Sa.S = ["dead [" + this.u + " 0]", "alive [" + this.u + " 1]", "history [" + this.u + " 2]", "mark 1 [" + this.u + " 3]", "mark off [" + this.u + " 4]", "mark 2 [" + this.u + " 5]", "kill [" + this.u + " 6]"], this.Sa.current = this.Qe, this.ma.i = "      ".split(" "), this.ma.gf(280), this.ma.S = ["dead [" + this.u + " 0]", "alive [" + this.u + " 1]", "history [" + this.u + " 2]", "mark 1 [" + this.u + " 3]", "mark off [" + this.u + " 4]", "mark 2 [" + this.u + " 5]", "kill [" + this.u + " 6]"], this.ma.v = 1, this.ma.current = [false, false, false, false, false, false, false]) : 2 >= a ? (this.Sa.i = ["0", "1"], this.Sa.gf(80), this.Sa.S = ["dead [" + this.u + " 0]", "alive [" + this.u + " 1]"], this.Sa.current = this.Qe, this.ma.i = ["", ""], this.ma.gf(80), this.ma.S = ["dead [" + this.u + " 0]", "alive [" + this.u + " 1]"], this.ma.v = 1, this.ma.current = [false, false]) : (this.Qe = this.g.fa || this.g.i || this.g.s || this.g.l || this.g.A ? 1 : a - 1, this.iw(), this.Sa.gf(40 * this.tc), this.ma.gf(40 * this.tc), this.vl.current = this.yr([0, 0], true, this));
      this.Sa.setPosition(da.lc, -this.Sa.O, 45);
      this.ma.setPosition(da.lc, -this.ma.O, 65);
    };
    ea.prototype.EG = function (a) {
      var b = this.g.ib;
      -1 === a && (a = this.sa ? b : this.g.H ? 10 : 2 < this.g.h && !(this.g.l || this.g.A || this.g.i || this.g.s) ? 11 : this.g.Z ? 17 : this.g.i || this.g.s ? 18 : 1);
      this.Tf(a, 1, this);
    };
    ea.prototype.jy = function () {
      var a = window.innerWidth, b = window.innerHeight, c = this.displayWidth, d = this.displayHeight + 80;
      c *= this.dk;
      d *= this.dk;
      var f = this.dk;
      this.xe = 1;
      if (c > a || d > b) if (f = c / a, d / b > f && (f = d / b), c /= f, d = this.displayHeight * this.dk / f, f = c / this.displayWidth, d / this.displayHeight < f && (f = d / this.displayHeight), c < G.Xc || d < G.Ug) f = c / G.Xc, d / G.Ug < f && (f = d / G.Ug), c /= f, d /= f, this.xe = f, f = 1;
      this.displayWidth = c & -8;
      this.displayHeight = d | 0;
      this.D.Ia = this.xe;
      Aa.Pn.o = this.xe;
      this.h.Ja(f);
      this.l.T(f);
      this.Kk = 18 * f | 0;
      this.Th = this.Kk + "px " + G.py;
      this.mf = this.Kk + "px " + G.jw;
      this.displayWidth !== this.vr && (this.Qn = true);
    };
    ea.prototype.fE = function () {
      this.gk = false;
      this.Ia = 0;
      this.kc = false;
      this.wc = this.dc = 0;
      this.vk = this.Wi = this.Rf = this.ya = this.T = "";
      this.Hn = this.Yi = this.B = this.A = 0;
      this.hk = "(none)";
      this.g.fa = false;
      this.g.Z = false;
      this.g.i = false;
      this.g.H = false;
      this.g.l = false;
      this.g.A = false;
      this.g.ha = false;
      this.g.lg = this.U.na;
      this.g.X = false;
      this.g.ng = this.U.da;
      this.g.Zc = false;
      this.g.Id = -1;
      this.g.jh = false;
      this.g.h = -1;
      this.g.C = -1;
      this.ab = this.Na = this.g.Ea = false;
      this.g.s = false;
      this.g.Pe = null;
      this.g.Re = null;
      this.g.Nc = null;
      this.g.xc = null;
      this.g.yd = [];
      this.g.Pb = null;
      this.g.vd = 0;
      this.g.Mc = 0;
      this.g.mg = 0;
    };
    ea.prototype.xg = function (a, b) {
      this.te = this.nB(G.GA);
      this.fa = 60;
      this.Y = 1;
      this.hc.current = this.Mc([1, 1], true, this);
      this.kb.I = true;
      this.fe.I = true;
      this.U.C = false;
      this.Rl = this.g.Ne = false;
      this.g.O.l = 1;
      this.Kf = this.displayWidth;
      this.Jf = this.displayHeight;
      a = this.U.create("", a, this.g.N, this.oi, this.DF, [b], this);
      this.Qw = this.U.P;
      if (this.U.Na) {
        a = this.U.ka;
        var c = this.U.ja;
        var d = this.U.create("", "x=1,y=1,rule=Life\n!", this.g.N, this.oi, this.oi, [b], this);
        this.oi(d, [b], this);
        this.U.ka = a;
        this.U.ja = c;
        this.displayWidth = this.Kf;
        this.displayHeight = this.Jf;
        this.D.notification.clear(false, true);
        this.D.notification.notify("Loading rule...", 15, 1e4, 15, true);
      } else this.oi(a, [b], this);
    };
    ea.prototype.DF = function (a, b, c) {
      b[b.length] = a.title;
      b[b.length] = a.A;
      c.U.P = c.Qw;
      c.U.ab = true;
      c.oi(null, b, c);
    };
    ea.prototype.Bx = function () {
      var a, b = 0, c = false;
      if (navigator.userAgentData) {
        var d = navigator.userAgentData;
        if ("Windows" === d.platform && d.brands) for (a = 0; a < d.brands.length; a += 1) if ("Google Chrome" === d.brands[a].brand || "Brave Browser" === d.brands[a].brand) c = true, b = Number(d.brands[a].version);
      }
      c && 103 <= b && 107 > b && (a = localStorage.getItem(G.ky), "y" !== a ? (this.D.notification.notify("If there are no cells displayed click on Help", 15, 300, 15, false), this.ho = true) : this.ho = false);
    };
    ea.prototype.oi = function (a, b, c) {
      var d = 0, f, e, k = false;
      var g = f = 0;
      var m = b[0], p = false;
      var n = "";
      c.g.o = 0;
      c.Pd && (c.Pd.h = new S(255, 255, 255));
      c.g.O.V = false;
      c.bc.current = c.Ml([true, true, true], true, c);
      c.g.Cc = false;
      c.Ab = -1;
      c.mg.current = c.$q([true], true, c);
      c.ie = false;
      c.Ye = false;
      c.Xe = false;
      c.Ve = false;
      c.Ze = false;
      c.he = false;
      c.We = false;
      c.g.Lb = -1;
      c.D.zb();
      c.Cc = true;
      c.Wd = false;
      c.R = false;
      c.gd = false;
      c.Xa = [];
      for (e = 0; e < G.qj; e += 1) c.Xa[e] = null;
      c.Xa[G.qj] = null;
      c.mc = 0;
      c.Dj = false;
      c.W = null;
      c.ua = false;
      c.Ub = 0;
      c.Tb = 0;
      c.Qa = false;
      c.Qc = false;
      c.Id.current = c.qr(2, true, c);
      c.Ki = false;
      c.ae = [];
      c.ej = [];
      c.Wb = [];
      c.Nd = [];
      c.Zb = [];
      c.Zg = [];
      c.Ma = 0;
      c.ka = 0;
      c.qh = 0;
      c.g.Wb = false;
      c.Zc = [];
      c.Ra = G.In;
      c.Pe = 0;
      c.sk = -1;
      c.Vi = [];
      c.Yd = 0;
      c.Ql = false;
      c.Hq = 0;
      c.Ir = 0;
      c.Xd = -1;
      c.nn = false;
      c.Mf = G.$h;
      c.Pf = -G.$h;
      c.Lf = G.$h;
      c.Qf = -G.$h;
      c.D.notification.clear(true, true);
      c.D.notification.clear(false, true);
      c.g.Xa = false;
      c.g.zb = false;
      c.Cr = false;
      c.g.xc = null;
      !a || null === a.ia && -1 === a.ja || (null == a.ia ? a.fb >= a.ja && (c.U.P = "Illegal state in pattern for @TREE", a = null) : a.fb >= a.sa && (c.U.P = "Illegal state in pattern for @TABLE", a = null));
      c.U.C && a && (-1 === a.l || -1 !== a.l && (0 === a.H || 0 === a.aa)) && (c.U.P = null === c.g.Pb ? "@TREE B0 only valid with finite grid" : "@TABLE B0 only valid with finite grid", a = null);
      if (a) {
        c.gk = c.U.ib;
        c.Ia = c.U.zb;
        c.kc = c.U.Ga;
        c.dc = c.U.Ta;
        c.wc = c.U.Va;
        c.ra = c.U.ka;
        c.qa = c.U.ja;
        c.A = a.width;
        c.B = a.height;
        -999999 === c.ra && (c.ra = c.A);
        -999999 === c.qa && (c.qa = c.B);
        c.Wi = a.name;
        c.vk = a.Tb;
        c.hk = a.Ya;
        "" === c.hk && (c.hk = "(none)");
        c.Yi = a.A;
        c.Hn = a.Na;
        c.T = a.h;
        c.ya = a.M;
        c.Rf = a.Ra;
        c.g.mh = a.s;
        c.g.lh = a.oa;
        c.ab = c.U.ab;
        c.g.H = a.O;
        c.g.l = a.L;
        c.g.A = a.$;
        c.Bf.S = "clear History cells [" + this.u + " Del]";
        c.g.l && (c.Bf.S = "clear Super cells [" + this.u + " Del]");
        c.g.h = a.i;
        !c.ab && 2 < a.A && (c.g.h = a.A);
        c.g.Pb = null;
        c.g.yd = null;
        c.Je = [];
        c.g.s = false;
        c.g.Ne = false;
        -1 !== a.ja && (c.g.zd = a.eb, c.g.oh = a.ja, c.g.h = a.ja, c.g.Mi = a.hb, c.g.Kf = a.cb, c.g.Pe = a.$a, c.g.Re = a.bb, c.g.Nc = a.Da, c.g.xc = a.ya, c.Je = a.Xa, c.g.Ne = c.U.C, c.g.s = true);
        null !== a.ia && (c.g.yd = a.Ia, c.g.Pb = a.ia, c.g.vd = a.Ha, c.g.Mc = a.Qa, c.g.mg = a.gb, c.g.h = a.sa, c.g.Nc = a.Da, c.g.xc = a.ya, c.Je = a.Xa, c.g.Ne = c.U.C, c.g.s = true);
        a.ya && c.g.an(a.ya);
        if (c.g.Ea = a.Ea) c.g.O.B = a.B, c.g.O.v = a.T, c.g.O.X = a.i, c.g.O.V = a.mb, c.g.O.ga = a.Oa, c.g.O.ia = a.Va, c.g.O.Y = a.Ta, c.g.O.mb(a.m, a.u, a.fa, a.na, a.o, a.ub, a.zb, a.va, a.wa), c.U.$ ? (c.g.O.aa = a.Ja, c.g.O.ba = a.La, c.g.O.ka = true) : c.g.O.ka = false, c.Cr = a.X;
        c.g.fa = a.ea;
        c.g.Z = a.da;
        c.g.ad = c.g.Z;
        c.g.i = a.ma;
        c.g.va = false;
        c.g.ha = a.ha;
        c.g.jh = a.ha;
        c.g.lg = a.ra;
        c.g.X = a.o;
        c.g.ng = a.W;
        c.g.Zc = a.ga;
        c.g.Id = a.pa;
        c.g.C = a.l;
        c.g.R = a.H;
        c.g.M = a.aa;
        c.g.Ld = a.Ba;
        c.g.Md = a.Ca;
        c.g.Lf = a.Hb;
        c.g.Sg = a.Jb;
        c.g.Mf = a.Ib;
        d = -1 === c.g.h ? 2 : c.g.h;
        c.g.H && (d = 7);
        c.Xi = new Uint32Array(d);
        for (e = 0; e < d; e += 1) c.Xi[e] = c.U.Z[e];
      } else c.fE();
      c.g.Zb = c.g.qf() ? true : false;
      c.g.wm();
      c.ge = true;
      c.Fa = false;
      c.pd = true;
      c.Ya = G.ey;
      c.cc = a ? false : true;
      c.hd = true;
      c.De = false;
      c.P = c.U.P;
      c.g.Ge = G.by;
      c.V = 0;
      c.$ = 0;
      c.Gc = -1;
      c.Lc = -1;
      c.Yg = false;
      c.h.locked = false;
      c.od = false;
      c.sd = false;
      c.g.Rk();
      c.g.Tk();
      c.g.H && c.g.Ki();
      c.g.H && c.g.aj();
      c.vd = "";
      c.rd = false;
      eb.oe();
      c.g.mb = G.Os;
      c.g.uc = G.Ns;
      c.g.Sa = 10;
      c.g.Ak = 10;
      c.g.Rc = true;
      c.Dm = -1;
      c.Bm = -1;
      c.fa = 60;
      c.Y = 1;
      c.g.Aa = 1;
      c.g.Ub = 0.1;
      c.g.angle = 0;
      c.g.Gb = 0;
      c.g.zoom = 6;
      c.g.no();
      c.g.rh();
      c.g.ea = c.g.width / 2;
      c.g.da = c.g.height / 2;
      c.Nv = false;
      c.ov = false;
      c.wv = false;
      c.ta = 0;
      c.zb = 0;
      c.Oa = -1;
      c.fb = -1;
      c.ec = -1;
      c.qd = -1;
      c.oa.fill(-1);
      c.yt = G.Ny;
      c.it = G.yp;
      c.Kt = G.Oz;
      c.ga && (c.cj ? (c.displayHeight = c.pj, c.displayWidth = c.pj, c.g.zoom = this.Oq, c.s = this.Mq) : c.tw());
      c.cf = false;
      c.D.W = false;
      c.Yb = G.gy;
      c.ci = false;
      c.D.ta = false;
      c.Um = false;
      c.Na = a ? false : true;
      c.L = false;
      c.g.Ia = false;
      c.g.Va = false;
      c.$b.I = false;
      c.wa.I = false;
      c.mb.I = false;
      c.hc.I = false;
      c.ja.I = false;
      c.eb.I = false;
      c.Ha.I = false;
      c.td.I = false;
      c.mg.I = false;
      c.Uf.I = false;
      c.h.I = false;
      c.yf.I = false;
      c.Sd.I = false;
      c.wh.I = false;
      c.uk.I = false;
      c.pl.I = false;
      c.Mn.I = false;
      c.Qj.I = false;
      c.zd.I = false;
      c.Ci.I = false;
      c.ml.I = false;
      c.ja.current = [false];
      c.mb.current = [false];
      c.s = 0;
      c.aa = 0;
      c.Ne.current = [false];
      c.Wg.current = c.jr([c.Wd], true, c);
      c.xi.current = c.lr([c.Cc], true, c);
      c.Mm = false;
      c.wa.current = c.se(G.ti, true, c);
      c.$d.current = c.Vw([50, 50], true, c);
      c.sh.current = c.sr([G.Jn, G.Jn], true, c);
      c.md.current = c.df([0 !== c.s], true, c);
      c.Bd = [96, 96, 96];
      c.g.Kd = c.g.zc ? 4284506208 : 1616929023;
      c.g.Rg = "rgb(" + c.Bd[0] + "," + c.Bd[1] + "," + c.Bd[2] + ")";
      c.Df = [128, 128, 128];
      c.g.ge = c.g.zc ? 4286611584 : 2155905279;
      c.Gf = [0, 255, 0];
      c.g.Rh = "rgb(0,255,0)";
      c.Ff = [255, 0, 0];
      c.g.Fi = "rgb(255,0,0)";
      c.Cf = [255, 255, 0];
      c.g.og = "rgb(255,255,0)";
      c.Hf = [255, 128, 0];
      c.g.Sh = "rgb(255,128,0)";
      c.m.reset();
      c.Ca = false;
      c.m.ga();
      c.nd = false;
      c.Hb = false;
      c.Jd = true;
      c.sa = false;
      c.Ef = false;
      c.g.sc = false;
      c.qo = G.Rn;
      c.jo = G.Rn;
      c.aj = 50;
      c.Lk = false;
      c.lo = false;
      c.no = false;
      c.Se = -1;
      c.Te = -1;
      c.Sf = -1;
      c.ad = [];
      c.Md = [];
      c.mm = false;
      c.Qq = false;
      c.mw = true;
      c.hw = true;
      c.He = "";
      a ? a.title && (n = a.title) : (1 < b.length && (n = b[1]), c.Jy());
      c.g.H ? (c.Oe = [0, 65280, 128, 14221272, 16711680, 16776960, 6316128], c.ro = "[R]History") : (c.Oe = eb.ts, c.ro = "(default)");
      c.NE();
      c.bj = Date.now().toString();
      !c.Ad && Ca.fullScreen && (c.displayWidth = (document.body.clientWidth & -8) - 8, c.displayHeight = window.innerHeight - 130, c.displayWidth < G.Xc && (c.displayWidth = G.Xc), c.displayHeight < G.Ug && (c.displayHeight = G.Ug), k = true);
      "" !== n && (a ? d = -1 === a.i ? a.A : a.i : d = b[2], c.g.H && (d = 7), c.g.i && (d = 16), c.g.l && (d = 26), c.g.A && (d = 21), c.PD(n, d), c.Wb.length && (c.aa = 1), c.ga && m && (c.ga = false), -1 < c.Oa && (c.Oa &= -8, c.Oa !== c.displayWidth && (c.displayWidth = c.Oa, k = true)), -1 < c.fb && c.fb !== c.displayHeight && (c.displayHeight = c.fb, k = true), c.Ad && (-1 < c.ec ? (c.ec &= -8, c.ec !== c.displayWidth && (c.displayWidth = c.ec, k = true)) : c.displayWidth < G.Xc && (c.displayWidth = G.Xc), -1 < c.qd && c.qd !== c.displayHeight && (c.displayHeight = c.qd, k = true)));
      c.g.Vb && (2 < c.g.h || c.g.Ea || c.g.i || c.g.H || c.g.l || c.g.A || c.g.s) && (c.g.Vb = false);
      if (!c.ab || c.g.s || c.g.l || c.g.A) c.la = 0;
      c.H.oe(c.bj);
      c.g.Ea && c.g.O.kb(c.bj);
      c.Ad && (c.Kf = c.displayWidth, c.Jf = c.displayHeight, c.jy());
      a && a.ta && 0 === c.Zc.length && (c.ab = false);
      c.cA();
      c.Jy();
      c.AA();
      c.pF();
      c.g.fn();
      c.g.v = c.la;
      c.g.kg = c.Rg;
      c.ci && !c.Fa && (c.cc = true, c.Fa = false);
      c.g.Qk(!c.cc);
      d = c.Ji();
      a && (a.width > c.g.T - d - 2 * Math.abs(c.V + c.dc) || a.height > c.g.T - d - 2 * Math.abs(c.V - c.dc)) && (c.P = a.width > c.g.T - d || a.height > c.g.T - d ? "Pattern too big" : "Pattern too big at specified location", a.ta = true, c.ab = false);
      a && -1 !== a.l && (d = c.Ji(), a.H > c.g.T - d || a.aa > c.g.T - d) && (c.P = "Bounded grid too big", c.ab = false, c.g.C = -1);
      c.ab || (c.g.Zb = false, c.g.hb = -1);
      c.g.Mm(c);
      c.g.qf() && c.g.Zb && c.QB();
      c.nn && (c.g.sh(), c.BC());
      c.wp = false;
      a && (-1 !== c.g.C ? (f = c.g.R, g = c.g.M, 0 === f && (f = a.width), 0 === g && (g = a.height)) : (f = a.width, g = a.height, 0 < c.Zc.length && (f = c.jG(f), g = c.XF(g))));
      d = c.Ji();
      c.kc && (c.V += c.dc, c.$ += c.wc);
      e = c.g.width < c.g.T && f + d + 2 * Math.abs(c.V) >= c.g.width;
      for (n = c.g.height < c.g.T && g + d + 2 * Math.abs(c.$) >= c.g.height; e || n;) {
        p = true;
        m = b = 0;
        e && (b = c.g.width >> 1, c.g.width *= 2, c.ta += c.g.width >> 2);
        n && (m = c.g.height >> 1, c.g.height *= 2, c.zb += c.g.height >> 2);
        e && (c.za += c.g.width >> 2);
        n && (c.Jb += c.g.height >> 2);
        c.g.ha && n && (c.ta -= c.g.height >> 3, c.za -= c.g.height >> 3);
        c.g.ea += b;
        c.g.da += m;
        c.g.ha && (c.g.ea -= m / 2 | 0);
        c.g.u.F += b;
        c.g.u.J += b;
        c.g.u.K += m;
        c.g.u.G += m;
        c.g.na.F += b;
        c.g.na.J += b;
        c.g.na.K += m;
        c.g.na.G += m;
        c.g.$a.F += b;
        c.g.$a.J += b;
        c.g.$a.K += m;
        c.g.$a.G += m;
        c.g.Oa.F += b;
        c.g.Oa.J += b;
        c.g.Oa.K += m;
        c.g.Oa.G += m;
        if (0 < c.g.ec) for (e = 0; e < c.g.ec; e += 1) {
          var q = c.g.Yb[(e << 1) + 1];
          n = (q >> 16) + b;
          q = (q & 65535) + m;
          c.g.Yb[(e << 1) + 1] = n << 16 | q;
        }
        e = c.g.width < c.g.T && f + d + 2 * Math.abs(c.V) >= c.g.width;
        n = c.g.height < c.g.T && g + d + 2 * Math.abs(c.$) >= c.g.height;
      }
      p && c.g.Ff(false, false, false);
      a && a.Ea && c.g.O.resize(c.g.width, c.g.height);
      a && c.nG(c.A, c.B, c.ra, c.qa);
      c.D.notification.m = c.Uc ? "rgb(" + c.Uc[0] + "," + c.Uc[1] + "," + c.Uc[2] + ")" : c.D.notification.A;
      if (null === c.O) for (e = 0; e < c.Oe.length; e += 1) c.zm[e] = c.U.Z[e] ? G.hA : G.gA;
      c.g.Ca ? (c.g.uh(c.Oe, c.O), c.g.sc = true) : c.g.sc = false;
      a && !a.ta && c.XA(a);
      c.be.wb = "" !== c.ya ? c.ya : c.T;
      c.be.S = c.T;
      "" !== c.ya && (c.be.S += " alias " + c.ya);
      c.be.S += "\n" + c.Lq();
      c.Vb = false;
      c.tr = "none";
      c.pb = "none";
      c.Qi = "none";
      c.Yl = "none";
      c.Ri = "none";
      c.Vl = "none";
      c.un = "none";
      c.Ni = "none";
      c.em = "none";
      c.Oi = "none";
      c.nh = "none";
      c.mh = "none";
      c.Pi = "none";
      c.nb = false;
      c.Vh.current = [c.nb];
      c.g.Qf(c.nb);
      c.Uf.current = c.Uq([c.Jd], true, c);
      (c.g.s || c.g.fa) && -1 !== c.oa[G.dj] && (null === c.O ? (c.O = c.g.N.h(oa.Gd, 256, "View.customColours"), c.O.fill(-1), c.O[0] = c.oa[G.dj], c.oa[G.dj] = -1, c.oa[G.gn] = -1) : -1 === c.O[0] && (c.O[0] = c.oa[G.dj]));
      c.g.sh();
      c.EG(c.Qm);
      c.g.bc = c.O;
      c.g.fa || !c.ab && 2 < c.g.h ? c.g.Zi(c.Oe, c.O) : c.g.th();
      c.g.kb(1);
      c.g.om();
      c.li.current = [c.g.Va];
      c.jj.current = c.Wq([c.zh], true, c);
      c.Ui.current = c.up([c.Ya, c.Ya], false, c);
      c.Si.current = [c.pd];
      c.Vd.current = [c.ea];
      c.kd.current = [c.g.Ia];
      c.uh.current = [c.g.Vb];
      c.g.counter = 0;
      c.g.Hb = 0;
      c.g.fe = 0;
      c.ia = 0;
      c.elapsedTime = 0;
      c.wa.o = [false, false, false];
      if (c.Na) {
        if (a && (c.g.Qh(c.sd), c.O)) for (e = 0; e < c.O.length; e += 1) c.Oe[e] = c.O[e];
        c.ZE = c.Oe.length;
        c.g.Zi(c.Oe, c.O);
        c.g.Gc.reset();
        c.cc = true;
        c.Fa = false;
      } else {
        c.g.Qh(c.sd);
        c.g.Gg();
        2 >= c.g.h && c.g.nf(c.g.wa);
        c.tk();
        0 < c.Zc.length && (c.g.Qh(c.sd), c.g.Gg(), 2 >= c.g.h && c.g.nf(c.g.wa));
        c.g.H && c.U.Z[2] && c.g.em(a, c.da, c.Z);
        c.g.qo(c.g.wa, c.g.m);
        f = 0;
        g = c.g.h;
        c.g.H ? g = 7 : -1 === g && (g = 2);
        for (e = 1; e < g; e += 1) f += c.Xi[e];
        a && 0 === c.g.o && !c.Ql && 0 === f && (c.g.fa || (a.ta ? c.D.notification.notify("Pattern too big!", 15, G.Cs, 15, false) : "" === c.P && c.D.notification.notify("New pattern", 15, 300, 15, false)));
        "" !== c.P && c.D.notification.notify("Invalid pattern!", 15, 300, 15, false);
        -1 !== c.g.C && c.g.bg();
        c.g.mm(c.Hb, c);
        c.g.Yf(c, c.Hb);
      }
      c.Uf.current = [c.Jd];
      c.mg.current = [c.zf];
      c.Ge.current = [c.g.hd];
      c.ki.current = [c.nd];
      c.ji.current = [c.ed];
      c.Ud.current = [c.g.ad];
      c.Ud.locked = !c.g.Z;
      c.g.X ? (c.Dd.current = [c.g.va], c.Dd.S = ["toggle triangular cells [?]"]) : (c.Dd.S = ["toggle hexagonal cells [?]"], c.Dd.current = c.g.ha ? [c.g.va] : [true]);
      c.Ci.locked = (c.g.Z || c.g.i) && null !== c.g.bb ? false : true;
      0 === c.m.A() ? (c.qf.locked = true, c.ge = false) : (c.qf.locked = false, c.ge = true);
      c.qf.current = [c.ge];
      c.Mi.current = [c.Ja];
      c.g.s || (c.g.Zb = false);
      c.dh.current = [c.g.Zb];
      c.fj.current = [c.De];
      c.Hk.current = [c.g.Cc];
      c.kj.current = [c.rd];
      c.Uh.current = [c.od];
      c.m.i.length ? (c.Ck.I = false, c.gm.I = false) : (c.Ck.I = true, c.gm.I = true);
      0 === c.g.Sa ? (c.Fd.current = [false], c.Fd.locked = true) : (c.Fd.current = [c.g.Rc], c.Fd.locked = false);
      c.cc || c.g.Hg();
      d = c.g.zoom;
      f = c.g.ea;
      g = c.g.da;
      e = c.ga;
      c.ga = false;
      c.ub(true, false, G.xf);
      c.ga = e;
      c.Nv ? c.g.zoom = d : !c.ea && c.g.zoom > G.Uy && (c.g.zoom = G.Uy);
      c.ov && (c.g.ea = f);
      c.wv && (c.g.da = g);
      c.Ca && c.mG(c.Wb);
      c.ga && c.Um && (c.g.zoom = c.Sq);
      c.Xz = c.g.zoom;
      c.ac.current = c.Td([c.g.zoom, c.g.zoom], false, c);
      c.ta = c.g.ea;
      c.zb = c.g.da;
      c.yi = c.g.angle;
      c.na.current = [c.yi, c.yi];
      c.Bi = c.g.Gb;
      c.$a.current = [c.Kj(c.Bi), c.Bi];
      c.Fm = c.g.Lb;
      c.Tf(c.Fm, c.g.se, c);
      c.Kz = c.fa;
      c.Rz = c.Y;
      c.hc.current = 1 === c.Y && 60 === c.fa ? c.Mc([1, 1], true, c) : c.Mc([c.Wf(), 1], true, c);
      c.zi = c.g.Aa;
      c.eb.current = [c.zi, c.zi];
      c.Lu = c.g.Ub;
      d = Math.sqrt(c.Lu);
      c.Ha.current = c.ff([d, d], true, c);
      c.Pb && !c.sc ? (c.Fb = true, c.$b.current = G.ui) : (c.Fb = false, c.$b.current = G.je);
      c.yh(c.Fb);
      c.displayWidth > G.Xc && !c.Ad ? (e = c.displayWidth - G.Xc + G.op, e > G.Fq && (e = G.Fq), c.ac.gf(e)) : c.ac.gf(G.op);
      if (k || c.ga) c.ga ? c.vw() : c.resize();
      a || (c.U.Ha ? c.D.notification.notify("Pattern too big!", 15, G.Cs, 15, false) : c.D.notification.notify("Invalid pattern!", 15, G.Cs, 15, false));
      c.Wb.length ? c.s = 0 : c.aa = 0;
      c.ab || (c.L = true, c.g.sc = false, c.g.fa = true, c.g.H = false, c.g.l = false, c.g.A = false, c.AA());
      if (c.L || c.g.fa) c.wa.o[G.$j] = true, c.wa.o[G.ak] = true;
      c.L ? (c.$b.I = true, c.yf.I = true, c.hc.I = true, c.Sd.I = true, c.wh.I = true, c.Ci.I = true, c.ml.I = true, c.Na && (c.eb.I = true, c.Ha.I = true, c.td.I = true, c.g.Aa = 1), c.yc.I = false, "" === c.P ? (c.yc.wb = " " + C.np, c.yc.A = c.D.A, c.yc.setPosition(da.wg, c.mb.O, -40), c.ga ? c.yc.gf(c.pj - (40 + c.mb.O)) : c.yc.gf(c.displayWidth - (40 + c.mb.O)), c.mb.I = false) : (c.yc.wb = c.P, c.yc.A = c.Hh, c.yc.setPosition(da.wg, 0, -40), c.ga ? c.yc.gf(c.pj - 40) : c.yc.gf(c.displayWidth - 40), c.mb.I = true)) : c.yc.I = true;
      540 > c.displayHeight ? c.zd.setPosition(da.Zl, 0, -85) : c.zd.setPosition(da.Zl, 0, -100);
      c.vA();
      c.nc = false;
      c.Lt(c);
      c.Lm() ? (c.Rc.wb = "Density", c.Rc.S = "cell density") : (c.Rc.wb = "Births", c.Rc.S = "cells born this generation");
      c.D.i = true;
      c.D.ue(true);
      c.Ad && c.Mv && (c.Mv.nodeValue = "" === c.vd ? G.Eo : c.gE(c.vd));
      Ca.vb ? (k = c.Wi, "" === k && (k = "Universe " + (c.Ga + 1)), c.D.notification.notify(k, 15, 120, 15, true), c.Dk.I = false, c.hm.I = false) : (c.Dk.I = true, c.hm.I = true);
      c.X("");
      c.fq && lc(c);
      !c.Ov && (8 === c.g.zoom || 0.125 === c.g.zoom) && 0 < c.rh && 0 === (c.rh & 3) && 1 === (c.Nd.length & 5) ? (c.Rj = true, c.g.oj()) : c.Rj = false;
      c.g.Bi();
      (c.g.Z || c.g.i) && null !== c.g.bb && c.mm && (c.g.zb = true, c.yh(c.Fb));
      c.Rk && "" === c.P && (c.cj || (c.cj = true, c.Jk(c, true)), c.cj = false);
      -1 !== c.Kb && (c.hd && (0 === c.g.o ? (c.D.notification.notify("No live cells", 15, 360, 15, false), c.Kb = -1) : c.D.notification.notify("Going to generation " + c.Kb, 15, 1e4, 15, false)), c.D.notification.clear(true, false));
      a || (a = c.g.fa, c.g.fa = false, c.g.re = 1, c.g.th(), c.g.fa = a);
      c.Ed.current = c.ng(0, true, c);
      c.g.fa && (c.cc = true, c.Fa = false);
      c.Ee.locked = c.cc;
      c.Ee.current = [c.Fa];
      c.xj.current = [c.te];
      c.Bx();
    };
    Ia(window, "load", function () {
      var a = document.getElementsByTagName("div"), b = 0, c = null, d = c = null, f = null;
      f = null;
      d = "";
      var e = null, k = b = null, g = null, m = null;
      b = b = null;
      var p = new gb, n = new va;
      console.time("LifeViewer page scan");
      yc();
      bb.oe();
      for (b = 0; b < a.length; b += 1) (e = a[b], e.className === Ca.Lp) ? (c = e.getElementsByTagName(Ca.Kn)[0], f = e.getElementsByTagName("canvas")[0], (d = c.getElementsByTagName(Ca.Kn)[0]) && (c = d), Ka.Aq && c && (console.time("LifeViewer read embedded"), d = Bb(c), Ca.vb ? oc(d, p, n, e, c, f) : f && f.getContext ? (-1 < Ca.kq && c.clientHeight > Ca.kq && (c.style.height = Ca.kq + "px"), f.contentEditable = "false", Rb(d, f, c.offsetWidth, false, c)) : Ca.Ts && f && (f.style.display = "none"), console.timeEnd("LifeViewer read embedded"))) : Ka.Aq && e.className === Ca.Mp && e.parentNode.className !== Ca.Lp && (c = e.getElementsByTagName(Ca.Kn)[0]) && (console.time("LifeViewer read popup"), d = Bb(c), f = null, oc(d, p, n, e, c, null), console.timeEnd("LifeViewer read popup"));
      c = document.getElementsByTagName("a");
      for (b = 0; b < c.length; b += 1) f = c[b], "" !== f.accessKey && -1 !== G.JC.indexOf(f.accessKey) && (f.accessKey = "");
      if (k = document.getElementById("viewbutton")) if (Ia(k, "click", function () {
        ub(k);
      }, false), b = k.style, b.fontSize = "24px", b.width = "100px", b.height = "66px", k.parentElement && (b = k.parentElement.style, b.verticalAlign = "middle", b.padding = "8px"), b = document.getElementById("ViewerCanvas")) Ia(b, "drop", function (q) {
        Bc(q);
      }, false), Ia(b, "dragover", function (q) {
        q.preventDefault();
      }, false);
      (g = document.getElementById("viewerview")) && Ia(g, "click", function () {
        ub(g);
      }, false);
      (m = document.getElementById("viewerpopup")) && Ia(m, "click", function () {
        Lb(m);
      }, false);
      if (b = document.getElementById("lvbuild")) b.innerHTML = String(G.Bq);
      console.timeEnd("LifeViewer page scan");
    }, false);
    Ia(window, "resize", function () {
      if (Ca.fullScreen) {
        var a = Aa.cd[0][1];
        a.displayWidth = (document.body.clientWidth & -8) - 8;
        a.displayHeight = window.innerHeight - 130;
        a.displayWidth < G.Xc && (a.displayWidth = G.Xc);
        a.displayHeight < G.Yu && (a.displayHeight = G.Yu);
        if (a.displayWidth > G.Xc && !a.Ad) {
          var b = a.displayWidth - G.Xc + G.op;
          b > G.Fq && (b = G.Fq);
          a.ac.gf(b);
        } else a.ac.gf(G.op);
        b = a.Qe;
        a.cA();
        a.Qe = b;
        a.iw();
        a.resize();
        a.D.ue(true);
      }
    }, false);
    window.updateViewer = Lb;
    window.updateMe = ub;
    var Xa = {Nh: 0, fl: "", ms: false, fG: function (a) {
      a = I.En[a];
      var b = a.substring(a.length - 1);
      10 < a.length && (a = a.replace(/marked/, "mkd"), a = a.replace(/trail/, "trl"), 10 < a.length && (a = "1" <= b && "9" >= b ? a.substring(0, 9) + b : a.substring(0, 10)));
      return a;
    }, pD: function (a) {
      a = I.Dn[a];
      10 < a.length && (a = a.replace(/killer/, "klr"), a = a.replace(/births/, "bth"), 10 < a.length && (a = a.substring(0, 10)));
      return a;
    }, vF: function (a, b, c, d, f, e, k, g, m, p) {
      var n = g, q = a.h.s, l = this.Nh * q, r = this.Nh * a.h.s, u = false, t = a.o;
      e && (e.fillStyle === a.D.Ma && (u = true), t >= p && t <= p + a.Da && (e.font = a.Th, u || (e.fillStyle = 1 < (a.s | 0) ? a.Ih : a.D.$), e.fillText(b, k + l, g + r), u || (e.fillStyle = a.Ih), e.fillText(c, k + l + e.measureText(b).width, g + r), u || (e.fillStyle = (a.s | 0) < a.Ti - a.Da ? a.Ih : a.D.$), e.fillText(d, k + l + e.measureText(b + c).width, g + r), u || (e.fillStyle = a.Ih), e.font = a.mf, e.fillText(f, k + l + a.i[0] * q, g + r), n += m));
      a.o += 1;
      return n;
    }, Xr: function (a) {
      a /= 1048576;
      return 10 > a ? String(a.toFixed(1)) : String(a.toFixed(0));
    }, wF: function (a, b, c, d, f, e, k, g) {
      var m = a.o;
      d && (k -= 6, m >= g && m <= g + a.Da && (g = d.fillStyle, 0 === this.Nh ? (d.save(), d.imageSmoothingEnabled = true, d.translate(f, e - (k >> 1) - 1), d.scale(k / c, k / c), d.drawImage(a.g.zf, 0, (c + 1) * b, c, c, 0, 0, c, c), d.restore()) : d.fillRect(f + 2, e - (k >> 1) - 1 + 2, k, k), d.fillStyle = g));
    }, Pa: function (a, b, c, d, f, e, k, g, m) {
      var p = a.o;
      f && (g -= 6, p >= m && p <= m + a.Da && (a = f.fillStyle, 0 === this.Nh ? (f.fillStyle = "rgb(" + b + "," + c + "," + d + ")", f.fillRect(e, k - (g >> 1) - 1, g, g)) : f.fillRect(e + 2, k - (g >> 1) - 1 + 2, g, g), f.fillStyle = a));
    }, measureText: function (a, b, c, d) {
      var f = d ? a.Wm : a.Vm;
      f[a.o] ? b = f[a.o] : (b.font = 0 === d ? a.Th : a.mf, b = b.measureText(c).width, f[a.o] = b);
      return b;
    }, j: function (a, b, c, d, f, e, k, g) {
      var m = e, p = String(c).indexOf("	"), n = 0, q = a.h.s, l = this.Nh * q, r = this.Nh * a.h.C, u = a.o >= g && a.o <= g + a.Da;
      Xa.ms && 0 === Xa.Nh && ("" === b ? Xa.fl += c + "\n" : "H / Esc" !== b && (Xa.fl += b + "	" + c + "\n"));
      if (b.length) {
        u && (d.font = a.Th, d.fillText(b, f + l, e + r));
        b = this.measureText(a, d, b, 0);
        b > a.i[n] * q && "" !== c && (u && (e += k, m += k), a.o += 1, u = a.o >= g && a.o <= g + a.Da);
        u && (d.font = a.mf);
        for (; -1 !== p;) u && d.fillText(c.substring(0, p), f + l + a.i[n] * q, e + r), n += 1, c = c.substring(p + 1), p = c.indexOf("	");
        p = false;
        if (a.Bc && (b = this.measureText(a, d, c, 1), f + a.i[n] * q + b > d.canvas.width)) {
          var t = c.toLowerCase();
          b = t.indexOf("|");
          -1 === b && ("r" === t[0] ? b = t.indexOf("b") : "m" !== t[0] && (b = t.indexOf("s")), -1 === b && (b = t.indexOf("/"), -1 !== b && "m" !== t[0] ? b += 1 : (b = c.length >> 1, t = t.indexOf(",", b), -1 !== t && (b = t + 1))));
          -1 !== b && (u && (d.fillText(c.substring(0, b), f + l + a.i[n] * q, e + r), e += k, m += k), a.o += 1, (u = a.o >= g && a.o <= g + a.Da) && d.fillText("  " + c.substring(b), f + l + a.i[n] * q, e + r), p = true);
        }
        p || u && d.fillText(c, f + l + a.i[n] * q, e + r);
      } else d.font = a.mf, u && d.fillText(c, f + l, e + r);
      u && (m += k);
      a.o += 1;
      return m;
    }, rb: function (a, b, c) {
      var d = eb.Oe, f = Object.keys(d), e, k = false, g = 0;
      for (e = "    " + a + "	" + b + "	" + c + ("	#" + (16777216 | a << 16 | b << 8 | c).toString(16).slice(-6).toUpperCase()); g < f.length && !k;) {
        var m = d[f[g]];
        m[1] === a && m[2] === b && m[3] === c ? (e += "	" + m[0], k = true, g = f.length) : g += 1;
      }
      return e;
    }, ce: function (a) {
      return this.rb(a.h, a.l, a.i);
    }, PC: function (a) {
      var b = 0, c = 0;
      0 < a.g.o && (b = a.g.u.J - a.g.u.F + 1, c = a.g.u.K - a.g.u.G + 1);
      -1 !== a.g.C && (0 !== a.g.R && (b = a.g.R), 0 !== a.g.M && (c = a.g.M));
      return b + " x " + c;
    }, SC: function (a) {
      var b = "AutoFit";
      a.od && (b += " History");
      a.sd && (b += " State 1");
      return b;
    }, yz: function (a, b) {
      b -= a.length;
      for (var c = ""; 0 < b;) c += " ", --b;
      return c + a;
    }, js: function (a) {
      var b = a.indexOf(","), c = a.lastIndexOf(",");
      return [parseInt(a.substring(4, b), 10), parseInt(a.substring(b + 1, c), 10), parseInt(a.substring(c + 1, a.length - 1), 10)];
    }, Vz: function (a, b, c, d, f, e) {
      var k = d;
      switch (a.Cd) {
        case G.hg:
          this.CF(a, b, c, d, f, e);
          break;
        case G.ft:
          this.yF(a, b, c, d, f, e);
          break;
        case G.rv:
          this.AF(a, b, c, d, f, e);
          break;
        case G.Sp:
          this.xF(a, b, c, d, f, e);
          break;
        case G.Gv:
          this.BF(a, b, c, d, f, e);
          break;
        case G.ls:
          this.tF(a, b, c, d, f, e);
          break;
        case G.Jr:
          this.rF(a, b, c, d, f, e);
          break;
        case G.It:
          this.zF(a, b, c, d, f, e);
          break;
        case G.Mr:
          this.sF(a, b, c, d, f, e);
      }
      a.Ti = a.o - 1;
      a.o = 1;
      a.i[0] = 120;
      d = k + f * (a.Da + 2);
      a.Cd !== G.hg ? d = this.vF(a, "Up", " / ", "Down", "scroll help", b, c, d, f, 0) : d += f;
      a.Ad ? this.j(a, "H", "close help", b, c, d, f, 0) : this.j(a, "H / Esc", "close help", b, c, d, f, 0);
    }, CF: function (a, b, c, d, f, e) {
      var k = G.aG;
      a.o = 1;
      a.Bc = false;
      a.v = [];
      a.i[0] = 108;
      a.v[0] = [a.o, "Top"];
      a.Zu && (k = G.Zu);
      d = this.j(a, "", G.Eo + " " + k + " build " + G.Bq + " by " + G.yA, b, c, d, f, e);
      a.ho && (d = this.j(a, "", "", b, c, d, f, e), d = this.j(a, "", "If there are no cells displayed please go to chrome://flags", b, c, d, f, e), this.j(a, "", "and set Out-of-process 2D canvas rasterization to Disabled. ", b, c, d, f, e));
    }, sF: function (a, b, c, d, f, e) {
      var k, g = 0, m = a.h.s;
      a.o = 1;
      a.Bc = false;
      a.v = [];
      a.v[g] = [a.o, "Top"];
      g += 1;
      a.i[0] = 128;
      a.i[1] = 208;
      a.i[2] = 288;
      a.i[3] = 368;
      d = this.j(a, "", "Annotations", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[g] = [a.o, "Labels"];
      g += 1;
      d = this.j(a, "", "Labels:", b, c, d, f, e);
      d = this.j(a, "Number", a.m.m.length, b, c, d, f, e);
      for (k = 0; k < a.m.m.length; k += 1) {
        var p = "Label " + String(k + 1);
        d = this.j(a, p, a.m.wa(k), b, c, d, f, e);
        d = this.j(a, " ", a.m.ya(k), b, c, d, f, e);
        d = this.j(a, " ", a.m.za(k), b, c, d, f, e);
        p = this.js(a.m.Ba(k));
        this.Pa(a, p[0], p[1], p[2], b, c + a.i[0] * m, d, f, e);
        d = this.j(a, "Colour", this.rb(p[0], p[1], p[2]), b, c, d, f, e);
      }
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[g] = [a.o, "Arrows"];
      g += 1;
      d = this.j(a, "", "Arrows:", b, c, d, f, e);
      d = this.j(a, "Number", a.m.o.length, b, c, d, f, e);
      for (k = 0; k < a.m.o.length; k += 1) p = "Arrow " + String(k + 1), d = this.j(a, p, a.m.da(k), b, c, d, f, e), d = this.j(a, " ", a.m.ea(k), b, c, d, f, e), d = this.j(a, " ", a.m.fa(k), b, c, d, f, e), p = this.js(a.m.yp(k)), this.Pa(a, p[0], p[1], p[2], b, c + a.i[0] * m, d, f, e), d = this.j(a, "Colour", this.rb(p[0], p[1], p[2]), b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[g] = [a.o, "Polygons"];
      d = this.j(a, "", "Polygons:", b, c, d, f, e);
      d = this.j(a, "Number", a.m.s.length, b, c, d, f, e);
      for (k = 0; k < a.m.s.length; k += 1) p = "Polygon " + String(k + 1), d = this.j(a, p, a.m.La(k), b, c, d, f, e), d = this.j(a, " ", a.m.Ma(k), b, c, d, f, e), d = this.j(a, " ", a.m.Na(k), b, c, d, f, e), p = this.js(a.m.Oa(k)), this.Pa(a, p[0], p[1], p[2], b, c + a.i[0] * m, d, f, e), d = this.j(a, "Colour", this.rb(p[0], p[1], p[2]), b, c, d, f, e);
    }, yF: function (a, b, c, d, f, e) {
      var k, g = 0;
      a.o = 1;
      a.v = [];
      a.Bc = true;
      a.i[0] = 124;
      a.v[g] = [a.o, "Top"];
      g += 1;
      d = this.j(a, "", "Keyboard commands", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[g] = [a.o, "Playback"];
      g += 1;
      d = this.j(a, "", "Playback controls:", b, c, d, f, e);
      if (a.Na) d = this.j(a, "R", "reset", b, c, d, f, e); else {
        d = this.j(a, "Enter", "toggle play / pause", b, c, d, f, e);
        d = this.j(a, "Space", "pause / next generation", b, c, d, f, e);
        d = this.j(a, "B", "pause / previous generation", b, c, d, f, e);
        d = this.j(a, "Backspace", "pause / previous generation", b, c, d, f, e);
        d = this.j(a, "Tab", "pause / next step", b, c, d, f, e);
        d = this.j(a, "Shift Tab", "pause / previous step", b, c, d, f, e);
        if (a.g.Z || a.g.i) d = this.j(a, "U", "toggle playback direction", b, c, d, f, e);
        d = a.Ad ? this.j(a, "Esc", "close LifeViewer", b, c, d, f, e) : this.j(a, "Esc", "pause if playing", b, c, d, f, e);
        d = this.j(a, "R", "reset to generation 0", b, c, d, f, e);
        d = this.j(a, "Shift N", "go to generation", b, c, d, f, e);
        d = this.j(a, "-", "decrease playback speed", b, c, d, f, e);
        d = this.j(a, "+", "increase playback speed", b, c, d, f, e);
        d = this.j(a, "Shift -", "minimum playback speed", b, c, d, f, e);
        d = this.j(a, "Shift +", "maximum playback speed", b, c, d, f, e);
        d = this.j(a, "0", "reset step and speed", b, c, d, f, e);
        d = this.j(a, a.u + " P", "toggle pause playback while drawing", b, c, d, f, e);
        a.g.qf() && (d = this.j(a, "F7", "toggle fast lookup", b, c, d, f, e));
        d = this.j(a, a.C + " T", "toggle throttling", b, c, d, f, e);
        a.Ca ? -1 !== a.Mb ? (d = this.j(a, "W", "toggle waypoint playback and loop", b, c, d, f, e), d = this.j(a, "Shift P", "toggle just loop", b, c, d, f, e)) : d = this.j(a, "W", "toggle waypoint playback", b, c, d, f, e) : -1 !== a.Mb && (d = this.j(a, "W", "toggle loop", b, c, d, f, e));
        a.Pb && (d = this.j(a, a.C + " O", "toggle autostart", b, c, d, f, e));
        -1 !== a.jc && (d = this.j(a, a.C + " P", "toggle stop", b, c, d, f, e));
      }
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[g] = [a.o, "Multi"];
      g += 1;
      d = this.j(a, "", "Multi-Viewer controls:", b, c, d, f, e);
      Ca.vb && (d = this.j(a, "Page Up", "previous universe", b, c, d, f, e), d = this.j(a, "Page Down", "next universe", b, c, d, f, e), d = this.j(a, "Home", "first universe", b, c, d, f, e), d = this.j(a, "End", "last universe", b, c, d, f, e));
      d = this.j(a, "Shift R", "reset all LifeViewers to generation 0", b, c, d, f, e);
      d = this.j(a, "Z", "stop playback in all other LifeViewers", b, c, d, f, e);
      d = this.j(a, "Shift Z", "stop playback in all LifeViewers", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[g] = [a.o, "Camera"];
      g += 1;
      d = this.j(a, "", "Camera controls:", b, c, d, f, e);
      if (a.displayHeight >= G.Zj || (a.ga && a.Jq) >= G.Zj) d = this.j(a, "M", "toggle settings menu", b, c, d, f, e);
      d = this.j(a, "V", "restore saved camera position", b, c, d, f, e);
      d = this.j(a, "Shift V", "save current camera position", b, c, d, f, e);
      var m = a.m.i.length;
      if (0 < m && (d = this.j(a, "J", "jump to next point of interest", b, c, d, f, e), d = this.j(a, "Shift J", "jump to previous point of interest", b, c, d, f, e), 9 < m && (m = 9), !a.cb && !a.Ac)) for (k = 1; k <= m; k += 1) d = this.j(a, a.C + " " + String(k), "jump to POI #" + String(k), b, c, d, f, e);
      d = this.j(a, "F", "fit pattern to display", b, c, d, f, e);
      d = this.j(a, "Shift F", "toggle autofit", b, c, d, f, e);
      d = this.j(a, "Shift H", "toggle autofit history mode", b, c, d, f, e);
      d = this.j(a, a.u + " F", "fit selection to display", b, c, d, f, e);
      d = this.j(a, a.u + " M", "center pattern on display", b, c, d, f, e);
      a.g.H && (d = this.j(a, "Shift S", "toggle autofit state 1 mode", b, c, d, f, e));
      d = this.j(a, "[", "zoom out", b, c, d, f, e);
      d = this.j(a, "]", "zoom in", b, c, d, f, e);
      d = this.j(a, "Shift [", "halve zoom", b, c, d, f, e);
      d = this.j(a, "Shift ]", "double zoom", b, c, d, f, e);
      d = this.j(a, "1", "1x zoom", b, c, d, f, e);
      d = this.j(a, "2", "2x zoom", b, c, d, f, e);
      d = this.j(a, "4", "4x zoom", b, c, d, f, e);
      d = this.j(a, "8", "8x zoom", b, c, d, f, e);
      d = this.j(a, "6", "16x zoom", b, c, d, f, e);
      d = this.j(a, "3", "32x zoom", b, c, d, f, e);
      d = this.j(a, "Shift 1", "integer zoom", b, c, d, f, e);
      d = this.j(a, "Shift 2", "-2x zoom", b, c, d, f, e);
      d = this.j(a, "Shift 4", "-4x zoom", b, c, d, f, e);
      d = this.j(a, "Shift 8", "-8x zoom", b, c, d, f, e);
      d = this.j(a, "Shift 6", "-16x zoom", b, c, d, f, e);
      d = this.j(a, "Shift 3", "-32x zoom", b, c, d, f, e);
      d = this.j(a, "Left", "pan left", b, c, d, f, e);
      d = this.j(a, "Right", "pan right", b, c, d, f, e);
      d = this.j(a, "Up", "pan up", b, c, d, f, e);
      d = this.j(a, "Down", "pan down", b, c, d, f, e);
      d = this.j(a, "Shift Left", "pan north west", b, c, d, f, e);
      d = this.j(a, "Shift Right", "pan south east", b, c, d, f, e);
      d = this.j(a, "Shift Up", "pan north east", b, c, d, f, e);
      d = this.j(a, "Shift Down", "pan south west", b, c, d, f, e);
      d = this.j(a, "<", "rotate left", b, c, d, f, e);
      d = this.j(a, ">", "rotate right", b, c, d, f, e);
      d = this.j(a, "Shift <", "rotate left 90 degrees", b, c, d, f, e);
      d = this.j(a, "Shift >", "rotate right 90 degrees", b, c, d, f, e);
      d = this.j(a, a.C + " <", "rotate left 45 degrees", b, c, d, f, e);
      d = this.j(a, a.C + " >", "rotate right 45 degrees", b, c, d, f, e);
      d = this.j(a, "5", "reset angle", b, c, d, f, e);
      d = this.j(a, a.C + " /", "snap angle to nearest 45 degrees", b, c, d, f, e);
      d = this.j(a, "'", "tilt down", b, c, d, f, e);
      d = this.j(a, "/", "tilt up", b, c, d, f, e);
      d = this.j(a, "@", "reset tilt", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.Na || (a.v[g] = [a.o, "View"], g += 1, d = this.j(a, "", "View controls:", b, c, d, f, e), d = this.j(a, "Q", "increase number of layers", b, c, d, f, e), d = this.j(a, "A", "decrease number of layers", b, c, d, f, e), d = this.j(a, "P", "increase layer depth", b, c, d, f, e), d = this.j(a, "L", "decrease layer depth", b, c, d, f, e), d = this.j(a, "C", "next colour theme", b, c, d, f, e), d = this.j(a, "Shift C", "previous colour theme", b, c, d, f, e), d = this.j(a, a.C + " C", "default theme", b, c, d, f, e), d = this.j(a, "", "", b, c, d, f, e));
      a.v[g] = [a.o, "Display"];
      g += 1;
      d = this.j(a, "", "Display controls:", b, c, d, f, e);
      a.Na || (d = this.j(a, "G", "toggle generation statistics", b, c, d, f, e), d = this.j(a, "Shift G", "toggle generation display mode", b, c, d, f, e), a.cc || (d = this.j(a, "Y", "toggle population graph", b, c, d, f, e), d = this.j(a, "Shift Y", "toggle graph lines", b, c, d, f, e), d = this.j(a, "7", "decrease graph opacity", b, c, d, f, e), d = this.j(a, "9", "increase graph opacity", b, c, d, f, e), d = this.j(a, "Shift F3", "toggle population plot", b, c, d, f, e), d = this.j(a, "Shift F4", "toggle births plot", b, c, d, f, e), d = this.j(a, "Shift F5", "toggle deaths plot", b, c, d, f, e)), d = this.j(a, "Shift W", "toggle performance warning", b, c, d, f, e));
      a.g.ha ? d = this.j(a, "?", "toggle hexagons for hexagonal grid", b, c, d, f, e) : a.g.X && (d = this.j(a, "?", "toggle triangles for triangular grid", b, c, d, f, e));
      d = this.j(a, "T", "toggle timing information", b, c, d, f, e);
      d = this.j(a, "Shift T", "toggle extended timing information", b, c, d, f, e);
      d = this.j(a, "I", "toggle pattern and engine information", b, c, d, f, e);
      d = this.j(a, "Shift I", "toggle information bar", b, c, d, f, e);
      d = this.j(a, a.u + " Q", "toggle cell anti-aliasing", b, c, d, f, e);
      d = this.j(a, a.C + " B", "toggle cell borders", b, c, d, f, e);
      d = this.j(a, "X", "toggle gridlines", b, c, d, f, e);
      0 < a.g.Sa && (d = this.j(a, "Shift X", "toggle major gridlines", b, c, d, f, e));
      d = this.j(a, a.u + " G", "toggle auto gridlines", b, c, d, f, e);
      a.g.Z && (d = this.j(a, a.C + " D", "toggle alternating gridlines", b, c, d, f, e));
      if (a.g.H || a.g.l || -1 === a.g.h) d = this.j(a, a.C + " G", "convert pattern to [R]Super", b, c, d, f, e), d = this.j(a, a.C + " H", "convert pattern to [R]History", b, c, d, f, e), d = this.j(a, a.C + " J", "convert pattern to [R]Standard", b, c, d, f, e);
      0 < a.m.A() && (d = this.j(a, a.C + " L", "toggle annotation display", b, c, d, f, e));
      d = this.j(a, a.u + " L", "toggle kill escaping gliders", b, c, d, f, e);
      a.cf && (d = this.j(a, "N", "toggle thumbnail view", b, c, d, f, e));
      d = this.j(a, "S", "toggle stars", b, c, d, f, e);
      d = this.j(a, "O", "save screenshot", b, c, d, f, e);
      d = this.j(a, "Shift O", "save population graph screenshot", b, c, d, f, e);
      d = this.j(a, "Shift U", "toggle UI", b, c, d, f, e);
      d = this.j(a, a.C + " U", "toggle autohide UI during playback", b, c, d, f, e);
      -1 === a.g.h && (d = this.j(a, a.C + " W", "toggle rainbow mode", b, c, d, f, e));
      d = this.j(a, "D", "toggle cell period map", b, c, d, f, e);
      d = this.j(a, "Shift D", "download cell period map", b, c, d, f, e);
      d = this.j(a, "E", "toggle cell period table", b, c, d, f, e);
      d = this.j(a, "F8", "toggle cell state display", b, c, d, f, e);
      d = this.j(a, "F9", "toggle y coordinate direction", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[g] = [a.o, "Pattern"];
      g += 1;
      d = this.j(a, "", "Pattern controls:", b, c, d, f, e);
      d = this.j(a, a.C + " N", "new pattern", b, c, d, f, e);
      d = this.j(a, a.C + " R", "change rule", b, c, d, f, e);
      d = this.j(a, a.u + " O", "open original or last saved pattern", b, c, d, f, e);
      d = this.j(a, a.u + "+Shift O", "open clipboard as pattern", b, c, d, f, e);
      d = this.j(a, a.u + " S", "save pattern", b, c, d, f, e);
      d = this.j(a, a.C + " Z", "randomize pattern and rule", b, c, d, f, e);
      d = this.j(a, a.u + "+" + a.C + " Z", "randomize pattern only", b, c, d, f, e);
      d = this.j(a, "F6", "toggle pattern identification", b, c, d, f, e);
      d = this.j(a, "Shift F6", "display last identification result", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[g] = [a.o, "Clipboard"];
      g += 1;
      d = this.j(a, "", "External clipboard controls:", b, c, d, f, e);
      d = this.j(a, a.C + " S", "toggle sync cut and copy with external clipboard", b, c, d, f, e);
      d = this.j(a, a.u + "+Shift C", "copy original pattern", b, c, d, f, e);
      d = this.j(a, a.u + " C", "copy current selection", b, c, d, f, e);
      d = this.j(a, a.u + "+" + a.C + " C", "copy current selection with comments", b, c, d, f, e);
      d = this.j(a, a.u + "+Shift X", "cut original pattern", b, c, d, f, e);
      d = this.j(a, a.u + " X", "cut current selection", b, c, d, f, e);
      d = this.j(a, a.u + "+" + a.C + " X", "cut current selection with comments", b, c, d, f, e);
      d = this.j(a, a.u + " J", "copy rule definition", b, c, d, f, e);
      a.g.s && 2 === a.g.h && (d = this.j(a, a.C + " M", "copy rule definition as MAP", b, c, d, f, e));
      d = this.j(a, "K", "copy camera position", b, c, d, f, e);
      d = this.j(a, "Shift K", "copy camera position and view", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[g] = [a.o, "Edit"];
      g += 1;
      d = this.j(a, "", "Edit controls:", b, c, d, f, e);
      d = this.j(a, "F1", "toggle draw/pan mode", b, c, d, f, e);
      d = this.j(a, "F2", "draw mode", b, c, d, f, e);
      d = this.j(a, "Shift F2", "toggle smart drawing", b, c, d, f, e);
      d = this.j(a, "F3", "pick mode", b, c, d, f, e);
      d = this.j(a, "F4", "select mode", b, c, d, f, e);
      d = this.j(a, "F5", "pan mode", b, c, d, f, e);
      d = this.j(a, a.u + " A", "select all", b, c, d, f, e);
      d = this.j(a, "Shift A", "shrink selection", b, c, d, f, e);
      d = this.j(a, a.C + " A", "toggle auto-shrink selection", b, c, d, f, e);
      d = this.j(a, a.u + " C", "copy", b, c, d, f, e);
      d = this.j(a, a.u + " D", "toggle states display", b, c, d, f, e);
      d = this.j(a, a.u + " I", "invert selection", b, c, d, f, e);
      d = this.j(a, a.u + " K", "remove selection", b, c, d, f, e);
      d = this.j(a, a.u + " V", "paste", b, c, d, f, e);
      d = this.j(a, a.u + "+Shift V", "paste to selection", b, c, d, f, e);
      d = this.j(a, a.u + " X", "cut", b, c, d, f, e);
      d = this.j(a, a.u + " Y", "redo edit", b, c, d, f, e);
      d = this.j(a, a.u + " Z", "undo edit", b, c, d, f, e);
      d = this.j(a, a.u + "+Shift Z", "redo edit", b, c, d, f, e);
      d = this.j(a, a.u + " Space", "advance selection", b, c, d, f, e);
      d = this.j(a, "Shift Space", "advance outside", b, c, d, f, e);
      d = this.j(a, "Shift L", "cycle paste location", b, c, d, f, e);
      d = this.j(a, "Shift M", "cycle paste mode", b, c, d, f, e);
      2 < a.g.h ? (d = this.j(a, "Shift 5", "multi-state random fill", b, c, d, f, e), a.g.i || (d = this.j(a, a.u + "+Shift 5", "2-state random fill", b, c, d, f, e))) : d = this.j(a, "Shift 5", "random fill", b, c, d, f, e);
      d = this.j(a, a.C + " K", "pick cell state to replace with drawing state", b, c, d, f, e);
      d = this.j(a, a.u + "+" + a.C + " K", "clear current drawing state cells", b, c, d, f, e);
      d = this.j(a, "Del", "clear cells in selection", b, c, d, f, e);
      d = this.j(a, "Shift Del", "clear outside selection", b, c, d, f, e);
      a.g.H && (d = this.j(a, a.u + " Del", "clear [R]History cells", b, c, d, f, e), d = this.j(a, a.C + " Del", "clear [R]History marked cells", b, c, d, f, e));
      d = this.j(a, ">", "rotate selection clockwise", b, c, d, f, e);
      d = this.j(a, "<", "rotate selection counter-clockwise", b, c, d, f, e);
      d = this.j(a, a.C + " X", "flip selection horizontally", b, c, d, f, e);
      d = this.j(a, a.C + " Y", "flip selection vertically", b, c, d, f, e);
      d = this.j(a, a.C + " Left", "nudge selection 1 cell left", b, c, d, f, e);
      d = this.j(a, a.C + " Right", "nudge selection 1 cell right", b, c, d, f, e);
      d = this.j(a, a.C + " Up", "nudge selection 1 cell up", b, c, d, f, e);
      d = this.j(a, a.C + " Down", "nudge selection 1 cell down", b, c, d, f, e);
      d = this.j(a, "Esc", "hide paste", b, c, d, f, e);
      d = this.j(a, "Enter", "perform paste", b, c, d, f, e);
      a.g.H ? m = 7 : (m = -1 === a.g.h ? 2 : a.g.h, 10 < m && (m = 10));
      for (k = 0; k < m; k += 1) d = this.j(a, a.u + " " + k, "select state " + k + " for drawing", b, c, d, f, e);
      d = this.j(a, "Shift B", "toggle clipboard library", b, c, d, f, e);
      for (k = 0; 10 > k; k += 1) d = this.j(a, a.C + " " + k, "make clipboard " + k + " active", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[g] = [a.o, "Help"];
      d = this.j(a, "", "Help controls:", b, c, d, f, e);
      d = this.j(a, "Up", "scroll up one line", b, c, d, f, e);
      d = this.j(a, "Down", "scroll down one line", b, c, d, f, e);
      d = this.j(a, "Page Up", "scroll up one page", b, c, d, f, e);
      d = this.j(a, "Page Down", "scroll down one page", b, c, d, f, e);
      d = this.j(a, "Shift Page Up", "scroll up one section", b, c, d, f, e);
      d = this.j(a, "Shift Page Down", "scroll down one section", b, c, d, f, e);
      d = this.j(a, "Home", "go to first help page", b, c, d, f, e);
      d = this.j(a, "End", "go to last help page", b, c, d, f, e);
      this.j(a, "Ins", "show help sections", b, c, d, f, e);
    }, AF: function (a, b, c, d, f, e) {
      var k = 0, g;
      a.o = 1;
      a.Bc = false;
      a.v = [];
      a.i[0] = 252;
      a.v[k] = [a.o, "Top"];
      k += 1;
      d = this.j(a, "", "Scripts", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      d = this.j(a, "", "Scripts must be embedded in pattern comments", b, c, d, f, e);
      d = this.j(a, "", "Commands must be surrounded by whitespace", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[k] = [a.o, "Params"];
      k += 1;
      d = this.j(a, "", "Parameter conventions:", b, c, d, f, e);
      d = this.j(a, "A|B", "either A or B", b, c, d, f, e);
      d = this.j(a, "(A)", "A is optional", b, c, d, f, e);
      d = this.j(a, "A*", "zero or more A", b, c, d, f, e);
      d = this.j(a, "A+", "one or more A", b, c, d, f, e);
      d = this.j(a, "<1..3>", "integer range", b, c, d, f, e);
      d = this.j(a, "<1.0..3.0>", "decimal range", b, c, d, f, e);
      d = this.j(a, '"<string>"', "text string", b, c, d, f, e);
      d = this.j(a, " " + C.Qd + "B", "program build number", b, c, d, f, e);
      d = this.j(a, " " + C.Qd + "N", "pattern name", b, c, d, f, e);
      d = this.j(a, " " + C.Qd + "O", "pattern originator", b, c, d, f, e);
      d = this.j(a, " " + C.Qd + "R", "rule name", b, c, d, f, e);
      d = this.j(a, " " + C.Qd + "A", "rule alias", b, c, d, f, e);
      d = this.j(a, " " + C.Qd + "D", "rule neighbourhood", b, c, d, f, e);
      d = this.j(a, " " + C.Qd + "T", "program title", b, c, d, f, e);
      d = this.j(a, " " + C.Qd + "S", "random seed", b, c, d, f, e);
      d = this.j(a, " " + C.Qd + "G", "current generation (Labels)", b, c, d, f, e);
      d = this.j(a, " " + C.Qd + "H", "reversible generation (Labels)", b, c, d, f, e);
      d = this.j(a, " " + C.Qd + "I", "current generation relative (Labels)", b, c, d, f, e);
      d = this.j(a, " " + C.Qd + "J", "reversible generation relative (Labels)", b, c, d, f, e);
      d = this.j(a, " " + C.Qd + "P", "current population (Labels)", b, c, d, f, e);
      d = this.j(a, " " + C.Qd + "0..9", "saved timing as average fps", b, c, d, f, e);
      d = this.j(a, " " + C.Qd + C.Qd, C.Qd + " symbol", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[k] = [a.o, "General"];
      k += 1;
      d = this.j(a, "", "General:", b, c, d, f, e);
      d = this.j(a, C.bk, "start script section", b, c, d, f, e);
      d = this.j(a, C.Xl, "end script section", b, c, d, f, e);
      d = this.j(a, C.Ev, "suppress overwrite warning", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[k] = [a.o, "Playback"];
      k += 1;
      d = this.j(a, "", "Playback:", b, c, d, f, e);
      d = this.j(a, C.Ap + " (" + C.Ob + ")", "start play automatically", b, c, d, f, e);
      d = this.j(a, C.Kh + " <1..>|" + C.Ob, "loop at generation", b, c, d, f, e);
      d = this.j(a, C.Ph + " <1..>|" + C.Ob, "stop at generation", b, c, d, f, e);
      d = this.j(a, C.yq + " <1..>", "play to generation on load", b, c, d, f, e);
      d = this.j(a, C.rl + " <" + G.Tg + ".." + a.M + ">", "set steps per second", b, c, d, f, e);
      d = this.j(a, C.$l + " <" + G.tg + ".." + G.ni + ">", "set generations per step", b, c, d, f, e);
      (a.g.Z || a.g.i) && a.g.bb && (d = this.j(a, C.nv, "set initial playback to Reverse", b, c, d, f, e));
      d = this.j(a, C.Ps, "always use hard reset", b, c, d, f, e);
      d = this.j(a, C.np, "disable playback", b, c, d, f, e);
      d = this.j(a, C.Vt, "disable step back", b, c, d, f, e);
      d = this.j(a, C.Xt, "disable stop messages", b, c, d, f, e);
      d = this.j(a, C.Wt, "disable performance warning", b, c, d, f, e);
      d = this.j(a, C.Zt, "disable playback throttling", b, c, d, f, e);
      d = this.j(a, C.Ds, "starting playback pauses others", b, c, d, f, e);
      d = this.j(a, C.Zs, "ignore other pause requests", b, c, d, f, e);
      d = this.j(a, C.Nu, "show playback duration", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[k] = [a.o, "Camera"];
      k += 1;
      d = this.j(a, "", "Camera:", b, c, d, f, e);
      d = this.j(a, C.Sj + " <0..359>", "set camera angle", b, c, d, f, e);
      d = this.j(a, C.ek + " <0.0..5.0>", "set camera tilt", b, c, d, f, e);
      d = this.j(a, C.Ke + " <-" + (a.g.T >> 1) + ".." + (a.g.T >> 1) + ">", "set camera x position", b, c, d, f, e);
      d = this.j(a, C.Me + " <-" + (a.g.T >> 1) + ".." + (a.g.T >> 1) + ">", "set camera y position", b, c, d, f, e);
      d = this.j(a, C.ee + " <" + Number(-1 / G.ob).toFixed(1) + ".." + G.Xb.toFixed(1) + ">", "set camera zoom", b, c, d, f, e);
      d = this.j(a, C.Kr, "same as " + C.ee, b, c, d, f, e);
      d = this.j(a, C.zp + " (" + C.Ob + ")", "fit pattern to display", b, c, d, f, e);
      d = this.j(a, C.Ws + " (" + C.Ob + ")", "autofit uses pattern history", b, c, d, f, e);
      d = this.j(a, C.zv + " (" + C.Ob + ")", "autofit only uses state 1", b, c, d, f, e);
      d = this.j(a, C.lp + " X Y", "camera tracking", b, c, d, f, e);
      d = this.j(a, " X ", "horizontal speed cells/gen", b, c, d, f, e);
      d = this.j(a, " Y ", "vertical speed cells/gen", b, c, d, f, e);
      d = this.j(a, C.cm + " E S W N", "camera box tracking", b, c, d, f, e);
      d = this.j(a, " E ", "east edge speed cells/gen", b, c, d, f, e);
      d = this.j(a, " S ", "south edge speed cells/gen", b, c, d, f, e);
      d = this.j(a, " W ", "west edge speed cells/gen", b, c, d, f, e);
      d = this.j(a, " N ", "north edge speed cells/gen", b, c, d, f, e);
      d = this.j(a, C.kp + " P X Y", "camera tracking with loop", b, c, d, f, e);
      d = this.j(a, " P ", "period", b, c, d, f, e);
      d = this.j(a, " X ", "horizontal speed cells/gen", b, c, d, f, e);
      d = this.j(a, " Y ", "vertical speed cells/gen", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[k] = [a.o, "Waypoints"];
      k += 1;
      d = this.j(a, "", "Waypoints:", b, c, d, f, e);
      d = this.j(a, C.ep + " <0..>", "waypoint at generation", b, c, d, f, e);
      d = this.j(a, C.Ku + " <0.0..>", "pause for time", b, c, d, f, e);
      d = this.j(a, C.sg + " " + C.wf + "|" + C.Ke + "|" + C.Me + "|" + C.ee, "linear motion", b, c, d, f, e);
      d = this.j(a, C.Eh + " " + C.wf + "|" + C.Ke + "|" + C.Me + "|" + C.ee, "bezier motion (default)", b, c, d, f, e);
      d = this.j(a, C.kA, "save timing at waypoint start", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[k] = [a.o, "POIs"];
      k += 1;
      d = this.j(a, "", "Points of interest:", b, c, d, f, e);
      d = this.j(a, C.mq, "define point of interest", b, c, d, f, e);
      d = this.j(a, C.lq + " <0..>", "start POI at generation", b, c, d, f, e);
      d = this.j(a, C.Xo, "reset generation at POI", b, c, d, f, e);
      d = this.j(a, C.Nn, "start playback at POI", b, c, d, f, e);
      d = this.j(a, C.On, "stop playback at POI", b, c, d, f, e);
      d = this.j(a, C.Yo + " <" + Ta.Nz + ".." + Ta.Mz + ">", "set POI transition speed", b, c, d, f, e);
      d = this.j(a, "<command>|ALL " + C.rc, "use initial value for POI", b, c, d, f, e);
      d = this.j(a, C.wd + "<string>" + C.wd, "define message", b, c, d, f, e);
      d = this.j(a, C.Ou, "add Labels as POIs", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[k] = [a.o, "Annotations"];
      k += 1;
      d = this.j(a, "", "Annotations:", b, c, d, f, e);
      d = this.j(a, C.No + " X Y ZOOM", "define label at position", b, c, d, f, e);
      d = this.j(a, " (" + C.Hd + ") " + C.wd + "<string>" + C.wd, "... fix position, label text ", b, c, d, f, e);
      d = this.j(a, C.tt + " <" + G.dz + ".." + G.Yy + ">", "define label font size", b, c, d, f, e);
      d = this.j(a, " (" + C.Hd + ")", "... optionally fix size", b, c, d, f, e);
      d = this.j(a, C.ot + " <0.0..1.0>", "define label font alpha", b, c, d, f, e);
      d = this.j(a, C.ut + " <0..> <0..> <0..>", "generation range / fade", b, c, d, f, e);
      d = this.j(a, C.pt + " <0..359>", "label angle", b, c, d, f, e);
      d = this.j(a, " (" + C.Hd + ")", "... optionally fix angle", b, c, d, f, e);
      d = this.j(a, C.wt + " D|" + C.Ob, "label view distance", b, c, d, f, e);
      d = this.j(a, C.xt + " MINZOOM MAXZOOM|" + C.Ob, "label zoom visibility", b, c, d, f, e);
      d = this.j(a, C.vt + " DX DY|" + C.Hd, "label move per generation", b, c, d, f, e);
      d = this.j(a, C.st + " (" + C.Ob + ")", "turn label shadow on or off", b, c, d, f, e);
      d = this.j(a, C.nt + " " + C.kt + "|" + C.lt + "|" + C.mt, "set label text alignment", b, c, d, f, e);
      d = this.j(a, C.Ao + " X1 Y1 X2 Y2 ZOOM", "define arrow at position", b, c, d, f, e);
      d = this.j(a, " (" + C.Hd + ")", "... fix position", b, c, d, f, e);
      d = this.j(a, C.Sr + " <" + G.bq + ".." + G.Up + "> <0.0..1.0>", "line width and head multiple", b, c, d, f, e);
      d = this.j(a, C.Pr + " <0.0..1.0>", "define arrow alpha", b, c, d, f, e);
      d = this.j(a, C.Tr + " <0..> <0..> <0..>", "generation range / fade", b, c, d, f, e);
      d = this.j(a, C.Qr + " <0..359>", "arrow angle", b, c, d, f, e);
      d = this.j(a, " (" + C.Hd + ")", "... optionally fix angle", b, c, d, f, e);
      d = this.j(a, C.Vr + " D|" + C.Ob, "arrow view distance", b, c, d, f, e);
      d = this.j(a, C.Wr + " MINZOOM MAXZOOM|" + C.Ob, "arrow zoom visibility", b, c, d, f, e);
      d = this.j(a, C.Ur + " DX DY|" + C.Hd, "arrow move per generation", b, c, d, f, e);
      d = this.j(a, C.Rr + " (" + C.Ob + ")", "turn arrow shadow on or off", b, c, d, f, e);
      d = this.j(a, C.Ru + " X1 Y1 X2 Y2 .. ZOOM", "define outline polygon", b, c, d, f, e);
      d = this.j(a, " (" + C.Hd + ")", "... fix position", b, c, d, f, e);
      d = this.j(a, C.nq + " X1 Y1 X2 Y2 .. ZOOM", "define filled polygon", b, c, d, f, e);
      d = this.j(a, " (" + C.Hd + ")", "... fix position", b, c, d, f, e);
      d = this.j(a, C.Tu + " <" + G.bq + ".." + G.Up + ">", "line width", b, c, d, f, e);
      d = this.j(a, C.Pu + " <0.0..1.0>", "define polygon alpha", b, c, d, f, e);
      d = this.j(a, C.Uu + " <0..> <0..> <0..>", "generation range / fade", b, c, d, f, e);
      d = this.j(a, C.Qu + " <0..359>", "polygon angle", b, c, d, f, e);
      d = this.j(a, " (" + C.Hd + ")", "... optionally fix angle", b, c, d, f, e);
      d = this.j(a, C.Wu + " D|" + C.Ob, "polygon view distance", b, c, d, f, e);
      d = this.j(a, C.Xu + " MINZOOM MAXZOOM|" + C.Ob, "polygon zoom visilibility", b, c, d, f, e);
      d = this.j(a, C.Vu + " DX DY|" + C.Hd, "polygon move per generation", b, c, d, f, e);
      d = this.j(a, C.Su + " (" + C.Ob + ")", "turn polygon shadow on or off", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[k] = [a.o, "Display"];
      k += 1;
      d = this.j(a, "", "Display:", b, c, d, f, e);
      d = this.j(a, C.po + " <" + G.Xc + ".." + a.Jc + ">", "set LifeViewer width", b, c, d, f, e);
      d = this.j(a, C.pn + " <" + G.Ug + ".." + G.Qo + ">", "set LifeViewer height", b, c, d, f, e);
      d = this.j(a, C.$o + " <" + G.Xc + ".." + a.Jc + ">", "set popup width", b, c, d, f, e);
      d = this.j(a, C.Zo + " <" + G.Ug + ".." + G.Qo + ">", "set popup height", b, c, d, f, e);
      d = this.j(a, C.io + " " + C.wd + "<string>" + C.wd, "set popup window title", b, c, d, f, e);
      d = this.j(a, C.Dl + " <" + G.aq + ".." + G.Tp + ">", "set number of layers", b, c, d, f, e);
      d = this.j(a, C.hl + " <" + G.$p.toFixed(1) + ".." + G.Wy.toFixed(1) + ">", "set layer depth", b, c, d, f, e);
      d = this.j(a, C.Ko + " (" + C.Ob + ")", "display gridlines", b, c, d, f, e);
      d = this.j(a, C.Jo + " <0..16>", "set major grid line interval", b, c, d, f, e);
      d = this.j(a, C.zo + " <0.." + (2 < a.g.h ? 1 : 63) + ">", "number of age states to draw", b, c, d, f, e);
      d = this.j(a, C.qn + " <0.." + (2 < a.g.h ? 1 : 63) + ">", "number of history states to draw", b, c, d, f, e);
      d = this.j(a, C.bp + " (" + C.Ob + ")", "display stars", b, c, d, f, e);
      a.g.ha ? (d = this.j(a, C.Rs, "hexagonal cells for grid", b, c, d, f, e), d = this.j(a, C.vq, "offset square cells for grid", b, c, d, f, e)) : a.g.X && (d = this.j(a, C.dw, "triangular cells for grid", b, c, d, f, e), d = this.j(a, C.vq, "rectangular cells for grid", b, c, d, f, e));
      d = this.j(a, C.bs, "display cell borders", b, c, d, f, e);
      d = this.j(a, C.Ut, "disable menus and hotkeys", b, c, d, f, e);
      d = this.j(a, C.Us, "hide menus during playback", b, c, d, f, e);
      d = this.j(a, C.vv, "show timing information", b, c, d, f, e);
      d = this.j(a, C.Es, "extended timing information", b, c, d, f, e);
      d = this.j(a, C.tv, "show generation statistics", b, c, d, f, e);
      d = this.j(a, C.uv, "show information bar", b, c, d, f, e);
      d = this.j(a, C.Tz, "use rainbow colours", b, c, d, f, e);
      d = this.j(a, C.bv, "use high quality rendering", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[k] = [a.o, "Thumb"];
      k += 1;
      d = this.j(a, "", "Thumbnails:", b, c, d, f, e);
      d = this.j(a, C.Lv + " (" + C.Ob + ")", "start at 1/" + a.Yb + " size", b, c, d, f, e);
      d = this.j(a, C.Iv + " <" + G.gz + ".." + G.az + ">", "set thumbnail divisor", b, c, d, f, e);
      d = this.j(a, C.Hv + " (" + C.Ob + ")", "thumbnail launches viewer", b, c, d, f, e);
      d = this.j(a, C.Kv + " <" + Number(-1 / G.ob).toFixed(1) + ".." + G.Xb.toFixed(1) + ">", "set thumbnail zoom", b, c, d, f, e);
      d = this.j(a, C.Jv, "start playback on thumbnail expand", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[k] = [a.o, "Graph"];
      k += 1;
      d = this.j(a, "", "Population Graph:", b, c, d, f, e);
      d = this.j(a, C.Pp, "display population graph", b, c, d, f, e);
      d = this.j(a, C.Ls + " <0.0..1.0>", "population graph opacity", b, c, d, f, e);
      d = this.j(a, C.Ms, "population graph use points", b, c, d, f, e);
      d = this.j(a, C.gq, "disable population graph", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[k] = [a.o, "Colours"];
      k += 1;
      d = this.j(a, "", "Colours:", b, c, d, f, e);
      a.g.l || a.g.A || a.g.s || a.g.fa ? d = this.j(a, C.lb + " " + C.bo + " R G B", "set background color", b, c, d, f, e) : (d = this.j(a, C.zj + " <0.." + (a.g.ib - 1) + ">|name", "set theme", b, c, d, f, e), d = this.j(a, " name = " + C.co, "set custom theme", b, c, d, f, e), d = this.j(a, C.lb + " " + C.bo + " R G B", "set theme background", b, c, d, f, e), a.g.i || (d = this.j(a, C.lb + " " + C.ao + " R G B", "set theme alive color", b, c, d, f, e), 2 >= a.g.h && (d = this.j(a, C.lb + " " + C.gp + " R G B", "set theme alive ramp", b, c, d, f, e))), d = this.j(a, C.lb + " " + C.fo + " R G B", "set theme dead color", b, c, d, f, e), d = this.j(a, C.lb + " " + C.eo + " R G B", "set theme dead ramp", b, c, d, f, e), !a.g.i && 2 < a.g.h && (d = this.j(a, C.lb + " " + C.ip + " R G B", "set theme dying color", b, c, d, f, e), d = this.j(a, C.lb + " " + C.hp + " R G B", "set theme dying ramp", b, c, d, f, e)));
      d = this.j(a, C.lb + " " + C.Dx + " R G B", "set boundary color", b, c, d, f, e);
      d = this.j(a, C.lb + " <0.." + (-1 === a.g.h ? a.g.H ? "6" : "1" : String(a.g.h - 1)) + "> R G B", "set state color", b, c, d, f, e);
      a.g.H && (d = this.j(a, C.lb + " " + C.au + " R G B", "set [R]History state color " + G.XE, b, c, d, f, e), d = this.j(a, C.lb + " " + C.cu + " R G B", "set [R]History state color " + G.YE, b, c, d, f, e), d = this.j(a, C.lb + " " + C.Vs + " R G B", "set [R]History state color " + G.WD, b, c, d, f, e), d = this.j(a, C.lb + " " + C.At + " R G B", "set [R]History state color " + G.Ry, b, c, d, f, e), d = this.j(a, C.lb + " " + C.Ct + " R G B", "set [R]History state color " + G.Ty, b, c, d, f, e), d = this.j(a, C.lb + " " + C.Bt + " R G B", "set [R]History state color " + G.Sy, b, c, d, f, e), d = this.j(a, C.lb + " " + C.gt + " R G B", "set [R]History state color " + G.Ky, b, c, d, f, e));
      a.g.i && (d = this.j(a, C.lb + " N*E*S*W* R G B", "set PCA state color", b, c, d, f, e));
      if (a.g.s) for (g = 0; g < a.Je.length; g += 1) if (void 0 !== a.Je[g]) {
        var m = a.Je[g];
        var p = a.HA(m);
        if (0 <= a.Nq(m) || a.Kw(m) || a.bB(m) || a.Mw(m) || a.Hw(m)) m = '"' + m + '"';
        d = this.j(a, C.lb + " " + m + " R G B", "set state " + p + " color ", b, c, d, f, e);
      }
      d = this.j(a, C.lb + " " + C.cs + " R G B", "set bounded color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.$z + " R G B", "set select color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.wi + " R G B", "set paste color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.wx + " R G B", "set advance color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.aA + " R G B", "set selected cells color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.Ko + " R G B", "set grid color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.Jo + " R G B", "set grid major color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.bp + " R G B", "set star color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.Fv + " R G B", "set waypoint message color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.Bs + " R G B", "set error message color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.Qs + " R G B", "set help message color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.xy + " R G B", "set graph background color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.wy + " R G B", "set graph axis color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.vy + " R G B", "set graph alive color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.yy + " R G B", "set graph birth color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.zy + " R G B", "set graph death color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.No + " R G B", "set label text color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.Ao + " R G B", "set arrow line color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.Qz + " R G B", "set polygon color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.qA + " R G B", "set UI foreground color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.oA + " R G B", "set UI background color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.rA + " R G B", "set UI highlight text color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.tA + " R G B", "set UI selected color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.sA + " R G B", "set UI locked color", b, c, d, f, e);
      d = this.j(a, C.lb + " " + C.pA + " R G B", "set UI border color", b, c, d, f, e);
      d = this.j(a, C.ks, "same as " + C.lb, b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[k] = [a.o, "Pattern"];
      k += 1;
      d = this.j(a, "", "Pattern:", b, c, d, f, e);
      d = this.j(a, C.Cq + " <-" + (a.g.T >> 1) + ".." + (a.g.T >> 1) + ">", "set pattern x offset", b, c, d, f, e);
      d = this.j(a, C.Dq + " <-" + (a.g.T >> 1) + ".." + (a.g.T >> 1) + ">", "set pattern y offset", b, c, d, f, e);
      d = this.j(a, C.vs + " <" + G.bz + ".." + G.Vy + ">", "set boundary delete range", b, c, d, f, e);
      d = this.j(a, C.Tt, "disable pattern source copy", b, c, d, f, e);
      d = this.j(a, C.Yt, "hide pattern source", b, c, d, f, e);
      d = this.j(a, C.Et + " <" + G.cz + ".." + G.Xy + ">", "set maximum grid size 2^n", b, c, d, f, e);
      d = this.j(a, C.Sn + " name X Y (<1..>)+", "create a named recipe", b, c, d, f, e);
      d = this.j(a, C.Wl + " name rle|" + C.$g + " W H", "create a named set of cells", b, c, d, f, e);
      d = this.j(a, " (X Y) (TRANS)", "... X Y and transformation", b, c, d, f, e);
      d = this.j(a, " " + C.Zv, "identity", b, c, d, f, e);
      d = this.j(a, " " + C.Wv, "flip", b, c, d, f, e);
      d = this.j(a, " " + C.Xv, "flip X", b, c, d, f, e);
      d = this.j(a, " " + C.Yv, "flip Y", b, c, d, f, e);
      d = this.j(a, " " + C.bw, "swap X and Y", b, c, d, f, e);
      d = this.j(a, " " + C.cw, "swap X and Y and flip", b, c, d, f, e);
      d = this.j(a, " " + C.aw, "rotate clockwise", b, c, d, f, e);
      d = this.j(a, " " + C.$v, "rotate counter-clockwise", b, c, d, f, e);
      d = this.j(a, C.wi + " name|rle|" + C.$g + " W H (X Y)", "paste cells at optional X Y", b, c, d, f, e);
      d = this.j(a, " (TRANS)", "... optional transformation", b, c, d, f, e);
      d = this.j(a, " (XT|YT dp1 dt1 dp2 dt2 ... dpn dtn)", "... optional slow salvo definition", b, c, d, f, e);
      d = this.j(a, C.Vo + " <0..>", "set paste generation", b, c, d, f, e);
      d = this.j(a, " (recipe|<1..>+)*", "... optional delta list", b, c, d, f, e);
      d = this.j(a, C.Vo + " " + C.Do + " <1..>", "set paste interval", b, c, d, f, e);
      d = this.j(a, " (<0..> (<1..>))", "... optional start and end", b, c, d, f, e);
      d = this.j(a, C.du + " X Y", "set position delta for " + C.Vo + " " + C.Do, b, c, d, f, e);
      d = this.j(a, C.zu + " <0..15>|mode", "set paste mode", b, c, d, f, e);
      d = this.j(a, " 0   0000  " + C.Iu, "", b, c, d, f, e);
      d = this.j(a, " 1   0001  " + C.mu, "", b, c, d, f, e);
      d = this.j(a, " 2   0010  " + C.fu, "", b, c, d, f, e);
      d = this.j(a, " 3   0011  " + C.Du + "|" + C.nu, "", b, c, d, f, e);
      d = this.j(a, " 4   0100  " + C.hu, "", b, c, d, f, e);
      d = this.j(a, " 5   0101  " + C.Gu, "", b, c, d, f, e);
      d = this.j(a, " 6   0110  " + C.Eu, "", b, c, d, f, e);
      d = this.j(a, " 7   0111  " + C.yu, "", b, c, d, f, e);
      d = this.j(a, " 8   1000  " + C.ru, "", b, c, d, f, e);
      d = this.j(a, " 9   1001  " + C.Cu, "", b, c, d, f, e);
      d = this.j(a, " 10  1010  " + C.vu, "", b, c, d, f, e);
      d = this.j(a, " 11  1011  " + C.ju, "", b, c, d, f, e);
      d = this.j(a, " 12  1100  " + C.tu, "", b, c, d, f, e);
      d = this.j(a, " 13  1101  " + C.lu, "", b, c, d, f, e);
      d = this.j(a, " 14  1110  " + C.pu, "", b, c, d, f, e);
      d = this.j(a, " 15  1111  " + C.xu, "", b, c, d, f, e);
      d = this.j(a, C.ht, "suppress escaping gliders", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[k] = [a.o, "Randomize"];
      d = this.j(a, "", "Randomize:", b, c, d, f, e);
      d = this.j(a, C.lv, "create random pattern", b, c, d, f, e);
      d = this.j(a, C.kv, "create 2-state random pattern", b, c, d, f, e);
      d = this.j(a, C.gv + " <string>", "set random seed", b, c, d, f, e);
      d = this.j(a, C.jv + " <" + G.So + ".." + G.Yp + ">", "set random pattern width", b, c, d, f, e);
      d = this.j(a, C.ev + " <" + G.Jt + ".." + G.Xp + ">", "set random pattern height", b, c, d, f, e);
      d = this.j(a, C.dv + " <" + G.cq + ".." + G.Wp + ">", "set random pattern fill percentage", b, c, d, f, e);
      d = this.j(a, C.pq + " " + C.Hd, "keep rule fixed", b, c, d, f, e);
      a.g.Z || a.g.i ? (d = this.j(a, C.fv, "only generate reversible rules", b, c, d, f, e), this.j(a, C.hv, "only generate fixed population rules", b, c, d, f, e)) : a.g.Ea || -1 !== a.g.Id || (d = this.j(a, C.pq + " <item> <0..100>", "set percentage chance for <item>", b, c, d, f, e), d = this.j(a, " " + C.wf, "all conditions", b, c, d, f, e), d = this.j(a, " " + C.oq, "all birth conditions", b, c, d, f, e), d = this.j(a, " " + C.qq, "all survival conditions", b, c, d, f, e), d = this.j(a, " " + C.oq + "<0..n>", "specified birth condition", b, c, d, f, e), this.j(a, " " + C.qq + "<0..n>", "specified survival condition", b, c, d, f, e));
    }, xF: function (a, b, c, d, f, e) {
      var k, g, m = Aa.cd.length, p = a.g.la[a.g.Lb], n = 0, q = a.h.s;
      a.o = 1;
      a.Bc = false;
      a.v = [];
      a.i[0] = 128;
      a.i[1] = 210;
      a.i[2] = 270;
      a.i[3] = 330;
      a.i[4] = 430;
      a.v[n] = [a.o, "Top"];
      n += 1;
      d = this.j(a, "", "Information", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[n] = [a.o, "Display"];
      n += 1;
      d = this.j(a, "", "Display:", b, c, d, f, e);
      d = this.j(a, "Size", a.displayWidth + " x " + a.displayHeight, b, c, d, f, e);
      d = this.j(a, "Scale", a.h.s.toFixed(2), b, c, d, f, e);
      d = this.j(a, "Pixel Ratio", a.dk.toFixed(2), b, c, d, f, e);
      d = this.j(a, "Window Zoom", a.xe.toFixed(2), b, c, d, f, e);
      d = this.j(a, "Refresh", a.M + "Hz (" + ((a.Fr - a.uw) / (G.Gt - 1)).toFixed(1) + "ms)", b, c, d, f, e);
      Ca.Oo && (d = this.j(a, "Limit Width", a.Jc, b, c, d, f, e));
      var l = a.g.$;
      1 > l && (l = -1 / l);
      d = this.j(a, "View", "X " + -(a.g.width / 2 - (a.g.ea + a.g.Ba) | 0) + "  Y " + -(a.g.height / 2 - (a.g.da + a.g.pa) | 0) + "  Z " + l.toFixed(2) + "  ANGLE " + a.g.angle.toFixed(0), b, c, d, f, e);
      l = a.hj;
      1 > l && (l = 1 / l);
      d = this.j(a, "Saved View", "X " + -(a.g.width / 2 - a.za | 0) + "  Y " + -(a.g.height / 2 - a.Jb | 0) + "  Z " + l.toFixed(2) + "  ANGLE " + a.Mu.toFixed(0), b, c, d, f, e);
      d = this.j(a, "Origin", "X " + a.g.Ba.toFixed(2) + "  Y " + a.g.pa.toFixed(2) + "  Z " + a.g.Ga.toFixed(3), b, c, d, f, e);
      var r = a.L ? a.Na ? "Multi-State Viewer" : "Viewer" : a.g.H ? "History Player" : "Player";
      r = a.Ad ? r + " (PopUp)" : r + " (InLine)";
      d = this.j(a, "Type", r, b, c, d, f, e);
      r = a.g.ha ? "Hexagonal" : a.g.X ? "Triangular" : "Square";
      d = this.j(a, "Mode", r, b, c, d, f, e);
      r = "Rectangular";
      a.g.ha && !a.g.va ? r = "Hexagonal" : a.g.X && !a.g.va && (r = "Triangular");
      d = this.j(a, "Cells", r, b, c, d, f, e);
      d = this.j(a, "Quality", a.g.Cc ? "High" : "Standard", b, c, d, f, e);
      a.cf && (d = this.j(a, "Thumbnail", "1/" + a.Yb, b, c, d, f, e));
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[n] = [a.o, "Pattern"];
      n += 1;
      d = this.j(a, "", "Pattern:", b, c, d, f, e);
      "" !== a.Wi && (d = this.j(a, "Name", a.Wi, b, c, d, f, e));
      "" !== a.vk && (d = this.j(a, "Originator", a.vk, b, c, d, f, e));
      d = this.j(a, "Actual Size", a.A + " x " + a.B, b, c, d, f, e);
      -999999 !== a.ra && -999999 !== a.qa && (d = this.j(a, "Specified", a.ra + " x " + a.qa, b, c, d, f, e));
      0 < a.Zc.length && (d = this.j(a, "Pastes", a.Zc.length, b, c, d, f, e), d = this.j(a, "Paste Size", a.Pf - a.Mf + 1 + " x " + (a.Qf - a.Lf + 1) + " from (" + a.Mf + ", " + a.Lf + ") to (" + a.Pf + ", " + a.Qf + ")", b, c, d, f, e), d = this.j(a, "Paste Max T", a.Xd + (a.Ql ? " + " + C.Do : ""), b, c, d, f, e));
      0 < a.Nd.length && (d = this.j(a, "RLEs", a.Nd.length, b, c, d, f, e));
      0 < a.ae.length && (d = this.j(a, "Recipes", a.ae.length, b, c, d, f, e));
      d = this.j(a, "Offset", "X " + a.V + "  Y " + a.$, b, c, d, f, e);
      a.gk && (d = this.j(a, "CXRLE Gen", a.Ia, b, c, d, f, e));
      a.kc && (d = this.j(a, "CXRLE Pos", "X " + a.dc + "  Y " + a.wc, b, c, d, f, e));
      a.wp && (d = this.j(a, "Clipped", (0 === a.g.R ? "Inf" : a.g.R) + " x " + (0 === a.g.M ? "Inf" : a.g.M) + " " + a.U.Rb(a.g.C), b, c, d, f, e));
      a.ab ? r = a.T : (r = a.T, "" === r && (r = "(none)"));
      if ("MAP" === r.substring(0, 3) && 89 === r.length) for (d = this.j(a, "Rule", "MAP", b, c, d, f, e), l = 3; 89 > l;) d = this.j(a, "  " + (l - 3), r.substring(l, l + 16), b, c, d, f, e), l += 16; else a.Bc = true, d = this.j(a, "Rule", r, b, c, d, f, e), a.Bc = false;
      "" !== a.ya && (d = this.j(a, "Alias", a.ya, b, c, d, f, e));
      a.g.s && (r = null === a.g.Pb ? "@TREE [" + a.g.Mi + "]" : "@TABLE [" + a.g.vd + (0 < a.g.mg ? " / " + a.g.mg : "") + "]", r = null === a.g.Fa && null === a.g.He || !a.g.Zb || -1 !== a.g.hb ? r + " using standard lookup" : r + " using fast lookup", d = this.j(a, "Type", r, b, c, d, f, e), a.g.qf() && a.ab && (r = "", -1 === a.g.hb ? (l = null === a.g.He ? a.g.Fa.length : 4 * a.g.He.length, r = (1048576 <= l ? r + ((l >> 20) + "Mb") : 1024 <= l ? r + ((l >> 10) + "Kb") : r + (l + " bytes")) + (" fast lookup created in " + (a.g.Ye / 1e3).toFixed(1) + " seconds")) : (l = a.g.h, r += "Creating fast lookup (" + (100 * a.g.hb / (l * l * l * l * l) | 0) + "%)"), d = this.j(a, "Lookup", r, b, c, d, f, e)));
      d = this.j(a, "N'hood", a.Lq(), b, c, d, f, e);
      if (a.g.Ea) switch (a.g.O.type) {
        case 15:
          l = 2 * a.g.O.l + 1;
          for (k = 0; k < l; k += 1) r = a.g.O.L.length > l * l ? " " + a.g.O.L.substring(k * l * 2, (k + 1) * l * 2) : " " + a.g.O.L.substring(k * l, (k + 1) * l), d = this.j(a, r, "", b, c, d, f, e);
          break;
        case 10:
          for (l = 2 * a.g.O.l + 1, k = 0; k < l; k += 1) {
            r = " ";
            for (g = 0; g < l; g += 1) r = k == l >> 1 && g == l >> 1 ? r + "0" : r + (a.g.O.Kl[l - 1 - k][l - 1 - g] ? "1" : "0");
            d = this.j(a, r, "", b, c, d, f, e);
          }
      }
      r = String(a.Yi);
      2 < a.Yi && a.Hn !== a.Yi && (r = a.Hn + " of " + r);
      d = this.j(a, "States", r, b, c, d, f, e);
      if (a.Xi) for (k = 1; k < a.Yi; k += 1) a.Xi[k] && (d = this.j(a, "State " + k, a.Xi[k] + "	" + a.eh(k), b, c, d, f, e));
      if (a.g.xc) if (a.i[1] = 200, a.i[2] = 280, a.i[3] = 360, a.i[4] = 440, a.g.xc[0].ds !== Ba.qv) d = this.j(a, "Icons", Ba.NF[a.g.xc[0].ds], b, c, d, f, e); else {
        d = this.j(a, "Icons", "Size	Number	Colours	GrayScale", b, c, d, f, e);
        for (k = 0; k < a.g.xc.length; k += 1) l = a.g.xc[k].width, r = l + "x" + l + "	" + a.g.xc[k].height / l + "	" + a.g.xc[k].sz + "	" + (a.g.xc[k].Ay ? "Yes" : "No"), d = this.j(a, "  Set " + k, r, b, c, d, f, e);
        if (a.g.zf) for (l = a.g.xc[0].height, k = a.g.xc[0].width, g = 0; g < l / k; g += 1) this.wF(a, g, k, b, c + a.i[0] * q, d, f, e), r = a.eh(g + 1), d = this.j(a, "Icon " + String(g + 1), "      " + r, b, c, d, f, e);
      }
      d = this.j(a, "Decoder", a.hk, b, c, d, f, e);
      -1 !== a.on && (d = this.j(a, "Last Bench", "gens: " + a.rr + "  time: " + a.on.toFixed(1) + "s  gps: " + (a.rr / a.on).toFixed(1), b, c, d, f, e));
      d = this.j(a, "", "", b, c, d, f, e);
      if ("none" !== a.pb && "Empty" !== a.pb) {
        a.v[n] = [a.o, "Identify"];
        n += 1;
        d = this.j(a, "", "Identify:", b, c, d, f, e);
        d = this.j(a, "Type", a.pb, b, c, d, f, e);
        d = this.j(a, "Cells", a.Ni, b, c, d, f, e);
        "" !== a.g.gh && (d = this.j(a, "  T Min/Max", a.g.gh, b, c, d, f, e));
        "Oscillator" === a.pb && (d = this.j(a, "Active", a.rn, b, c, d, f, e));
        d = this.j(a, "Bounding", a.Vl, b, c, d, f, e);
        "" !== a.g.fh && (d = this.j(a, "  T Min/Max", a.g.fh, b, c, d, f, e));
        "Oscillator" === a.pb ? (d = this.j(a, "Period", a.Qi, b, c, d, f, e), d = this.j(a, "Mod", a.Pi, b, c, d, f, e)) : "Still Life" !== a.pb && (d = this.j(a, "Direction", a.Yl, b, c, d, f, e), d = this.j(a, "Period", a.Qi, b, c, d, f, e), d = this.j(a, "Mod", a.Pi, b, c, d, f, e), d = this.j(a, "Slope", a.em, b, c, d, f, e), d = this.j(a, "Speed", a.Ri, b, c, d, f, e));
        "Still Life" !== a.pb && -1 === a.g.C && (d = this.j(a, "Heat", a.Oi, b, c, d, f, e));
        if ("Oscillator" === a.pb) if (-1 === a.g.C && (d = this.j(a, "Temperature", a.vn, b, c, d, f, e)), "" === a.mh) d = this.j(a, "Volatility", a.nh + " | N/A", b, c, d, f, e); else {
          d = this.j(a, "Volatility", a.nh + " | " + a.mh, b, c, d, f, e);
          a.i[1] = 215;
          a.i[2] = 300;
          a.i[3] = 385;
          a.i[4] = 425;
          a.i[5] = 465;
          a.i[6] = 505;
          a.i[7] = 600;
          d = this.j(a, "  Period", "    Count	% Total	% Rotor	Colour", b, c, d, f, e);
          for (k = a.g.Ma.length - 1; 0 < k; --k) l = a.g.Ma[k], 0 < l && (this.Pa(a, a.g.Jc[k] >> 16, a.g.Jc[k] >> 8 & 255, a.g.Jc[k] & 255, b, c + a.i[0] * q, d, f, e), g = this.rb(a.g.Jc[k] >> 16, a.g.Jc[k] >> 8 & 255, a.g.Jc[k] & 255).trim(), d = 1 < k ? this.j(a, "  " + k, "    " + l + "	" + (Math.floor(1e4 * l / a.g.If) / 100).toFixed(2) + "%	" + (Math.floor(1e4 * l / a.g.Gi) / 100).toFixed(2) + "%	" + g, b, c, d, f, e) : this.j(a, "  " + k, "    " + l + "	" + (Math.floor(1e4 * l / a.g.If) / 100).toFixed(2) + "%		" + g, b, c, d, f, e));
          a.g.cc && (this.Pa(a, 96, 96, 96, b, c + a.i[0] * q, d, f, e), d = a.g.A ? this.j(a, "  State3", "    " + a.g.cc + "			" + this.rb(96, 96, 96).trim(), b, c, d, f, e) : this.j(a, "  State6", "    " + a.g.cc + "			" + this.rb(96, 96, 96).trim(), b, c, d, f, e));
          this.Pa(a, 0, 0, 0, b, c + a.i[0] * q, d, f, e);
          a.g.lj || (d = this.j(a, "  Back", "			" + this.rb(0, 0, 0).trim(), b, c, d, f, e));
          -1 !== a.g.C && (this.Pa(a, 128, 128, 128, b, c + a.i[0] * q, d, f, e), d = this.j(a, "  Bounded", "			" + this.rb(128, 128, 128).trim(), b, c, d, f, e));
          this.Pa(a, 80, 80, 80, b, c + a.i[0] * q, d, f, e);
          d = this.j(a, "  Grid", "			" + this.rb(80, 80, 80).trim(), b, c, d, f, e);
        }
        "Still Life" === a.pb && (d = this.j(a, "Density", a.sn, b, c, d, f, e));
        d = this.j(a, "Generation", a.un, b, c, d, f, e);
        d = this.j(a, "Time", "Period: " + a.g.mj.toFixed(1) + " seconds   Total: " + a.g.nj.toFixed(1) + " seconds", b, c, d, f, e);
        d = this.j(a, "", "", b, c, d, f, e);
      }
      a.v[n] = [a.o, "Grid"];
      n += 1;
      d = this.j(a, "", "Grid:", b, c, d, f, e);
      d = this.j(a, "Size", a.g.width + " x " + a.g.height, b, c, d, f, e);
      d = this.j(a, "Maximum", a.g.T + " x " + a.g.T, b, c, d, f, e);
      d = this.j(a, "Area", this.PC(a), b, c, d, f, e);
      d = a.g.s || a.g.A ? 0 !== (a.g.counter & 1) ? this.j(a, "Tiles", a.g.td(a.g.V) + " / " + a.g.td(a.g.B), b, c, d, f, e) : this.j(a, "Tiles", a.g.td(a.g.L) + " / " + a.g.td(a.g.B), b, c, d, f, e) : 0 !== (a.g.counter & 1) ? this.j(a, "Tiles", a.g.td(a.g.V) + " / " + a.g.td(a.g.qa) + " / " + a.g.td(a.g.B), b, c, d, f, e) : this.j(a, "Tiles", a.g.td(a.g.L) + " / " + a.g.td(a.g.qa) + " / " + a.g.td(a.g.B), b, c, d, f, e);
      a.g.yc && (d = this.j(a, "State6", a.g.td(a.g.yc), b, c, d, f, e));
      d = this.j(a, "Tile Size", "16 x 16", b, c, d, f, e);
      d = this.j(a, "Generation", a.g.counter, b, c, d, f, e);
      0 !== a.Ia && (d = this.j(a, "AbsoluteGen", a.g.counter + a.Ia, b, c, d, f, e));
      a.g.Z && (d = this.j(a, "MargolusGen", a.g.Hb + a.Ia, b, c, d, f, e));
      a.g.i && (d = this.j(a, "PCAGen", a.g.Hb + a.Ia, b, c, d, f, e));
      (a.g.Z || a.g.i) && a.g.bb && (g = a.g.Xa, a.g.zb && (g = !g), d = this.j(a, "Direction", g ? "Reverse" : "Forward", b, c, d, f, e));
      d = this.j(a, "DeleteRange", a.g.Ge, b, c, d, f, e);
      a.g.hd && (d = this.j(a, "KillGliders", a.g.Vf, b, c, d, f, e));
      d = this.j(a, "", "", b, c, d, f, e);
      -1 !== a.g.C && (a.v[n] = [a.o, "Bounded"], n += 1, d = this.j(a, "", "Bounded grid:", b, c, d, f, e), d = this.j(a, "Type", a.U.Rb(a.g.C), b, c, d, f, e), d = 0 === a.g.R ? this.j(a, "Width", "Infinite", b, c, d, f, e) : this.j(a, "Width", a.g.R, b, c, d, f, e), 4 !== a.g.C ? (d = 0 === a.g.M ? this.j(a, "Height", "Infinite", b, c, d, f, e) : this.j(a, "Height", a.g.M, b, c, d, f, e), 2 === a.g.C && (d = a.g.Lf ? this.j(a, "Twist", "Horizontal", b, c, d, f, e) : this.j(a, "Twist", "Vertical", b, c, d, f, e)), 0 !== a.g.Ld && (d = this.j(a, "H'Shift", a.g.Ld, b, c, d, f, e)), 0 !== a.g.Md && (d = this.j(a, "V'Shift", a.g.Md, b, c, d, f, e))) : d = a.g.Mf ? this.j(a, "Axis", "Top Left", b, c, d, f, e) : this.j(a, "Axis", "Top Right", b, c, d, f, e), d = this.j(a, "", "", b, c, d, f, e));
      a.v[n] = [a.o, "AutoFit"];
      n += 1;
      d = this.j(a, "", "AutoFit:", b, c, d, f, e);
      d = this.j(a, "Enabled", a.ea ? "On" : "Off", b, c, d, f, e);
      d = this.j(a, "Mode", this.SC(a), b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[n] = [a.o, "Track"];
      n += 1;
      d = this.j(a, "", "Track:", b, c, d, f, e);
      d = this.j(a, "Enabled", a.hb && !a.Nb ? "On" : "Off", b, c, d, f, e);
      a.hb && (a.Bh ? (d = this.j(a, "Mode", "Track Box", b, c, d, f, e), d = this.j(a, "Definition", "E " + a.og.toFixed(3) + "  S " + a.qg.toFixed(3) + "  W " + a.kh.toFixed(3) + "  N " + a.Ch.toFixed(3), b, c, d, f, e)) : (d = this.j(a, "Mode", "Track", b, c, d, f, e), d = this.j(a, "Definition", "X " + a.og.toFixed(3) + "  Y " + a.qg.toFixed(3), b, c, d, f, e)));
      d = this.j(a, "Current", "E " + a.rm.toFixed(3) + "  S " + a.vm.toFixed(3) + "  W " + a.xm.toFixed(3) + "  N " + a.tm.toFixed(3), b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[n] = [a.o, "Undo/Redo"];
      n += 1;
      d = this.j(a, "", "Undo/Redo:", b, c, d, f, e);
      d = this.j(a, "Enabled", a.Hb ? "Off" : "On", b, c, d, f, e);
      if (!a.Hb) for (d = this.j(a, "Snapshots", a.g.Gc.Z() + "/" + a.g.Gc.l.length, b, c, d, f, e), d = this.j(a, "Buffer", (a.g.Gc.V() >> 10) + "K", b, c, d, f, e), d = this.j(a, "Next Gen", a.g.We, b, c, d, f, e), d = this.j(a, "Undo", a.ka, b, c, d, f, e), d = this.j(a, "Redo", a.qh - a.ka, b, c, d, f, e), k = 0; k < G.qj; k += 1) null !== a.Xa[k] && (d = this.j(a, "Clip " + k + (k === a.mc ? "*" : ""), a.Xa[k].width + " x " + a.Xa[k].height, b, c, d, f, e));
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[n] = [a.o, "Engine"];
      n += 1;
      d = this.j(a, "", "Engine:", b, c, d, f, e);
      d = this.j(a, "Name", G.Eo, b, c, d, f, e);
      d = this.j(a, "Build", G.Bq, b, c, d, f, e);
      d = this.j(a, "Author", G.yA, b, c, d, f, e);
      d = this.j(a, "Decoders", "RLE, Life 1.06, Life 1.05, Cells", b, c, d, f, e);
      d = this.j(a, "N'hoods", "Moore, Hexagonal, von Neumann, Triangular, 1D,", b, c, d, f, e);
      d = this.j(a, " ", "Circular, Cross, L2, Saltire, Star, Checkerboard,", b, c, d, f, e);
      d = this.j(a, " ", "Aligned Checkerboard, Hash, Tripod, Asterisk,", b, c, d, f, e);
      d = this.j(a, " ", "Far Corners/Edges, Custom (CoordCA),", b, c, d, f, e);
      d = this.j(a, " ", "Gaussian and Weighted", b, c, d, f, e);
      d = this.j(a, "Rules", "Wolfram, Totalistic, Generations, Margolus,", b, c, d, f, e);
      d = this.j(a, " ", "Isotropic Non-Totalistic (Hensel, Callahan),", b, c, d, f, e);
      d = this.j(a, " ", "Alternating, MAP, Larger than Life (LtL),", b, c, d, f, e);
      d = this.j(a, " ", "Higher-range outer-totalistic (HROT),", b, c, d, f, e);
      d = this.j(a, " ", "Partitioned cellular automata (PCA),", b, c, d, f, e);
      d = this.j(a, " ", "[R]History, [R]Super, [R]Investigator", b, c, d, f, e);
      d = this.j(a, " ", "and Non-Deterministic", b, c, d, f, e);
      d = this.j(a, "Repository", "RuleTable (@TABLE, @TREE, @COLORS and", b, c, d, f, e);
      d = this.j(a, " ", "@NAMES)", b, c, d, f, e);
      d = this.j(a, "BoundedGrid", "Plane, Torus, Klein, Cross-surface and Sphere", b, c, d, f, e);
      d = this.j(a, "Viewers", m, b, c, d, f, e);
      d = this.j(a, "Playing", Aa.sG(), b, c, d, f, e);
      if (Ca.vb) {
        l = Aa.ke.length;
        d = this.j(a, "Universe", "Multi (" + (a.Ga + 1) + " of " + l + ")", b, c, d, f, e);
        a.Bc = true;
        for (k = 0; k < l; k += 1) d = this.j(a, String(k + 1) + (k === a.Ga ? "*" : ""), Aa.ke[k].name, b, c, d, f, e), d = this.j(a, " ", Aa.ke[k].HF, b, c, d, f, e), d = this.j(a, " ", Aa.ke[k].width + " x " + Aa.ke[k].height, b, c, d, f, e);
        a.Bc = false;
      } else d = this.j(a, "Universe", "Single", b, c, d, f, e);
      d = this.j(a, "Exclusive", a.Jm ? "Yes" : "No", b, c, d, f, e);
      d = this.j(a, "IgnorePause", a.Lo ? "Yes" : "No", b, c, d, f, e);
      d = this.j(a, "Endian", Ka.zc ? "Little" : "Big", b, c, d, f, e);
      d = this.j(a, "ArrayFill", Ka.Nr ? "Yes" : "No", b, c, d, f, e);
      d = this.j(a, "ArraySlice", Ka.Or ? "Yes" : "No", b, c, d, f, e);
      d = this.j(a, "CopyWithin", Ka.copyWithin ? "Yes" : "No", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.i[1] = 300;
      a.i[2] = 380;
      a.i[3] = 460;
      a.v[n] = [a.o, "Rule Cache"];
      n += 1;
      d = this.j(a, "", "Rule Cache:", b, c, d, f, e);
      d = this.j(a, "Entries", Ya.rules.length, b, c, d, f, e);
      if (0 < Ya.rules.length) for (d = this.j(a, "Entry", "Name	Size Kb	Fetch	Decode", b, c, d, f, e), k = 0; k < Ya.rules.length; k += 1) r = Ya.rules[k].name, 17 < r.length && (r = r.substring(0, 17) + "*"), d = this.j(a, String(k), r + "	" + (Ya.Zp[k].size >> 10) + "	" + Ya.Zp[k].fetch + "ms	" + Ya.Zp[k].decode + "ms", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.i[1] = 210;
      a.i[2] = 270;
      a.i[3] = 330;
      a.g.s || a.g.A || a.g.l || a.g.fa || (a.v[n] = [a.o, "Theme"], n += 1, d = this.j(a, "", "Theme:", b, c, d, f, e), d = this.j(a, "Name", a.g.la[a.g.Lb].name, b, c, d, f, e), d = this.j(a, "History", a.la, b, c, d, f, e), 2 >= a.g.h && (d = this.j(a, "Age", a.Rg, b, c, d, f, e)), d = this.j(a, "", "", b, c, d, f, e));
      a.v[n] = [a.o, "Cells"];
      n += 1;
      d = this.j(a, "", "Cells:", b, c, d, f, e);
      this.Pa(a, a.g.ja[0], a.g.ia[0], a.g.ga[0], b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Background", this.rb(a.g.ja[0], a.g.ia[0], a.g.ga[0]), b, c, d, f, e);
      if (a.g.fa || a.g.s) for (k = 1; k < a.g.h; k += 1) this.Pa(a, a.g.ja[k], a.g.ia[k], a.g.ga[k], b, c + a.i[0] * q, d, f, e), d = this.j(a, "State " + k, this.rb(a.g.ja[k], a.g.ia[k], a.g.ga[k]), b, c, d, f, e); else if (a.g.i) {
        for (k = 1; 16 > k; k += 1) g = k + a.la, this.Pa(a, a.g.ja[g], a.g.ia[g], a.g.ga[g], b, c + a.i[0] * q, d, f, e), r = "", k & 1 && (r += "N"), k & 2 && (r += "E"), k & 4 && (r += "S"), k & 8 && (r += "W"), d = this.j(a, r, this.rb(a.g.ja[g], a.g.ia[g], a.g.ga[g]), b, c, d, f, e);
        0 < a.la && (g = a.la, this.Pa(a, a.g.ja[g], a.g.ia[g], a.g.ga[g], b, c + a.i[0] * q, d, f, e), d = this.j(a, "Dead", this.rb(a.g.ja[g], a.g.ia[g], a.g.ga[g]), b, c, d, f, e), 1 < a.la && (g = 1, p.h.h.h !== p.h.i.h || p.h.h.l !== p.h.i.l || p.h.h.i !== p.h.i.i ? (this.Pa(a, a.g.ja[g], a.g.ia[g], a.g.ga[g], b, c + a.i[0] * q, d, f, e), d = this.j(a, "DeadRamp", this.rb(a.g.ja[g], a.g.ia[g], a.g.ga[g]), b, c, d, f, e)) : d = this.j(a, "DeadRamp", "    (none)", b, c, d, f, e)));
      } else if (2 < a.g.h) if (a.g.l || a.g.A) for (k = 1; k < a.g.h; k += 1) this.Pa(a, a.g.ja[k], a.g.ia[k], a.g.ga[k], b, c + a.i[0] * q, d, f, e), d = a.g.l ? this.j(a, this.fG(k), this.rb(a.g.ja[k], a.g.ia[k], a.g.ga[k]), b, c, d, f, e) : this.j(a, this.pD(k), this.rb(a.g.ja[k], a.g.ia[k], a.g.ga[k]), b, c, d, f, e); else {
        g = a.g.h + a.la - 1;
        this.Pa(a, a.g.ja[g], a.g.ia[g], a.g.ga[g], b, c + a.i[0] * q, d, f, e);
        d = this.j(a, "Alive", this.rb(a.g.ja[g], a.g.ia[g], a.g.ga[g]), b, c, d, f, e);
        for (k = 1; k < a.g.h - 1; k += 1) g = a.g.h - k + a.la - 1, this.Pa(a, a.g.ja[g], a.g.ia[g], a.g.ga[g], b, c + a.i[0] * q, d, f, e), d = this.j(a, "Dying " + k, this.rb(a.g.ja[g], a.g.ia[g], a.g.ga[g]), b, c, d, f, e);
        0 < a.la && (g = a.la, this.Pa(a, a.g.ja[g], a.g.ia[g], a.g.ga[g], b, c + a.i[0] * q, d, f, e), d = this.j(a, "Dead", this.rb(a.g.ja[g], a.g.ia[g], a.g.ga[g]), b, c, d, f, e), 1 < a.la && (g = 1, p.h.h.h !== p.h.i.h || p.h.h.l !== p.h.i.l || p.h.h.i !== p.h.i.i ? (this.Pa(a, a.g.ja[g], a.g.ia[g], a.g.ga[g], b, c + a.i[0] * q, d, f, e), d = this.j(a, "DeadRamp", this.rb(a.g.ja[g], a.g.ia[g], a.g.ga[g]), b, c, d, f, e)) : d = this.j(a, "DeadRamp", "    (none)", b, c, d, f, e)));
      } else 12 == a.g.Lb && a.g.Ea ? (p = a.g.la[11], this.Pa(a, p.i.h.h, p.i.h.l, p.i.h.i, b, c + a.i[0] * q, d, f, e), d = this.j(a, "Alive", this.ce(p.i.h), b, c, d, f, e), p = a.g.la[a.g.Lb]) : (this.Pa(a, p.i.h.h, p.i.h.l, p.i.h.i, b, c + a.i[0] * q, d, f, e), d = this.j(a, "Alive", this.ce(p.i.h), b, c, d, f, e), p.i.h.h !== p.i.i.h || p.i.h.l !== p.i.i.l || p.i.h.i !== p.i.i.i ? (this.Pa(a, p.i.i.h, p.i.i.l, p.i.i.i, b, c + a.i[0] * q, d, f, e), d = this.j(a, "AliveRamp", this.ce(p.i.i), b, c, d, f, e)) : d = this.j(a, "AliveRamp", "    (none)", b, c, d, f, e)), 0 < a.la && (this.Pa(a, p.h.i.h, p.h.i.l, p.h.i.i, b, c + a.i[0] * q, d, f, e), d = this.j(a, "Dead", this.ce(p.h.i), b, c, d, f, e), 1 < a.la && (p.h.h.h !== p.h.i.h || p.h.h.l !== p.h.i.l || p.h.h.i !== p.h.i.i ? (this.Pa(a, p.h.h.h, p.h.h.l, p.h.h.i, b, c + a.i[0] * q, d, f, e), d = this.j(a, "DeadRamp", this.ce(p.h.h), b, c, d, f, e)) : d = this.j(a, "DeadRamp", "    (none)", b, c, d, f, e)));
      if (a.g.H) for (k = 3; 6 >= k; k += 1) l = 128 + G.yb[k], g = this.rb(a.g.ja[l], a.g.ia[l], a.g.ga[l]), r = G.Je[k], this.Pa(a, a.g.ja[l], a.g.ia[l], a.g.ga[l], b, c + a.i[0] * q, d, f, e), d = this.j(a, r, g, b, c, d, f, e);
      -1 !== a.g.C && (256 > a.g.h + a.g.v ? (this.Pa(a, a.Df[0], a.Df[1], a.Df[2], b, c + a.i[0] * q, d, f, e), d = this.j(a, "Bounded", this.rb(a.Df[0], a.Df[1], a.Df[2]), b, c, d, f, e)) : (this.Pa(a, a.g.ja[2], a.g.ia[2], a.g.ga[2], b, c + a.i[0] * q, d, f, e), d = this.j(a, "Bounded*", this.rb(a.g.ja[2], a.g.ia[2], a.g.ga[2]), b, c, d, f, e)));
      this.Pa(a, a.Bd[0], a.Bd[1], a.Bd[2], b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Boundary", this.rb(a.Bd[0], a.Bd[1], a.Bd[2]), b, c, d, f, e);
      d = this.j(a, "Borders", a.g.Va ? "On" : "Off", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[n] = [a.o, "Gridlines"];
      n += 1;
      d = this.j(a, "", "Gridlines:", b, c, d, f, e);
      r = a.g.Ia ? "On" : "Off";
      a.g.Ia && !a.g.he() && (r += " (Hidden)");
      d = this.j(a, "Enabled", r, b, c, d, f, e);
      1 !== a.g.Sa && (this.Pa(a, a.g.mb >> 16, a.g.mb >> 8 & 255, a.g.mb & 255, b, c + a.i[0] * q, d, f, e), d = this.j(a, "Line Color", this.rb(a.g.mb >> 16, a.g.mb >> 8 & 255, a.g.mb & 255), b, c, d, f, e));
      0 < a.g.Sa && (this.Pa(a, a.g.uc >> 16, a.g.uc >> 8 & 255, a.g.uc & 255, b, c + a.i[0] * q, d, f, e), d = this.j(a, "Major Color", this.rb(a.g.uc >> 16, a.g.uc >> 8 & 255, a.g.uc & 255), b, c, d, f, e));
      r = 0 < a.g.Sa && a.g.Rc ? String(a.g.Sa) : "Off";
      d = this.j(a, "Interval", r, b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[n] = [a.o, "UI"];
      d = this.j(a, "", "UI:", b, c, d, f, e);
      n += 1;
      l = a.oa[G.Gp];
      -1 === l && (l = 16777215);
      this.Pa(a, l >> 16, l >> 8 & 255, l & 255, b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Foreground", this.rb(l >> 16, l >> 8 & 255, l & 255), b, c, d, f, e);
      l = a.oa[G.Ep];
      -1 === l && (l = 0);
      this.Pa(a, l >> 16, l >> 8 & 255, l & 255, b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Background", this.rb(l >> 16, l >> 8 & 255, l & 255), b, c, d, f, e);
      l = a.oa[G.Hp];
      -1 === l && (l = 61472);
      this.Pa(a, l >> 16, l >> 8 & 255, l & 255, b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Highlight", this.rb(l >> 16, l >> 8 & 255, l & 255), b, c, d, f, e);
      l = a.oa[G.Jp];
      -1 === l && (l = 255);
      this.Pa(a, l >> 16, l >> 8 & 255, l & 255, b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Selected", this.rb(l >> 16, l >> 8 & 255, l & 255), b, c, d, f, e);
      l = a.oa[G.Ip];
      -1 === l && (l = 8421504);
      this.Pa(a, l >> 16, l >> 8 & 255, l & 255, b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Locked", this.rb(l >> 16, l >> 8 & 255, l & 255), b, c, d, f, e);
      l = a.oa[G.Fp];
      -1 === l && (l = 16777215);
      this.Pa(a, l >> 16, l >> 8 & 255, l & 255, b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Border", this.rb(l >> 16, l >> 8 & 255, l & 255), b, c, d, f, e);
      a.Uc ? (this.Pa(a, a.Uc[0], a.Uc[1], a.Uc[2], b, c + a.i[0] * q, d, f, e), d = this.j(a, "Text*", this.rb(a.Uc[0], a.Uc[1], a.Uc[2]), b, c, d, f, e)) : (this.Pa(a, 255, 255, 255, b, c + a.i[0] * q, d, f, e), d = this.j(a, "Text", this.rb(255, 255, 255), b, c, d, f, e));
      a.Tc ? (this.Pa(a, a.Tc[0], a.Tc[1], a.Tc[2], b, c + a.i[0] * q, d, f, e), d = this.j(a, "Error*", this.rb(a.Tc[0], a.Tc[1], a.Tc[2]), b, c, d, f, e)) : (this.Pa(a, 255, 48, 48, b, c + a.i[0] * q, d, f, e), d = this.j(a, "Error", this.rb(255, 96, 96), b, c, d, f, e));
      a.ze ? (this.Pa(a, a.ze[0], a.ze[1], a.ze[2], b, c + a.i[0] * q, d, f, e), d = this.j(a, "Help*", this.rb(a.ze[0], a.ze[1], a.ze[2]), b, c, d, f, e)) : (this.Pa(a, 32, 255, 255, b, c + a.i[0] * q, d, f, e), d = this.j(a, "Help", this.rb(32, 255, 255), b, c, d, f, e));
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[n] = [a.o, "Selection"];
      n += 1;
      d = this.j(a, "", "Selection Boxes:", b, c, d, f, e);
      this.Pa(a, a.Gf[0], a.Gf[1], a.Gf[2], b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Selection", this.rb(a.Gf[0], a.Gf[1], a.Gf[2]), b, c, d, f, e);
      this.Pa(a, a.Ff[0], a.Ff[1], a.Ff[2], b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Paste Box", this.rb(a.Ff[0], a.Ff[1], a.Ff[2]), b, c, d, f, e);
      this.Pa(a, a.Hf[0], a.Hf[1], a.Hf[2], b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Paste Cell", this.rb(a.Hf[0], a.Hf[1], a.Hf[2]), b, c, d, f, e);
      this.Pa(a, a.Cf[0], a.Cf[1], a.Cf[2], b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Advance", this.rb(a.Cf[0], a.Cf[1], a.Cf[2]), b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[n] = [a.o, "Graph"];
      n += 1;
      d = this.j(a, "", "Population Graph:", b, c, d, f, e);
      d = this.j(a, "Enabled", a.Fa ? "On" : "Off", b, c, d, f, e);
      d = this.j(a, "Disabled", a.cc ? "On" : "Off", b, c, d, f, e);
      d = this.j(a, "Mode", a.pd ? "Lines" : "Points", b, c, d, f, e);
      -1 === a.g.C ? (m = "", a.hh && (m = "Population"), a.fh && (m = "" === m ? "Births" : m + ", Births"), a.gh && (m = "" === m ? "Deaths" : m + ", Deaths"), "" === m && (m = "<none>")) : m = "Population";
      d = this.j(a, "Data", m, b, c, d, f, e);
      d = this.j(a, "Opacity", a.Ya.toFixed(2), b, c, d, f, e);
      this.Pa(a, a.g.md[0], a.g.md[1], a.g.md[2], b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Bg Color", this.rb(a.g.md[0], a.g.md[1], a.g.md[2]), b, c, d, f, e);
      this.Pa(a, a.g.ld[0], a.g.ld[1], a.g.ld[2], b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Axis Color", this.rb(a.g.ld[0], a.g.ld[1], a.g.ld[2]), b, c, d, f, e);
      this.Pa(a, a.g.kd[0], a.g.kd[1], a.g.kd[2], b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Alive Color", this.rb(a.g.kd[0], a.g.kd[1], a.g.kd[2]), b, c, d, f, e);
      this.Pa(a, a.g.nd[0], a.g.nd[1], a.g.nd[2], b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Birth Color", this.rb(a.g.nd[0], a.g.nd[1], a.g.nd[2]), b, c, d, f, e);
      this.Pa(a, a.g.od[0], a.g.od[1], a.g.od[2], b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Death Color", this.rb(a.g.od[0], a.g.od[1], a.g.od[2]), b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[n] = [a.o, "Stars"];
      n += 1;
      d = this.j(a, "", "Stars:", b, c, d, f, e);
      d = this.j(a, "Enabled", a.rd ? "On" : "Off", b, c, d, f, e);
      this.Pa(a, a.Pd.h.h, a.Pd.h.l, a.Pd.h.i, b, c + a.i[0] * q, d, f, e);
      d = this.j(a, "Color", this.ce(a.Pd.h), b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[n] = [a.o, "Randomize"];
      n += 1;
      d = this.j(a, "", "Randomize:", b, c, d, f, e);
      d = this.j(a, "Pattern", a.Rk ? "On" : "Off", b, c, d, f, e);
      d = this.j(a, "States", a.Nk ? "2" : "All", b, c, d, f, e);
      d = this.j(a, "Custom Seed", a.et ? "On" : "Off", b, c, d, f, e);
      d = this.j(a, "Seed", a.bj, b, c, d, f, e);
      d = this.j(a, "Width", a.qo, b, c, d, f, e);
      d = this.j(a, "Height", a.jo, b, c, d, f, e);
      d = this.j(a, "Fill", a.aj + "%", b, c, d, f, e);
      d = this.j(a, "Rule Fixed", a.Lk ? "Yes" : "No", b, c, d, f, e);
      if (!a.Lk) if (a.g.Z || a.g.i) d = this.j(a, "Reversible", a.lo ? "Only" : "Any", b, c, d, f, e), d = this.j(a, "FixedPop", a.no ? "Yes" : "No", b, c, d, f, e); else if (!a.g.Ea && -1 === a.g.Id) {
        if (-1 === a.Te && -1 === a.Sf) {
          d = this.j(a, "Chance ALL" + (-1 === a.Se ? "*" : ""), -1 === a.Se ? "50%" : a.Se + "%", b, c, d, f, e);
          g = false;
          for (k = 0; k < a.ad.length; k += 2) 0 === a.ad[k] && (g = true);
          g || (d = this.j(a, "Chance B0*", "25%", b, c, d, f, e));
        } else d = this.j(a, "Chance B" + (-1 === a.Te ? "*" : ""), -1 === a.Te ? "50%" : a.Te + "%", b, c, d, f, e), d = this.j(a, "Chance S" + (-1 === a.Sf ? "*" : ""), -1 === a.Sf ? "50%" : a.Sf + "%", b, c, d, f, e);
        for (k = 0; k < a.ad.length; k += 2) d = this.j(a, "Chance B" + a.ad[k], a.ad[k + 1] + "%", b, c, d, f, e);
        for (k = 0; k < a.Md.length; k += 2) d = this.j(a, "Chance S" + a.Md[k], a.Md[k + 1] + "%", b, c, d, f, e);
      }
      d = this.j(a, "", "", b, c, d, f, e);
      a.v[n] = [a.o, "Script"];
      n += 1;
      d = this.j(a, "", "Script:", b, c, d, f, e);
      d = this.j(a, "Commands", a.rh, b, c, d, f, e);
      d = this.j(a, "Errors", a.Er, b, c, d, f, e);
      if (a.Ca) for (d = this.j(a, "", "", b, c, d, f, e), a.v[n] = [a.o, "Waypoints"], n += 1, d = this.j(a, "", "Waypoints:", b, c, d, f, e), d = this.j(a, "Enabled", a.ib ? "Off" : "On", b, c, d, f, e), d = this.j(a, "Number", a.m.h.length, b, c, d, f, e), k = 0; k < a.m.h.length; k += 1) r = String(k), k === a.m.u && (r = a.m.V(a.elapsedTime) ? r + ">" : r + "*"), d = this.j(a, r, a.m.$a(k, C.wd), b, c, d, f, e);
      if (a.m.i.length) for (d = this.j(a, "", "", b, c, d, f, e), a.v[n] = [a.o, "POIs"], d = this.j(a, "", "Points of interest:", b, c, d, f, e), d = this.j(a, "Number", a.m.i.length, b, c, d, f, e), k = 0; k < a.m.i.length; k += 1) r = String(k + 1), k === a.Gc && (r += "*"), k === a.ah && (r += " INITIAL"), g = false, m = a.m.Fa(k), "" !== m && (d = this.j(a, g ? " " : r, (g ? "  " : "") + m, b, c, d, f, e), g = true), m = a.m.Ja(k), "" !== m && (d = this.j(a, g ? " " : r, (g ? "  " : "") + m, b, c, d, f, e), g = true), m = a.m.Ga(k), "" !== m && (d = this.j(a, g ? " " : r, (g ? "  " : "") + m, b, c, d, f, e), g = true), m = a.m.Da(k), "" !== m && (d = this.j(a, g ? " " : r, (g ? "  " : "") + m, b, c, d, f, e), g = true), m = a.m.Ia(k), "" !== m && (d = this.j(a, g ? " " : r, (g ? "  " : "") + m, b, c, d, f, e), g = true), m = a.m.Ha(k, C.wd), "" !== m && (d = this.j(a, g ? " " : r, (g ? "  " : "") + m, b, c, d, f, e));
    }, BF: function (a, b, c, d, f, e) {
      var k, g, m = 0, p = a.h.s;
      a.o = 1;
      a.Bc = false;
      a.v = [];
      a.i[0] = 130;
      a.i[1] = 200;
      a.i[2] = 250;
      a.i[3] = 300;
      a.i[4] = 390;
      a.v[m] = [a.o, "Top"];
      m += 1;
      d = this.j(a, "", "Themes", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      d = this.j(a, "", "Themes are used to provide a visual representation of", b, c, d, f, e);
      d = this.j(a, "", "cell history and longevity and also define grid colours", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      d = this.j(a, "", "Grid:", b, c, d, f, e);
      d = this.j(a, "GRID", "grid line colour", b, c, d, f, e);
      d = this.j(a, "GRIDMAJOR", "major grid line colour and interval", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      if (2 >= a.g.h) for (d = this.j(a, "", "Two-state Themes:", b, c, d, f, e), d = this.j(a, "BACKGROUND", "cell never occupied", b, c, d, f, e), d = this.j(a, "ALIVE", "cell just born", b, c, d, f, e), d = this.j(a, "ALIVERAMP", "cell alive for several generations", b, c, d, f, e), d = this.j(a, "DEAD", "cell just died", b, c, d, f, e), d = this.j(a, "DEADRAMP", "cell dead for several generations", b, c, d, f, e), d = this.j(a, "", "", b, c, d, f, e), d = this.j(a, "", a.Rg + " (" + C.zo + ") states from ALIVE to ALIVERAMP", b, c, d, f, e), d = this.j(a, "", a.la + " (" + C.qn + ") states from DEAD to DEADRAMP", b, c, d, f, e), k = 0; k < a.g.la.length - 1; k += 1) {
        d = this.j(a, "", "", b, c, d, f, e);
        var n = a.g.la[k];
        a.v[m] = [a.o, n.name];
        m += 1;
        d = this.j(a, "Name" + (k === a.g.Lb && 2 >= a.g.h ? "*" : ""), n.name, b, c, d, f, e);
        this.Pa(a, n.u.h, n.u.l, n.u.i, b, c + a.i[0] * p, d, f, e);
        d = this.j(a, "BACKGROUND", this.ce(n.u), b, c, d, f, e);
        if (12 === k && a.g.Ea) n = a.g.la[11], this.Pa(a, n.i.h.h, n.i.h.l, n.i.h.i, b, c + a.i[0] * p, d, f, e), d = this.j(a, "ALIVE", this.ce(n.i.h), b, c, d, f, e), n = a.g.la[k]; else if (this.Pa(a, n.i.h.h, n.i.h.l, n.i.h.i, b, c + a.i[0] * p, d, f, e), d = this.j(a, "ALIVE", this.ce(n.i.h), b, c, d, f, e), n.i.h.h !== n.i.i.h || n.i.h.l !== n.i.i.l || n.i.h.i !== n.i.i.i) this.Pa(a, n.i.i.h, n.i.i.l, n.i.i.i, b, c + a.i[0] * p, d, f, e), d = this.j(a, "ALIVERAMP", this.ce(n.i.i), b, c, d, f, e);
        this.Pa(a, n.h.i.h, n.h.i.l, n.h.i.i, b, c + a.i[0] * p, d, f, e);
        d = this.j(a, "DEAD", this.ce(n.h.i), b, c, d, f, e);
        if (n.h.h.h !== n.h.i.h || n.h.h.l !== n.h.i.l || n.h.h.i !== n.h.i.i) this.Pa(a, n.h.h.h, n.h.h.l, n.h.h.i, b, c + a.i[0] * p, d, f, e), d = this.j(a, "DEADRAMP", this.ce(n.h.h), b, c, d, f, e);
        this.Pa(a, n.o >> 16, n.o >> 8 & 255, n.o & 255, b, c + a.i[0] * p, d, f, e);
        d = this.j(a, "GRID", this.rb(n.o >> 16, n.o >> 8 & 255, n.o & 255), b, c, d, f, e);
        0 < n.A && (this.Pa(a, n.s >> 16, n.s >> 8 & 255, n.s & 255, b, c + a.i[0] * p, d, f, e), d = this.j(a, "GRIDMAJOR", this.rb(n.s >> 16, n.s >> 8 & 255, n.s & 255), b, c, d, f, e));
        d = a.g.Z && 0 < n.A ? this.j(a, "GRIDMAJOR", 2, b, c, d, f, e) : this.j(a, "GRIDMAJOR", n.A, b, c, d, f, e);
      } else if (a.g.i) for (d = this.j(a, "", "PCA Themes:", b, c, d, f, e), d = this.j(a, "BACKGROUND", "cell never occupied", b, c, d, f, e), d = this.j(a, "DEAD", "cell just died", b, c, d, f, e), d = this.j(a, "DEADRAMP", "cell dead for several generations", b, c, d, f, e), d = this.j(a, "", "", b, c, d, f, e), d = this.j(a, "", a.la + " (" + C.qn + ") states from DEAD to DEADRAMP", b, c, d, f, e), k = 0; k < a.g.la.length - 1; k += 1) {
        d = this.j(a, "", "", b, c, d, f, e);
        n = a.g.la[k];
        a.v[m] = [a.o, n.name];
        m += 1;
        d = this.j(a, "Name" + (k === a.g.Lb ? "*" : ""), n.name, b, c, d, f, e);
        this.Pa(a, n.u.h, n.u.l, n.u.i, b, c + a.i[0] * p, d, f, e);
        d = this.j(a, "BACKGROUND", this.ce(n.u), b, c, d, f, e);
        for (g = 1; 16 > g; g += 1) {
          this.Pa(a, n.B[g - 1].h, n.B[g - 1].l, n.B[g - 1].i, b, c + a.i[0] * p, d, f, e);
          var q = "";
          g & 1 && (q += "N");
          g & 2 && (q += "E");
          g & 4 && (q += "S");
          g & 8 && (q += "W");
          d = this.j(a, q, this.rb(n.B[g - 1].h, n.B[g - 1].l, n.B[g - 1].i), b, c, d, f, e);
        }
        this.Pa(a, n.l.i.h, n.l.i.l, n.l.i.i, b, c + a.i[0] * p, d, f, e);
        d = this.j(a, "DEAD", this.ce(n.l.i), b, c, d, f, e);
        if (n.l.h.h !== n.l.i.h || n.l.h.l !== n.l.i.l || n.l.h.i !== n.l.i.i) this.Pa(a, n.l.h.h, n.l.h.l, n.l.h.i, b, c + a.i[0] * p, d, f, e), d = this.j(a, "DEADRAMP", this.ce(n.l.h), b, c, d, f, e);
        this.Pa(a, n.o >> 16, n.o >> 8 & 255, n.o & 255, b, c + a.i[0] * p, d, f, e);
        d = this.j(a, "GRID", this.rb(n.o >> 16, n.o >> 8 & 255, n.o & 255), b, c, d, f, e);
        0 < n.A && (this.Pa(a, n.s >> 16, n.s >> 8 & 255, n.s & 255, b, c + a.i[0] * p, d, f, e), d = this.j(a, "GRIDMAJOR", this.rb(n.s >> 16, n.s >> 8 & 255, n.s & 255), b, c, d, f, e));
        d = this.j(a, "GRIDMAJOR", n.A, b, c, d, f, e);
      } else for (d = this.j(a, "", "Multi-state Themes:", b, c, d, f, e), d = this.j(a, "BACKGROUND", "cell never occupied", b, c, d, f, e), d = this.j(a, "ALIVE", "cell alive", b, c, d, f, e), d = this.j(a, "DYING", "cell just starting dying", b, c, d, f, e), d = this.j(a, "DYINGRAMP", "cell about to die", b, c, d, f, e), d = this.j(a, "DEAD", "cell just died", b, c, d, f, e), d = this.j(a, "DEADRAMP", "cell dead for several generations", b, c, d, f, e), d = this.j(a, "", "", b, c, d, f, e), d = this.j(a, "", "Rule defines " + (2 > a.g.h ? "" : String(a.g.h - 1) + " ") + "states from DYING to DYINGRAMP", b, c, d, f, e), d = this.j(a, "", a.la + " (HISTORYSTATES) states from DEAD to DEADRAMP", b, c, d, f, e), k = 0; k < a.g.la.length - 1; k += 1) d = this.j(a, "", "", b, c, d, f, e), n = a.g.la[k], a.v[m] = [a.o, n.name], m += 1, d = this.j(a, "Name" + (k === a.g.Lb && 2 < a.g.h ? "*" : ""), n.name, b, c, d, f, e), this.Pa(a, n.C.h, n.C.l, n.C.i, b, c + a.i[0] * p, d, f, e), d = this.j(a, "BACKGROUND", this.ce(n.C), b, c, d, f, e), 12 === k && a.g.Ea && (n = a.g.la[11]), this.Pa(a, n.v.h, n.v.l, n.v.i, b, c + a.i[0] * p, d, f, e), d = this.j(a, "ALIVE", this.ce(n.v), b, c, d, f, e), 3 === a.g.h ? (this.Pa(a, n.m.h.h, n.m.h.l, n.m.h.i, b, c + a.i[0] * p, d, f, e), d = this.j(a, "DYING", this.ce(n.m.h), b, c, d, f, e)) : (this.Pa(a, n.m.i.h, n.m.i.l, n.m.i.i, b, c + a.i[0] * p, d, f, e), d = this.j(a, "DYING", this.ce(n.m.i), b, c, d, f, e), 3 < a.g.h && (n.m.h.h !== n.m.i.h || n.m.h.l !== n.m.i.l || n.m.h.i !== n.m.i.i) && (this.Pa(a, n.m.h.h, n.m.h.l, n.m.h.i, b, c + a.i[0] * p, d, f, e), d = this.j(a, "DYINGRAMP", this.ce(n.m.h), b, c, d, f, e))), 12 === k && a.g.Ea && (n = a.g.la[12]), 255 > a.g.h && (this.Pa(a, n.l.i.h, n.l.i.l, n.l.i.i, b, c + a.i[0] * p, d, f, e), d = this.j(a, "DEAD", this.ce(n.l.i), b, c, d, f, e)), 256 > a.g.h && (n.l.h.h !== n.l.i.h || n.l.h.l !== n.l.i.l || n.l.h.i !== n.l.i.i) && (this.Pa(a, n.l.h.h, n.l.h.l, n.l.h.i, b, c + a.i[0] * p, d, f, e), d = this.j(a, "DEADRAMP", this.ce(n.l.h), b, c, d, f, e)), this.Pa(a, n.o >> 16, n.o >> 8 & 255, n.o & 255, b, c + a.i[0] * p, d, f, e), d = this.j(a, "GRID", this.rb(n.o >> 16, n.o >> 8 & 255, n.o & 255), b, c, d, f, e), 0 < n.A && (this.Pa(a, n.s >> 16, n.s >> 8 & 255, n.s & 255, b, c + a.i[0] * p, d, f, e), d = this.j(a, "GRIDMAJOR", this.rb(n.s >> 16, n.s >> 8 & 255, n.s & 255), b, c, d, f, e)), d = this.j(a, "GRIDMAJOR", n.A, b, c, d, f, e);
      this.j(a, "", "", b, c, d, f, e);
    }, tF: function (a, b, c, d, f, e) {
      var k, g = eb.Oe, m = Object.keys(g), p = a.h.s;
      a.o = 1;
      a.Bc = false;
      a.v = [];
      a.i[0] = 260;
      a.i[1] = 330;
      a.i[2] = 380;
      a.i[3] = 430;
      a.i[4] = a.displayWidth;
      a.v[0] = [a.o, "Top"];
      d = this.j(a, "", "Colours", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      d = this.j(a, "", "The following names can be used in place of R G B or hex specification", b, c, d, f, e);
      d = this.j(a, "", "for example [[ COLOUR ALIVE Green ]]", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      for (k = 0; k < m.length; k += 1) {
        var n = g[m[k]];
        this.Pa(a, n[1], n[2], n[3], b, c + a.i[0] * p, d, f, e);
        d = this.j(a, n[0], this.rb(n[1], n[2], n[3]), b, c, d, f, e);
      }
    }, rF: function (a, b, c, d, f, e) {
      var k, g = 0, m = bb.Vc, p = bb.sv;
      a.o = 1;
      a.Bc = false;
      a.v = [];
      a.i[0] = 260;
      a.v[g] = [a.o, "Top"];
      g += 1;
      d = this.j(a, "", "Aliases", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      d = this.j(a, "", "Alias names can be used as rule names in RLE", b, c, d, f, e);
      d = this.j(a, "", "for example 'rule = HighLife'", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      d = this.j(a, "", "* denotes duplicate definition", b, c, d, f, e);
      d = this.j(a, "", "+ denotes duplicate alias name", b, c, d, f, e);
      a.Bc = true;
      for (k = 0; k < m.length; k += 1) "" === m[k][1] ? (d = this.j(a, "", "", b, c, d, f, e), a.v[g] = [a.o, p[g - 1]], g += 1, d = this.j(a, "", m[k][0] + " Aliases:", b, c, d, f, e)) : "" !== m[k][0] && (d = this.j(a, m[k][0] + " " + (m[k][2] ? "*" : "") + (m[k][3] ? "+" : ""), m[k][1], b, c, d, f, e));
    }, zF: function (a, b, c, d, f, e) {
      var k, g = 0, m = Aa.cd.length, p = 0, n = 0, q = 0, l = 0, r;
      a.o = 1;
      a.Bc = false;
      a.v = [];
      a.i[0] = 128;
      a.i[1] = 200;
      a.i[2] = 290;
      a.i[3] = 530;
      a.v[g] = [a.o, "Top"];
      g += 1;
      d = this.j(a, "", "Memory usage", b, c, d, f, e);
      d = this.j(a, "", "", b, c, d, f, e);
      if (1 < m) {
        a.v[g] = [a.o, "All"];
        g += 1;
        d = this.j(a, "", "Memory (all " + m + " LifeViewers):", b, c, d, f, e);
        for (k = 0; k < m; k += 1) if (r = Aa.xD(k)) p += r.g.N.o, q += r.g.N.l >> 10, n += r.g.N.s, l += r.g.N.m >> 10;
        d = this.j(a, "In Use", p - n + "	" + ((q >> 10) - (l >> 10)) + "M", b, c, d, f, e);
        d = this.j(a, "Allocations", p + "	" + (q >> 10) + "M", b, c, d, f, e);
        d = this.j(a, "Frees", n + "	" + (l >> 10) + "M", b, c, d, f, e);
        d = this.j(a, "", "", b, c, d, f, e);
      }
      a.v[g] = [a.o, "Current"];
      d = this.j(a, "", "Memory (this LifeViewer):", b, c, d, f, e);
      d = this.j(a, "In Use", a.g.N.o - a.g.N.s + "	" + this.Xr(a.g.N.l - a.g.N.m) + "M	" + (a.g.N.l - a.g.N.m), b, c, d, f, e);
      d = this.j(a, "Allocations", a.g.N.o + "	" + this.Xr(a.g.N.l) + "M	" + a.g.N.l, b, c, d, f, e);
      d = this.j(a, "Frees", a.g.N.s + "	" + this.Xr(a.g.N.m) + "M	" + a.g.N.m, b, c, d, f, e);
      d = this.j(a, this.yz("Bytes", 10), "Type	Elements	Name	Count", b, c, d, f, e);
      for (k = 0; k < a.g.N.i.length; k += 1) d = this.j(a, this.yz(String(a.g.N.i[k].size), 10), a.g.N.B(k), b, c, d, f, e);
      this.j(a, "", "", b, c, d, f, e);
    }, ly: function (a) {
      var b = a.Ta, c = a.h.s, d = a.h.C, f = 19 * d;
      a.Da = (a.displayHeight / f | 0) - 6;
      b.fillStyle = a.D.oc;
      b.globalAlpha = 0.7;
      b.fillRect(0, 0, b.canvas.width, b.canvas.height);
      b.globalAlpha = 1;
      b.fillStyle = a.D.oc;
      this.Nh = 2;
      Xa.Vz(a, b, 6 * c, 14 * d, f, a.s | 0);
      b.fillStyle = a.Ih;
      this.Nh = 0;
      Xa.Vz(a, b, 6 * c, 14 * d, f, a.s | 0);
    }, uF: function (a, b, c, d, f, e, k, g, m, p) {
      var n = g, q = a.h.s, l = this.Nh * q, r = this.Nh * a.h.s, u = 0, t = false, v = a.o;
      e.fillStyle === a.D.Ma && (t = true);
      v >= p && v <= p + a.Da && (e.font = a.Th, t || (e.fillStyle = 1 < (a.aa | 0) ? a.Hh : a.D.$), e.fillText(b, k + l, g + r), t || (e.fillStyle = a.Hh), e.fillText(c, k + l + e.measureText(b).width, g + r), t || (e.fillStyle = (a.aa | 0) < a.Wb.length - a.Da + 1 ? a.Hh : a.D.$), e.fillText(d, k + l + e.measureText(b + c).width, g + r), a.i[0] && (u = a.i[0] * q), t || (e.fillStyle = a.Hh), e.font = a.mf, e.fillText(f, k + l + u, g + r), n += m);
      return n;
    }, rq: function (a, b, c, d, f, e, k, g) {
      var m = e, p = a.h.s, n = 0, q = a.o;
      q >= g && q <= g + a.Da && (b.length && (d.font = a.Th, d.fillText(b, f, e), n = d.measureText(b + " ").width), a.i[0] && (n = a.i[0] * p), d.font = a.mf, d.fillText(c, f + n, e), m += k);
      a.o += 1;
      return m;
    }, Uz: function (a, b, c, d, f, e) {
      var k, g = a.Wb, m = d;
      a.o = 1;
      a.i[0] = 0;
      b.font = a.mf;
      d = this.rq(a, "", G.QF, b, c, d, f, e);
      for (k = 0; k < g.length; k += 1) d = this.rq(a, g[k][0], g[k][1], b, c, d, f, e);
      a.ga || (a.i[0] = 120, a.o = 1, d = m + f * (a.Da + 2), d = this.uF(a, "Up", " / ", "Down", "scroll errors", b, c, d, f, 0), d = this.rq(a, "Esc", "clear messages", b, c, d, f, 0), this.rq(a, "H  ", "help", b, c, d, f, 0));
    }, hD: function (a) {
      var b = a.Ta, c = a.h.s, d = a.h.C, f = 19 * d, e = 7;
      a.ga && (e = 1);
      a.Da = (a.displayHeight / f | 0) - e;
      b.fillStyle = a.D.oc;
      b.globalAlpha = 0.7;
      b.fillRect(0, 0, b.canvas.width, b.canvas.height);
      b.globalAlpha = 1;
      b.fillStyle = a.D.oc;
      this.Uz(a, b, 6 * c, 14 * d, f, a.aa | 0);
      b.fillStyle = a.Hh;
      this.Uz(a, b, 4 * c, 12 * d, f, a.aa | 0);
    }}, C = {wd: '"', bk: "[[", Xl: "]]", rz: "NOSNOW", bv: "QUALITY", kA: "TIME", Nu: "PLAYTIME", Ev: "SUPPRESS", lq: "POIT", rc: "INITIAL", Ob: "OFF", zv: "STATE1FIT", Xo: "POIRESET", Nn: "POIPLAY", On: "POISTOP", Yo: "POITRANS", Ou: "POIADDLABELS", Ps: "HARDRESET", lp: "TRACK", cm: "TRACKBOX", kp: "TRACKLOOP", Xt: "NOREPORT", Pp: "GRAPH", gq: "NOGRAPH", Ls: "GRAPHOPACITY", Ms: "GRAPHPOINTS", Wt: "NOPERFWARNING", Us: "AUTOHIDEGUI", wf: "ALL", sg: "LINEAR", Eh: "BEZIER", dw: "TRIANGULARCELLS", Rs: "HEXCELLS", vq: "SQUARECELLS", bs: "CELLBORDERS", $g: "RANDCELLS", lv: "RANDOMIZE", kv: "RANDOMIZE2", gv: "RANDSEED", jv: "RANDWIDTH", ev: "RANDHEIGHT", dv: "RANDFILL", fv: "RANDREVERSIBLE", hv: "RANDFIXEDPOP", pq: "RANDCHANCE", oq: "B", qq: "S", vs: "DELETERANGE", vv: "SHOWTIMING", Es: "EXTENDEDTIMING", tv: "SHOWGENSTATS", uv: "SHOWINFOBAR", Yt: "NOSOURCE", mq: "POI", io: "TITLE", Qz: "POLY", Su: "POLYSHADOW", nq: "POLYFILL", Ru: "POLYLINE", Pu: "POLYALPHA", Tu: "POLYSIZE", Uu: "POLYT", Qu: "POLYANGLE", Xu: "POLYZOOMRANGE", Vu: "POLYTRACK", Wu: "POLYVIEWDIST", Ao: "ARROW", Rr: "ARROWSHADOW", Pr: "ARROWALPHA", Sr: "ARROWSIZE", Tr: "ARROWT", Qr: "ARROWANGLE", Wr: "ARROWZOOMRANGE", Ur: "ARROWTRACK", Vr: "ARROWVIEWDIST", No: "LABEL", st: "LABELSHADOW", ot: "LABELALPHA", tt: "LABELSIZE", ut: "LABELT", pt: "LABELANGLE", xt: "LABELZOOMRANGE", vt: "LABELTRACK", wt: "LABELVIEWDIST", nt: "LABELALIGN", lt: "LEFT", mt: "RIGHT", kt: "CENTER", Hd: "FIXED", Et: "MAXGRIDSIZE", bp: "STARS", co: "CUSTOM", Cq: "XOFFSET", Dq: "YOFFSET", bo: "BACKGROUND", ao: "ALIVE", gp: "ALIVERAMP", fo: "DEAD", eo: "DEADRAMP", ip: "DYING", hp: "DYINGRAMP", qA: "UIFOREGROUND", aH: "UIFOREGROUNDA", oA: "UIBACKGROUND", ZG: "UIBACKGROUNDA", rA: "UIHIGHLIGHT", bH: "UIHIGHTLIGHTA", tA: "UISELECT", dH: "UISELECTA", sA: "UILOCKED", cH: "UILOCKEDA", pA: "UIBORDER", $G: "UIBORDERA", Dx: "BOUNDARY", cs: "BOUNDED", $z: "SELECT", wx: "ADVANCE", aA: "SELECTED", zp: "AUTOFIT", Ws: "HISTORYFIT", qn: "HISTORYSTATES", zo: "AGESTATES", $l: "STEP", Vt: "NOSTEPBACK", ep: "T", Ku: "PAUSE", Ko: "GRID", Jo: "GRIDMAJOR", Fv: "TEXT", Bs: "ERROR", Qs: "HELP", au: "OFF", cu: "ON", Vs: "HISTORY", At: "MARK1", Ct: "MARKOFF", Bt: "MARK2", gt: "KILL", xy: "GRAPHBG", wy: "GRAPHAXIS", vy: "GRAPHALIVE", yy: "GRAPHBIRTH", zy: "GRAPHDEATH", lb: "COLOR", ks: "COLOUR", ek: "TILT", np: "VIEWONLY", Ut: "NOGUI", Tt: "NOCOPY", Lv: "THUMBNAIL", Iv: "THUMBSIZE", Hv: "THUMBLAUNCH", Jv: "THUMBSTART", Ds: "EXCLUSIVEPLAY", Zs: "IGNOREEXCLUSIVE", zj: "THEME", Tz: "RAINBOW", yq: "STARTFROM", Ap: "AUTOSTART", Kh: "LOOP", Ph: "STOP", Sj: "ANGLE", Dl: "LAYERS", hl: "DEPTH", rl: "GPS", ee: "ZOOM", Kr: "Z", Ke: "X", Me: "Y", po: "WIDTH", pn: "HEIGHT", $o: "POPUPWIDTH", Zo: "POPUPHEIGHT", Kv: "THUMBZOOM", Zt: "NOTHROTTLE", nv: "REVERSESTART", ht: "KILLGLIDERS", oy: "FASTLOOKUP", Sn: "RECIPE", Wl: "RLE", wi: "PASTE", Vo: "PASTET", du: "PASTEDELTA", Do: "EVERY", zu: "PASTEMODE", Iu: "ZERO", mu: "AND", fu: "0010", Du: "X", hu: "DIFF", Gu: "Y", Eu: "XOR", yu: "OR", ru: "NOR", Cu: "XNOR", vu: "NOTY", ju: "1011", tu: "NOTX", lu: "1101", pu: "NAND", xu: "ONE", nu: "COPY", Zv: "IDENTITY", Wv: "FLIP", Xv: "FLIPX", Yv: "FLIPY", bw: "SWAPXY", cw: "SWAPXYFLIP", aw: "RCW", $v: "RCCW", Ju: "XT", Hz: "YT", Qd: "#"}, Ob = {jF: function (a, b, c) {
      var d = true, f = c.altKey, e = c.metaKey;
      if (c.ctrlKey || e || f) b = -1;
      switch (b) {
        case 84:
          a.Fh([!a.D.H], true, a);
          break;
        case 27:
          a.Al(a, true, false);
          break;
        default:
          d = false;
      }
      return d;
    }, lF: function (a, b, c) {
      var d = true, f = c.metaKey, e = c.altKey;
      if (c.ctrlKey || f || e) b = -1;
      switch (b) {
        case 84:
          a.Fh([!a.D.H], true, a);
          break;
        case 27:
        case 117:
          a.an(a);
          break;
        default:
          d = false;
      }
      return d;
    }, fk: function (a, b) {
      a.Cd === G.hg ? a.Kc(b, a) : a.Cd === b && a.Kc(G.hg, a);
    }, kF: function (a, b, c) {
      var d = true, f = c.metaKey, e = c.altKey;
      if (c.ctrlKey || f || e) b = -1;
      switch (b) {
        case 84:
          a.Fh([!a.D.H], true, a);
          break;
        default:
          d = false;
      }
      return d;
    }, iF: function (a, b, c) {
      var d = true, f = c.shiftKey, e = c.ctrlKey, k = c.altKey;
      c.metaKey && (e = true);
      if (a.La) !a.Bn && 85 === b && f && (a.La = !a.La, a.h.I = a.La, a.D.aa = a.La); else {
        e && !k && 37 <= b && 40 >= b && (37 === b ? b = 33 : 38 === b ? b = 36 : 39 === b ? b = 34 : 40 === b && (b = 35));
        if (k && !e) {
          if (48 <= b && 57 >= b) b -= 48, a.Ac || 0 === a.m.i.length ? a.mc === b ? a.ua ? a.gs(a, b) : a.gx(a) : a.Jj.current = a.Ew(b, true, a) : (--b, 0 <= b && b < a.m.i.length && (a.Gc = b, a.av(a, a.Gc))); else switch (b) {
            case 37:
              a.Of(a, -1, 0);
              break;
            case 38:
              a.Of(a, 0, -1);
              break;
            case 39:
              a.Of(a, 1, 0);
              break;
            case 40:
              a.Of(a, 0, 1);
              break;
            case 46:
              if (a.g.H || a.g.l) a.ko(a, true, true), a.g.H ? a.D.notification.notify("Cleared [R]History marked cells", 15, 120, 15, true) : a.D.notification.notify("Cleared [R]Super marked cells", 15, 120, 15, true);
              break;
            case 65:
              a.Wg.current = a.jr([!a.Wd], true, a);
              a.D.notification.notify("Auto-Shrink Selection " + (a.Wd ? "On" : "Off"), 15, 40, 15, true);
              break;
            case 66:
              a.li.current = a.Cw([!a.g.Va], true, a);
              a.D.notification.notify("Cell Borders " + (a.g.Va ? "On" : "Off"), 15, 40, 15, true);
              break;
            case 67:
              a.Na || !a.td || a.td.locked || (a.Tf(a.Fm, a.g.se, a), a.g.fa || a.ie || a.D.notification.notify(a.Om(a.g.Lb) + " Theme", 15, 40, 15, true));
              break;
            case 68:
              a.g.Z && 2 === a.g.Sa && (a.Ud.current = a.IA([!a.g.ad], true, a), a.D.notification.notify("Alternating Gridlines " + (a.g.ad ? "On" : "Off"), 15, 40, 15, true));
              break;
            case 71:
              a.g.H || -1 === a.g.h ? a.CG(a) : a.g.l ? a.D.notification.notify("Rule is already [R]Super", 15, 120, 15, true) : a.D.notification.notify("Unsupported rule for [R]Super", 15, 120, 15, true);
              break;
            case 72:
              -1 === a.g.h && !a.g.H || a.g.l ? a.tG(a) : a.g.H ? a.D.notification.notify("Rule is already [R]History", 15, 120, 15, true) : a.D.notification.notify("Unsupported rule for [R]History", 15, 120, 15, true);
              break;
            case 74:
              a.g.H || a.g.l ? a.xG(a) : -1 === a.g.h ? a.D.notification.notify("Rule is already [R]Standard", 15, 120, 15, true) : a.D.notification.notify("Unsupported rule for [R]Standard", 15, 120, 15, true);
              break;
            case 75:
              a.ww(a);
              break;
            case 76:
              0 < a.m.A() && (a.qf.current = a.Pw([!a.ge], true, a), a.D.notification.notify("Annotations " + (a.ge ? "On" : "Off"), 15, 40, 15, true));
              break;
            case 77:
              a.Lj.locked || a.ty(a);
              break;
            case 78:
              a.Ww(a);
              break;
            case 79:
              a.Pb && (a.sc = !a.sc, a.Xg.current = [a.sc], a.D.notification.notify("AutoStart " + (a.sc ? "Off" : "On"), 15, 40, 15, true));
              break;
            case 80:
              -1 !== a.jc && (a.Lb = !a.Lb, a.lg.current = [a.Lb], a.D.notification.notify("Stop " + (a.Lb ? "Off" : "On"), 15, 40, 15, true));
              break;
            case 82:
              a.xx(a);
              break;
            case 83:
              a.xi.current = a.lr([!a.Cc], true, a);
              a.D.notification.notify("Sync Clipboard " + (a.Cc ? "On" : "Off"), 15, 40, 15, true);
              break;
            case 84:
              a.mg.current = a.$q([!a.zf], true, a);
              a.D.notification.notify("Throttling " + (a.zf ? "On" : "Off"), 15, 40, 15, true);
              break;
            case 85:
              a.ki.current = a.zw([!a.nd], true, a);
              a.D.notification.notify("AutoHide UI " + (a.nd ? "On" : "Off"), 15, 80, 15, true);
              break;
            case 87:
              2 < a.g.h || a.g.Ea || a.g.i || a.g.H || a.g.l || a.g.A || a.g.s || (a.uh.current = a.ur([!a.g.Vb], true, a));
              break;
            case 88:
              a.zA(a);
              break;
            case 89:
              a.CA(a);
              break;
            case 90:
              a.Pk.locked || a.Jk(a, false);
              break;
            case 188:
              b = a.na.current[0];
              b -= 45;
              0 > b && (b += 360);
              a.na.current = a.rg([b, b], true, a);
              break;
            case 190:
              b = a.na.current[0];
              b += 45;
              360 <= b && (b -= 360);
              a.na.current = a.rg([b, b], true, a);
              break;
            case 191:
              a.iz(a);
          }
          b = -2;
        }
        switch (b) {
          case 191:
            f ? a.g.ha ? (a.Dd.current = a.nr([!a.g.va], true, a), a.D.notification.notify("Hexagonal display uses " + (a.g.va ? "Rectangles" : "Hexagons"), 15, 120, 15, true)) : a.g.X && (a.Dd.current = a.nr([!a.g.va], true, a), a.D.notification.notify("Triangular display uses " + (a.g.va ? "Rectangles" : "Triangles"), 15, 120, 15, true)) : a.$a.locked || (b = a.$a.current[0], 0.47 < b && 0.53 > b ? b = 0.46 : (b -= 0.02, 0 > b && (b = 0)), a.$a.current = a.vj([b, b], true, a));
            break;
          case 192:
            f ? a.$a.locked || (a.$a.current = a.vj([0.5, 0], true, a)) : a.$a.locked || (b = a.$a.current[0], 0.47 < b && 0.53 > b ? b = 0.54 : (b += 0.02, 1 < b && (b = 1)), a.$a.current = a.vj([b, b], true, a));
            break;
          case 8:
            0 !== a.s ? a.Cd !== G.hg ? a.Kc(G.hg, a) : (a.s = 0, a.md.current = a.df([0 !== a.s], true, a), a.D.i = true) : a.ja.current[0] ? (a.lk(a), a.D.i = true) : a.L || a.$b.o[1] || (b = a.Y, a.Y = 1, a.$b.current = a.xd(G.Cn, true, a), a.Y = b);
            break;
          case 66:
            e ? a.Dy(a) : f ? (a.Ne.current = [!a.Ne.current[0]], a.D.i = true) : a.L || a.$b.o[1] || (b = a.Y, a.Y = 1, a.$b.current = a.xd(G.Cn, true, a), a.Y = b);
            break;
          case 13:
            a.ua || a.Qa ? a.$B(a) : a.L || (a.$b.current === G.ui ? a.$b.current = a.xd(G.ui, true, a) : a.cb && a.D.ea || (a.$b.current = a.xd(G.ui, true, a)));
            break;
          case 9:
            a.L || (a.Fb ? a.$b.current = a.xd(G.je, true, a) : f ? (a.g.Z || a.g.i) && null !== a.g.bb ? a.$b.current = a.xd(G.Cn, true, a) : 0 < a.g.counter && (a.Gq(a.g.counter - a.Y), a.Em(a.g.counter - a.Y + 1)) : (a.dd = true, a.X("")));
            break;
          case 32:
            a.L || (a.Fb ? a.$b.current = a.xd(G.je, true, a) : e || f ? a.sD(a, f) : (a.dd = true, a.xv = true, a.X("")));
            break;
          case 87:
            f ? (a.Uf.current = a.Uq([!a.Jd], true, a), a.D.notification.notify("Performance Warning " + (a.Jd ? "On" : "Off"), 15, 40, 15, true)) : a.hb ? (a.Nc.current = a.br([a.Nb], true, a), -1 !== a.Mb ? a.D.notification.notify("Track and Loop " + (a.Nb ? "Off" : "On"), 15, 40, 15, true) : a.D.notification.notify("Track " + (a.Nb ? "Off" : "On"), 15, 40, 15, true)) : a.Ca && (a.Nc.current = a.br([a.ib], true, a), -1 !== a.Mb ? a.D.notification.notify("Waypoints and Loop " + (a.ib ? "Off" : "On"), 15, 40, 15, true) : a.D.notification.notify("Waypoints " + (a.ib ? "Off" : "On"), 15, 40, 15, true));
            break;
          case 68:
            e ? (a.lj.current = a.Yq([!a.Vf], true, a), a.D.notification.notify("States Display " + (a.Vf ? "On" : "Off"), 15, 80, 15, true)) : f ? a.lA(a) : "Oscillator" === a.pb && null !== a.g.ie && (a.Ed.current = 2 === a.Kd ? a.ng(0, true, a) : a.ng(2, true, a));
            break;
          case 69:
            "Oscillator" === a.pb && null !== a.g.ie && (a.Ed.current = 1 === a.Kd ? a.ng(0, true, a) : a.ng(1, true, a));
            break;
          case 90:
            e ? (k && (a.Tk.locked || a.Jk(a, true)), f ? a.jt(a) : a.Sd.locked || a.dr(a)) : f ? (b = Aa.iA(), 0 === b ? a.D.notification.notify("No LifeViewers playing", 15, 100, 15, true) : 1 < b && a.D.notification.notify("Paused all LifeViewers", 15, 100, 15, true)) : (b = Aa.Dv(a), 0 < b && (1 < b ? a.D.notification.notify("Paused " + b + " other LifeViewers", 15, 100, 15, true) : a.D.notification.notify("Paused " + b + " other LifeViewer", 15, 100, 15, true)));
            break;
          case 88:
            e ? a.ix(a, f, k) : f ? (a.Fd.current = a.Rw([!a.g.Rc], true, a), 0 < a.g.Sa && (a.D.notification.notify("Major Grid Lines " + (a.g.Rc ? "On" : "Off"), 15, 40, 15, true), a.iy())) : (a.g.Ia = !a.g.Ia, a.kd.current = a.sj([a.g.Ia], true, a), a.D.notification.notify("Grid Lines " + (a.g.Ia ? "On" : "Off"), 15, 40, 15, true));
            break;
          case 89:
            0 !== a.s ? this.fk(a, G.It) : e ? a.jt(a) : a.cc ? a.D.notification.notify("Graph Disabled", 15, 40, 15, true) : f ? (a.pd = !a.pd, a.Si.current = a.fA([a.pd], true, a), a.D.notification.notify("Graph " + (a.pd ? "Lines" : "Points"), 15, 40, 15, true)) : (a.Fa = !a.Fa, a.Ee.current = a.tp([a.Fa], true, a), a.D.notification.notify("Population Graph " + (a.Fa ? "On" : "Off"), 15, 40, 15, true));
            break;
          case 75:
            0 !== a.s ? this.fk(a, G.ft) : e ? k ? (a.ko(a, false, false), b = a.Qe, 2 < a.g.h && !(a.g.fa || a.g.i || a.g.s || a.g.l || a.g.A) && 0 < b && (b = a.g.h - b), a.g.s ? a.D.notification.notify("Cleared state " + b + " cells", 15, 120, 15, true) : a.D.notification.notify("Cleared " + a.eh(b) + " cells", 15, 120, 15, true)) : a.Vk(a) : f ? (a.lm(a, true), a.D.notification.notify("Copied view to clipboard", 15, 180, 15, true)) : (a.lm(a, false), a.D.notification.notify("Copied position to clipboard", 15, 180, 15, true));
            break;
          case 80:
            e ? (a.wk.current = a.mA([!a.Zi], true, a), a.D.notification.notify("Pause while drawing " + (a.Zi ? "On" : "Off"), 15, 80, 15, true)) : f ? -1 !== a.Mb && (a.va = !a.va, a.sf.current = [a.va], a.D.notification.notify("Loop " + (a.va ? "Off" : "On"), 15, 40, 15, true)) : a.Na || a.Ha.locked || (a.Ha.current = 0.99 >= a.Ha.current[0] ? a.ff([a.Ha.current[0] + 0.01, a.Ha.current[1]], true, a) : a.ff([1, a.Ha.current[1]], true, a));
            break;
          case 76:
            e ? a.Ge.locked || (a.g.hd = !a.g.hd, a.D.notification.notify("Kill Gliders " + (a.g.hd ? "On" : "Off"), 15, 40, 15, true)) : f ? a.HB(a) : a.Na || a.Ha.locked || (a.Ha.current = 0.01 <= a.Ha.current[0] ? a.ff([a.Ha.current[0] - 0.01, a.Ha.current[1]], true, a) : a.ff([0, a.Ha.current[1]], true, a));
            break;
          case 81:
            e ? (a.Hk.current = a.Tw([!a.g.Cc], true, a), a.D.notification.notify((a.g.Cc ? "High" : "Standard") + " Quality Rendering", 15, 80, 15, true)) : !a.Na && !a.eb.locked && a.eb.current[0] < G.Tp && (a.eb.current = a.Pl([a.g.Aa + 1, a.eb.current[1]], true, a));
            break;
          case 65:
            0 !== a.s ? this.fk(a, G.Jr) : f ? a.R && a.kk(a) : e ? a.wa.o[G.ak] || a.ny(a) : !a.Na && !a.eb.locked && a.eb.current[0] > G.aq && (a.eb.current = a.Pl([a.g.Aa - 1, a.eb.current[1]], true, a));
            break;
          case 82:
            f ? Aa.Wz() : a.$b.current = a.xd(G.Qt, true, a);
            break;
          case 83:
            0 !== a.s ? this.fk(a, G.rv) : e ? a.nk.locked || a.Cx(a) : f ? a.g.H && (a.sd = !a.sd, a.D.notification.notify("AutoFit State 1 Mode " + (a.sd ? "On" : "Off"), 15, 40, 15, true)) : (a.kj.current = a.Zw([!a.rd], true, a), a.D.notification.notify("Stars " + (a.rd ? "On" : "Off"), 15, 40, 15, true));
            break;
          case 78:
            0 !== a.s ? 0 < a.m.A() && this.fk(a, G.Mr) : f ? a.L || a.JA(a) : a.cf && (a.ga ? a.tw() : (a.vw(), a.s && (a.s = 0)));
            break;
          case 86:
            e ? a.Fk(a, f, false) : f ? (a.Lt(a), a.D.notification.notify("Saved camera position", 15, 100, 15, true)) : a.Va || a.ac.locked || (a.mx(a), a.D.notification.notify("Restored camera position", 15, 100, 15, true), a.Fb || (a.nc = true));
            break;
          case 221:
            a.Va || a.ac.locked || (f ? a.ik(a.ac.current[0], Math.log(a.g.zoom * a.g.Ga * 2 / G.ob) / Math.log(G.Xb / G.ob) - a.ac.current[0]) : a.ik(a.ac.current[0], 0.01));
            break;
          case 219:
            a.Va || a.ac.locked || (f ? a.ik(a.ac.current[0], Math.log(a.g.zoom * a.g.Ga / 2 / G.ob) / Math.log(G.Xb / G.ob) - a.ac.current[0]) : a.ik(a.ac.current[0], -0.01));
            break;
          case 53:
          case 101:
            e ? f ? a.g.i || a.Xn(a, true) : a.Rd(5) : f ? a.Xn(a, false) : a.na.locked || (a.g.angle = 0, a.na.current = [a.g.angle, a.g.angle]);
            break;
          case 49:
          case 97:
            e ? a.Rd(1) : a.ac.locked || (f ? (a.Sc(a, a.g.zoom * a.g.Ga, true), a.D.notification.notify("Integer Zoom", 15, 40, 15, true)) : a.Sc(a, 1, false));
            break;
          case 50:
          case 98:
            e ? a.Rd(2) : a.ac.locked || (f ? a.Sc(a, 0.5, false) : a.Sc(a, 2, false));
            break;
          case 51:
          case 99:
            e ? a.Rd(3) : a.ac.locked || (f ? a.Sc(a, 0.03125, false) : a.Sc(a, 32, false));
            break;
          case 52:
          case 100:
            e ? a.Rd(4) : a.ac.locked || (f ? a.Sc(a, 0.25, false) : a.Sc(a, 4, false));
            break;
          case 54:
          case 102:
            e ? a.Rd(6) : a.ac.locked || (f ? a.Sc(a, 0.0625, false) : a.Sc(a, 16, false));
            break;
          case 55:
            e ? a.Rd(7) : a.cc ? a.D.notification.notify("Graph Disabled", 15, 40, 15, true) : (0 < a.Ya && (a.Ya -= 0.05, 0 > a.Ya && (a.Ya = 0)), a.Ui.current = a.up([a.Ya, a.Ya], false, a));
            break;
          case 56:
          case 104:
            e ? a.Rd(8) : a.ac.locked || (f ? a.Sc(a, 0.125, false) : a.Sc(a, 8, false));
            break;
          case 57:
            e ? a.Rd(9) : a.cc ? a.D.notification.notify("Graph Disabled", 15, 40, 15, true) : (1 > a.Ya && (a.Ya += 0.05, 1 < a.Ya && (a.Ya = 1)), a.Ui.current = a.up([a.Ya, a.Ya], false, a));
            break;
          case 48:
          case 96:
            e ? a.Rd(0) : a.hc.current = a.Mc([1, 1], true, a);
            break;
          case 189:
          case 109:
            e && 189 === b ? d = false : a.L || (a.Y > G.tg ? f ? a.Y = G.tg : (--a.Y, a.Y < G.tg && (a.Y = G.tg)) : a.fa > G.Tg && (f ? a.fa = G.Tg : (--a.fa, a.fa < G.Tg && (a.fa = G.Tg))), a.hc.current = a.Mc([a.Wf(), 1], true, a));
            break;
          case 187:
          case 107:
            e && 187 === b ? d = false : a.L || (a.fa < a.M ? f ? a.fa = a.M : (a.fa += 1, a.fa > a.M && (a.fa = a.M)) : a.Y < G.ni && (f ? a.Y = G.ni : (a.Y += 1, a.Y > G.ni && (a.Y = G.ni))), a.hc.current = a.Mc([a.Wf(), 1], true, a));
            break;
          case 188:
            f && (a.R || a.ua) ? a.ox(a) : a.na.locked || (b = a.na.current[0], b = f ? b - 90 : b - 1, 0 > b && (b += 360), a.na.current = a.rg([b, b], true, a));
            break;
          case 190:
            f && (a.R || a.ua) ? a.qx(a) : a.na.locked || (b = a.na.current[0], b = f ? b + 90 : b + 1, 360 <= b && (b -= 360), a.na.current = a.rg([b, b], true, a));
            break;
          case 46:
            a.R ? f ? a.my(a) : (a.lw(a, e), e && (a.g.H || a.g.l) && (a.g.H ? a.D.notification.notify("Cleared [R]History cells", 15, 120, 15, true) : a.D.notification.notify("Cleared [R]Super cells", 15, 120, 15, true))) : e && (b = a.ko(a, e, false)) && (a.g.H ? a.D.notification.notify("Cleared [R]History cells", 15, 120, 15, true) : a.D.notification.notify("Cleared [R]Super cells", 15, 120, 15, true));
            break;
          case 74:
            e && !f ? a.Gy(a) : e && f ? d = false : a.m.i.length ? a.Va || (f ? a.hx(a) : a.Yw(a)) : a.D.notification.notify("No POIs defined", 15, 80, 15, true);
            break;
          case 84:
            0 === a.s || a.g.fa || a.g.l || a.g.A || a.g.s ? f ? a.D.C = !a.D.C : a.Ii.current = a.Fh([!a.D.H], true, a) : this.fk(a, G.Gv);
            break;
          case 85:
            f ? !a.Bn && (a.La = !a.La, a.h.I = a.La, a.D.aa = a.La) && (a.s = 0, a.aa = 0) : (a.g.Z || a.g.i) && a.g.bb && a.gw(a);
            break;
          case 71:
            e ? (a.ed = !a.ed, a.ji.current = a.KA([a.ed], true, a), a.D.notification.notify("Auto Grid Lines " + (a.ed ? "On" : "Off"), 15, 40, 15, true)) : f ? a.gk && (a.fj.current = a.Xw([!a.De], true, a), a.D.notification.notify("Generation display " + (a.De ? "Relative" : "Absolute"), 15, 40, 15, true)) : (a.vp([!a.kg], true, a), a.mb && (a.mb.current = [a.kg], a.D.i = true));
            break;
          case 70:
            e ? a.R && (a.ub(true, true, G.Go), a.D.notification.notify("Fit Selection", 15, 80, 15, true)) : f ? a.Vd.locked || (a.ea = !a.ea, a.Vd.current = a.Yz([a.ea], true, a), a.D.notification.notify("AutoFit " + (a.ea ? "On" : "Off"), 15, 40, 15, true)) : a.kf.locked || (a.ub(true, true, G.xf), a.D.notification.notify("Fit Pattern", 15, 80, 15, true), a.Fb || (a.nc = true));
            break;
          case 79:
            e ? f ? a.$w(a) : a.Sw(a) : a.xh = f ? 2 : 1;
            break;
          case 37:
            f ? a.tf(a.g.zoom, a.g.zoom) : a.tf(a.g.zoom, 0);
            break;
          case 38:
            a.s ? a.ym(a, 1) : a.aa ? a.um(a, 1) : f ? a.tf(-a.g.zoom, a.g.zoom) : a.tf(0, a.g.zoom);
            break;
          case 39:
            f ? a.tf(-a.g.zoom, -a.g.zoom) : a.tf(-a.g.zoom, 0);
            break;
          case 40:
            a.s ? a.wm(a, 1) : a.aa ? a.sm(a, 1) : f ? a.tf(a.g.zoom, -a.g.zoom) : a.tf(0, -a.g.zoom);
            break;
          case 77:
            e ? (a.ub(true, true, G.Fs), a.D.notification.notify("Center Pattern", 15, 80, 15, true)) : f ? a.KB(a) : !a.ja || a.ja.I || a.ja.locked || (a.ja.current = a.ef([!a.ja.current[0]], true, a), a.D.i = true);
            break;
          case 67:
            e ? a.Un(a, f, k) : 0 !== a.s ? this.fk(a, G.ls) : a.Na || !a.td || a.td.locked || (f ? (b = a.g.Lb - 1, 0 > b && (b = a.sa || a.Ef ? a.g.ib : a.g.ib - 1)) : (b = a.g.Lb + 1, a.sa || a.Ef ? b >= a.g.ib + 1 && (b = 0) : b >= a.g.ib && (b = 0)), a.Tf(b, a.g.se, a), a.g.fa || a.ie || a.D.notification.notify(a.Om(a.g.Lb) + " Theme", 15, 40, 15, true));
            break;
          case 72:
            f ? (a.Uh.current = a.Lw([!a.od], true, a), a.D.notification.notify("AutoFit History Mode " + (a.od ? "On" : "Off"), 15, 40, 15, true)) : (a.Wb.length ? a.s = a.s ? 0 : 1 : a.s ? a.s = 0 : a.ga || (a.s = 1), a.md.current = a.df([0 !== a.s], true, a), a.D.i = true);
            break;
          case 73:
            e && f ? d = false : e ? a.Fw(a) : f ? a.Mi.current = a.Nw([!a.Ja], true, a) : (a.s ? this.fk(a, G.Sp) : a.ga || a.Kc(G.Sp, a), a.md.current = a.df([0 !== a.s], true, a), a.D.i = true);
            break;
          case 27:
            a.Ad ? a.Wb.length ? (a.Wb = [], a.aa = 0) : a.ua || a.Qa ? a.Tn(a) : a.Zd ? a.$c.current = a.qe([false], true, a) : a.Vb ? a.Vq(a) : -1 !== a.Kb ? a.Al(a, true, false) : Sb() : a.s ? a.s = 0 : a.Wb.length ? (a.Wb = [], a.aa = 0) : a.ua || a.Qa ? a.Tn(a) : a.Zd ? a.$c.current = a.qe([false], true, a) : a.Vb ? a.Vq(a) : -1 !== a.Kb ? a.Al(a, true, false) : a.Fb && (a.$b.current = a.xd(G.je, true, a));
            a.md.current = a.df([0 !== a.s], true, a);
            a.D.i = true;
            break;
          case 33:
            a.s ? f ? a.xC(a) : a.ym(a, a.Da) : a.aa ? a.um(a, a.Da) : Ca.vb ? (--a.Ga, 0 > a.Ga && (a.Ga = Aa.ke.length - 1), a.xg(Aa.ke[a.Ga].pattern, false)) : a.Dw(a);
            break;
          case 34:
            a.s ? f ? a.FB(a) : a.wm(a, a.Da) : a.aa ? a.sm(a, a.Da) : Ca.vb ? (a.Ga += 1, a.Ga >= Aa.ke.length && (a.Ga = 0), a.xg(Aa.ke[a.Ga].pattern, false)) : a.Bw(a);
            break;
          case 36:
            a.s ? a.s = 1 : a.aa ? a.aa = 1 : Ca.vb ? (a.Ga = 0, a.xg(Aa.ke[a.Ga].pattern, false)) : a.uG(a);
            break;
          case 35:
            a.s ? a.s = a.Ti - a.Da : a.aa ? a.aa = a.Wb.length - a.Da : Ca.vb ? (a.Ga = Aa.ke.length - 1, a.xg(Aa.ke[a.Ga].pattern, false)) : a.oG(a);
            break;
          case 112:
            a.L || (a.cb = !a.cb, a.wa.current = a.se(a.cb ? G.$j : G.ti, true, a), a.D.notification.notify((a.cb ? "Draw" : "Pan") + " Mode", 15, 40, 15, true));
            break;
          case 113:
            f ? (a.jj.current = a.Wq([!a.zh], true, a), a.D.notification.notify("Smart Drawing " + (a.zh ? "On" : "Off"), 15, 40, 15, true)) : a.wa.current = a.se(G.$j, true, a);
            break;
          case 114:
            f ? a.bc.current = a.Ml([!a.bc.current[0], a.bc.current[1], a.bc.current[2]], true, a) : a.L || (a.wa.current = a.se(G.$j, true, a), a.Zd || (a.$c.current = a.qe([true], true, a)));
            break;
          case 115:
            f ? a.bc.current = a.Ml([a.bc.current[0], !a.bc.current[1], a.bc.current[2]], true, a) : a.wa.o[G.ak] || (a.wa.current = a.se(G.ak, true, a));
            break;
          case 116:
            f ? a.bc.current = a.Ml([a.bc.current[0], a.bc.current[1], !a.bc.current[2]], true, a) : a.wa.current = a.se(G.ti, true, a);
            break;
          case 117:
            a.Vh.locked || (f ? a.eA(a) : a.an(a));
            break;
          case 118:
            a.dh.locked || (a.dh.current = a.Iw([!a.g.Zb], true, a), a.D.notification.notify("Fast Lookup " + (a.g.Zb ? "On" : "Off"), 15, 40, 15, true));
            break;
          case 119:
            a.ql.locked || (a.ql.current = a.ax([!a.bg], true, a), a.D.notification.notify("State Numbers " + (a.bg ? "On" : "Off"), 15, 40, 15, true));
            break;
          case 120:
            a.xj.locked || (a.xj.current = a.ex([!a.te], true, a), a.D.notification.notify("Y Direction " + (a.te ? "Up" : "Down"), 15, 40, 15, true));
            break;
          case 45:
            a.ij = true;
            break;
          case 122:
            d = false;
            break;
          default:
            if (-1 === b || 116 === b) d = false;
        }
      }
      return d;
    }};
  }());
  